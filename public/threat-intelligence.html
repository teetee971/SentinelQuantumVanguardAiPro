<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">
    <meta name="description" content="Global Threat Intelligence - Live 3D visualization of worldwide cyber threats based on public OSINT data">
    <meta name="robots" content="index, follow">
    <meta name="theme-color" content="#0a0e27">
    <title>Global Threat Intelligence - Sentinel Quantum Vanguard AI Pro</title>
    
    <link rel="stylesheet" href="shared-styles.css">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', system-ui, -apple-system, sans-serif;
            background: linear-gradient(135deg, #0a0e1a 0%, #141824 50%, #0a0e1a 100%);
            color: #e8eaed;
            min-height: 100vh;
            line-height: 1.6;
            overflow-x: hidden;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Back Link */
        .back-link {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            color: #4a90e2;
            text-decoration: none;
            margin-bottom: 20px;
            font-size: 0.95em;
            padding: 8px 0;
            transition: all 0.3s ease;
        }

        .back-link:hover {
            gap: 12px;
            color: #5ba3f5;
        }

        /* HERO SECTION */
        .hero-section {
            text-align: center;
            padding: 60px 20px 40px;
            background: rgba(26, 34, 48, 0.4);
            backdrop-filter: blur(10px);
            border-radius: 16px;
            margin-bottom: 40px;
            border: 1px solid rgba(255, 255, 255, 0.08);
            position: relative;
            overflow: hidden;
        }

        .hero-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, transparent, #4a90e2, transparent);
        }

        .hero-title {
            font-size: clamp(2em, 5vw, 3.2em);
            font-weight: 800;
            margin-bottom: 20px;
            background: linear-gradient(135deg, #ffffff 0%, #4a90e2 50%, #5ba3f5 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            letter-spacing: -0.02em;
        }

        .hero-subtitle {
            font-size: clamp(0.95em, 2vw, 1.15em);
            color: #a8b2c0;
            margin-bottom: 28px;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            line-height: 1.6;
        }
        
        .hero-actions {
            display: flex;
            gap: 16px;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 24px;
        }
        
        .action-btn {
            padding: 12px 28px;
            border-radius: 8px;
            font-size: 0.95em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }
        
        .action-btn-primary {
            background: linear-gradient(135deg, #4a90e2, #5ba3f5);
            color: white;
            box-shadow: 0 4px 16px rgba(74, 144, 226, 0.3);
        }
        
        .action-btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(74, 144, 226, 0.4);
        }
        
        .action-btn-secondary {
            background: rgba(74, 144, 226, 0.15);
            color: #5ba3f5;
            border: 1px solid rgba(74, 144, 226, 0.3);
        }
        
        .action-btn-secondary:hover {
            background: rgba(74, 144, 226, 0.25);
            border-color: rgba(74, 144, 226, 0.5);
        }

        .badges-container {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            justify-content: center;
            margin-top: 20px;
        }

        .badge {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 8px 16px;
            background: rgba(74, 144, 226, 0.1);
            border: 1px solid rgba(74, 144, 226, 0.3);
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: 600;
            color: #4a90e2;
            transition: all 0.3s ease;
        }

        .badge:hover {
            background: rgba(74, 144, 226, 0.15);
            border-color: rgba(74, 144, 226, 0.5);
        }

        .badge-icon {
            width: 14px;
            height: 14px;
            background: #4a90e2;
            border-radius: 50%;
        }

        /* MAIN 3D GLOBE SECTION */
        .globe-section {
            background: rgba(15, 20, 35, 0.6);
            backdrop-filter: blur(12px);
            border-radius: 16px;
            padding: 30px;
            margin-bottom: 40px;
            border: 1px solid rgba(255, 255, 255, 0.08);
            position: relative;
        }

        .globe-container {
            position: relative;
            width: 100%;
            height: 650px;
            background: 
                radial-gradient(circle at 40% 40%, rgba(74, 144, 226, 0.12), transparent 50%),
                radial-gradient(ellipse at center, rgba(74, 144, 226, 0.08), transparent 70%),
                radial-gradient(ellipse at 50% 100%, rgba(0, 0, 0, 0.4), transparent 60%);
            border-radius: 12px;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: inset 0 -40px 80px rgba(0, 0, 0, 0.3);
        }

        #globe-canvas {
            width: 100%;
            height: 100%;
            cursor: grab;
        }

        #globe-canvas:active {
            cursor: grabbing;
        }

        .globe-overlay {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(10, 14, 26, 0.85);
            backdrop-filter: blur(10px);
            padding: 12px 20px;
            border-radius: 8px;
            border: 1px solid rgba(74, 144, 226, 0.3);
            font-size: 0.9em;
            color: #4a90e2;
            z-index: 10;
        }
        
        .demo-mode-toggle {
            position: absolute;
            bottom: 20px;
            left: 20px;
            background: rgba(10, 14, 26, 0.85);
            backdrop-filter: blur(10px);
            padding: 10px 18px;
            border-radius: 8px;
            border: 1px solid rgba(74, 144, 226, 0.3);
            font-size: 0.85em;
            color: #4a90e2;
            cursor: pointer;
            transition: all 0.3s ease;
            z-index: 10;
        }
        
        .demo-mode-toggle:hover {
            background: rgba(74, 144, 226, 0.2);
            border-color: rgba(74, 144, 226, 0.5);
        }
        
        .demo-mode-toggle.active {
            background: rgba(74, 144, 226, 0.25);
            border-color: rgba(74, 144, 226, 0.6);
        }

        /* INTELLIGENCE PANELS */
        .panels-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 24px;
            margin-bottom: 40px;
        }

        .panel {
            background: rgba(26, 34, 48, 0.5);
            backdrop-filter: blur(12px);
            border-radius: 12px;
            padding: 28px;
            border: 1px solid rgba(255, 255, 255, 0.08);
            transition: all 0.3s ease;
        }

        .panel:hover {
            transform: translateY(-4px);
            border-color: rgba(74, 144, 226, 0.4);
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
        }

        .panel-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 16px;
        }

        .panel-title {
            font-size: 1em;
            font-weight: 600;
            color: #e8eaed;
        }

        .panel-icon {
            width: 32px;
            height: 32px;
            background: rgba(74, 144, 226, 0.15);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #4a90e2;
        }

        .panel-value {
            font-size: 2.5em;
            font-weight: 700;
            color: #4a90e2;
            margin-bottom: 8px;
            line-height: 1;
        }

        .panel-label {
            font-size: 0.85em;
            color: #8a8f9a;
        }

        .country-list {
            list-style: none;
        }

        .country-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        .country-item:last-child {
            border-bottom: none;
        }

        .country-name {
            display: flex;
            align-items: center;
            gap: 10px;
            color: #e8eaed;
        }

        .country-flag {
            width: 24px;
            height: 16px;
            background: rgba(74, 144, 226, 0.2);
            border-radius: 2px;
        }

        .country-count {
            font-weight: 600;
            color: #4a90e2;
        }

        /* TIME RANGE SELECTOR */
        .time-selector {
            display: flex;
            gap: 8px;
            background: rgba(10, 14, 26, 0.6);
            padding: 6px;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        .time-btn {
            flex: 1;
            padding: 8px 16px;
            background: transparent;
            border: none;
            color: #8a8f9a;
            font-size: 0.9em;
            font-weight: 600;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .time-btn.active {
            background: rgba(74, 144, 226, 0.2);
            color: #4a90e2;
        }

        .time-btn:hover:not(.active) {
            background: rgba(74, 144, 226, 0.1);
            color: #b8bcc4;
        }

        /* THREAT DISTRIBUTION CHART */
        .chart-container {
            margin-top: 16px;
        }

        .chart-bar {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 12px;
        }

        .chart-label {
            flex: 0 0 100px;
            font-size: 0.85em;
            color: #b8bcc4;
        }

        .chart-bar-bg {
            flex: 1;
            height: 24px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 4px;
            overflow: hidden;
            position: relative;
        }

        .chart-bar-fill {
            height: 100%;
            background: linear-gradient(90deg, #4a90e2, #5ba3f5);
            border-radius: 4px;
            transition: width 0.5s ease;
        }

        .chart-value {
            flex: 0 0 50px;
            text-align: right;
            font-size: 0.85em;
            font-weight: 600;
            color: #4a90e2;
        }

        /* RECENT EVENTS */
        .events-list {
            list-style: none;
            max-height: 400px;
            overflow-y: auto;
        }

        .event-item {
            padding: 12px;
            background: rgba(255, 255, 255, 0.02);
            border-radius: 8px;
            margin-bottom: 10px;
            border-left: 3px solid #4a90e2;
        }

        .event-time {
            font-size: 0.8em;
            color: #8a8f9a;
            margin-bottom: 4px;
        }

        .event-desc {
            font-size: 0.9em;
            color: #e8eaed;
        }

        /* DATA SOURCES SECTION */
        .info-section {
            background: rgba(26, 34, 48, 0.4);
            backdrop-filter: blur(10px);
            border-radius: 12px;
            padding: 40px;
            margin-bottom: 40px;
            border: 1px solid rgba(255, 255, 255, 0.08);
        }

        .info-section h2 {
            font-size: 1.8em;
            margin-bottom: 24px;
            color: #e8eaed;
        }

        .info-section h3 {
            font-size: 1.3em;
            margin: 32px 0 16px;
            color: #4a90e2;
        }

        .info-section p {
            color: #b8bcc4;
            line-height: 1.8;
            margin-bottom: 20px;
        }
        
        .info-card {
            background: rgba(74, 144, 226, 0.05);
            border: 1px solid rgba(74, 144, 226, 0.15);
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .info-card h4 {
            color: #4a90e2;
            font-size: 1.1em;
            margin-bottom: 12px;
        }
        
        .info-card p {
            margin-bottom: 0;
        }

        .source-list {
            list-style: none;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 12px;
            margin: 16px 0;
        }

        .source-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 12px;
            background: rgba(74, 144, 226, 0.05);
            border-radius: 8px;
            border: 1px solid rgba(74, 144, 226, 0.2);
        }

        .source-icon {
            width: 8px;
            height: 8px;
            background: #4a90e2;
            border-radius: 50%;
        }

        .source-name {
            color: #e8eaed;
            font-size: 0.95em;
        }

        /* DISCLAIMER SECTION */
        .disclaimer-section {
            background: rgba(255, 152, 0, 0.08);
            border: 2px solid rgba(255, 152, 0, 0.3);
            border-radius: 12px;
            padding: 24px;
            margin-bottom: 30px;
        }

        .disclaimer-title {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 1.4em;
            font-weight: 700;
            color: #ff9800;
            margin-bottom: 16px;
        }

        .disclaimer-icon {
            width: 32px;
            height: 32px;
            background: #ff9800;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #0a0e1a;
            font-weight: 800;
        }

        .disclaimer-list {
            list-style: none;
            margin-top: 12px;
        }

        .disclaimer-item {
            display: flex;
            gap: 10px;
            padding: 8px 0;
            color: #b8bcc4;
        }

        .disclaimer-item::before {
            content: '‚úì';
            color: #ff9800;
            font-weight: 700;
        }

        /* RESPONSIVE */
        @media (max-width: 768px) {
            .globe-container {
                height: 400px;
            }

            .panels-grid {
                grid-template-columns: 1fr;
            }

            .hero-section {
                padding: 40px 16px 30px;
            }

            .source-list {
                grid-template-columns: 1fr;
            }
        }

        /* ANIMATIONS */
        @keyframes pulse {
            0%, 100% {
                opacity: 1;
            }
            50% {
                opacity: 0.7;
            }
        }

        .pulse {
            animation: pulse 2s ease-in-out infinite;
        }

        /* LOADING STATE */
        .loading {
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100%;
            color: #8a8f9a;
            font-size: 1.1em;
        }

        .spinner {
            width: 40px;
            height: 40px;
            border: 3px solid rgba(74, 144, 226, 0.2);
            border-top-color: #4a90e2;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-right: 12px;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }
        
        /* HEATMAP CONTROLS */
        .heatmap-controls {
            position: absolute;
            top: 20px;
            left: 20px;
            background: rgba(10, 14, 26, 0.9);
            backdrop-filter: blur(10px);
            padding: 16px;
            border-radius: 10px;
            border: 1px solid rgba(74, 144, 226, 0.3);
            z-index: 10;
        }
        
        .heatmap-title {
            font-size: 0.85em;
            font-weight: 600;
            color: #4a90e2;
            margin-bottom: 12px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .heatmap-toggle {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
            cursor: pointer;
            padding: 6px;
            border-radius: 6px;
            transition: all 0.2s ease;
        }
        
        .heatmap-toggle:hover {
            background: rgba(74, 144, 226, 0.1);
        }
        
        .toggle-checkbox {
            width: 16px;
            height: 16px;
            border: 2px solid rgba(74, 144, 226, 0.5);
            border-radius: 3px;
            position: relative;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .toggle-checkbox.active {
            background: #4a90e2;
            border-color: #4a90e2;
        }
        
        .toggle-checkbox.active::after {
            content: '‚úì';
            position: absolute;
            top: -2px;
            left: 2px;
            color: white;
            font-size: 12px;
            font-weight: bold;
        }
        
        .toggle-label {
            font-size: 0.85em;
            color: #b8bcc4;
        }
        
        /* SOC TIMELINE */
        .timeline-section {
            background: rgba(26, 34, 48, 0.5);
            backdrop-filter: blur(12px);
            border-radius: 12px;
            padding: 24px;
            margin-bottom: 30px;
            border: 1px solid rgba(255, 255, 255, 0.08);
        }
        
        .timeline-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
            gap: 12px;
        }
        
        .timeline-title {
            font-size: 1.2em;
            font-weight: 600;
            color: #e8eaed;
        }
        
        .timeline-controls {
            display: flex;
            gap: 8px;
        }
        
        .timeline-btn {
            padding: 6px 12px;
            background: rgba(74, 144, 226, 0.15);
            border: 1px solid rgba(74, 144, 226, 0.3);
            border-radius: 6px;
            color: #5ba3f5;
            cursor: pointer;
            font-size: 0.85em;
            transition: all 0.2s ease;
        }
        
        .timeline-btn:hover {
            background: rgba(74, 144, 226, 0.25);
        }
        
        .timeline-bar {
            position: relative;
            height: 8px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 4px;
            margin: 16px 0;
            cursor: pointer;
        }
        
        .timeline-progress {
            height: 100%;
            background: linear-gradient(90deg, #4a90e2, #5ba3f5);
            border-radius: 4px;
            width: 35%;
            transition: width 0.3s ease;
        }
        
        .timeline-cursor {
            position: absolute;
            top: -6px;
            left: 35%;
            width: 20px;
            height: 20px;
            background: #4a90e2;
            border: 3px solid rgba(10, 14, 26, 0.9);
            border-radius: 50%;
            cursor: grab;
            box-shadow: 0 0 10px rgba(74, 144, 226, 0.5);
        }
        
        .timeline-cursor:active {
            cursor: grabbing;
        }
        
        .timeline-labels {
            display: flex;
            justify-content: space-between;
            font-size: 0.8em;
            color: #8a8f9a;
            margin-top: 8px;
        }
        
        /* ANALYST SIDEBAR */
        .analyst-sidebar {
            background: rgba(26, 34, 48, 0.5);
            backdrop-filter: blur(12px);
            border-radius: 12px;
            padding: 24px;
            border: 1px solid rgba(255, 255, 255, 0.08);
        }
        
        .sidebar-section {
            margin-bottom: 24px;
        }
        
        .sidebar-section:last-child {
            margin-bottom: 0;
        }
        
        .sidebar-title {
            font-size: 1em;
            font-weight: 600;
            color: #e8eaed;
            margin-bottom: 14px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .trend-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }
        
        .trend-item:last-child {
            border-bottom: none;
        }
        
        .trend-name {
            color: #b8bcc4;
            font-size: 0.9em;
        }
        
        .trend-value {
            display: flex;
            align-items: center;
            gap: 6px;
            font-weight: 600;
            color: #4a90e2;
        }
        
        .trend-indicator {
            font-size: 0.75em;
        }
        
        .trend-up {
            color: #ff6b6b;
        }
        
        .trend-down {
            color: #51cf66;
        }
        
        .trend-stable {
            color: #ffd43b;
        }
        
        /* INSIGHTS SECTION */
        .insights-section {
            background: rgba(26, 34, 48, 0.4);
            backdrop-filter: blur(10px);
            border-radius: 12px;
            padding: 32px;
            margin-bottom: 40px;
            border: 1px solid rgba(255, 255, 255, 0.08);
        }
        
        .insights-title {
            font-size: 1.6em;
            font-weight: 700;
            color: #e8eaed;
            margin-bottom: 20px;
        }
        
        .insight-card {
            background: rgba(74, 144, 226, 0.08);
            border-left: 3px solid #4a90e2;
            border-radius: 8px;
            padding: 18px;
            margin-bottom: 16px;
        }
        
        .insight-card:last-child {
            margin-bottom: 0;
        }
        
        .insight-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
        }
        
        .insight-icon {
            font-size: 1.2em;
        }
        
        .insight-label {
            font-size: 0.85em;
            color: #4a90e2;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .insight-text {
            color: #b8bcc4;
            line-height: 1.7;
            font-size: 0.95em;
        }
        
        /* LEGEND */
        .legend-container {
            position: absolute;
            bottom: 20px;
            right: 20px;
            background: rgba(10, 14, 26, 0.9);
            backdrop-filter: blur(10px);
            padding: 14px;
            border-radius: 8px;
            border: 1px solid rgba(74, 144, 226, 0.3);
            z-index: 10;
        }
        
        .legend-title {
            font-size: 0.8em;
            font-weight: 600;
            color: #4a90e2;
            margin-bottom: 10px;
            text-transform: uppercase;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 6px;
            font-size: 0.8em;
        }
        
        .legend-color {
            width: 16px;
            height: 16px;
            border-radius: 3px;
        }
        
        .legend-label {
            color: #b8bcc4;
        }
        
        /* GRID LAYOUT */
        .content-grid {
            display: grid;
            grid-template-columns: 1fr 320px;
            gap: 30px;
            margin-bottom: 40px;
        }
        
        @media (max-width: 1024px) {
            .content-grid {
                grid-template-columns: 1fr;
            }
            
            .heatmap-controls {
                position: static;
                margin-bottom: 20px;
            }
            
            .legend-container {
                position: static;
                margin-top: 20px;
            }
        }
        
        /* PRESENTATION MODE */
        .presentation-mode-toggle {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 1000;
            padding: 12px 24px;
            background: rgba(74, 144, 226, 0.9);
            backdrop-filter: blur(10px);
            border: 2px solid rgba(74, 144, 226, 0.5);
            border-radius: 30px;
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 20px rgba(74, 144, 226, 0.4);
            font-size: 0.9em;
        }
        
        .presentation-mode-toggle:hover {
            background: rgba(74, 144, 226, 1);
            transform: translateY(-2px);
            box-shadow: 0 6px 25px rgba(74, 144, 226, 0.6);
        }
        
        .presentation-mode-toggle.active {
            background: rgba(81, 207, 102, 0.9);
            border-color: rgba(81, 207, 102, 0.5);
        }
        
        /* Presentation Mode Active Styles */
        body.presentation-mode .back-link {
            display: none;
        }
        
        body.presentation-mode .hero-section {
            padding: 40px 20px 30px;
            margin-bottom: 30px;
        }
        
        body.presentation-mode .hero-title {
            font-size: clamp(2em, 4vw, 2.8em);
            margin-bottom: 12px;
        }
        
        body.presentation-mode .hero-subtitle {
            font-size: clamp(0.9em, 1.8vw, 1.05em);
            margin-bottom: 20px;
        }
        
        body.presentation-mode .hero-actions {
            gap: 12px;
        }
        
        body.presentation-mode .action-btn {
            padding: 10px 20px;
            font-size: 0.85em;
        }
        
        body.presentation-mode .badges-container {
            gap: 8px;
            margin-top: 16px;
        }
        
        body.presentation-mode .badge {
            padding: 6px 12px;
            font-size: 0.75em;
        }
        
        body.presentation-mode .globe-section {
            padding: 20px;
            margin-bottom: 25px;
        }
        
        body.presentation-mode .globe-container {
            height: 500px;
        }
        
        body.presentation-mode .timeline-section {
            padding: 20px;
            margin-bottom: 25px;
        }
        
        body.presentation-mode .time-selector {
            margin-bottom: 20px;
        }
        
        body.presentation-mode .content-grid {
            gap: 20px;
            margin-bottom: 25px;
        }
        
        body.presentation-mode .panel {
            padding: 20px;
        }
        
        body.presentation-mode .analyst-sidebar {
            padding: 20px;
        }
        
        body.presentation-mode .insights-section {
            padding: 25px;
            margin-bottom: 25px;
        }
        
        body.presentation-mode .info-section {
            padding: 25px;
            margin-bottom: 25px;
        }
        
        body.presentation-mode .disclaimer-section {
            padding: 25px;
        }
        
        /* Smooth scrolling in presentation mode */
        body.presentation-mode {
            scroll-behavior: smooth;
        }
        
        body.presentation-mode .container {
            padding: 15px;
        }
        
        /* Compact panels grid in presentation mode */
        body.presentation-mode .panels-grid {
            gap: 16px;
            margin-bottom: 25px;
        }
        
        /* Hide less critical UI elements in presentation mode */
        body.presentation-mode .demo-mode-toggle {
            display: none;
        }
        
        /* Improve mobile presentation mode */
        @media (max-width: 768px) {
            body.presentation-mode .globe-container {
                height: 400px;
            }
            
            body.presentation-mode .content-grid {
                gap: 15px;
            }
            
            body.presentation-mode .panel {
                padding: 16px;
            }
            
            body.presentation-mode .hero-section {
                padding: 30px 15px 20px;
            }
            
            .presentation-mode-toggle {
                bottom: 20px;
                right: 20px;
                padding: 10px 18px;
                font-size: 0.85em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <a href="../index.html" class="back-link">‚Üê Back to Home</a>
        
        <!-- Presentation Mode Toggle -->
        <button class="presentation-mode-toggle" id="presentationModeToggle" aria-label="Toggle presentation mode">
            üìä Presentation Mode
        </button>

        <!-- HERO SECTION -->
        <section class="hero-section" role="banner">
            <h1 class="hero-title">Global Threat Intelligence ‚Äî Situational Awareness</h1>
            <p class="hero-subtitle">
                Public OSINT-based aggregated visualization. No local detection. Educational purpose only.
            </p>
            
            <div class="badges-container">
                <div class="badge">
                    <div class="badge-icon"></div>
                    <span>Public OSINT</span>
                </div>
                <div class="badge">
                    <div class="badge-icon"></div>
                    <span>Read-Only</span>
                </div>
                <div class="badge">
                    <div class="badge-icon"></div>
                    <span>Audit-Friendly</span>
                </div>
                <div class="badge">
                    <div class="badge-icon"></div>
                    <span>SOC Visualization</span>
                </div>
            </div>
            
            <div class="hero-actions">
                <button class="action-btn action-btn-primary" id="socWallModeBtn" aria-label="Enable SOC Wall Mode">
                    <span>üñ•Ô∏è</span>
                    <span>Enable SOC Wall Mode</span>
                </button>
                <button class="action-btn action-btn-secondary" id="timelineReplayBtn" aria-label="Timeline Replay">
                    <span>‚èÆÔ∏è</span>
                    <span>Timeline Replay</span>
                </button>
                <button class="action-btn action-btn-secondary" id="viewMethodologyBtn" aria-label="View Methodology">
                    <span>üìã</span>
                    <span>View Methodology</span>
                </button>
            </div>
        </section>

        <!-- MAIN 3D GLOBE -->
        <section class="globe-section" role="region" aria-label="3D Globe Visualization">
            <div class="globe-container" id="globeContainer">
                <canvas id="globe-canvas" aria-label="Interactive 3D threat visualization globe"></canvas>
                
                <!-- Heatmap Layer Controls -->
                <div class="heatmap-controls" aria-label="Heatmap layer toggles">
                    <div class="heatmap-title">Heatmap Layers</div>
                    <div class="heatmap-toggle" data-layer="volume">
                        <div class="toggle-checkbox active" role="checkbox" aria-checked="true"></div>
                        <div class="toggle-label">Event Volume</div>
                    </div>
                    <div class="heatmap-toggle" data-layer="severity">
                        <div class="toggle-checkbox" role="checkbox" aria-checked="false"></div>
                        <div class="toggle-label">Severity Aggregation</div>
                    </div>
                    <div class="heatmap-toggle" data-layer="diversity">
                        <div class="toggle-checkbox" role="checkbox" aria-checked="false"></div>
                        <div class="toggle-label">Threat Diversity</div>
                    </div>
                    <div class="heatmap-toggle" data-layer="temporal">
                        <div class="toggle-checkbox" role="checkbox" aria-checked="false"></div>
                        <div class="toggle-label">Temporal Intensity</div>
                    </div>
                </div>
                
                <div class="globe-overlay">
                    <span class="pulse">‚óè LIVE</span> Real-time Visualization
                </div>
                
                <!-- Legend -->
                <div class="legend-container" aria-label="Visualization legend">
                    <div class="legend-title">Legend</div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: #ff6b6b;"></div>
                        <div class="legend-label">High Activity</div>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: #ffd43b;"></div>
                        <div class="legend-label">Medium Activity</div>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: #51cf66;"></div>
                        <div class="legend-label">Low Activity</div>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: #4a90e2;"></div>
                        <div class="legend-label">Attack Flow</div>
                    </div>
                </div>
                
                <button class="demo-mode-toggle" id="demoModeToggle" aria-label="Toggle SOC demo mode">
                    üé¨ SOC Demo Mode
                </button>
            </div>
        </section>

        <!-- SOC TIMELINE -->
        <section class="timeline-section" role="region" aria-label="Timeline controls">
            <div class="timeline-header">
                <h2 class="timeline-title">Temporal Analysis</h2>
                <div class="timeline-controls">
                    <button class="timeline-btn" id="replayBtn" aria-label="Replay timeline">‚èÆÔ∏è Replay</button>
                    <button class="timeline-btn" id="pauseBtn" aria-label="Pause timeline">‚è∏Ô∏è Pause</button>
                </div>
            </div>
            <div class="timeline-bar" id="timelineBar" role="slider" aria-label="Timeline scrubber" aria-valuemin="0" aria-valuemax="100" aria-valuenow="35">
                <div class="timeline-progress" id="timelineProgress"></div>
                <div class="timeline-cursor" id="timelineCursor"></div>
            </div>
            <div class="timeline-labels">
                <span>1 Hour Ago</span>
                <span>Now</span>
            </div>
        </section>

        <!-- TIME RANGE SELECTOR -->
        <div class="time-selector">
            <button class="time-btn active" data-range="1h">1 Hour</button>
            <button class="time-btn" data-range="24h">24 Hours</button>
            <button class="time-btn" data-range="7d">7 Days</button>
        </div>

        <!-- MAIN CONTENT GRID -->
        <div class="content-grid">
            <!-- INTELLIGENCE PANELS -->
            <div class="panels-grid">
            <!-- Active Attacks Counter -->
            <div class="panel">
                <div class="panel-header">
                    <h3 class="panel-title">Active Attacks</h3>
                    <div class="panel-icon">‚ö°</div>
                </div>
                <div class="panel-value" id="activeAttacks">12,847</div>
                <div class="panel-label">Detected in last hour</div>
            </div>

            <!-- Top Source Countries -->
            <div class="panel">
                <div class="panel-header">
                    <h3 class="panel-title">Top Source Countries</h3>
                    <div class="panel-icon">üì§</div>
                </div>
                <ul class="country-list">
                    <li class="country-item">
                        <span class="country-name">
                            <span class="country-flag"></span>
                            <span>United States</span>
                        </span>
                        <span class="country-count">3,241</span>
                    </li>
                    <li class="country-item">
                        <span class="country-name">
                            <span class="country-flag"></span>
                            <span>China</span>
                        </span>
                        <span class="country-count">2,876</span>
                    </li>
                    <li class="country-item">
                        <span class="country-name">
                            <span class="country-flag"></span>
                            <span>Russia</span>
                        </span>
                        <span class="country-count">2,453</span>
                    </li>
                    <li class="country-item">
                        <span class="country-name">
                            <span class="country-flag"></span>
                            <span>Brazil</span>
                        </span>
                        <span class="country-count">1,892</span>
                    </li>
                </ul>
            </div>

            <!-- Top Target Countries -->
            <div class="panel">
                <div class="panel-header">
                    <h3 class="panel-title">Top Target Countries</h3>
                    <div class="panel-icon">üéØ</div>
                </div>
                <ul class="country-list">
                    <li class="country-item">
                        <span class="country-name">
                            <span class="country-flag"></span>
                            <span>United States</span>
                        </span>
                        <span class="country-count">4,127</span>
                    </li>
                    <li class="country-item">
                        <span class="country-name">
                            <span class="country-flag"></span>
                            <span>United Kingdom</span>
                        </span>
                        <span class="country-count">2,341</span>
                    </li>
                    <li class="country-item">
                        <span class="country-name">
                            <span class="country-flag"></span>
                            <span>Germany</span>
                        </span>
                        <span class="country-count">1,987</span>
                    </li>
                    <li class="country-item">
                        <span class="country-name">
                            <span class="country-flag"></span>
                            <span>France</span>
                        </span>
                        <span class="country-count">1,654</span>
                    </li>
                </ul>
            </div>

            <!-- Threat Type Distribution -->
            <div class="panel">
                <div class="panel-header">
                    <h3 class="panel-title">Threat Distribution</h3>
                    <div class="panel-icon">üìä</div>
                </div>
                <div class="chart-container">
                    <div class="chart-bar">
                        <div class="chart-label">DDoS</div>
                        <div class="chart-bar-bg">
                            <div class="chart-bar-fill" style="width: 68%;"></div>
                        </div>
                        <div class="chart-value">68%</div>
                    </div>
                    <div class="chart-bar">
                        <div class="chart-label">Malware</div>
                        <div class="chart-bar-bg">
                            <div class="chart-bar-fill" style="width: 54%;"></div>
                        </div>
                        <div class="chart-value">54%</div>
                    </div>
                    <div class="chart-bar">
                        <div class="chart-label">Phishing</div>
                        <div class="chart-bar-bg">
                            <div class="chart-bar-fill" style="width: 42%;"></div>
                        </div>
                        <div class="chart-value">42%</div>
                    </div>
                    <div class="chart-bar">
                        <div class="chart-label">Scanning</div>
                        <div class="chart-bar-bg">
                            <div class="chart-bar-fill" style="width: 35%;"></div>
                        </div>
                        <div class="chart-value">35%</div>
                    </div>
                </div>
            </div>

            <!-- Recent Threat Events -->
            <div class="panel" style="grid-column: span 2;">
                <div class="panel-header">
                    <h3 class="panel-title">Recent Public Threat Events</h3>
                    <div class="panel-icon">üì∞</div>
                </div>
                <ul class="events-list">
                    <li class="event-item">
                        <div class="event-time">2 minutes ago</div>
                        <div class="event-desc">Large-scale DDoS attack targeting financial sector infrastructure</div>
                    </li>
                    <li class="event-item">
                        <div class="event-time">15 minutes ago</div>
                        <div class="event-desc">Phishing campaign detected targeting enterprise email accounts</div>
                    </li>
                    <li class="event-item">
                        <div class="event-time">1 hour ago</div>
                        <div class="event-desc">Malware distribution via compromised software repositories</div>
                    </li>
                    <li class="event-item">
                        <div class="event-time">3 hours ago</div>
                        <div class="event-desc">Port scanning activity increased by 47% in APAC region</div>
                    </li>
                    <li class="event-item">
                        <div class="event-time">5 hours ago</div>
                        <div class="event-desc">Zero-day vulnerability disclosed affecting web servers</div>
                    </li>
                </ul>
            </div>
        </div>

            <!-- ANALYST SIDEBAR -->
            <aside class="analyst-sidebar" role="complementary" aria-label="Analyst insights">
                <div class="sidebar-section">
                    <h3 class="sidebar-title">üåç Top Active Regions</h3>
                    <div class="trend-item">
                        <span class="trend-name">North America</span>
                        <span class="trend-value">
                            <span class="trend-indicator trend-up">‚Üë</span>
                            <span>High</span>
                        </span>
                    </div>
                    <div class="trend-item">
                        <span class="trend-name">Europe</span>
                        <span class="trend-value">
                            <span class="trend-indicator trend-stable">‚Üí</span>
                            <span>Medium</span>
                        </span>
                    </div>
                    <div class="trend-item">
                        <span class="trend-name">Asia-Pacific</span>
                        <span class="trend-value">
                            <span class="trend-indicator trend-up">‚Üë</span>
                            <span>High</span>
                        </span>
                    </div>
                    <div class="trend-item">
                        <span class="trend-name">South America</span>
                        <span class="trend-value">
                            <span class="trend-indicator trend-down">‚Üì</span>
                            <span>Low</span>
                        </span>
                    </div>
                </div>

                <div class="sidebar-section">
                    <h3 class="sidebar-title">üéØ Top Threat Categories</h3>
                    <div class="trend-item">
                        <span class="trend-name">DDoS Attacks</span>
                        <span class="trend-value">
                            <span class="trend-indicator trend-up">‚Üë</span>
                            <span>68%</span>
                        </span>
                    </div>
                    <div class="trend-item">
                        <span class="trend-name">Malware Distribution</span>
                        <span class="trend-value">
                            <span class="trend-indicator trend-stable">‚Üí</span>
                            <span>54%</span>
                        </span>
                    </div>
                    <div class="trend-item">
                        <span class="trend-name">Phishing Campaigns</span>
                        <span class="trend-value">
                            <span class="trend-indicator trend-down">‚Üì</span>
                            <span>42%</span>
                        </span>
                    </div>
                    <div class="trend-item">
                        <span class="trend-name">Port Scanning</span>
                        <span class="trend-value">
                            <span class="trend-indicator trend-up">‚Üë</span>
                            <span>35%</span>
                        </span>
                    </div>
                </div>

                <div class="sidebar-section">
                    <h3 class="sidebar-title">üìä Trend Indicators</h3>
                    <div class="trend-item">
                        <span class="trend-name">Overall Activity</span>
                        <span class="trend-value">
                            <span class="trend-indicator trend-up">‚Üë 12%</span>
                        </span>
                    </div>
                    <div class="trend-item">
                        <span class="trend-name">Critical Events</span>
                        <span class="trend-value">
                            <span class="trend-indicator trend-stable">‚Üí Stable</span>
                        </span>
                    </div>
                    <div class="trend-item">
                        <span class="trend-name">Geographic Spread</span>
                        <span class="trend-value">
                            <span class="trend-indicator trend-up">‚Üë 8%</span>
                        </span>
                    </div>
                </div>
            </aside>
        </div>

        <!-- EXPLAINABLE INSIGHTS -->
        <section class="insights-section" role="region" aria-label="Threat intelligence insights">
            <h2 class="insights-title">Explainable Insights</h2>
            
            <div class="insight-card">
                <div class="insight-header">
                    <span class="insight-icon">üìà</span>
                    <span class="insight-label">Activity Trend</span>
                </div>
                <p class="insight-text">
                    Increase observed in aggregated DDoS-related OSINT signals over the last 24 hours. 
                    Public honeypot networks report 15% higher connection attempts targeting port 80/443 
                    compared to previous period. Correlation with known botnet C2 infrastructure patterns.
                </p>
            </div>

            <div class="insight-card">
                <div class="insight-header">
                    <span class="insight-icon">üåç</span>
                    <span class="insight-label">Geographic Distribution</span>
                </div>
                <p class="insight-text">
                    North American and Asia-Pacific regions show elevated event volume based on publicly 
                    available network telemetry. This aligns with seasonal patterns observed in historical 
                    OSINT datasets. No individual entities or specific targets are identified.
                </p>
            </div>

            <div class="insight-card">
                <div class="insight-header">
                    <span class="insight-icon">üîç</span>
                    <span class="insight-label">Threat Composition</span>
                </div>
                <p class="insight-text">
                    Malware distribution campaigns detected through public repository monitoring show 
                    diversification in delivery mechanisms. CVE databases indicate 3 newly disclosed 
                    vulnerabilities affecting web infrastructure, correlating with increased scanning activity.
                </p>
            </div>

            <div class="insight-card">
                <div class="insight-header">
                    <span class="insight-icon">‚è±Ô∏è</span>
                    <span class="insight-label">Temporal Analysis</span>
                </div>
                <p class="insight-text">
                    Peak activity observed during UTC business hours (08:00-18:00), consistent with 
                    opportunistic targeting patterns. Weekend activity shows 20% reduction compared to 
                    weekday baseline, based on aggregated public threat feed analysis.
                </p>
            </div>
        </section>

        <!-- DATA SOURCES & METHODOLOGY -->
        <section class="info-section">
            <h2>Data Sources & Methodology</h2>
            
            <h3>Public OSINT Sources</h3>
            <p>
                All data displayed on this page is aggregated from publicly available Open Source Intelligence (OSINT) sources.
                No proprietary, classified, or private data is used in this visualization.
            </p>
            
            <ul class="source-list">
                <li class="source-item">
                    <span class="source-icon"></span>
                    <span class="source-name">Public Honeypot Networks</span>
                </li>
                <li class="source-item">
                    <span class="source-icon"></span>
                    <span class="source-name">Threat Intelligence Feeds</span>
                </li>
                <li class="source-item">
                    <span class="source-icon"></span>
                    <span class="source-name">Security Research Publications</span>
                </li>
                <li class="source-item">
                    <span class="source-icon"></span>
                    <span class="source-name">CVE & Vulnerability Databases</span>
                </li>
                <li class="source-item">
                    <span class="source-icon"></span>
                    <span class="source-name">Public Malware Repositories</span>
                </li>
                <li class="source-item">
                    <span class="source-icon"></span>
                    <span class="source-name">DNS & Network Telemetry</span>
                </li>
            </ul>

            <div class="info-card">
                <h4>Aggregation & Privacy</h4>
                <p>
                    All threat data is aggregated at the country level. No individual IP addresses, organizations, or personally 
                    identifiable information is collected, stored, or displayed. The visualization represents general threat patterns 
                    and trends based on public data sources.
                </p>
            </div>

            <div class="info-card">
                <h4>Data Processing</h4>
                <p>
                    Data is processed client-side in your browser. No user data, browsing information, or personal details are 
                    transmitted to external servers. This is purely a visualization tool designed for educational and 
                    situational awareness purposes.
                </p>
            </div>
        </section>

        <!-- TRANSPARENCY & LIMITS -->
        <section class="disclaimer-section">
            <div class="disclaimer-title">
                <div class="disclaimer-icon">!</div>
                <span>Transparency & Limits</span>
            </div>
            
            <p style="color: #b8bcc4; margin-bottom: 16px;">
                This page is designed for visualization and educational purposes only. It does NOT perform any active security functions.
            </p>
            
            <ul class="disclaimer-list">
                <li class="disclaimer-item">
                    <span><strong>No Local Detection:</strong> This page does not scan, detect, or analyze threats on your device or network</span>
                </li>
                <li class="disclaimer-item">
                    <span><strong>No Active Scanning:</strong> No ports, services, or systems are scanned or probed</span>
                </li>
                <li class="disclaimer-item">
                    <span><strong>No User Data Collection:</strong> Zero telemetry, tracking, or data collection from users</span>
                </li>
                <li class="disclaimer-item">
                    <span><strong>Frontend Only:</strong> All visualizations run entirely in your browser</span>
                </li>
                <li class="disclaimer-item">
                    <span><strong>Public Data Only:</strong> Only aggregated, anonymized public OSINT data is displayed</span>
                </li>
                <li class="disclaimer-item">
                    <span><strong>Educational Purpose:</strong> Designed for threat awareness and SOC training scenarios</span>
                </li>
            </ul>
        </section>

    </div>

    <script>
        // 3D Globe Visualization
        (function() {
            const canvas = document.getElementById('globe-canvas');
            const ctx = canvas.getContext('2d');
            const container = document.getElementById('globeContainer');
            const demoModeToggle = document.getElementById('demoModeToggle');
            
            let width, height;
            let rotation = 0;
            let isDragging = false;
            let lastX = 0;
            let rotationSpeed = 0.002;
            let demoMode = false;
            let demoRotationSpeed = 0.003;
            
            // Attack arcs data (source -> target coordinates)
            const attacks = [
                { from: [40, -74], to: [51, 0], progress: 0, speed: 0.008 },     // NY -> London
                { from: [39, 116], to: [52, 13], progress: 0.3, speed: 0.01 },   // Beijing -> Berlin
                { from: [55, 37], to: [48, 2], progress: 0.6, speed: 0.009 },     // Moscow -> Paris
                { from: [-23, -46], to: [35, 139], progress: 0.2, speed: 0.007 }, // S√£o Paulo -> Tokyo
                { from: [1, 103], to: [37, -122], progress: 0.8, speed: 0.011 },  // Singapore -> SF
                { from: [28, 77], to: [-33, 151], progress: 0.4, speed: 0.008 }, // Delhi -> Sydney
                { from: [25, 55], to: [40, -3], progress: 0.1, speed: 0.009 },   // Dubai -> Madrid
            ];
            
            function resize() {
                width = container.clientWidth;
                height = container.clientHeight;
                canvas.width = width;
                canvas.height = height;
            }
            
            function latLonToXY(lat, lon, r) {
                const phi = (90 - lat) * (Math.PI / 180);
                const theta = (lon + rotation * 50) * (Math.PI / 180);
                
                const x = r * Math.sin(phi) * Math.cos(theta);
                const y = r * Math.cos(phi);
                const z = r * Math.sin(phi) * Math.sin(theta);
                
                return { x, y, z };
            }
            
            function drawGlobe() {
                ctx.clearRect(0, 0, width, height);
                
                const centerX = width / 2;
                const centerY = height / 2;
                const radius = Math.min(width, height) / 3.2;
                
                // Enhanced lighting position (top-left)
                const lightX = centerX - radius * 0.5;
                const lightY = centerY - radius * 0.5;
                
                // Draw shadow/depth base
                const shadowGradient = ctx.createRadialGradient(
                    centerX, centerY + radius * 0.15, 0,
                    centerX, centerY + radius * 0.15, radius * 1.1
                );
                shadowGradient.addColorStop(0, 'rgba(0, 0, 0, 0.4)');
                shadowGradient.addColorStop(0.5, 'rgba(0, 0, 0, 0.2)');
                shadowGradient.addColorStop(1, 'rgba(0, 0, 0, 0)');
                
                ctx.fillStyle = shadowGradient;
                ctx.beginPath();
                ctx.arc(centerX, centerY + radius * 0.15, radius * 1.05, 0, Math.PI * 2);
                ctx.fill();
                
                // Draw globe sphere with enhanced lighting
                const gradient = ctx.createRadialGradient(lightX, lightY, 0, centerX, centerY, radius);
                gradient.addColorStop(0, 'rgba(74, 144, 226, 0.35)');
                gradient.addColorStop(0.3, 'rgba(74, 144, 226, 0.22)');
                gradient.addColorStop(0.7, 'rgba(74, 144, 226, 0.12)');
                gradient.addColorStop(1, 'rgba(20, 30, 50, 0.8)');
                
                ctx.fillStyle = gradient;
                ctx.beginPath();
                ctx.arc(centerX, centerY, radius, 0, Math.PI * 2);
                ctx.fill();
                
                // Add subtle rim lighting
                const rimGradient = ctx.createRadialGradient(centerX, centerY, radius * 0.85, centerX, centerY, radius);
                rimGradient.addColorStop(0, 'rgba(74, 144, 226, 0)');
                rimGradient.addColorStop(0.8, 'rgba(74, 144, 226, 0)');
                rimGradient.addColorStop(1, 'rgba(74, 144, 226, 0.4)');
                
                ctx.fillStyle = rimGradient;
                ctx.beginPath();
                ctx.arc(centerX, centerY, radius, 0, Math.PI * 2);
                ctx.fill();
                
                // Draw grid lines (latitude) with depth
                for (let lat = -60; lat <= 60; lat += 30) {
                    ctx.beginPath();
                    let prevX, prevY, prevZ;
                    
                    for (let lon = -180; lon <= 180; lon += 5) {
                        const pos = latLonToXY(lat, lon, radius);
                        const x = centerX + pos.x;
                        const y = centerY - pos.y;
                        
                        if (pos.z > 0) {
                            // Calculate depth-based opacity
                            const depth = (pos.z / radius + 1) / 2;
                            
                            if (lon === -180 || (prevZ && prevZ <= 0)) {
                                ctx.moveTo(x, y);
                            } else {
                                ctx.lineTo(x, y);
                            }
                            
                            prevZ = pos.z;
                        } else {
                            prevZ = pos.z;
                        }
                        
                        prevX = x;
                        prevY = y;
                    }
                    
                    // Gradient stroke for depth
                    ctx.strokeStyle = 'rgba(74, 144, 226, 0.25)';
                    ctx.lineWidth = 1.5;
                    ctx.stroke();
                }
                
                // Draw grid lines (longitude) with depth
                for (let lon = -180; lon <= 180; lon += 30) {
                    ctx.beginPath();
                    let prevZ;
                    
                    for (let lat = -90; lat <= 90; lat += 5) {
                        const pos = latLonToXY(lat, lon, radius);
                        const x = centerX + pos.x;
                        const y = centerY - pos.y;
                        
                        if (pos.z > 0) {
                            if (lat === -90 || (prevZ && prevZ <= 0)) {
                                ctx.moveTo(x, y);
                            } else {
                                ctx.lineTo(x, y);
                            }
                            
                            prevZ = pos.z;
                        } else {
                            prevZ = pos.z;
                        }
                    }
                    
                    ctx.strokeStyle = 'rgba(74, 144, 226, 0.25)';
                    ctx.lineWidth = 1.5;
                    ctx.stroke();
                }
                
                // Draw enhanced attack arcs with bezier curves
                attacks.forEach((attack, idx) => {
                    attack.progress += attack.speed;
                    if (attack.progress > 1) attack.progress = 0;
                    
                    const fromPos = latLonToXY(attack.from[0], attack.from[1], radius);
                    const toPos = latLonToXY(attack.to[0], attack.to[1], radius);
                    
                    if (fromPos.z > 0 && toPos.z > 0) {
                        // Calculate arc control point (raised above surface)
                        const midX = (fromPos.x + toPos.x) / 2;
                        const midY = (fromPos.y + toPos.y) / 2;
                        const midZ = (fromPos.z + toPos.z) / 2;
                        
                        // Raise the arc
                        const arcHeight = radius * 0.25;
                        const len = Math.sqrt(midX * midX + midY * midY + midZ * midZ);
                        const controlX = centerX + (midX / len) * (radius + arcHeight);
                        const controlY = centerY - (midY / len) * (radius + arcHeight);
                        
                        // Draw smooth bezier arc
                        ctx.strokeStyle = 'rgba(255, 99, 71, 0.4)';
                        ctx.lineWidth = 2.5;
                        ctx.beginPath();
                        ctx.moveTo(centerX + fromPos.x, centerY - fromPos.y);
                        ctx.quadraticCurveTo(
                            controlX, controlY,
                            centerX + toPos.x, centerY - toPos.y
                        );
                        ctx.stroke();
                        
                        // Draw animated pulse with glow
                        const t = attack.progress;
                        const pulseX = centerX + fromPos.x + (toPos.x - fromPos.x) * t + (controlX - centerX - (fromPos.x + toPos.x) / 2) * 2 * t * (1 - t);
                        const pulseY = centerY - fromPos.y + (-toPos.y + fromPos.y) * t + (controlY - centerY + (fromPos.y + toPos.y) / 2) * 2 * t * (1 - t);
                        
                        // Outer glow
                        const glowGradient = ctx.createRadialGradient(pulseX, pulseY, 0, pulseX, pulseY, 14);
                        glowGradient.addColorStop(0, 'rgba(255, 99, 71, 0.8)');
                        glowGradient.addColorStop(0.5, 'rgba(255, 99, 71, 0.4)');
                        glowGradient.addColorStop(1, 'rgba(255, 99, 71, 0)');
                        
                        ctx.fillStyle = glowGradient;
                        ctx.beginPath();
                        ctx.arc(pulseX, pulseY, 14, 0, Math.PI * 2);
                        ctx.fill();
                        
                        // Inner bright pulse
                        const pulseGradient = ctx.createRadialGradient(pulseX, pulseY, 0, pulseX, pulseY, 6);
                        pulseGradient.addColorStop(0, 'rgba(255, 160, 122, 1)');
                        pulseGradient.addColorStop(1, 'rgba(255, 99, 71, 0.8)');
                        
                        ctx.fillStyle = pulseGradient;
                        ctx.beginPath();
                        ctx.arc(pulseX, pulseY, 6, 0, Math.PI * 2);
                        ctx.fill();
                    }
                });
                
                // Add specular highlight
                const specGradient = ctx.createRadialGradient(
                    lightX, lightY, 0,
                    lightX, lightY, radius * 0.4
                );
                specGradient.addColorStop(0, 'rgba(255, 255, 255, 0.15)');
                specGradient.addColorStop(0.5, 'rgba(255, 255, 255, 0.05)');
                specGradient.addColorStop(1, 'rgba(255, 255, 255, 0)');
                
                ctx.fillStyle = specGradient;
                ctx.beginPath();
                ctx.arc(centerX, centerY, radius, 0, Math.PI * 2);
                ctx.fill();
                
                // Auto-rotation logic
                if (demoMode) {
                    rotation += demoRotationSpeed;
                } else if (!isDragging) {
                    rotation += rotationSpeed;
                }
            }
            
            function animate() {
                drawGlobe();
                requestAnimationFrame(animate);
            }
            
            // Demo mode toggle
            demoModeToggle.addEventListener('click', function() {
                demoMode = !demoMode;
                this.classList.toggle('active');
                
                if (demoMode) {
                    this.textContent = '‚è∏ Demo Mode Active';
                    startDemoMode();
                } else {
                    this.textContent = 'üé¨ SOC Demo Mode';
                    stopDemoMode();
                }
            });
            
            let demoInterval;
            
            function startDemoMode() {
                console.log('[THREAT INTEL] SOC Demo Mode activated');
                
                // Cycle through time ranges
                let timeIndex = 0;
                const timeButtons = document.querySelectorAll('.time-btn');
                
                demoInterval = setInterval(() => {
                    // Cycle time range
                    timeButtons.forEach(btn => btn.classList.remove('active'));
                    timeButtons[timeIndex].classList.add('active');
                    timeIndex = (timeIndex + 1) % timeButtons.length;
                    
                    // Simulate metric updates
                    updateDemoMetrics();
                }, 4000);
            }
            
            function stopDemoMode() {
                if (demoInterval) {
                    clearInterval(demoInterval);
                    demoInterval = null;
                }
            }
            
            function updateDemoMetrics() {
                // Cycle active attacks
                const attacksElement = document.getElementById('activeAttacks');
                const baseValue = 12000;
                const variation = Math.floor(Math.random() * 2000);
                attacksElement.textContent = (baseValue + variation).toLocaleString();
                
                // Add subtle animation to panels
                document.querySelectorAll('.panel').forEach((panel, idx) => {
                    setTimeout(() => {
                        panel.style.transform = 'translateY(-4px)';
                        setTimeout(() => {
                            panel.style.transform = '';
                        }, 300);
                    }, idx * 100);
                });
            }
            
            // Mouse/Touch interactions
            canvas.addEventListener('mousedown', (e) => {
                isDragging = true;
                lastX = e.clientX;
                demoMode = false;
                demoModeToggle.classList.remove('active');
                demoModeToggle.textContent = 'üé¨ SOC Demo Mode';
                stopDemoMode();
            });
            
            canvas.addEventListener('mousemove', (e) => {
                if (isDragging) {
                    const deltaX = e.clientX - lastX;
                    rotation += deltaX * 0.005;
                    lastX = e.clientX;
                }
            });
            
            canvas.addEventListener('mouseup', () => {
                isDragging = false;
            });
            
            canvas.addEventListener('mouseleave', () => {
                isDragging = false;
            });
            
            // Touch events
            canvas.addEventListener('touchstart', (e) => {
                isDragging = true;
                lastX = e.touches[0].clientX;
                demoMode = false;
                demoModeToggle.classList.remove('active');
                demoModeToggle.textContent = 'üé¨ SOC Demo Mode';
                stopDemoMode();
            });
            
            canvas.addEventListener('touchmove', (e) => {
                if (isDragging) {
                    const deltaX = e.touches[0].clientX - lastX;
                    rotation += deltaX * 0.005;
                    lastX = e.touches[0].clientX;
                }
            });
            
            canvas.addEventListener('touchend', () => {
                isDragging = false;
            });
            
            window.addEventListener('resize', resize);
            
            resize();
            animate();
        })();
        
        // Time Range Selector
        document.querySelectorAll('.time-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                document.querySelectorAll('.time-btn').forEach(b => b.classList.remove('active'));
                this.classList.add('active');
                
                const range = this.dataset.range;
                console.log('[THREAT INTEL] Time range changed to:', range);
            });
        });
        
        // Heatmap Layer Toggles
        document.querySelectorAll('.heatmap-toggle').forEach(toggle => {
            toggle.addEventListener('click', function() {
                const checkbox = this.querySelector('.toggle-checkbox');
                checkbox.classList.toggle('active');
                const isChecked = checkbox.classList.contains('active');
                checkbox.setAttribute('aria-checked', isChecked);
                
                const layer = this.dataset.layer;
                console.log('[THREAT INTEL] Heatmap layer toggled:', layer, isChecked);
            });
        });
        
        // Timeline Controls
        const timelineBar = document.getElementById('timelineBar');
        const timelineCursor = document.getElementById('timelineCursor');
        const timelineProgress = document.getElementById('timelineProgress');
        const replayBtn = document.getElementById('replayBtn');
        const pauseBtn = document.getElementById('pauseBtn');
        
        let timelinePosition = 35;
        let timelinePlaying = false;
        let timelineInterval;
        
        // Timeline drag
        timelineCursor.addEventListener('mousedown', function(e) {
            e.preventDefault();
            
            function onMouseMove(e) {
                const rect = timelineBar.getBoundingClientRect();
                let position = ((e.clientX - rect.left) / rect.width) * 100;
                position = Math.max(0, Math.min(100, position));
                
                timelinePosition = position;
                timelineCursor.style.left = position + '%';
                timelineProgress.style.width = position + '%';
                timelineBar.setAttribute('aria-valuenow', Math.round(position));
            }
            
            function onMouseUp() {
                document.removeEventListener('mousemove', onMouseMove);
                document.removeEventListener('mouseup', onMouseUp);
            }
            
            document.addEventListener('mousemove', onMouseMove);
            document.addEventListener('mouseup', onMouseUp);
        });
        
        // Timeline replay
        replayBtn.addEventListener('click', function() {
            timelinePosition = 0;
            timelineCursor.style.left = '0%';
            timelineProgress.style.width = '0%';
            timelineBar.setAttribute('aria-valuenow', 0);
            
            if (!timelinePlaying) {
                timelinePlaying = true;
                timelineInterval = setInterval(() => {
                    timelinePosition += 0.5;
                    if (timelinePosition >= 100) {
                        clearInterval(timelineInterval);
                        timelinePlaying = false;
                        pauseBtn.textContent = '‚è∏Ô∏è Pause';
                    }
                    timelineCursor.style.left = timelinePosition + '%';
                    timelineProgress.style.width = timelinePosition + '%';
                    timelineBar.setAttribute('aria-valuenow', Math.round(timelinePosition));
                }, 50);
                pauseBtn.textContent = '‚è∏Ô∏è Pause';
            }
            
            console.log('[THREAT INTEL] Timeline replay started');
        });
        
        // Timeline pause/play
        pauseBtn.addEventListener('click', function() {
            if (timelinePlaying) {
                clearInterval(timelineInterval);
                timelinePlaying = false;
                this.textContent = '‚ñ∂Ô∏è Play';
            } else {
                timelinePlaying = true;
                timelineInterval = setInterval(() => {
                    timelinePosition += 0.5;
                    if (timelinePosition >= 100) {
                        clearInterval(timelineInterval);
                        timelinePlaying = false;
                        pauseBtn.textContent = '‚è∏Ô∏è Pause';
                    }
                    timelineCursor.style.left = timelinePosition + '%';
                    timelineProgress.style.width = timelinePosition + '%';
                    timelineBar.setAttribute('aria-valuenow', Math.round(timelinePosition));
                }, 50);
                this.textContent = '‚è∏Ô∏è Pause';
            }
        });
        
        // Hero Action Buttons
        document.getElementById('socWallModeBtn').addEventListener('click', function() {
            // Toggle fullscreen mode
            if (!document.fullscreenElement) {
                document.documentElement.requestFullscreen().catch(err => {
                    console.log('[THREAT INTEL] Fullscreen not supported:', err);
                });
                this.innerHTML = '<span>üñ•Ô∏è</span><span>Exit SOC Wall Mode</span>';
            } else {
                document.exitFullscreen();
                this.innerHTML = '<span>üñ•Ô∏è</span><span>Enable SOC Wall Mode</span>';
            }
            console.log('[THREAT INTEL] SOC Wall Mode toggled');
        });
        
        document.getElementById('timelineReplayBtn').addEventListener('click', function() {
            // Scroll to timeline and trigger replay
            document.querySelector('.timeline-section').scrollIntoView({ behavior: 'smooth' });
            setTimeout(() => {
                replayBtn.click();
            }, 500);
            console.log('[THREAT INTEL] Timeline replay triggered from hero');
        });
        
        document.getElementById('viewMethodologyBtn').addEventListener('click', function() {
            // Scroll to methodology section
            document.querySelector('.info-section').scrollIntoView({ behavior: 'smooth' });
            console.log('[THREAT INTEL] Scrolled to methodology section');
        });
        
        // Simulate live data updates
        function updateStats() {
            const attacksElement = document.getElementById('activeAttacks');
            if (attacksElement) {
                const currentValue = parseInt(attacksElement.textContent.replace(',', ''));
                const newValue = currentValue + Math.floor(Math.random() * 20) - 10;
                attacksElement.textContent = newValue.toLocaleString();
            }
        }
        
        setInterval(updateStats, 5000);
        
        // Presentation Mode Toggle
        const presentationModeToggle = document.getElementById('presentationModeToggle');
        let isPresentationMode = false;
        
        presentationModeToggle.addEventListener('click', function() {
            isPresentationMode = !isPresentationMode;
            
            if (isPresentationMode) {
                document.body.classList.add('presentation-mode');
                this.classList.add('active');
                this.innerHTML = '‚úì Presentation Mode';
                console.log('[THREAT INTEL] Presentation mode activated - Optimized for SOC/executive displays');
                
                // Smooth scroll to top when activating
                window.scrollTo({ top: 0, behavior: 'smooth' });
            } else {
                document.body.classList.remove('presentation-mode');
                this.classList.remove('active');
                this.innerHTML = 'üìä Presentation Mode';
                console.log('[THREAT INTEL] Presentation mode deactivated - Standard view restored');
            }
        });
        
        console.log('[SENTINEL] Global Threat Intelligence - Situational Awareness loaded');
        console.log('[SENTINEL] Frontend-only OSINT visualization - No detection, no monitoring, educational purpose');
        console.log('[SENTINEL] Presentation Mode available for SOC/executive displays');
    </script>
</body>
</html>
