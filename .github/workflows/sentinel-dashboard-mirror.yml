- name: 🌐 Génération de la carte Sentinel World Map
        run: |
          cat > dashboard/map.html <<HTML
          <!DOCTYPE html>
          <html lang="fr">
          <meta charset="utf-8">
          <meta name="viewport" content="width=device-width,initial-scale=1">
          <title>🌐 Sentinel World Map</title>
          <style>
            body { background:#000; margin:0; overflow:hidden; }
            #globe { width:100vw; height:100vh; }
            .label {
              position: absolute; color: #fff;
              font-family: system-ui; font-size: 13px;
              background: rgba(0,0,0,0.5);
              padding: 2px 5px; border-radius: 4px;
            }
          </style>
          <body>
            <div id="globe"></div>
            <script src="https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.min.js"></script>
            <script src="https://cdn.jsdelivr.net/npm/globe.gl@2.34.1/dist/globe.gl.min.js"></script>
            <script>
              const globe = Globe()(document.getElementById('globe'))
                .globeImageUrl('https://unpkg.com/three-globe/example/img/earth-night.jpg')
                .backgroundImageUrl('https://unpkg.com/three-globe/example/img/night-sky.png')
                .pointsData([
                  { lat:48.8566, lng:2.3522, size:0.6, color:'lime', name:'EU Node 🇪🇺' },
                  { lat:37.7749, lng:-122.4194, size:0.6, color:'cyan', name:'US Node 🇺🇸' },
                  { lat:-33.8688, lng:151.2093, size:0.6, color:'orange', name:'APAC Node 🇦🇺' },
                  { lat:16.265, lng:-61.551, size:0.6, color:'gold', name:'Caribbean Node 🇬🇵' },
                ])
                .pointAltitude('size')
                .pointColor('color')
                .pointLabel('name')
                .pointsTransitionDuration(1000);

              // rotation douce
              (function animate() {
                globe.controls().autoRotate = true;
                globe.controls().autoRotateSpeed = 0.6;
                requestAnimationFrame(animate);
              })();
            </script>
          </body>
          </html>
          HTML