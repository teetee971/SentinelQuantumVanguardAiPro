- name: üßπ Auto-cleanup √©tendu + purge du cache Git
        run: |
          echo "üö® V√©rification des traces r√©siduelles akiprisaye..."

          # 1Ô∏è‚É£ Nettoyage local
          git submodule deinit -f --all || true
          rm -rf .git/modules/akiprisaye || true
          rm -rf akiprisaye || true
          grep -v "akiprisaye" .git/config > temp && mv temp .git/config || true

          # 2Ô∏è‚É£ Nettoyage du fichier .gitmodules
          if [ -f ".gitmodules" ]; then
            echo "üßæ Fichier .gitmodules existant : purge des lignes akiprisaye..."
            sed -i '/akiprisaye/d' .gitmodules || true
          fi

          # 3Ô∏è‚É£ Purge du cache Git global (emp√™che Cloudflare d'utiliser un clone obsol√®te)
          echo "üß® Purge du cache Git global pour invalider toute version pr√©c√©dente"
          git reflog expire --expire=now --all || true
          git gc --prune=now --aggressive || true
          rm -rf .git/hooks || true
          rm -rf .git/modules || true

          # 4Ô∏è‚É£ Commit de nettoyage forc√©
          git config --global user.name "SentinelAutoCleaner"
          git config --global user.email "sentinel@system.local"
          git add -A
          git commit -m "üî• Purge compl√®te des sous-modules fant√¥mes et cache git" || echo "Aucun changement √† commettre"
          git push origin main || echo "Push non requis"

          echo "‚úÖ Auto-cleanup termin√©, cache Git et modules purg√©s avec succ√®s."