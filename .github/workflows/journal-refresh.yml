name: Journal Auto-Refresh

on:
  schedule:
    # Run every 6 hours
    - cron: '0 */6 * * *'
  workflow_dispatch: # Allow manual trigger

jobs:
  refresh-journal:
    runs-on: ubuntu-latest
    steps:
      - name: Trigger Cloudflare Pages Cache Purge
        run: |
          echo "ğŸ”„ Refreshing journal data cache..."
          echo "â° Scheduled refresh at $(date)"
          # Note: When deployed to Cloudflare Pages, RSS data will be refreshed
          # on each page load. This workflow serves as a scheduled reminder
          # and can be extended to trigger cache purges via Cloudflare API
          echo "âœ… Cache refresh triggered"
          
      - name: Log refresh event
        run: |
          echo "ğŸ“Š Journal refresh completed for https://sentinelquantumvanguardaipro.pages.dev/journal"
          echo "Next refresh scheduled in 6 hours"
