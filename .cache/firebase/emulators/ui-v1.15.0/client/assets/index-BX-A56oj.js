var kse=Object.defineProperty;var Rse=(t,e,n)=>e in t?kse(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Zf=(t,e,n)=>Rse(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var RP=function(t,e){return RP=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},RP(t,e)};function xd(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");RP(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var ae=function(){return ae=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},ae.apply(this,arguments)};function Ke(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function sp(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function l(h){try{f(r.next(h))}catch(g){a(g)}}function u(h){try{f(r.throw(h))}catch(g){a(g)}}function f(h){h.done?o(h.value):i(h.value).then(l,u)}f((r=r.apply(t,e||[])).next())})}function c5(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=l(0),a.throw=l(1),a.return=l(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(f){return function(h){return u([f,h])}}function u(f){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,f[0]&&(n=0)),n;)try{if(r=1,i&&(o=f[0]&2?i.return:f[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,f[1])).done)return o;switch(i=0,o&&(f=[f[0]&2,o.value]),f[0]){case 0:case 1:o=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!o||f[1]>o[0]&&f[1]<o[3])){n.label=f[1];break}if(f[0]===6&&n.label<o[1]){n.label=o[1],o=f;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(f);break}o[2]&&n.ops.pop(),n.trys.pop();continue}f=e.call(t,n)}catch(h){f=[6,h],i=0}finally{r=o=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}function Om(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function _n(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(l){a={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o}function Ose(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],a=0,l=o.length;a<l;a++,i++)r[i]=o[a];return r}function ea(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}function Nv(t){return this instanceof Nv?(this.v=t,this):new Nv(t)}function Pse(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(w){return function(T){return Promise.resolve(T).then(w,g)}}function l(w,T){r[w]&&(i[w]=function(C){return new Promise(function(R,I){o.push([w,C,R,I])>1||u(w,C)})},T&&(i[w]=T(i[w])))}function u(w,T){try{f(r[w](T))}catch(C){y(o[0][3],C)}}function f(w){w.value instanceof Nv?Promise.resolve(w.value.v).then(h,g):y(o[0][2],w)}function h(w){u("next",w)}function g(w){u("throw",w)}function y(w,T){w(T),o.shift(),o.length&&u(o[0][0],o[0][1])}}function Nse(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Om=="function"?Om(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(a){return new Promise(function(l,u){a=t[o](a),i(l,u,a.done,a.value)})}}function i(o,a,l,u){Promise.resolve(u).then(function(f){o({value:f,done:l})},a)}}var Ei=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ra(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var f5={exports:{}},Fn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OE=Symbol.for("react.element"),Lse=Symbol.for("react.portal"),Dse=Symbol.for("react.fragment"),Mse=Symbol.for("react.strict_mode"),Fse=Symbol.for("react.profiler"),Use=Symbol.for("react.provider"),Vse=Symbol.for("react.context"),Bse=Symbol.for("react.forward_ref"),$se=Symbol.for("react.suspense"),Hse=Symbol.for("react.memo"),jse=Symbol.for("react.lazy"),NB=Symbol.iterator;function zse(t){return t===null||typeof t!="object"?null:(t=NB&&t[NB]||t["@@iterator"],typeof t=="function"?t:null)}var d5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h5=Object.assign,p5={};function Uy(t,e,n){this.props=t,this.context=e,this.refs=p5,this.updater=n||d5}Uy.prototype.isReactComponent={};Uy.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Uy.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function m5(){}m5.prototype=Uy.prototype;function CM(t,e,n){this.props=t,this.context=e,this.refs=p5,this.updater=n||d5}var SM=CM.prototype=new m5;SM.constructor=CM;h5(SM,Uy.prototype);SM.isPureReactComponent=!0;var LB=Array.isArray,g5=Object.prototype.hasOwnProperty,TM={current:null},v5={key:!0,ref:!0,__self:!0,__source:!0};function y5(t,e,n){var r,i={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)g5.call(e,r)&&!v5.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var u=Array(l),f=0;f<l;f++)u[f]=arguments[f+2];i.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:OE,type:t,key:o,ref:a,props:i,_owner:TM.current}}function Wse(t,e){return{$$typeof:OE,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function xM(t){return typeof t=="object"&&t!==null&&t.$$typeof===OE}function qse(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var DB=/\/+/g;function Dk(t,e){return typeof t=="object"&&t!==null&&t.key!=null?qse(""+t.key):e.toString(36)}function BS(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case OE:case Lse:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+Dk(a,0):r,LB(i)?(n="",t!=null&&(n=t.replace(DB,"$&/")+"/"),BS(i,e,n,"",function(f){return f})):i!=null&&(xM(i)&&(i=Wse(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(DB,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",LB(t))for(var l=0;l<t.length;l++){o=t[l];var u=r+Dk(o,l);a+=BS(o,e,n,u,i)}else if(u=zse(t),typeof u=="function")for(t=u.call(t),l=0;!(o=t.next()).done;)o=o.value,u=r+Dk(o,l++),a+=BS(o,e,n,u,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function LC(t,e,n){if(t==null)return t;var r=[],i=0;return BS(t,r,"","",function(o){return e.call(n,o,i++)}),r}function Kse(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var gs={current:null},$S={transition:null},Gse={ReactCurrentDispatcher:gs,ReactCurrentBatchConfig:$S,ReactCurrentOwner:TM};function _5(){throw Error("act(...) is not supported in production builds of React.")}Fn.Children={map:LC,forEach:function(t,e,n){LC(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return LC(t,function(){e++}),e},toArray:function(t){return LC(t,function(e){return e})||[]},only:function(t){if(!xM(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Fn.Component=Uy;Fn.Fragment=Dse;Fn.Profiler=Fse;Fn.PureComponent=CM;Fn.StrictMode=Mse;Fn.Suspense=$se;Fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gse;Fn.act=_5;Fn.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=h5({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=TM.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)g5.call(e,u)&&!v5.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var f=0;f<u;f++)l[f]=arguments[f+2];r.children=l}return{$$typeof:OE,type:t.type,key:i,ref:o,props:r,_owner:a}};Fn.createContext=function(t){return t={$$typeof:Vse,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Use,_context:t},t.Consumer=t};Fn.createElement=y5;Fn.createFactory=function(t){var e=y5.bind(null,t);return e.type=t,e};Fn.createRef=function(){return{current:null}};Fn.forwardRef=function(t){return{$$typeof:Bse,render:t}};Fn.isValidElement=xM;Fn.lazy=function(t){return{$$typeof:jse,_payload:{_status:-1,_result:t},_init:Kse}};Fn.memo=function(t,e){return{$$typeof:Hse,type:t,compare:e===void 0?null:e}};Fn.startTransition=function(t){var e=$S.transition;$S.transition={};try{t()}finally{$S.transition=e}};Fn.unstable_act=_5;Fn.useCallback=function(t,e){return gs.current.useCallback(t,e)};Fn.useContext=function(t){return gs.current.useContext(t)};Fn.useDebugValue=function(){};Fn.useDeferredValue=function(t){return gs.current.useDeferredValue(t)};Fn.useEffect=function(t,e){return gs.current.useEffect(t,e)};Fn.useId=function(){return gs.current.useId()};Fn.useImperativeHandle=function(t,e,n){return gs.current.useImperativeHandle(t,e,n)};Fn.useInsertionEffect=function(t,e){return gs.current.useInsertionEffect(t,e)};Fn.useLayoutEffect=function(t,e){return gs.current.useLayoutEffect(t,e)};Fn.useMemo=function(t,e){return gs.current.useMemo(t,e)};Fn.useReducer=function(t,e,n){return gs.current.useReducer(t,e,n)};Fn.useRef=function(t){return gs.current.useRef(t)};Fn.useState=function(t){return gs.current.useState(t)};Fn.useSyncExternalStore=function(t,e,n){return gs.current.useSyncExternalStore(t,e,n)};Fn.useTransition=function(){return gs.current.useTransition()};Fn.version="18.3.1";f5.exports=Fn;var B=f5.exports;const Y=ra(B);var b5={ripple:!0,tooltip:{align:"top",showArrow:!1,activateOn:["hover","focus"],enterDelay:0,leaveDelay:0},typography:{},icon:{icon:"",basename:"material-icons",prefix:"",strategy:"auto",render:void 0}},E5=Y.createContext(b5),gA=function(){return Y.useContext(E5)},Yse=function(t){var e=t.children,n=Ke(t,["children"]);return Y.createElement(E5.Provider,{value:ae(ae({},b5),n)},e)},w5={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var o="",a=0;a<arguments.length;a++){var l=arguments[a];l&&(o=i(o,r(l)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var a="";for(var l in o)e.call(o,l)&&o[l]&&(a=i(a,l));return a}function i(o,a){return a?o?o+" "+a:o+a:o}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(w5);var Qse=w5.exports;const Lr=ra(Qse);var Xse=function(t){return t.replace(/(-[a-z])/g,function(e){return e.toUpperCase().replace("-","")})},C5=function(t){return t.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})},S5=function(t){var e=Array.isArray(t)?t:[t];return e.filter(function(n){return!!n}).map(function(n){return"mdc-theme--"+C5(n)})},Jse={blur:"onBlur",cancel:"onCancel",click:"onClick",close:"onClose",contextmenu:"onContextMenu",copy:"onCopy",cut:"onCut",auxclick:"onAuxClick",doubleclick:"onDoubleClick",dragend:"onDragEnd",dragstart:"onDragStart",drop:"onDrop",focus:"onFocus",input:"onInput",invalid:"onInvalid",keydown:"onKeyDown",keypress:"onKeyPress",keyup:"onKeyUp",mousedown:"onMouseDown",mouseup:"onMouseUp",paste:"onPaste",pause:"onPause",play:"onPlay",pointercancel:"onPointerCancel",pointerdown:"onPointerDown",pointerup:"onPointerUp",ratechange:"onRateChange",reset:"onReset",seeked:"onSeeked",submit:"onSubmit",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchstart:"onTouchStart",volumechange:"onVolumeChange",abort:"onAbort",animationend:"onAnimationEnd",animationiteration:"onAnimationIteration",animationstart:"onAnimationStart",canplay:"onCanPlay",canplaythrough:"onCanPlayThrough",drag:"onDrag",dragenter:"onDragEnter",dragexit:"onDragExit",dragleave:"onDragLeave",dragover:"onDragOver",durationchange:"onDurationChange",emptied:"onEmptied",encrypted:"onEncrypted",ended:"onEnded",error:"onError",gotpointercapture:"onGotPointerCapture",load:"onLoad",loadeddata:"onLoadedData",loadedmetadata:"onLoadedMetadata",loadstart:"onLoadStart",lostpointercapture:"onLostPointerCapture",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseover:"onMouseOver",playing:"onPlaying",pointermove:"onPointerMove",pointerout:"onPointerOut",pointerover:"onPointerOver",progress:"onProgress",scroll:"onScroll",seeking:"onSeeking",stalled:"onStalled",suspend:"onSuspend",timeupdate:"onTimeUpdate",toggle:"onToggle",touchmove:"onTouchMove",transitionend:"onTransitionEnd",waiting:"onWaiting",wheel:"onWheel",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",pointerenter:"onPointerEnter",pointerleave:"onPointerLeave",change:"onChange",select:"onSelect",beforeinput:"onBeforeInput",compositionend:"onCompositionEnd",compositionstart:"onCompositionStart",compositionupdate:"onCompositionUpdate"},T5={exports:{}};/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/material-components/material-components-web/blob/master/LICENSE
 */(function(t,e){(function(r,i){t.exports=i()})(Ei,function(){return function(n){var r={};function i(o){if(r[o])return r[o].exports;var a=r[o]={i:o,l:!1,exports:{}};return n[o].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=n,i.c=r,i.d=function(o,a,l){i.o(o,a)||Object.defineProperty(o,a,{enumerable:!0,get:l})},i.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},i.t=function(o,a){if(a&1&&(o=i(o)),a&8||a&4&&typeof o=="object"&&o&&o.__esModule)return o;var l=Object.create(null);if(i.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:o}),a&2&&typeof o!="string")for(var u in o)i.d(l,u,(function(f){return o[f]}).bind(null,u));return l},i.n=function(o){var a=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(a,"a",a),a},i.o=function(o,a){return Object.prototype.hasOwnProperty.call(o,a)},i.p="",i(i.s="./packages/mdc-dom/index.ts")}({"./packages/mdc-dom/events.ts":function(n,r,i){/**
 * @license
 * Copyright 2019 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */Object.defineProperty(r,"__esModule",{value:!0});function o(l){return l===void 0&&(l=window),a(l)?{passive:!0}:!1}r.applyPassive=o;function a(l){l===void 0&&(l=window);var u=!1;try{var f={get passive(){return u=!0,!1}},h=function(){};l.document.addEventListener("test",h,f),l.document.removeEventListener("test",h,f)}catch{u=!1}return u}},"./packages/mdc-dom/focus-trap.ts":function(n,r,i){/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */Object.defineProperty(r,"__esModule",{value:!0});var o="mdc-dom-focus-sentinel",a=function(){function l(u,f){f===void 0&&(f={}),this.root=u,this.options=f,this.elFocusedBeforeTrapFocus=null}return l.prototype.trapFocus=function(){var u=this.getFocusableElements(this.root);if(u.length===0)throw new Error("FocusTrap: Element must have at least one focusable child.");this.elFocusedBeforeTrapFocus=document.activeElement instanceof HTMLElement?document.activeElement:null,this.wrapTabFocus(this.root,u),this.options.skipInitialFocus||this.focusInitialElement(u,this.options.initialFocusEl)},l.prototype.releaseFocus=function(){[].slice.call(this.root.querySelectorAll("."+o)).forEach(function(u){u.parentElement.removeChild(u)}),this.elFocusedBeforeTrapFocus&&this.elFocusedBeforeTrapFocus.focus()},l.prototype.wrapTabFocus=function(u,f){var h=this.createSentinel(),g=this.createSentinel();h.addEventListener("focus",function(){f.length>0&&f[f.length-1].focus()}),g.addEventListener("focus",function(){f.length>0&&f[0].focus()}),u.insertBefore(h,u.children[0]),u.appendChild(g)},l.prototype.focusInitialElement=function(u,f){var h=0;f&&(h=Math.max(u.indexOf(f),0)),u[h].focus()},l.prototype.getFocusableElements=function(u){var f=[].slice.call(u.querySelectorAll("[autofocus], [tabindex], a, input, textarea, select, button"));return f.filter(function(h){var g=h.getAttribute("aria-disabled")==="true"||h.getAttribute("disabled")!=null||h.getAttribute("hidden")!=null||h.getAttribute("aria-hidden")==="true",y=h.tabIndex>=0&&h.getBoundingClientRect().width>0&&!h.classList.contains(o)&&!g,w=!1;if(y){var T=getComputedStyle(h);w=T.display==="none"||T.visibility==="hidden"}return y&&!w})},l.prototype.createSentinel=function(){var u=document.createElement("div");return u.setAttribute("tabindex","0"),u.setAttribute("aria-hidden","true"),u.classList.add(o),u},l}();r.FocusTrap=a},"./packages/mdc-dom/index.ts":function(n,r,i){/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var o=this&&this.__importStar||function(f){if(f&&f.__esModule)return f;var h={};if(f!=null)for(var g in f)Object.hasOwnProperty.call(f,g)&&(h[g]=f[g]);return h.default=f,h};Object.defineProperty(r,"__esModule",{value:!0});var a=o(i("./packages/mdc-dom/events.ts"));r.events=a;var l=o(i("./packages/mdc-dom/focus-trap.ts"));r.focusTrap=l;var u=o(i("./packages/mdc-dom/ponyfill.ts"));r.ponyfill=u},"./packages/mdc-dom/ponyfill.ts":function(n,r,i){/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */Object.defineProperty(r,"__esModule",{value:!0});function o(u,f){if(u.closest)return u.closest(f);for(var h=u;h;){if(a(h,f))return h;h=h.parentElement}return null}r.closest=o;function a(u,f){var h=u.matches||u.webkitMatchesSelector||u.msMatchesSelector;return h.call(u,f)}r.matches=a;function l(u){var f=u;if(f.offsetParent!==null)return f.scrollWidth;var h=f.cloneNode(!0);h.style.setProperty("position","absolute"),h.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(h);var g=h.scrollWidth;return document.documentElement.removeChild(h),g}r.estimateScrollWidth=l}})})})(T5);var Zse=T5.exports,ele=Zse.focusTrap.FocusTrap,tle=function(t,e){return new ele(t,e)},uu=function(t){var e=(Math.random()+Math.random()+1).toString(36).substring(2);return t+"-"+e},vA=function(t,e){var n=e.id?e.id:e.label?t+"-"+e.label:uu(t),r=_n(B.useState(n),1),i=r[0];return i},yA=function(t,e){if(t instanceof Element){if(t&&t.closest)return t.closest(e);for(var n=t;n;){if(PE(n,e))return n;n=n.parentElement}}return null},PE=function(t,e){var n=t.matches||t.webkitMatchesSelector||t.msMatchesSelector;return n.call(t,e)},AM=function(t){var e=Y.Children.only(t.children);return Y.cloneElement(e,ae(ae(ae({},t),e.props),{className:Lr(t.className,e.props.className),style:ae(ae({},e.props.style),t.style)}))},nle=function(){function t(){this.events_={}}return t.prototype.on=function(e,n){this.events_=this.events_||{},this.events_[e]=this.events_[e]||[],this.events_[e].push(n)},t.prototype.off=function(e,n){this.events_=this.events_||{},e in this.events_&&this.events_[e].splice(this.events_[e].indexOf(n),1)},t.prototype.trigger=function(e){if(this.events_=this.events_||{},e in this.events_)for(var n=0;n<this.events_[e].length;n++)this.events_[e][n].apply(this,Array.prototype.slice.call(arguments,1))},t}(),rle=function(t){xd(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.array=[],n}return e.prototype.push=function(){for(var n,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=(n=this.array).push.apply(n,ea([],_n(r)));return this.trigger("change"),o},e.prototype.empty=function(){this.array.length=0,this.trigger("change")},e.prototype.remove=function(n){var r=this.array.indexOf(n);return r>-1?(this.array.splice(r,1),this.trigger("change"),!0):!1},e}(nle),IM=function(t){var e,n,r,i=Array.isArray(t)?t[0]:t,o=((e=i==null?void 0:i.type)===null||e===void 0?void 0:e.displayName)||((n=i==null?void 0:i.constructor)===null||n===void 0?void 0:n.displayName)||(i==null?void 0:i.displayName)||(i==null?void 0:i.name)||((r=i==null?void 0:i.constructor)===null||r===void 0?void 0:r.name)||"Unknown";return o},ry={bottom:0,height:0,left:0,right:0,top:0,width:0},x5=Y.createContext(!1),kM=Y.createContext(!1),A5=function(){window.dispatchEvent(new Event("resize"))},RM=function(t,e,n){e===void 0&&(e=1),n===void 0&&(n=1),window.requestAnimationFrame(function(){n>=e?t():RM(t,e,n+1)})},kt=Y.forwardRef(function(e,n){var r=e.tag,i=r===void 0?"div":r;e.theme;var o=e.element,a=Ke(e,["tag","theme","element"]),l=o?o.props(a):a,u=o?iy(n,o.setRef):n;return Y.createElement(i,ae({},l,{ref:u}))}),St=function(t,e){return Lr.apply(void 0,ea(ea([t.className],_n(t.theme?S5(t.theme):[])),_n(typeof e=="function"?e(t):e)))},iy=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){var r,i;try{for(var o=Om(t),a=o.next();!a.done;a=o.next()){var l=a.value;typeof l=="function"?l(n):l&&"current"in l&&(l.current=n)}}catch(u){r={error:u}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}}},nb=function(t,e){typeof t=="function"?t(e):t&&"current"in t&&(t.current=e)};function ht(t){var e=Y.forwardRef(t),n=function(r,i){return Y.createElement(Y.Fragment,null)};return n.displayName=t.constructor.name||"RMWCComponent",e.displayName=n.displayName,e}function ile(t){var e=ht(t);return Y.memo(e)}var MB=function(t){return Jse[t]||t},ole=function(){function t(e){this._classes=new Set,this._events={},this._style={},this._props={},this._ref=null,this._onChange=null,this._onChange=e,this.onChange=this.onChange.bind(this),this.addClass=this.addClass.bind(this),this.removeClass=this.removeClass.bind(this),this.hasClass=this.hasClass.bind(this),this.setProp=this.setProp.bind(this),this.getProp=this.getProp.bind(this),this.removeProp=this.removeProp.bind(this),this.setStyle=this.setStyle.bind(this),this.addEventListener=this.addEventListener.bind(this),this.removeEventListener=this.removeEventListener.bind(this),this.setRef=this.setRef.bind(this)}return t.prototype.onChange=function(){this._onChange&&this._onChange()},t.prototype.destroy=function(){var e=this;this._onChange=null,this._events={},this._style={},this._props={},this._classes=new Set,setTimeout(function(){e._ref=null})},t.prototype.addClass=function(e){this._classes.has(e)||(this._classes.add(e),this.onChange())},t.prototype.removeClass=function(e){this._classes.has(e)&&(this._classes.delete(e),this.onChange())},t.prototype.hasClass=function(e){return this._classes.has(e)},t.prototype.setProp=function(e,n,r){r===void 0&&(r=!1),this._props[e]!==n&&(this._props[e]=n,!r&&this.onChange())},t.prototype.getProp=function(e){return this._props[e]},t.prototype.removeProp=function(e){this._props[e]!==void 0&&(delete this._props[e],this.onChange())},t.prototype.props=function(e){var n=this,r=e.className,i=r===void 0?"":r,o=e.style,a=o===void 0?{}:o,l=Object.entries(e).reduce(function(h,g){var y=_n(g,2),w=y[0],T=y[1],C=n._events[w];if(typeof T=="function"&&typeof C=="function"){var R=function(I){return C(I),T(I)};h[w]=R}return h},ae({},this._events)),u=Lr(i,ea([],_n(this._classes))),f=ae(ae({},this._style),a);return ae(ae(ae(ae({},e),this._props),l),{style:f,className:u})},t.prototype.setStyle=function(e,n){e=e.startsWith("--")?e:Xse(e),this._style[e]!==n&&(this._style[e]=n,this.onChange())},t.prototype.addEventListener=function(e,n){var r=MB(e);this._events[r]!==n&&(this._events[r]=n,this.onChange())},t.prototype.removeEventListener=function(e,n){var r=MB(e);this._events[r]&&(delete this._events[r],this.onChange())},t.prototype.setRef=function(e){e&&(this._ref=e)},Object.defineProperty(t.prototype,"ref",{get:function(){return this._ref},enumerable:!1,configurable:!0}),t}(),ale=function(t){return function(e,n,r){r===void 0&&(r=!1);var i;i=new CustomEvent(e,{detail:n,bubbles:r}),Object.defineProperty(i,"target",{value:n,writable:!1}),Object.defineProperty(i,"currentTarget",{value:n,writable:!1});var o=e;return t[o]&&t[o](i),i}},li=function(t){var e=t.foundation,n=t.props,r=t.elements,i=t.api,o=_n(B.useState(0),2),a=o[1],l=B.useRef(n);l.current=n;var u=B.useMemo(function(){return Object.keys(r).reduce(function(h,g){return h[g]=new ole(function(){a(function(y){return y+1})}),h},{})},[]),f=B.useMemo(function(){var h=e(ae(ae({},u),{getProps:function(){return l.current},emit:function(){for(var g=[],y=0;y<arguments.length;y++)g[y]=arguments[y];return ale(l.current).apply(void 0,ea([],_n(g)))}}));return i&&nb(l.current.apiRef,i(ae({foundation:h},u))),h},[]);return B.useEffect(function(){var h=f;return h.init(),i&&nb(l.current.apiRef,i(ae({foundation:h},u))),nb(l.current.foundationRef,h),function(){h.destroy(),nb(l.current.apiRef,null),nb(l.current.foundationRef,null),Object.values(u).map(function(g){return g.destroy()}),l.current={}}},[f,u]),ae({foundation:f},u)},I5={exports:{}},Pl={},k5={exports:{}},R5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(xe,Te){var J=xe.length;xe.push(Te);e:for(;0<J;){var Ae=J-1>>>1,Ne=xe[Ae];if(0<i(Ne,Te))xe[Ae]=Te,xe[J]=Ne,J=Ae;else break e}}function n(xe){return xe.length===0?null:xe[0]}function r(xe){if(xe.length===0)return null;var Te=xe[0],J=xe.pop();if(J!==Te){xe[0]=J;e:for(var Ae=0,Ne=xe.length,ie=Ne>>>1;Ae<ie;){var lt=2*(Ae+1)-1,Ge=xe[lt],ut=lt+1,et=xe[ut];if(0>i(Ge,J))ut<Ne&&0>i(et,Ge)?(xe[Ae]=et,xe[ut]=J,Ae=ut):(xe[Ae]=Ge,xe[lt]=J,Ae=lt);else if(ut<Ne&&0>i(et,J))xe[Ae]=et,xe[ut]=J,Ae=ut;else break e}}return Te}function i(xe,Te){var J=xe.sortIndex-Te.sortIndex;return J!==0?J:xe.id-Te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],f=[],h=1,g=null,y=3,w=!1,T=!1,C=!1,R=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(xe){for(var Te=n(f);Te!==null;){if(Te.callback===null)r(f);else if(Te.startTime<=xe)r(f),Te.sortIndex=Te.expirationTime,e(u,Te);else break;Te=n(f)}}function A(xe){if(C=!1,O(xe),!T)if(n(u)!==null)T=!0,Je(V);else{var Te=n(f);Te!==null&&He(A,Te.startTime-xe)}}function V(xe,Te){T=!1,C&&(C=!1,I(N),N=-1),w=!0;var J=y;try{for(O(Te),g=n(u);g!==null&&(!(g.expirationTime>Te)||xe&&!z());){var Ae=g.callback;if(typeof Ae=="function"){g.callback=null,y=g.priorityLevel;var Ne=Ae(g.expirationTime<=Te);Te=t.unstable_now(),typeof Ne=="function"?g.callback=Ne:g===n(u)&&r(u),O(Te)}else r(u);g=n(u)}if(g!==null)var ie=!0;else{var lt=n(f);lt!==null&&He(A,lt.startTime-Te),ie=!1}return ie}finally{g=null,y=J,w=!1}}var D=!1,P=null,N=-1,$=5,q=-1;function z(){return!(t.unstable_now()-q<$)}function K(){if(P!==null){var xe=t.unstable_now();q=xe;var Te=!0;try{Te=P(!0,xe)}finally{Te?Q():(D=!1,P=null)}}else D=!1}var Q;if(typeof k=="function")Q=function(){k(K)};else if(typeof MessageChannel<"u"){var Ee=new MessageChannel,he=Ee.port2;Ee.port1.onmessage=K,Q=function(){he.postMessage(null)}}else Q=function(){R(K,0)};function Je(xe){P=xe,D||(D=!0,Q())}function He(xe,Te){N=R(function(){xe(t.unstable_now())},Te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(xe){xe.callback=null},t.unstable_continueExecution=function(){T||w||(T=!0,Je(V))},t.unstable_forceFrameRate=function(xe){0>xe||125<xe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<xe?Math.floor(1e3/xe):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(xe){switch(y){case 1:case 2:case 3:var Te=3;break;default:Te=y}var J=y;y=Te;try{return xe()}finally{y=J}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(xe,Te){switch(xe){case 1:case 2:case 3:case 4:case 5:break;default:xe=3}var J=y;y=xe;try{return Te()}finally{y=J}},t.unstable_scheduleCallback=function(xe,Te,J){var Ae=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?Ae+J:Ae):J=Ae,xe){case 1:var Ne=-1;break;case 2:Ne=250;break;case 5:Ne=1073741823;break;case 4:Ne=1e4;break;default:Ne=5e3}return Ne=J+Ne,xe={id:h++,callback:Te,priorityLevel:xe,startTime:J,expirationTime:Ne,sortIndex:-1},J>Ae?(xe.sortIndex=J,e(f,xe),n(u)===null&&xe===n(f)&&(C?(I(N),N=-1):C=!0,He(A,J-Ae))):(xe.sortIndex=Ne,e(u,xe),T||w||(T=!0,Je(V))),xe},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(xe){var Te=y;return function(){var J=y;y=Te;try{return xe.apply(this,arguments)}finally{y=J}}}})(R5);k5.exports=R5;var sle=k5.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lle=B,Al=sle;function tt(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var O5=new Set,T0={};function eg(t,e){oy(t,e),oy(t+"Capture",e)}function oy(t,e){for(T0[t]=e,t=0;t<e.length;t++)O5.add(e[t])}var vd=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),OP=Object.prototype.hasOwnProperty,ule=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,FB={},UB={};function cle(t){return OP.call(UB,t)?!0:OP.call(FB,t)?!1:ule.test(t)?UB[t]=!0:(FB[t]=!0,!1)}function fle(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function dle(t,e,n,r){if(e===null||typeof e>"u"||fle(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function vs(t,e,n,r,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var Ca={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ca[t]=new vs(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ca[e]=new vs(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ca[t]=new vs(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ca[t]=new vs(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ca[t]=new vs(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ca[t]=new vs(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ca[t]=new vs(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ca[t]=new vs(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ca[t]=new vs(t,5,!1,t.toLowerCase(),null,!1,!1)});var OM=/[\-:]([a-z])/g;function PM(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(OM,PM);Ca[e]=new vs(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(OM,PM);Ca[e]=new vs(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(OM,PM);Ca[e]=new vs(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ca[t]=new vs(t,1,!1,t.toLowerCase(),null,!1,!1)});Ca.xlinkHref=new vs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ca[t]=new vs(t,1,!1,t.toLowerCase(),null,!0,!0)});function NM(t,e,n,r){var i=Ca.hasOwnProperty(e)?Ca[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(dle(e,n,i,r)&&(n=null),r||i===null?cle(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ad=lle.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,DC=Symbol.for("react.element"),vv=Symbol.for("react.portal"),yv=Symbol.for("react.fragment"),LM=Symbol.for("react.strict_mode"),PP=Symbol.for("react.profiler"),P5=Symbol.for("react.provider"),N5=Symbol.for("react.context"),DM=Symbol.for("react.forward_ref"),NP=Symbol.for("react.suspense"),LP=Symbol.for("react.suspense_list"),MM=Symbol.for("react.memo"),dh=Symbol.for("react.lazy"),L5=Symbol.for("react.offscreen"),VB=Symbol.iterator;function rb(t){return t===null||typeof t!="object"?null:(t=VB&&t[VB]||t["@@iterator"],typeof t=="function"?t:null)}var Ti=Object.assign,Mk;function Rb(t){if(Mk===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Mk=e&&e[1]||""}return`
`+Mk+t}var Fk=!1;function Uk(t,e){if(!t||Fk)return"";Fk=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(f){var r=f}Reflect.construct(t,[],e)}else{try{e.call()}catch(f){r=f}t.call(e.prototype)}else{try{throw Error()}catch(f){r=f}t()}}catch(f){if(f&&r&&typeof f.stack=="string"){for(var i=f.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,l=o.length-1;1<=a&&0<=l&&i[a]!==o[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==o[l]){if(a!==1||l!==1)do if(a--,l--,0>l||i[a]!==o[l]){var u=`
`+i[a].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=a&&0<=l);break}}}finally{Fk=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Rb(t):""}function hle(t){switch(t.tag){case 5:return Rb(t.type);case 16:return Rb("Lazy");case 13:return Rb("Suspense");case 19:return Rb("SuspenseList");case 0:case 2:case 15:return t=Uk(t.type,!1),t;case 11:return t=Uk(t.type.render,!1),t;case 1:return t=Uk(t.type,!0),t;default:return""}}function DP(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case yv:return"Fragment";case vv:return"Portal";case PP:return"Profiler";case LM:return"StrictMode";case NP:return"Suspense";case LP:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case N5:return(t.displayName||"Context")+".Consumer";case P5:return(t._context.displayName||"Context")+".Provider";case DM:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case MM:return e=t.displayName||null,e!==null?e:DP(t.type)||"Memo";case dh:e=t._payload,t=t._init;try{return DP(t(e))}catch{}}return null}function ple(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return DP(e);case 8:return e===LM?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function jh(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function D5(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function mle(t){var e=D5(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function MC(t){t._valueTracker||(t._valueTracker=mle(t))}function M5(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=D5(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function IT(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function MP(t,e){var n=e.checked;return Ti({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function BB(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=jh(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function F5(t,e){e=e.checked,e!=null&&NM(t,"checked",e,!1)}function FP(t,e){F5(t,e);var n=jh(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?UP(t,e.type,n):e.hasOwnProperty("defaultValue")&&UP(t,e.type,jh(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function $B(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function UP(t,e,n){(e!=="number"||IT(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ob=Array.isArray;function Lv(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+jh(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function VP(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(tt(91));return Ti({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function HB(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(tt(92));if(Ob(n)){if(1<n.length)throw Error(tt(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:jh(n)}}function U5(t,e){var n=jh(e.value),r=jh(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function jB(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function V5(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function BP(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?V5(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var FC,B5=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(FC=FC||document.createElement("div"),FC.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=FC.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function x0(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Kb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gle=["Webkit","ms","Moz","O"];Object.keys(Kb).forEach(function(t){gle.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Kb[e]=Kb[t]})});function $5(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Kb.hasOwnProperty(t)&&Kb[t]?(""+e).trim():e+"px"}function H5(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=$5(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var vle=Ti({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $P(t,e){if(e){if(vle[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(tt(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(tt(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(tt(61))}if(e.style!=null&&typeof e.style!="object")throw Error(tt(62))}}function HP(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jP=null;function FM(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var zP=null,Dv=null,Mv=null;function zB(t){if(t=DE(t)){if(typeof zP!="function")throw Error(tt(280));var e=t.stateNode;e&&(e=CA(e),zP(t.stateNode,t.type,e))}}function j5(t){Dv?Mv?Mv.push(t):Mv=[t]:Dv=t}function z5(){if(Dv){var t=Dv,e=Mv;if(Mv=Dv=null,zB(t),e)for(t=0;t<e.length;t++)zB(e[t])}}function W5(t,e){return t(e)}function q5(){}var Vk=!1;function K5(t,e,n){if(Vk)return t(e,n);Vk=!0;try{return W5(t,e,n)}finally{Vk=!1,(Dv!==null||Mv!==null)&&(q5(),z5())}}function A0(t,e){var n=t.stateNode;if(n===null)return null;var r=CA(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(tt(231,e,typeof n));return n}var WP=!1;if(vd)try{var ib={};Object.defineProperty(ib,"passive",{get:function(){WP=!0}}),window.addEventListener("test",ib,ib),window.removeEventListener("test",ib,ib)}catch{WP=!1}function yle(t,e,n,r,i,o,a,l,u){var f=Array.prototype.slice.call(arguments,3);try{e.apply(n,f)}catch(h){this.onError(h)}}var Gb=!1,kT=null,RT=!1,qP=null,_le={onError:function(t){Gb=!0,kT=t}};function ble(t,e,n,r,i,o,a,l,u){Gb=!1,kT=null,yle.apply(_le,arguments)}function Ele(t,e,n,r,i,o,a,l,u){if(ble.apply(this,arguments),Gb){if(Gb){var f=kT;Gb=!1,kT=null}else throw Error(tt(198));RT||(RT=!0,qP=f)}}function tg(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function G5(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function WB(t){if(tg(t)!==t)throw Error(tt(188))}function wle(t){var e=t.alternate;if(!e){if(e=tg(t),e===null)throw Error(tt(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return WB(i),t;if(o===r)return WB(i),e;o=o.sibling}throw Error(tt(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(tt(189))}}if(n.alternate!==r)throw Error(tt(190))}if(n.tag!==3)throw Error(tt(188));return n.stateNode.current===n?t:e}function Y5(t){return t=wle(t),t!==null?Q5(t):null}function Q5(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Q5(t);if(e!==null)return e;t=t.sibling}return null}var X5=Al.unstable_scheduleCallback,qB=Al.unstable_cancelCallback,Cle=Al.unstable_shouldYield,Sle=Al.unstable_requestPaint,oo=Al.unstable_now,Tle=Al.unstable_getCurrentPriorityLevel,UM=Al.unstable_ImmediatePriority,J5=Al.unstable_UserBlockingPriority,OT=Al.unstable_NormalPriority,xle=Al.unstable_LowPriority,Z5=Al.unstable_IdlePriority,_A=null,tf=null;function Ale(t){if(tf&&typeof tf.onCommitFiberRoot=="function")try{tf.onCommitFiberRoot(_A,t,void 0,(t.current.flags&128)===128)}catch{}}var Qu=Math.clz32?Math.clz32:Rle,Ile=Math.log,kle=Math.LN2;function Rle(t){return t>>>=0,t===0?32:31-(Ile(t)/kle|0)|0}var UC=64,VC=4194304;function Pb(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function PT(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var l=a&~i;l!==0?r=Pb(l):(o&=a,o!==0&&(r=Pb(o)))}else a=n&~i,a!==0?r=Pb(a):o!==0&&(r=Pb(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Qu(e),i=1<<n,r|=t[n],e&=~i;return r}function Ole(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ple(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-Qu(o),l=1<<a,u=i[a];u===-1?(!(l&n)||l&r)&&(i[a]=Ole(l,e)):u<=e&&(t.expiredLanes|=l),o&=~l}}function KP(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function e8(){var t=UC;return UC<<=1,!(UC&4194240)&&(UC=64),t}function Bk(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function NE(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Qu(e),t[e]=n}function Nle(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Qu(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function VM(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Qu(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var br=0;function t8(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var n8,BM,r8,i8,o8,GP=!1,BC=[],Th=null,xh=null,Ah=null,I0=new Map,k0=new Map,mh=[],Lle="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function KB(t,e){switch(t){case"focusin":case"focusout":Th=null;break;case"dragenter":case"dragleave":xh=null;break;case"mouseover":case"mouseout":Ah=null;break;case"pointerover":case"pointerout":I0.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":k0.delete(e.pointerId)}}function ob(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=DE(e),e!==null&&BM(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Dle(t,e,n,r,i){switch(e){case"focusin":return Th=ob(Th,t,e,n,r,i),!0;case"dragenter":return xh=ob(xh,t,e,n,r,i),!0;case"mouseover":return Ah=ob(Ah,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return I0.set(o,ob(I0.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,k0.set(o,ob(k0.get(o)||null,t,e,n,r,i)),!0}return!1}function a8(t){var e=fm(t.target);if(e!==null){var n=tg(e);if(n!==null){if(e=n.tag,e===13){if(e=G5(n),e!==null){t.blockedOn=e,o8(t.priority,function(){r8(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function HS(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=YP(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);jP=r,n.target.dispatchEvent(r),jP=null}else return e=DE(n),e!==null&&BM(e),t.blockedOn=n,!1;e.shift()}return!0}function GB(t,e,n){HS(t)&&n.delete(e)}function Mle(){GP=!1,Th!==null&&HS(Th)&&(Th=null),xh!==null&&HS(xh)&&(xh=null),Ah!==null&&HS(Ah)&&(Ah=null),I0.forEach(GB),k0.forEach(GB)}function ab(t,e){t.blockedOn===e&&(t.blockedOn=null,GP||(GP=!0,Al.unstable_scheduleCallback(Al.unstable_NormalPriority,Mle)))}function R0(t){function e(i){return ab(i,t)}if(0<BC.length){ab(BC[0],t);for(var n=1;n<BC.length;n++){var r=BC[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Th!==null&&ab(Th,t),xh!==null&&ab(xh,t),Ah!==null&&ab(Ah,t),I0.forEach(e),k0.forEach(e),n=0;n<mh.length;n++)r=mh[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<mh.length&&(n=mh[0],n.blockedOn===null);)a8(n),n.blockedOn===null&&mh.shift()}var Fv=Ad.ReactCurrentBatchConfig,NT=!0;function Fle(t,e,n,r){var i=br,o=Fv.transition;Fv.transition=null;try{br=1,$M(t,e,n,r)}finally{br=i,Fv.transition=o}}function Ule(t,e,n,r){var i=br,o=Fv.transition;Fv.transition=null;try{br=4,$M(t,e,n,r)}finally{br=i,Fv.transition=o}}function $M(t,e,n,r){if(NT){var i=YP(t,e,n,r);if(i===null)Qk(t,e,r,LT,n),KB(t,r);else if(Dle(i,t,e,n,r))r.stopPropagation();else if(KB(t,r),e&4&&-1<Lle.indexOf(t)){for(;i!==null;){var o=DE(i);if(o!==null&&n8(o),o=YP(t,e,n,r),o===null&&Qk(t,e,r,LT,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Qk(t,e,r,null,n)}}var LT=null;function YP(t,e,n,r){if(LT=null,t=FM(r),t=fm(t),t!==null)if(e=tg(t),e===null)t=null;else if(n=e.tag,n===13){if(t=G5(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return LT=t,null}function s8(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Tle()){case UM:return 1;case J5:return 4;case OT:case xle:return 16;case Z5:return 536870912;default:return 16}default:return 16}}var yh=null,HM=null,jS=null;function l8(){if(jS)return jS;var t,e=HM,n=e.length,r,i="value"in yh?yh.value:yh.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[o-r];r++);return jS=i.slice(t,1<r?1-r:void 0)}function zS(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function $C(){return!0}function YB(){return!1}function Nl(t){function e(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?$C:YB,this.isPropagationStopped=YB,this}return Ti(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=$C)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=$C)},persist:function(){},isPersistent:$C}),e}var Vy={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jM=Nl(Vy),LE=Ti({},Vy,{view:0,detail:0}),Vle=Nl(LE),$k,Hk,sb,bA=Ti({},LE,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zM,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==sb&&(sb&&t.type==="mousemove"?($k=t.screenX-sb.screenX,Hk=t.screenY-sb.screenY):Hk=$k=0,sb=t),$k)},movementY:function(t){return"movementY"in t?t.movementY:Hk}}),QB=Nl(bA),Ble=Ti({},bA,{dataTransfer:0}),$le=Nl(Ble),Hle=Ti({},LE,{relatedTarget:0}),jk=Nl(Hle),jle=Ti({},Vy,{animationName:0,elapsedTime:0,pseudoElement:0}),zle=Nl(jle),Wle=Ti({},Vy,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),qle=Nl(Wle),Kle=Ti({},Vy,{data:0}),XB=Nl(Kle),Gle={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yle={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qle={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xle(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Qle[t])?!!e[t]:!1}function zM(){return Xle}var Jle=Ti({},LE,{key:function(t){if(t.key){var e=Gle[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=zS(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Yle[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zM,charCode:function(t){return t.type==="keypress"?zS(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?zS(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Zle=Nl(Jle),eue=Ti({},bA,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),JB=Nl(eue),tue=Ti({},LE,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zM}),nue=Nl(tue),rue=Ti({},Vy,{propertyName:0,elapsedTime:0,pseudoElement:0}),iue=Nl(rue),oue=Ti({},bA,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),aue=Nl(oue),sue=[9,13,27,32],WM=vd&&"CompositionEvent"in window,Yb=null;vd&&"documentMode"in document&&(Yb=document.documentMode);var lue=vd&&"TextEvent"in window&&!Yb,u8=vd&&(!WM||Yb&&8<Yb&&11>=Yb),ZB=" ",e3=!1;function c8(t,e){switch(t){case"keyup":return sue.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function f8(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var _v=!1;function uue(t,e){switch(t){case"compositionend":return f8(e);case"keypress":return e.which!==32?null:(e3=!0,ZB);case"textInput":return t=e.data,t===ZB&&e3?null:t;default:return null}}function cue(t,e){if(_v)return t==="compositionend"||!WM&&c8(t,e)?(t=l8(),jS=HM=yh=null,_v=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return u8&&e.locale!=="ko"?null:e.data;default:return null}}var fue={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function t3(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!fue[t.type]:e==="textarea"}function d8(t,e,n,r){j5(r),e=DT(e,"onChange"),0<e.length&&(n=new jM("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Qb=null,O0=null;function due(t){C8(t,0)}function EA(t){var e=wv(t);if(M5(e))return t}function hue(t,e){if(t==="change")return e}var h8=!1;if(vd){var zk;if(vd){var Wk="oninput"in document;if(!Wk){var n3=document.createElement("div");n3.setAttribute("oninput","return;"),Wk=typeof n3.oninput=="function"}zk=Wk}else zk=!1;h8=zk&&(!document.documentMode||9<document.documentMode)}function r3(){Qb&&(Qb.detachEvent("onpropertychange",p8),O0=Qb=null)}function p8(t){if(t.propertyName==="value"&&EA(O0)){var e=[];d8(e,O0,t,FM(t)),K5(due,e)}}function pue(t,e,n){t==="focusin"?(r3(),Qb=e,O0=n,Qb.attachEvent("onpropertychange",p8)):t==="focusout"&&r3()}function mue(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return EA(O0)}function gue(t,e){if(t==="click")return EA(e)}function vue(t,e){if(t==="input"||t==="change")return EA(e)}function yue(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var nc=typeof Object.is=="function"?Object.is:yue;function P0(t,e){if(nc(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!OP.call(e,i)||!nc(t[i],e[i]))return!1}return!0}function i3(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function o3(t,e){var n=i3(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=i3(n)}}function m8(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?m8(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function g8(){for(var t=window,e=IT();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=IT(t.document)}return e}function qM(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function _ue(t){var e=g8(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&m8(n.ownerDocument.documentElement,n)){if(r!==null&&qM(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=o3(n,o);var a=o3(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var bue=vd&&"documentMode"in document&&11>=document.documentMode,bv=null,QP=null,Xb=null,XP=!1;function a3(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;XP||bv==null||bv!==IT(r)||(r=bv,"selectionStart"in r&&qM(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Xb&&P0(Xb,r)||(Xb=r,r=DT(QP,"onSelect"),0<r.length&&(e=new jM("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=bv)))}function HC(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ev={animationend:HC("Animation","AnimationEnd"),animationiteration:HC("Animation","AnimationIteration"),animationstart:HC("Animation","AnimationStart"),transitionend:HC("Transition","TransitionEnd")},qk={},v8={};vd&&(v8=document.createElement("div").style,"AnimationEvent"in window||(delete Ev.animationend.animation,delete Ev.animationiteration.animation,delete Ev.animationstart.animation),"TransitionEvent"in window||delete Ev.transitionend.transition);function wA(t){if(qk[t])return qk[t];if(!Ev[t])return t;var e=Ev[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in v8)return qk[t]=e[n];return t}var y8=wA("animationend"),_8=wA("animationiteration"),b8=wA("animationstart"),E8=wA("transitionend"),w8=new Map,s3="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function lp(t,e){w8.set(t,e),eg(e,[t])}for(var Kk=0;Kk<s3.length;Kk++){var Gk=s3[Kk],Eue=Gk.toLowerCase(),wue=Gk[0].toUpperCase()+Gk.slice(1);lp(Eue,"on"+wue)}lp(y8,"onAnimationEnd");lp(_8,"onAnimationIteration");lp(b8,"onAnimationStart");lp("dblclick","onDoubleClick");lp("focusin","onFocus");lp("focusout","onBlur");lp(E8,"onTransitionEnd");oy("onMouseEnter",["mouseout","mouseover"]);oy("onMouseLeave",["mouseout","mouseover"]);oy("onPointerEnter",["pointerout","pointerover"]);oy("onPointerLeave",["pointerout","pointerover"]);eg("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));eg("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));eg("onBeforeInput",["compositionend","keypress","textInput","paste"]);eg("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));eg("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));eg("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nb="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cue=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nb));function l3(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Ele(r,e,void 0,t),t.currentTarget=null}function C8(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var l=r[a],u=l.instance,f=l.currentTarget;if(l=l.listener,u!==o&&i.isPropagationStopped())break e;l3(i,l,f),o=u}else for(a=0;a<r.length;a++){if(l=r[a],u=l.instance,f=l.currentTarget,l=l.listener,u!==o&&i.isPropagationStopped())break e;l3(i,l,f),o=u}}}if(RT)throw t=qP,RT=!1,qP=null,t}function Xr(t,e){var n=e[nN];n===void 0&&(n=e[nN]=new Set);var r=t+"__bubble";n.has(r)||(S8(e,t,2,!1),n.add(r))}function Yk(t,e,n){var r=0;e&&(r|=4),S8(n,t,r,e)}var jC="_reactListening"+Math.random().toString(36).slice(2);function N0(t){if(!t[jC]){t[jC]=!0,O5.forEach(function(n){n!=="selectionchange"&&(Cue.has(n)||Yk(n,!1,t),Yk(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[jC]||(e[jC]=!0,Yk("selectionchange",!1,e))}}function S8(t,e,n,r){switch(s8(e)){case 1:var i=Fle;break;case 4:i=Ule;break;default:i=$M}n=i.bind(null,e,n,t),i=void 0,!WP||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Qk(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;a=a.return}for(;l!==null;){if(a=fm(l),a===null)return;if(u=a.tag,u===5||u===6){r=o=a;continue e}l=l.parentNode}}r=r.return}K5(function(){var f=o,h=FM(n),g=[];e:{var y=w8.get(t);if(y!==void 0){var w=jM,T=t;switch(t){case"keypress":if(zS(n)===0)break e;case"keydown":case"keyup":w=Zle;break;case"focusin":T="focus",w=jk;break;case"focusout":T="blur",w=jk;break;case"beforeblur":case"afterblur":w=jk;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=QB;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=$le;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=nue;break;case y8:case _8:case b8:w=zle;break;case E8:w=iue;break;case"scroll":w=Vle;break;case"wheel":w=aue;break;case"copy":case"cut":case"paste":w=qle;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=JB}var C=(e&4)!==0,R=!C&&t==="scroll",I=C?y!==null?y+"Capture":null:y;C=[];for(var k=f,O;k!==null;){O=k;var A=O.stateNode;if(O.tag===5&&A!==null&&(O=A,I!==null&&(A=A0(k,I),A!=null&&C.push(L0(k,A,O)))),R)break;k=k.return}0<C.length&&(y=new w(y,T,null,n,h),g.push({event:y,listeners:C}))}}if(!(e&7)){e:{if(y=t==="mouseover"||t==="pointerover",w=t==="mouseout"||t==="pointerout",y&&n!==jP&&(T=n.relatedTarget||n.fromElement)&&(fm(T)||T[yd]))break e;if((w||y)&&(y=h.window===h?h:(y=h.ownerDocument)?y.defaultView||y.parentWindow:window,w?(T=n.relatedTarget||n.toElement,w=f,T=T?fm(T):null,T!==null&&(R=tg(T),T!==R||T.tag!==5&&T.tag!==6)&&(T=null)):(w=null,T=f),w!==T)){if(C=QB,A="onMouseLeave",I="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(C=JB,A="onPointerLeave",I="onPointerEnter",k="pointer"),R=w==null?y:wv(w),O=T==null?y:wv(T),y=new C(A,k+"leave",w,n,h),y.target=R,y.relatedTarget=O,A=null,fm(h)===f&&(C=new C(I,k+"enter",T,n,h),C.target=O,C.relatedTarget=R,A=C),R=A,w&&T)t:{for(C=w,I=T,k=0,O=C;O;O=ev(O))k++;for(O=0,A=I;A;A=ev(A))O++;for(;0<k-O;)C=ev(C),k--;for(;0<O-k;)I=ev(I),O--;for(;k--;){if(C===I||I!==null&&C===I.alternate)break t;C=ev(C),I=ev(I)}C=null}else C=null;w!==null&&u3(g,y,w,C,!1),T!==null&&R!==null&&u3(g,R,T,C,!0)}}e:{if(y=f?wv(f):window,w=y.nodeName&&y.nodeName.toLowerCase(),w==="select"||w==="input"&&y.type==="file")var V=hue;else if(t3(y))if(h8)V=vue;else{V=mue;var D=pue}else(w=y.nodeName)&&w.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(V=gue);if(V&&(V=V(t,f))){d8(g,V,n,h);break e}D&&D(t,y,f),t==="focusout"&&(D=y._wrapperState)&&D.controlled&&y.type==="number"&&UP(y,"number",y.value)}switch(D=f?wv(f):window,t){case"focusin":(t3(D)||D.contentEditable==="true")&&(bv=D,QP=f,Xb=null);break;case"focusout":Xb=QP=bv=null;break;case"mousedown":XP=!0;break;case"contextmenu":case"mouseup":case"dragend":XP=!1,a3(g,n,h);break;case"selectionchange":if(bue)break;case"keydown":case"keyup":a3(g,n,h)}var P;if(WM)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else _v?c8(t,n)&&(N="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(u8&&n.locale!=="ko"&&(_v||N!=="onCompositionStart"?N==="onCompositionEnd"&&_v&&(P=l8()):(yh=h,HM="value"in yh?yh.value:yh.textContent,_v=!0)),D=DT(f,N),0<D.length&&(N=new XB(N,t,null,n,h),g.push({event:N,listeners:D}),P?N.data=P:(P=f8(n),P!==null&&(N.data=P)))),(P=lue?uue(t,n):cue(t,n))&&(f=DT(f,"onBeforeInput"),0<f.length&&(h=new XB("onBeforeInput","beforeinput",null,n,h),g.push({event:h,listeners:f}),h.data=P))}C8(g,e)})}function L0(t,e,n){return{instance:t,listener:e,currentTarget:n}}function DT(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=A0(t,n),o!=null&&r.unshift(L0(t,o,i)),o=A0(t,e),o!=null&&r.push(L0(t,o,i))),t=t.return}return r}function ev(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function u3(t,e,n,r,i){for(var o=e._reactName,a=[];n!==null&&n!==r;){var l=n,u=l.alternate,f=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&f!==null&&(l=f,i?(u=A0(n,o),u!=null&&a.unshift(L0(n,u,l))):i||(u=A0(n,o),u!=null&&a.push(L0(n,u,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var Sue=/\r\n?/g,Tue=/\u0000|\uFFFD/g;function c3(t){return(typeof t=="string"?t:""+t).replace(Sue,`
`).replace(Tue,"")}function zC(t,e,n){if(e=c3(e),c3(t)!==e&&n)throw Error(tt(425))}function MT(){}var JP=null,ZP=null;function eN(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var tN=typeof setTimeout=="function"?setTimeout:void 0,xue=typeof clearTimeout=="function"?clearTimeout:void 0,f3=typeof Promise=="function"?Promise:void 0,Aue=typeof queueMicrotask=="function"?queueMicrotask:typeof f3<"u"?function(t){return f3.resolve(null).then(t).catch(Iue)}:tN;function Iue(t){setTimeout(function(){throw t})}function Xk(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),R0(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);R0(e)}function Ih(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function d3(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var By=Math.random().toString(36).slice(2),zc="__reactFiber$"+By,D0="__reactProps$"+By,yd="__reactContainer$"+By,nN="__reactEvents$"+By,kue="__reactListeners$"+By,Rue="__reactHandles$"+By;function fm(t){var e=t[zc];if(e)return e;for(var n=t.parentNode;n;){if(e=n[yd]||n[zc]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=d3(t);t!==null;){if(n=t[zc])return n;t=d3(t)}return e}t=n,n=t.parentNode}return null}function DE(t){return t=t[zc]||t[yd],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function wv(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(tt(33))}function CA(t){return t[D0]||null}var rN=[],Cv=-1;function up(t){return{current:t}}function ei(t){0>Cv||(t.current=rN[Cv],rN[Cv]=null,Cv--)}function jr(t,e){Cv++,rN[Cv]=t.current,t.current=e}var zh={},Ha=up(zh),js=up(!1),Pm=zh;function ay(t,e){var n=t.type.contextTypes;if(!n)return zh;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function zs(t){return t=t.childContextTypes,t!=null}function FT(){ei(js),ei(Ha)}function h3(t,e,n){if(Ha.current!==zh)throw Error(tt(168));jr(Ha,e),jr(js,n)}function T8(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(tt(108,ple(t)||"Unknown",i));return Ti({},n,r)}function UT(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||zh,Pm=Ha.current,jr(Ha,t),jr(js,js.current),!0}function p3(t,e,n){var r=t.stateNode;if(!r)throw Error(tt(169));n?(t=T8(t,e,Pm),r.__reactInternalMemoizedMergedChildContext=t,ei(js),ei(Ha),jr(Ha,t)):ei(js),jr(js,n)}var od=null,SA=!1,Jk=!1;function x8(t){od===null?od=[t]:od.push(t)}function Oue(t){SA=!0,x8(t)}function cp(){if(!Jk&&od!==null){Jk=!0;var t=0,e=br;try{var n=od;for(br=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}od=null,SA=!1}catch(i){throw od!==null&&(od=od.slice(t+1)),X5(UM,cp),i}finally{br=e,Jk=!1}}return null}var Sv=[],Tv=0,VT=null,BT=0,nu=[],ru=0,Nm=null,fd=1,dd="";function Jp(t,e){Sv[Tv++]=BT,Sv[Tv++]=VT,VT=t,BT=e}function A8(t,e,n){nu[ru++]=fd,nu[ru++]=dd,nu[ru++]=Nm,Nm=t;var r=fd;t=dd;var i=32-Qu(r)-1;r&=~(1<<i),n+=1;var o=32-Qu(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,fd=1<<32-Qu(e)+i|n<<i|r,dd=o+t}else fd=1<<o|n<<i|r,dd=t}function KM(t){t.return!==null&&(Jp(t,1),A8(t,1,0))}function GM(t){for(;t===VT;)VT=Sv[--Tv],Sv[Tv]=null,BT=Sv[--Tv],Sv[Tv]=null;for(;t===Nm;)Nm=nu[--ru],nu[ru]=null,dd=nu[--ru],nu[ru]=null,fd=nu[--ru],nu[ru]=null}var Tl=null,wl=null,si=!1,ju=null;function I8(t,e){var n=au(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function m3(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Tl=t,wl=Ih(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Tl=t,wl=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Nm!==null?{id:fd,overflow:dd}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=au(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Tl=t,wl=null,!0):!1;default:return!1}}function iN(t){return(t.mode&1)!==0&&(t.flags&128)===0}function oN(t){if(si){var e=wl;if(e){var n=e;if(!m3(t,e)){if(iN(t))throw Error(tt(418));e=Ih(n.nextSibling);var r=Tl;e&&m3(t,e)?I8(r,n):(t.flags=t.flags&-4097|2,si=!1,Tl=t)}}else{if(iN(t))throw Error(tt(418));t.flags=t.flags&-4097|2,si=!1,Tl=t}}}function g3(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Tl=t}function WC(t){if(t!==Tl)return!1;if(!si)return g3(t),si=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!eN(t.type,t.memoizedProps)),e&&(e=wl)){if(iN(t))throw k8(),Error(tt(418));for(;e;)I8(t,e),e=Ih(e.nextSibling)}if(g3(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(tt(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){wl=Ih(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}wl=null}}else wl=Tl?Ih(t.stateNode.nextSibling):null;return!0}function k8(){for(var t=wl;t;)t=Ih(t.nextSibling)}function sy(){wl=Tl=null,si=!1}function YM(t){ju===null?ju=[t]:ju.push(t)}var Pue=Ad.ReactCurrentBatchConfig;function lb(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(tt(309));var r=n.stateNode}if(!r)throw Error(tt(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var l=i.refs;a===null?delete l[o]:l[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(tt(284));if(!n._owner)throw Error(tt(290,t))}return t}function qC(t,e){throw t=Object.prototype.toString.call(e),Error(tt(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function v3(t){var e=t._init;return e(t._payload)}function R8(t){function e(I,k){if(t){var O=I.deletions;O===null?(I.deletions=[k],I.flags|=16):O.push(k)}}function n(I,k){if(!t)return null;for(;k!==null;)e(I,k),k=k.sibling;return null}function r(I,k){for(I=new Map;k!==null;)k.key!==null?I.set(k.key,k):I.set(k.index,k),k=k.sibling;return I}function i(I,k){return I=Ph(I,k),I.index=0,I.sibling=null,I}function o(I,k,O){return I.index=O,t?(O=I.alternate,O!==null?(O=O.index,O<k?(I.flags|=2,k):O):(I.flags|=2,k)):(I.flags|=1048576,k)}function a(I){return t&&I.alternate===null&&(I.flags|=2),I}function l(I,k,O,A){return k===null||k.tag!==6?(k=oR(O,I.mode,A),k.return=I,k):(k=i(k,O),k.return=I,k)}function u(I,k,O,A){var V=O.type;return V===yv?h(I,k,O.props.children,A,O.key):k!==null&&(k.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===dh&&v3(V)===k.type)?(A=i(k,O.props),A.ref=lb(I,k,O),A.return=I,A):(A=XS(O.type,O.key,O.props,null,I.mode,A),A.ref=lb(I,k,O),A.return=I,A)}function f(I,k,O,A){return k===null||k.tag!==4||k.stateNode.containerInfo!==O.containerInfo||k.stateNode.implementation!==O.implementation?(k=aR(O,I.mode,A),k.return=I,k):(k=i(k,O.children||[]),k.return=I,k)}function h(I,k,O,A,V){return k===null||k.tag!==7?(k=Cm(O,I.mode,A,V),k.return=I,k):(k=i(k,O),k.return=I,k)}function g(I,k,O){if(typeof k=="string"&&k!==""||typeof k=="number")return k=oR(""+k,I.mode,O),k.return=I,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case DC:return O=XS(k.type,k.key,k.props,null,I.mode,O),O.ref=lb(I,null,k),O.return=I,O;case vv:return k=aR(k,I.mode,O),k.return=I,k;case dh:var A=k._init;return g(I,A(k._payload),O)}if(Ob(k)||rb(k))return k=Cm(k,I.mode,O,null),k.return=I,k;qC(I,k)}return null}function y(I,k,O,A){var V=k!==null?k.key:null;if(typeof O=="string"&&O!==""||typeof O=="number")return V!==null?null:l(I,k,""+O,A);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case DC:return O.key===V?u(I,k,O,A):null;case vv:return O.key===V?f(I,k,O,A):null;case dh:return V=O._init,y(I,k,V(O._payload),A)}if(Ob(O)||rb(O))return V!==null?null:h(I,k,O,A,null);qC(I,O)}return null}function w(I,k,O,A,V){if(typeof A=="string"&&A!==""||typeof A=="number")return I=I.get(O)||null,l(k,I,""+A,V);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case DC:return I=I.get(A.key===null?O:A.key)||null,u(k,I,A,V);case vv:return I=I.get(A.key===null?O:A.key)||null,f(k,I,A,V);case dh:var D=A._init;return w(I,k,O,D(A._payload),V)}if(Ob(A)||rb(A))return I=I.get(O)||null,h(k,I,A,V,null);qC(k,A)}return null}function T(I,k,O,A){for(var V=null,D=null,P=k,N=k=0,$=null;P!==null&&N<O.length;N++){P.index>N?($=P,P=null):$=P.sibling;var q=y(I,P,O[N],A);if(q===null){P===null&&(P=$);break}t&&P&&q.alternate===null&&e(I,P),k=o(q,k,N),D===null?V=q:D.sibling=q,D=q,P=$}if(N===O.length)return n(I,P),si&&Jp(I,N),V;if(P===null){for(;N<O.length;N++)P=g(I,O[N],A),P!==null&&(k=o(P,k,N),D===null?V=P:D.sibling=P,D=P);return si&&Jp(I,N),V}for(P=r(I,P);N<O.length;N++)$=w(P,I,N,O[N],A),$!==null&&(t&&$.alternate!==null&&P.delete($.key===null?N:$.key),k=o($,k,N),D===null?V=$:D.sibling=$,D=$);return t&&P.forEach(function(z){return e(I,z)}),si&&Jp(I,N),V}function C(I,k,O,A){var V=rb(O);if(typeof V!="function")throw Error(tt(150));if(O=V.call(O),O==null)throw Error(tt(151));for(var D=V=null,P=k,N=k=0,$=null,q=O.next();P!==null&&!q.done;N++,q=O.next()){P.index>N?($=P,P=null):$=P.sibling;var z=y(I,P,q.value,A);if(z===null){P===null&&(P=$);break}t&&P&&z.alternate===null&&e(I,P),k=o(z,k,N),D===null?V=z:D.sibling=z,D=z,P=$}if(q.done)return n(I,P),si&&Jp(I,N),V;if(P===null){for(;!q.done;N++,q=O.next())q=g(I,q.value,A),q!==null&&(k=o(q,k,N),D===null?V=q:D.sibling=q,D=q);return si&&Jp(I,N),V}for(P=r(I,P);!q.done;N++,q=O.next())q=w(P,I,N,q.value,A),q!==null&&(t&&q.alternate!==null&&P.delete(q.key===null?N:q.key),k=o(q,k,N),D===null?V=q:D.sibling=q,D=q);return t&&P.forEach(function(K){return e(I,K)}),si&&Jp(I,N),V}function R(I,k,O,A){if(typeof O=="object"&&O!==null&&O.type===yv&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case DC:e:{for(var V=O.key,D=k;D!==null;){if(D.key===V){if(V=O.type,V===yv){if(D.tag===7){n(I,D.sibling),k=i(D,O.props.children),k.return=I,I=k;break e}}else if(D.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===dh&&v3(V)===D.type){n(I,D.sibling),k=i(D,O.props),k.ref=lb(I,D,O),k.return=I,I=k;break e}n(I,D);break}else e(I,D);D=D.sibling}O.type===yv?(k=Cm(O.props.children,I.mode,A,O.key),k.return=I,I=k):(A=XS(O.type,O.key,O.props,null,I.mode,A),A.ref=lb(I,k,O),A.return=I,I=A)}return a(I);case vv:e:{for(D=O.key;k!==null;){if(k.key===D)if(k.tag===4&&k.stateNode.containerInfo===O.containerInfo&&k.stateNode.implementation===O.implementation){n(I,k.sibling),k=i(k,O.children||[]),k.return=I,I=k;break e}else{n(I,k);break}else e(I,k);k=k.sibling}k=aR(O,I.mode,A),k.return=I,I=k}return a(I);case dh:return D=O._init,R(I,k,D(O._payload),A)}if(Ob(O))return T(I,k,O,A);if(rb(O))return C(I,k,O,A);qC(I,O)}return typeof O=="string"&&O!==""||typeof O=="number"?(O=""+O,k!==null&&k.tag===6?(n(I,k.sibling),k=i(k,O),k.return=I,I=k):(n(I,k),k=oR(O,I.mode,A),k.return=I,I=k),a(I)):n(I,k)}return R}var ly=R8(!0),O8=R8(!1),$T=up(null),HT=null,xv=null,QM=null;function XM(){QM=xv=HT=null}function JM(t){var e=$T.current;ei($T),t._currentValue=e}function aN(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Uv(t,e){HT=t,QM=xv=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&($s=!0),t.firstContext=null)}function cu(t){var e=t._currentValue;if(QM!==t)if(t={context:t,memoizedValue:e,next:null},xv===null){if(HT===null)throw Error(tt(308));xv=t,HT.dependencies={lanes:0,firstContext:t}}else xv=xv.next=t;return e}var dm=null;function ZM(t){dm===null?dm=[t]:dm.push(t)}function P8(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,ZM(e)):(n.next=i.next,i.next=n),e.interleaved=n,_d(t,r)}function _d(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var hh=!1;function eF(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function N8(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function pd(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function kh(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,nr&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,_d(t,n)}return i=r.interleaved,i===null?(e.next=e,ZM(r)):(e.next=i.next,i.next=e),r.interleaved=e,_d(t,n)}function WS(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,VM(t,n)}}function y3(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function jT(t,e,n,r){var i=t.updateQueue;hh=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,f=u.next;u.next=null,a===null?o=f:a.next=f,a=u;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==a&&(l===null?h.firstBaseUpdate=f:l.next=f,h.lastBaseUpdate=u))}if(o!==null){var g=i.baseState;a=0,h=f=u=null,l=o;do{var y=l.lane,w=l.eventTime;if((r&y)===y){h!==null&&(h=h.next={eventTime:w,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var T=t,C=l;switch(y=e,w=n,C.tag){case 1:if(T=C.payload,typeof T=="function"){g=T.call(w,g,y);break e}g=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=C.payload,y=typeof T=="function"?T.call(w,g,y):T,y==null)break e;g=Ti({},g,y);break e;case 2:hh=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,y=i.effects,y===null?i.effects=[l]:y.push(l))}else w={eventTime:w,lane:y,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(f=h=w,u=g):h=h.next=w,a|=y;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;y=l,l=y.next,y.next=null,i.lastBaseUpdate=y,i.shared.pending=null}}while(!0);if(h===null&&(u=g),i.baseState=u,i.firstBaseUpdate=f,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Dm|=a,t.lanes=a,t.memoizedState=g}}function _3(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(tt(191,i));i.call(r)}}}var ME={},nf=up(ME),M0=up(ME),F0=up(ME);function hm(t){if(t===ME)throw Error(tt(174));return t}function tF(t,e){switch(jr(F0,e),jr(M0,t),jr(nf,ME),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:BP(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=BP(e,t)}ei(nf),jr(nf,e)}function uy(){ei(nf),ei(M0),ei(F0)}function L8(t){hm(F0.current);var e=hm(nf.current),n=BP(e,t.type);e!==n&&(jr(M0,t),jr(nf,n))}function nF(t){M0.current===t&&(ei(nf),ei(M0))}var _i=up(0);function zT(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Zk=[];function rF(){for(var t=0;t<Zk.length;t++)Zk[t]._workInProgressVersionPrimary=null;Zk.length=0}var qS=Ad.ReactCurrentDispatcher,eR=Ad.ReactCurrentBatchConfig,Lm=0,Ci=null,Oo=null,Jo=null,WT=!1,Jb=!1,U0=0,Nue=0;function Ra(){throw Error(tt(321))}function iF(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!nc(t[n],e[n]))return!1;return!0}function oF(t,e,n,r,i,o){if(Lm=o,Ci=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,qS.current=t===null||t.memoizedState===null?Fue:Uue,t=n(r,i),Jb){o=0;do{if(Jb=!1,U0=0,25<=o)throw Error(tt(301));o+=1,Jo=Oo=null,e.updateQueue=null,qS.current=Vue,t=n(r,i)}while(Jb)}if(qS.current=qT,e=Oo!==null&&Oo.next!==null,Lm=0,Jo=Oo=Ci=null,WT=!1,e)throw Error(tt(300));return t}function aF(){var t=U0!==0;return U0=0,t}function $c(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jo===null?Ci.memoizedState=Jo=t:Jo=Jo.next=t,Jo}function fu(){if(Oo===null){var t=Ci.alternate;t=t!==null?t.memoizedState:null}else t=Oo.next;var e=Jo===null?Ci.memoizedState:Jo.next;if(e!==null)Jo=e,Oo=t;else{if(t===null)throw Error(tt(310));Oo=t,t={memoizedState:Oo.memoizedState,baseState:Oo.baseState,baseQueue:Oo.baseQueue,queue:Oo.queue,next:null},Jo===null?Ci.memoizedState=Jo=t:Jo=Jo.next=t}return Jo}function V0(t,e){return typeof e=="function"?e(t):e}function tR(t){var e=fu(),n=e.queue;if(n===null)throw Error(tt(311));n.lastRenderedReducer=t;var r=Oo,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var l=a=null,u=null,f=o;do{var h=f.lane;if((Lm&h)===h)u!==null&&(u=u.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),r=f.hasEagerState?f.eagerState:t(r,f.action);else{var g={lane:h,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};u===null?(l=u=g,a=r):u=u.next=g,Ci.lanes|=h,Dm|=h}f=f.next}while(f!==null&&f!==o);u===null?a=r:u.next=l,nc(r,e.memoizedState)||($s=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Ci.lanes|=o,Dm|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function nR(t){var e=fu(),n=e.queue;if(n===null)throw Error(tt(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);nc(o,e.memoizedState)||($s=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function D8(){}function M8(t,e){var n=Ci,r=fu(),i=e(),o=!nc(r.memoizedState,i);if(o&&(r.memoizedState=i,$s=!0),r=r.queue,sF(V8.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Jo!==null&&Jo.memoizedState.tag&1){if(n.flags|=2048,B0(9,U8.bind(null,n,r,i,e),void 0,null),ta===null)throw Error(tt(349));Lm&30||F8(n,e,i)}return i}function F8(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ci.updateQueue,e===null?(e={lastEffect:null,stores:null},Ci.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function U8(t,e,n,r){e.value=n,e.getSnapshot=r,B8(e)&&$8(t)}function V8(t,e,n){return n(function(){B8(e)&&$8(t)})}function B8(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!nc(t,n)}catch{return!0}}function $8(t){var e=_d(t,1);e!==null&&Xu(e,t,1,-1)}function b3(t){var e=$c();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:V0,lastRenderedState:t},e.queue=t,t=t.dispatch=Mue.bind(null,Ci,t),[e.memoizedState,t]}function B0(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ci.updateQueue,e===null?(e={lastEffect:null,stores:null},Ci.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function H8(){return fu().memoizedState}function KS(t,e,n,r){var i=$c();Ci.flags|=t,i.memoizedState=B0(1|e,n,void 0,r===void 0?null:r)}function TA(t,e,n,r){var i=fu();r=r===void 0?null:r;var o=void 0;if(Oo!==null){var a=Oo.memoizedState;if(o=a.destroy,r!==null&&iF(r,a.deps)){i.memoizedState=B0(e,n,o,r);return}}Ci.flags|=t,i.memoizedState=B0(1|e,n,o,r)}function E3(t,e){return KS(8390656,8,t,e)}function sF(t,e){return TA(2048,8,t,e)}function j8(t,e){return TA(4,2,t,e)}function z8(t,e){return TA(4,4,t,e)}function W8(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function q8(t,e,n){return n=n!=null?n.concat([t]):null,TA(4,4,W8.bind(null,e,t),n)}function lF(){}function K8(t,e){var n=fu();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&iF(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function G8(t,e){var n=fu();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&iF(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Y8(t,e,n){return Lm&21?(nc(n,e)||(n=e8(),Ci.lanes|=n,Dm|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,$s=!0),t.memoizedState=n)}function Lue(t,e){var n=br;br=n!==0&&4>n?n:4,t(!0);var r=eR.transition;eR.transition={};try{t(!1),e()}finally{br=n,eR.transition=r}}function Q8(){return fu().memoizedState}function Due(t,e,n){var r=Oh(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},X8(t))J8(e,n);else if(n=P8(t,e,n,r),n!==null){var i=hs();Xu(n,t,r,i),Z8(n,e,r)}}function Mue(t,e,n){var r=Oh(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(X8(t))J8(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,l=o(a,n);if(i.hasEagerState=!0,i.eagerState=l,nc(l,a)){var u=e.interleaved;u===null?(i.next=i,ZM(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=P8(t,e,i,r),n!==null&&(i=hs(),Xu(n,t,r,i),Z8(n,e,r))}}function X8(t){var e=t.alternate;return t===Ci||e!==null&&e===Ci}function J8(t,e){Jb=WT=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Z8(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,VM(t,n)}}var qT={readContext:cu,useCallback:Ra,useContext:Ra,useEffect:Ra,useImperativeHandle:Ra,useInsertionEffect:Ra,useLayoutEffect:Ra,useMemo:Ra,useReducer:Ra,useRef:Ra,useState:Ra,useDebugValue:Ra,useDeferredValue:Ra,useTransition:Ra,useMutableSource:Ra,useSyncExternalStore:Ra,useId:Ra,unstable_isNewReconciler:!1},Fue={readContext:cu,useCallback:function(t,e){return $c().memoizedState=[t,e===void 0?null:e],t},useContext:cu,useEffect:E3,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,KS(4194308,4,W8.bind(null,e,t),n)},useLayoutEffect:function(t,e){return KS(4194308,4,t,e)},useInsertionEffect:function(t,e){return KS(4,2,t,e)},useMemo:function(t,e){var n=$c();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=$c();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Due.bind(null,Ci,t),[r.memoizedState,t]},useRef:function(t){var e=$c();return t={current:t},e.memoizedState=t},useState:b3,useDebugValue:lF,useDeferredValue:function(t){return $c().memoizedState=t},useTransition:function(){var t=b3(!1),e=t[0];return t=Lue.bind(null,t[1]),$c().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ci,i=$c();if(si){if(n===void 0)throw Error(tt(407));n=n()}else{if(n=e(),ta===null)throw Error(tt(349));Lm&30||F8(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,E3(V8.bind(null,r,o,t),[t]),r.flags|=2048,B0(9,U8.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=$c(),e=ta.identifierPrefix;if(si){var n=dd,r=fd;n=(r&~(1<<32-Qu(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=U0++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Nue++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Uue={readContext:cu,useCallback:K8,useContext:cu,useEffect:sF,useImperativeHandle:q8,useInsertionEffect:j8,useLayoutEffect:z8,useMemo:G8,useReducer:tR,useRef:H8,useState:function(){return tR(V0)},useDebugValue:lF,useDeferredValue:function(t){var e=fu();return Y8(e,Oo.memoizedState,t)},useTransition:function(){var t=tR(V0)[0],e=fu().memoizedState;return[t,e]},useMutableSource:D8,useSyncExternalStore:M8,useId:Q8,unstable_isNewReconciler:!1},Vue={readContext:cu,useCallback:K8,useContext:cu,useEffect:sF,useImperativeHandle:q8,useInsertionEffect:j8,useLayoutEffect:z8,useMemo:G8,useReducer:nR,useRef:H8,useState:function(){return nR(V0)},useDebugValue:lF,useDeferredValue:function(t){var e=fu();return Oo===null?e.memoizedState=t:Y8(e,Oo.memoizedState,t)},useTransition:function(){var t=nR(V0)[0],e=fu().memoizedState;return[t,e]},useMutableSource:D8,useSyncExternalStore:M8,useId:Q8,unstable_isNewReconciler:!1};function $u(t,e){if(t&&t.defaultProps){e=Ti({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function sN(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ti({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var xA={isMounted:function(t){return(t=t._reactInternals)?tg(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=hs(),i=Oh(t),o=pd(r,i);o.payload=e,n!=null&&(o.callback=n),e=kh(t,o,i),e!==null&&(Xu(e,t,i,r),WS(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=hs(),i=Oh(t),o=pd(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=kh(t,o,i),e!==null&&(Xu(e,t,i,r),WS(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=hs(),r=Oh(t),i=pd(n,r);i.tag=2,e!=null&&(i.callback=e),e=kh(t,i,r),e!==null&&(Xu(e,t,r,n),WS(e,t,r))}};function w3(t,e,n,r,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!P0(n,r)||!P0(i,o):!0}function e7(t,e,n){var r=!1,i=zh,o=e.contextType;return typeof o=="object"&&o!==null?o=cu(o):(i=zs(e)?Pm:Ha.current,r=e.contextTypes,o=(r=r!=null)?ay(t,i):zh),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=xA,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function C3(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&xA.enqueueReplaceState(e,e.state,null)}function lN(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},eF(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=cu(o):(o=zs(e)?Pm:Ha.current,i.context=ay(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(sN(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&xA.enqueueReplaceState(i,i.state,null),jT(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function cy(t,e){try{var n="",r=e;do n+=hle(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function rR(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function uN(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Bue=typeof WeakMap=="function"?WeakMap:Map;function t7(t,e,n){n=pd(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){GT||(GT=!0,_N=r),uN(t,e)},n}function n7(t,e,n){n=pd(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){uN(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){uN(t,e),typeof r!="function"&&(Rh===null?Rh=new Set([this]):Rh.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function S3(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Bue;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=ece.bind(null,t,e,n),e.then(t,t))}function T3(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function x3(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=pd(-1,1),e.tag=2,kh(n,e,1))),n.lanes|=1),t)}var $ue=Ad.ReactCurrentOwner,$s=!1;function is(t,e,n,r){e.child=t===null?O8(e,null,n,r):ly(e,t.child,n,r)}function A3(t,e,n,r,i){n=n.render;var o=e.ref;return Uv(e,i),r=oF(t,e,n,r,o,i),n=aF(),t!==null&&!$s?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,bd(t,e,i)):(si&&n&&KM(e),e.flags|=1,is(t,e,r,i),e.child)}function I3(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!gF(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,r7(t,e,o,r,i)):(t=XS(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:P0,n(a,r)&&t.ref===e.ref)return bd(t,e,i)}return e.flags|=1,t=Ph(o,r),t.ref=e.ref,t.return=e,e.child=t}function r7(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(P0(o,r)&&t.ref===e.ref)if($s=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&($s=!0);else return e.lanes=t.lanes,bd(t,e,i)}return cN(t,e,n,r,i)}function i7(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},jr(Iv,_l),_l|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,jr(Iv,_l),_l|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,jr(Iv,_l),_l|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,jr(Iv,_l),_l|=r;return is(t,e,i,n),e.child}function o7(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function cN(t,e,n,r,i){var o=zs(n)?Pm:Ha.current;return o=ay(e,o),Uv(e,i),n=oF(t,e,n,r,o,i),r=aF(),t!==null&&!$s?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,bd(t,e,i)):(si&&r&&KM(e),e.flags|=1,is(t,e,n,i),e.child)}function k3(t,e,n,r,i){if(zs(n)){var o=!0;UT(e)}else o=!1;if(Uv(e,i),e.stateNode===null)GS(t,e),e7(e,n,r),lN(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var u=a.context,f=n.contextType;typeof f=="object"&&f!==null?f=cu(f):(f=zs(n)?Pm:Ha.current,f=ay(e,f));var h=n.getDerivedStateFromProps,g=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";g||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||u!==f)&&C3(e,a,r,f),hh=!1;var y=e.memoizedState;a.state=y,jT(e,r,a,i),u=e.memoizedState,l!==r||y!==u||js.current||hh?(typeof h=="function"&&(sN(e,n,h,r),u=e.memoizedState),(l=hh||w3(e,n,l,r,y,u,f))?(g||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),a.props=r,a.state=u,a.context=f,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,N8(t,e),l=e.memoizedProps,f=e.type===e.elementType?l:$u(e.type,l),a.props=f,g=e.pendingProps,y=a.context,u=n.contextType,typeof u=="object"&&u!==null?u=cu(u):(u=zs(n)?Pm:Ha.current,u=ay(e,u));var w=n.getDerivedStateFromProps;(h=typeof w=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==g||y!==u)&&C3(e,a,r,u),hh=!1,y=e.memoizedState,a.state=y,jT(e,r,a,i);var T=e.memoizedState;l!==g||y!==T||js.current||hh?(typeof w=="function"&&(sN(e,n,w,r),T=e.memoizedState),(f=hh||w3(e,n,f,r,y,T,u)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,T,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,T,u)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=T),a.props=r,a.state=T,a.context=u,r=f):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),r=!1)}return fN(t,e,n,r,o,i)}function fN(t,e,n,r,i,o){o7(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&p3(e,n,!1),bd(t,e,o);r=e.stateNode,$ue.current=e;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=ly(e,t.child,null,o),e.child=ly(e,null,l,o)):is(t,e,l,o),e.memoizedState=r.state,i&&p3(e,n,!0),e.child}function a7(t){var e=t.stateNode;e.pendingContext?h3(t,e.pendingContext,e.pendingContext!==e.context):e.context&&h3(t,e.context,!1),tF(t,e.containerInfo)}function R3(t,e,n,r,i){return sy(),YM(i),e.flags|=256,is(t,e,n,r),e.child}var dN={dehydrated:null,treeContext:null,retryLane:0};function hN(t){return{baseLanes:t,cachePool:null,transitions:null}}function s7(t,e,n){var r=e.pendingProps,i=_i.current,o=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),jr(_i,i&1),t===null)return oN(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=kA(a,r,0,null),t=Cm(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=hN(n),e.memoizedState=dN,t):uF(e,a));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return Hue(t,e,a,r,l,i,n);if(o){o=r.fallback,a=e.mode,i=t.child,l=i.sibling;var u={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Ph(i,u),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?o=Ph(l,o):(o=Cm(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=t.child.memoizedState,a=a===null?hN(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=dN,r}return o=t.child,t=o.sibling,r=Ph(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function uF(t,e){return e=kA({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function KC(t,e,n,r){return r!==null&&YM(r),ly(e,t.child,null,n),t=uF(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Hue(t,e,n,r,i,o,a){if(n)return e.flags&256?(e.flags&=-257,r=rR(Error(tt(422))),KC(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=kA({mode:"visible",children:r.children},i,0,null),o=Cm(o,i,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&ly(e,t.child,null,a),e.child.memoizedState=hN(a),e.memoizedState=dN,o);if(!(e.mode&1))return KC(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(tt(419)),r=rR(o,r,void 0),KC(t,e,a,r)}if(l=(a&t.childLanes)!==0,$s||l){if(r=ta,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,_d(t,i),Xu(r,t,i,-1))}return mF(),r=rR(Error(tt(421))),KC(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=tce.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,wl=Ih(i.nextSibling),Tl=e,si=!0,ju=null,t!==null&&(nu[ru++]=fd,nu[ru++]=dd,nu[ru++]=Nm,fd=t.id,dd=t.overflow,Nm=e),e=uF(e,r.children),e.flags|=4096,e)}function O3(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),aN(t.return,e,n)}function iR(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function l7(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(is(t,e,r.children,n),r=_i.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&O3(t,n,e);else if(t.tag===19)O3(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(jr(_i,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&zT(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),iR(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&zT(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}iR(e,!0,n,null,o);break;case"together":iR(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function GS(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function bd(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Dm|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(tt(153));if(e.child!==null){for(t=e.child,n=Ph(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ph(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function jue(t,e,n){switch(e.tag){case 3:a7(e),sy();break;case 5:L8(e);break;case 1:zs(e.type)&&UT(e);break;case 4:tF(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;jr($T,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(jr(_i,_i.current&1),e.flags|=128,null):n&e.child.childLanes?s7(t,e,n):(jr(_i,_i.current&1),t=bd(t,e,n),t!==null?t.sibling:null);jr(_i,_i.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return l7(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),jr(_i,_i.current),r)break;return null;case 22:case 23:return e.lanes=0,i7(t,e,n)}return bd(t,e,n)}var u7,pN,c7,f7;u7=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};pN=function(){};c7=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,hm(nf.current);var o=null;switch(n){case"input":i=MP(t,i),r=MP(t,r),o=[];break;case"select":i=Ti({},i,{value:void 0}),r=Ti({},r,{value:void 0}),o=[];break;case"textarea":i=VP(t,i),r=VP(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=MT)}$P(n,r);var a;n=null;for(f in i)if(!r.hasOwnProperty(f)&&i.hasOwnProperty(f)&&i[f]!=null)if(f==="style"){var l=i[f];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(T0.hasOwnProperty(f)?o||(o=[]):(o=o||[]).push(f,null));for(f in r){var u=r[f];if(l=i!=null?i[f]:void 0,r.hasOwnProperty(f)&&u!==l&&(u!=null||l!=null))if(f==="style")if(l){for(a in l)!l.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&l[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(o||(o=[]),o.push(f,n)),n=u;else f==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(o=o||[]).push(f,u)):f==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(f,""+u):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(T0.hasOwnProperty(f)?(u!=null&&f==="onScroll"&&Xr("scroll",t),o||l===u||(o=[])):(o=o||[]).push(f,u))}n&&(o=o||[]).push("style",n);var f=o;(e.updateQueue=f)&&(e.flags|=4)}};f7=function(t,e,n,r){n!==r&&(e.flags|=4)};function ub(t,e){if(!si)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Oa(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function zue(t,e,n){var r=e.pendingProps;switch(GM(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oa(e),null;case 1:return zs(e.type)&&FT(),Oa(e),null;case 3:return r=e.stateNode,uy(),ei(js),ei(Ha),rF(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(WC(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ju!==null&&(wN(ju),ju=null))),pN(t,e),Oa(e),null;case 5:nF(e);var i=hm(F0.current);if(n=e.type,t!==null&&e.stateNode!=null)c7(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(tt(166));return Oa(e),null}if(t=hm(nf.current),WC(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[zc]=e,r[D0]=o,t=(e.mode&1)!==0,n){case"dialog":Xr("cancel",r),Xr("close",r);break;case"iframe":case"object":case"embed":Xr("load",r);break;case"video":case"audio":for(i=0;i<Nb.length;i++)Xr(Nb[i],r);break;case"source":Xr("error",r);break;case"img":case"image":case"link":Xr("error",r),Xr("load",r);break;case"details":Xr("toggle",r);break;case"input":BB(r,o),Xr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Xr("invalid",r);break;case"textarea":HB(r,o),Xr("invalid",r)}$P(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&zC(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&zC(r.textContent,l,t),i=["children",""+l]):T0.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Xr("scroll",r)}switch(n){case"input":MC(r),$B(r,o,!0);break;case"textarea":MC(r),jB(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=MT)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=V5(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[zc]=e,t[D0]=r,u7(t,e,!1,!1),e.stateNode=t;e:{switch(a=HP(n,r),n){case"dialog":Xr("cancel",t),Xr("close",t),i=r;break;case"iframe":case"object":case"embed":Xr("load",t),i=r;break;case"video":case"audio":for(i=0;i<Nb.length;i++)Xr(Nb[i],t);i=r;break;case"source":Xr("error",t),i=r;break;case"img":case"image":case"link":Xr("error",t),Xr("load",t),i=r;break;case"details":Xr("toggle",t),i=r;break;case"input":BB(t,r),i=MP(t,r),Xr("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ti({},r,{value:void 0}),Xr("invalid",t);break;case"textarea":HB(t,r),i=VP(t,r),Xr("invalid",t);break;default:i=r}$P(n,i),l=i;for(o in l)if(l.hasOwnProperty(o)){var u=l[o];o==="style"?H5(t,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&B5(t,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&x0(t,u):typeof u=="number"&&x0(t,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(T0.hasOwnProperty(o)?u!=null&&o==="onScroll"&&Xr("scroll",t):u!=null&&NM(t,o,u,a))}switch(n){case"input":MC(t),$B(t,r,!1);break;case"textarea":MC(t),jB(t);break;case"option":r.value!=null&&t.setAttribute("value",""+jh(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Lv(t,!!r.multiple,o,!1):r.defaultValue!=null&&Lv(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=MT)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Oa(e),null;case 6:if(t&&e.stateNode!=null)f7(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(tt(166));if(n=hm(F0.current),hm(nf.current),WC(e)){if(r=e.stateNode,n=e.memoizedProps,r[zc]=e,(o=r.nodeValue!==n)&&(t=Tl,t!==null))switch(t.tag){case 3:zC(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&zC(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[zc]=e,e.stateNode=r}return Oa(e),null;case 13:if(ei(_i),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(si&&wl!==null&&e.mode&1&&!(e.flags&128))k8(),sy(),e.flags|=98560,o=!1;else if(o=WC(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(tt(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(tt(317));o[zc]=e}else sy(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Oa(e),o=!1}else ju!==null&&(wN(ju),ju=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||_i.current&1?Lo===0&&(Lo=3):mF())),e.updateQueue!==null&&(e.flags|=4),Oa(e),null);case 4:return uy(),pN(t,e),t===null&&N0(e.stateNode.containerInfo),Oa(e),null;case 10:return JM(e.type._context),Oa(e),null;case 17:return zs(e.type)&&FT(),Oa(e),null;case 19:if(ei(_i),o=e.memoizedState,o===null)return Oa(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)ub(o,!1);else{if(Lo!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=zT(t),a!==null){for(e.flags|=128,ub(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return jr(_i,_i.current&1|2),e.child}t=t.sibling}o.tail!==null&&oo()>fy&&(e.flags|=128,r=!0,ub(o,!1),e.lanes=4194304)}else{if(!r)if(t=zT(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ub(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!si)return Oa(e),null}else 2*oo()-o.renderingStartTime>fy&&n!==1073741824&&(e.flags|=128,r=!0,ub(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=oo(),e.sibling=null,n=_i.current,jr(_i,r?n&1|2:n&1),e):(Oa(e),null);case 22:case 23:return pF(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?_l&1073741824&&(Oa(e),e.subtreeFlags&6&&(e.flags|=8192)):Oa(e),null;case 24:return null;case 25:return null}throw Error(tt(156,e.tag))}function Wue(t,e){switch(GM(e),e.tag){case 1:return zs(e.type)&&FT(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return uy(),ei(js),ei(Ha),rF(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return nF(e),null;case 13:if(ei(_i),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(tt(340));sy()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ei(_i),null;case 4:return uy(),null;case 10:return JM(e.type._context),null;case 22:case 23:return pF(),null;case 24:return null;default:return null}}var GC=!1,Fa=!1,que=typeof WeakSet=="function"?WeakSet:Set,It=null;function Av(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Bi(t,e,r)}else n.current=null}function mN(t,e,n){try{n()}catch(r){Bi(t,e,r)}}var P3=!1;function Kue(t,e){if(JP=NT,t=g8(),qM(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,l=-1,u=-1,f=0,h=0,g=t,y=null;t:for(;;){for(var w;g!==n||i!==0&&g.nodeType!==3||(l=a+i),g!==o||r!==0&&g.nodeType!==3||(u=a+r),g.nodeType===3&&(a+=g.nodeValue.length),(w=g.firstChild)!==null;)y=g,g=w;for(;;){if(g===t)break t;if(y===n&&++f===i&&(l=a),y===o&&++h===r&&(u=a),(w=g.nextSibling)!==null)break;g=y,y=g.parentNode}g=w}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ZP={focusedElem:t,selectionRange:n},NT=!1,It=e;It!==null;)if(e=It,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,It=t;else for(;It!==null;){e=It;try{var T=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var C=T.memoizedProps,R=T.memoizedState,I=e.stateNode,k=I.getSnapshotBeforeUpdate(e.elementType===e.type?C:$u(e.type,C),R);I.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var O=e.stateNode.containerInfo;O.nodeType===1?O.textContent="":O.nodeType===9&&O.documentElement&&O.removeChild(O.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(tt(163))}}catch(A){Bi(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,It=t;break}It=e.return}return T=P3,P3=!1,T}function Zb(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&mN(e,n,o)}i=i.next}while(i!==r)}}function AA(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function gN(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function d7(t){var e=t.alternate;e!==null&&(t.alternate=null,d7(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[zc],delete e[D0],delete e[nN],delete e[kue],delete e[Rue])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function h7(t){return t.tag===5||t.tag===3||t.tag===4}function N3(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||h7(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function vN(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=MT));else if(r!==4&&(t=t.child,t!==null))for(vN(t,e,n),t=t.sibling;t!==null;)vN(t,e,n),t=t.sibling}function yN(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(yN(t,e,n),t=t.sibling;t!==null;)yN(t,e,n),t=t.sibling}var va=null,Hu=!1;function ih(t,e,n){for(n=n.child;n!==null;)p7(t,e,n),n=n.sibling}function p7(t,e,n){if(tf&&typeof tf.onCommitFiberUnmount=="function")try{tf.onCommitFiberUnmount(_A,n)}catch{}switch(n.tag){case 5:Fa||Av(n,e);case 6:var r=va,i=Hu;va=null,ih(t,e,n),va=r,Hu=i,va!==null&&(Hu?(t=va,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):va.removeChild(n.stateNode));break;case 18:va!==null&&(Hu?(t=va,n=n.stateNode,t.nodeType===8?Xk(t.parentNode,n):t.nodeType===1&&Xk(t,n),R0(t)):Xk(va,n.stateNode));break;case 4:r=va,i=Hu,va=n.stateNode.containerInfo,Hu=!0,ih(t,e,n),va=r,Hu=i;break;case 0:case 11:case 14:case 15:if(!Fa&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&mN(n,e,a),i=i.next}while(i!==r)}ih(t,e,n);break;case 1:if(!Fa&&(Av(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Bi(n,e,l)}ih(t,e,n);break;case 21:ih(t,e,n);break;case 22:n.mode&1?(Fa=(r=Fa)||n.memoizedState!==null,ih(t,e,n),Fa=r):ih(t,e,n);break;default:ih(t,e,n)}}function L3(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new que),e.forEach(function(r){var i=nce.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Uu(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:va=l.stateNode,Hu=!1;break e;case 3:va=l.stateNode.containerInfo,Hu=!0;break e;case 4:va=l.stateNode.containerInfo,Hu=!0;break e}l=l.return}if(va===null)throw Error(tt(160));p7(o,a,i),va=null,Hu=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(f){Bi(i,e,f)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)m7(e,t),e=e.sibling}function m7(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Uu(e,t),Fc(t),r&4){try{Zb(3,t,t.return),AA(3,t)}catch(C){Bi(t,t.return,C)}try{Zb(5,t,t.return)}catch(C){Bi(t,t.return,C)}}break;case 1:Uu(e,t),Fc(t),r&512&&n!==null&&Av(n,n.return);break;case 5:if(Uu(e,t),Fc(t),r&512&&n!==null&&Av(n,n.return),t.flags&32){var i=t.stateNode;try{x0(i,"")}catch(C){Bi(t,t.return,C)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&F5(i,o),HP(l,a);var f=HP(l,o);for(a=0;a<u.length;a+=2){var h=u[a],g=u[a+1];h==="style"?H5(i,g):h==="dangerouslySetInnerHTML"?B5(i,g):h==="children"?x0(i,g):NM(i,h,g,f)}switch(l){case"input":FP(i,o);break;case"textarea":U5(i,o);break;case"select":var y=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var w=o.value;w!=null?Lv(i,!!o.multiple,w,!1):y!==!!o.multiple&&(o.defaultValue!=null?Lv(i,!!o.multiple,o.defaultValue,!0):Lv(i,!!o.multiple,o.multiple?[]:"",!1))}i[D0]=o}catch(C){Bi(t,t.return,C)}}break;case 6:if(Uu(e,t),Fc(t),r&4){if(t.stateNode===null)throw Error(tt(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(C){Bi(t,t.return,C)}}break;case 3:if(Uu(e,t),Fc(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{R0(e.containerInfo)}catch(C){Bi(t,t.return,C)}break;case 4:Uu(e,t),Fc(t);break;case 13:Uu(e,t),Fc(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(dF=oo())),r&4&&L3(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Fa=(f=Fa)||h,Uu(e,t),Fa=f):Uu(e,t),Fc(t),r&8192){if(f=t.memoizedState!==null,(t.stateNode.isHidden=f)&&!h&&t.mode&1)for(It=t,h=t.child;h!==null;){for(g=It=h;It!==null;){switch(y=It,w=y.child,y.tag){case 0:case 11:case 14:case 15:Zb(4,y,y.return);break;case 1:Av(y,y.return);var T=y.stateNode;if(typeof T.componentWillUnmount=="function"){r=y,n=y.return;try{e=r,T.props=e.memoizedProps,T.state=e.memoizedState,T.componentWillUnmount()}catch(C){Bi(r,n,C)}}break;case 5:Av(y,y.return);break;case 22:if(y.memoizedState!==null){M3(g);continue}}w!==null?(w.return=y,It=w):M3(g)}h=h.sibling}e:for(h=null,g=t;;){if(g.tag===5){if(h===null){h=g;try{i=g.stateNode,f?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=g.stateNode,u=g.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=$5("display",a))}catch(C){Bi(t,t.return,C)}}}else if(g.tag===6){if(h===null)try{g.stateNode.nodeValue=f?"":g.memoizedProps}catch(C){Bi(t,t.return,C)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===t)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;h===g&&(h=null),g=g.return}h===g&&(h=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:Uu(e,t),Fc(t),r&4&&L3(t);break;case 21:break;default:Uu(e,t),Fc(t)}}function Fc(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(h7(n)){var r=n;break e}n=n.return}throw Error(tt(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(x0(i,""),r.flags&=-33);var o=N3(t);yN(t,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,l=N3(t);vN(t,l,a);break;default:throw Error(tt(161))}}catch(u){Bi(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Gue(t,e,n){It=t,g7(t)}function g7(t,e,n){for(var r=(t.mode&1)!==0;It!==null;){var i=It,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||GC;if(!a){var l=i.alternate,u=l!==null&&l.memoizedState!==null||Fa;l=GC;var f=Fa;if(GC=a,(Fa=u)&&!f)for(It=i;It!==null;)a=It,u=a.child,a.tag===22&&a.memoizedState!==null?F3(i):u!==null?(u.return=a,It=u):F3(i);for(;o!==null;)It=o,g7(o),o=o.sibling;It=i,GC=l,Fa=f}D3(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,It=o):D3(t)}}function D3(t){for(;It!==null;){var e=It;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Fa||AA(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Fa)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:$u(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&_3(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}_3(e,a,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var f=e.alternate;if(f!==null){var h=f.memoizedState;if(h!==null){var g=h.dehydrated;g!==null&&R0(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(tt(163))}Fa||e.flags&512&&gN(e)}catch(y){Bi(e,e.return,y)}}if(e===t){It=null;break}if(n=e.sibling,n!==null){n.return=e.return,It=n;break}It=e.return}}function M3(t){for(;It!==null;){var e=It;if(e===t){It=null;break}var n=e.sibling;if(n!==null){n.return=e.return,It=n;break}It=e.return}}function F3(t){for(;It!==null;){var e=It;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{AA(4,e)}catch(u){Bi(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){Bi(e,i,u)}}var o=e.return;try{gN(e)}catch(u){Bi(e,o,u)}break;case 5:var a=e.return;try{gN(e)}catch(u){Bi(e,a,u)}}}catch(u){Bi(e,e.return,u)}if(e===t){It=null;break}var l=e.sibling;if(l!==null){l.return=e.return,It=l;break}It=e.return}}var Yue=Math.ceil,KT=Ad.ReactCurrentDispatcher,cF=Ad.ReactCurrentOwner,lu=Ad.ReactCurrentBatchConfig,nr=0,ta=null,_o=null,Ea=0,_l=0,Iv=up(0),Lo=0,$0=null,Dm=0,IA=0,fF=0,e0=null,Ms=null,dF=0,fy=1/0,id=null,GT=!1,_N=null,Rh=null,YC=!1,_h=null,YT=0,t0=0,bN=null,YS=-1,QS=0;function hs(){return nr&6?oo():YS!==-1?YS:YS=oo()}function Oh(t){return t.mode&1?nr&2&&Ea!==0?Ea&-Ea:Pue.transition!==null?(QS===0&&(QS=e8()),QS):(t=br,t!==0||(t=window.event,t=t===void 0?16:s8(t.type)),t):1}function Xu(t,e,n,r){if(50<t0)throw t0=0,bN=null,Error(tt(185));NE(t,n,r),(!(nr&2)||t!==ta)&&(t===ta&&(!(nr&2)&&(IA|=n),Lo===4&&gh(t,Ea)),Ws(t,r),n===1&&nr===0&&!(e.mode&1)&&(fy=oo()+500,SA&&cp()))}function Ws(t,e){var n=t.callbackNode;Ple(t,e);var r=PT(t,t===ta?Ea:0);if(r===0)n!==null&&qB(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&qB(n),e===1)t.tag===0?Oue(U3.bind(null,t)):x8(U3.bind(null,t)),Aue(function(){!(nr&6)&&cp()}),n=null;else{switch(t8(r)){case 1:n=UM;break;case 4:n=J5;break;case 16:n=OT;break;case 536870912:n=Z5;break;default:n=OT}n=S7(n,v7.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function v7(t,e){if(YS=-1,QS=0,nr&6)throw Error(tt(327));var n=t.callbackNode;if(Vv()&&t.callbackNode!==n)return null;var r=PT(t,t===ta?Ea:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=QT(t,r);else{e=r;var i=nr;nr|=2;var o=_7();(ta!==t||Ea!==e)&&(id=null,fy=oo()+500,wm(t,e));do try{Jue();break}catch(l){y7(t,l)}while(!0);XM(),KT.current=o,nr=i,_o!==null?e=0:(ta=null,Ea=0,e=Lo)}if(e!==0){if(e===2&&(i=KP(t),i!==0&&(r=i,e=EN(t,i))),e===1)throw n=$0,wm(t,0),gh(t,r),Ws(t,oo()),n;if(e===6)gh(t,r);else{if(i=t.current.alternate,!(r&30)&&!Que(i)&&(e=QT(t,r),e===2&&(o=KP(t),o!==0&&(r=o,e=EN(t,o))),e===1))throw n=$0,wm(t,0),gh(t,r),Ws(t,oo()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(tt(345));case 2:Zp(t,Ms,id);break;case 3:if(gh(t,r),(r&130023424)===r&&(e=dF+500-oo(),10<e)){if(PT(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){hs(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=tN(Zp.bind(null,t,Ms,id),e);break}Zp(t,Ms,id);break;case 4:if(gh(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-Qu(r);o=1<<a,a=e[a],a>i&&(i=a),r&=~o}if(r=i,r=oo()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Yue(r/1960))-r,10<r){t.timeoutHandle=tN(Zp.bind(null,t,Ms,id),r);break}Zp(t,Ms,id);break;case 5:Zp(t,Ms,id);break;default:throw Error(tt(329))}}}return Ws(t,oo()),t.callbackNode===n?v7.bind(null,t):null}function EN(t,e){var n=e0;return t.current.memoizedState.isDehydrated&&(wm(t,e).flags|=256),t=QT(t,e),t!==2&&(e=Ms,Ms=n,e!==null&&wN(e)),t}function wN(t){Ms===null?Ms=t:Ms.push.apply(Ms,t)}function Que(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!nc(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function gh(t,e){for(e&=~fF,e&=~IA,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Qu(e),r=1<<n;t[n]=-1,e&=~r}}function U3(t){if(nr&6)throw Error(tt(327));Vv();var e=PT(t,0);if(!(e&1))return Ws(t,oo()),null;var n=QT(t,e);if(t.tag!==0&&n===2){var r=KP(t);r!==0&&(e=r,n=EN(t,r))}if(n===1)throw n=$0,wm(t,0),gh(t,e),Ws(t,oo()),n;if(n===6)throw Error(tt(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Zp(t,Ms,id),Ws(t,oo()),null}function hF(t,e){var n=nr;nr|=1;try{return t(e)}finally{nr=n,nr===0&&(fy=oo()+500,SA&&cp())}}function Mm(t){_h!==null&&_h.tag===0&&!(nr&6)&&Vv();var e=nr;nr|=1;var n=lu.transition,r=br;try{if(lu.transition=null,br=1,t)return t()}finally{br=r,lu.transition=n,nr=e,!(nr&6)&&cp()}}function pF(){_l=Iv.current,ei(Iv)}function wm(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,xue(n)),_o!==null)for(n=_o.return;n!==null;){var r=n;switch(GM(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&FT();break;case 3:uy(),ei(js),ei(Ha),rF();break;case 5:nF(r);break;case 4:uy();break;case 13:ei(_i);break;case 19:ei(_i);break;case 10:JM(r.type._context);break;case 22:case 23:pF()}n=n.return}if(ta=t,_o=t=Ph(t.current,null),Ea=_l=e,Lo=0,$0=null,fF=IA=Dm=0,Ms=e0=null,dm!==null){for(e=0;e<dm.length;e++)if(n=dm[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}dm=null}return t}function y7(t,e){do{var n=_o;try{if(XM(),qS.current=qT,WT){for(var r=Ci.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}WT=!1}if(Lm=0,Jo=Oo=Ci=null,Jb=!1,U0=0,cF.current=null,n===null||n.return===null){Lo=1,$0=e,_o=null;break}e:{var o=t,a=n.return,l=n,u=e;if(e=Ea,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var f=u,h=l,g=h.tag;if(!(h.mode&1)&&(g===0||g===11||g===15)){var y=h.alternate;y?(h.updateQueue=y.updateQueue,h.memoizedState=y.memoizedState,h.lanes=y.lanes):(h.updateQueue=null,h.memoizedState=null)}var w=T3(a);if(w!==null){w.flags&=-257,x3(w,a,l,o,e),w.mode&1&&S3(o,f,e),e=w,u=f;var T=e.updateQueue;if(T===null){var C=new Set;C.add(u),e.updateQueue=C}else T.add(u);break e}else{if(!(e&1)){S3(o,f,e),mF();break e}u=Error(tt(426))}}else if(si&&l.mode&1){var R=T3(a);if(R!==null){!(R.flags&65536)&&(R.flags|=256),x3(R,a,l,o,e),YM(cy(u,l));break e}}o=u=cy(u,l),Lo!==4&&(Lo=2),e0===null?e0=[o]:e0.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var I=t7(o,u,e);y3(o,I);break e;case 1:l=u;var k=o.type,O=o.stateNode;if(!(o.flags&128)&&(typeof k.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(Rh===null||!Rh.has(O)))){o.flags|=65536,e&=-e,o.lanes|=e;var A=n7(o,l,e);y3(o,A);break e}}o=o.return}while(o!==null)}E7(n)}catch(V){e=V,_o===n&&n!==null&&(_o=n=n.return);continue}break}while(!0)}function _7(){var t=KT.current;return KT.current=qT,t===null?qT:t}function mF(){(Lo===0||Lo===3||Lo===2)&&(Lo=4),ta===null||!(Dm&268435455)&&!(IA&268435455)||gh(ta,Ea)}function QT(t,e){var n=nr;nr|=2;var r=_7();(ta!==t||Ea!==e)&&(id=null,wm(t,e));do try{Xue();break}catch(i){y7(t,i)}while(!0);if(XM(),nr=n,KT.current=r,_o!==null)throw Error(tt(261));return ta=null,Ea=0,Lo}function Xue(){for(;_o!==null;)b7(_o)}function Jue(){for(;_o!==null&&!Cle();)b7(_o)}function b7(t){var e=C7(t.alternate,t,_l);t.memoizedProps=t.pendingProps,e===null?E7(t):_o=e,cF.current=null}function E7(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Wue(n,e),n!==null){n.flags&=32767,_o=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Lo=6,_o=null;return}}else if(n=zue(n,e,_l),n!==null){_o=n;return}if(e=e.sibling,e!==null){_o=e;return}_o=e=t}while(e!==null);Lo===0&&(Lo=5)}function Zp(t,e,n){var r=br,i=lu.transition;try{lu.transition=null,br=1,Zue(t,e,n,r)}finally{lu.transition=i,br=r}return null}function Zue(t,e,n,r){do Vv();while(_h!==null);if(nr&6)throw Error(tt(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(tt(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(Nle(t,o),t===ta&&(_o=ta=null,Ea=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||YC||(YC=!0,S7(OT,function(){return Vv(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=lu.transition,lu.transition=null;var a=br;br=1;var l=nr;nr|=4,cF.current=null,Kue(t,n),m7(n,t),_ue(ZP),NT=!!JP,ZP=JP=null,t.current=n,Gue(n),Sle(),nr=l,br=a,lu.transition=o}else t.current=n;if(YC&&(YC=!1,_h=t,YT=i),o=t.pendingLanes,o===0&&(Rh=null),Ale(n.stateNode),Ws(t,oo()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(GT)throw GT=!1,t=_N,_N=null,t;return YT&1&&t.tag!==0&&Vv(),o=t.pendingLanes,o&1?t===bN?t0++:(t0=0,bN=t):t0=0,cp(),null}function Vv(){if(_h!==null){var t=t8(YT),e=lu.transition,n=br;try{if(lu.transition=null,br=16>t?16:t,_h===null)var r=!1;else{if(t=_h,_h=null,YT=0,nr&6)throw Error(tt(331));var i=nr;for(nr|=4,It=t.current;It!==null;){var o=It,a=o.child;if(It.flags&16){var l=o.deletions;if(l!==null){for(var u=0;u<l.length;u++){var f=l[u];for(It=f;It!==null;){var h=It;switch(h.tag){case 0:case 11:case 15:Zb(8,h,o)}var g=h.child;if(g!==null)g.return=h,It=g;else for(;It!==null;){h=It;var y=h.sibling,w=h.return;if(d7(h),h===f){It=null;break}if(y!==null){y.return=w,It=y;break}It=w}}}var T=o.alternate;if(T!==null){var C=T.child;if(C!==null){T.child=null;do{var R=C.sibling;C.sibling=null,C=R}while(C!==null)}}It=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,It=a;else e:for(;It!==null;){if(o=It,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Zb(9,o,o.return)}var I=o.sibling;if(I!==null){I.return=o.return,It=I;break e}It=o.return}}var k=t.current;for(It=k;It!==null;){a=It;var O=a.child;if(a.subtreeFlags&2064&&O!==null)O.return=a,It=O;else e:for(a=k;It!==null;){if(l=It,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:AA(9,l)}}catch(V){Bi(l,l.return,V)}if(l===a){It=null;break e}var A=l.sibling;if(A!==null){A.return=l.return,It=A;break e}It=l.return}}if(nr=i,cp(),tf&&typeof tf.onPostCommitFiberRoot=="function")try{tf.onPostCommitFiberRoot(_A,t)}catch{}r=!0}return r}finally{br=n,lu.transition=e}}return!1}function V3(t,e,n){e=cy(n,e),e=t7(t,e,1),t=kh(t,e,1),e=hs(),t!==null&&(NE(t,1,e),Ws(t,e))}function Bi(t,e,n){if(t.tag===3)V3(t,t,n);else for(;e!==null;){if(e.tag===3){V3(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Rh===null||!Rh.has(r))){t=cy(n,t),t=n7(e,t,1),e=kh(e,t,1),t=hs(),e!==null&&(NE(e,1,t),Ws(e,t));break}}e=e.return}}function ece(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=hs(),t.pingedLanes|=t.suspendedLanes&n,ta===t&&(Ea&n)===n&&(Lo===4||Lo===3&&(Ea&130023424)===Ea&&500>oo()-dF?wm(t,0):fF|=n),Ws(t,e)}function w7(t,e){e===0&&(t.mode&1?(e=VC,VC<<=1,!(VC&130023424)&&(VC=4194304)):e=1);var n=hs();t=_d(t,e),t!==null&&(NE(t,e,n),Ws(t,n))}function tce(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),w7(t,n)}function nce(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(tt(314))}r!==null&&r.delete(e),w7(t,n)}var C7;C7=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||js.current)$s=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return $s=!1,jue(t,e,n);$s=!!(t.flags&131072)}else $s=!1,si&&e.flags&1048576&&A8(e,BT,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;GS(t,e),t=e.pendingProps;var i=ay(e,Ha.current);Uv(e,n),i=oF(null,e,r,t,i,n);var o=aF();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,zs(r)?(o=!0,UT(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,eF(e),i.updater=xA,e.stateNode=i,i._reactInternals=e,lN(e,r,t,n),e=fN(null,e,r,!0,o,n)):(e.tag=0,si&&o&&KM(e),is(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(GS(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=ice(r),t=$u(r,t),i){case 0:e=cN(null,e,r,t,n);break e;case 1:e=k3(null,e,r,t,n);break e;case 11:e=A3(null,e,r,t,n);break e;case 14:e=I3(null,e,r,$u(r.type,t),n);break e}throw Error(tt(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$u(r,i),cN(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$u(r,i),k3(t,e,r,i,n);case 3:e:{if(a7(e),t===null)throw Error(tt(387));r=e.pendingProps,o=e.memoizedState,i=o.element,N8(t,e),jT(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=cy(Error(tt(423)),e),e=R3(t,e,r,n,i);break e}else if(r!==i){i=cy(Error(tt(424)),e),e=R3(t,e,r,n,i);break e}else for(wl=Ih(e.stateNode.containerInfo.firstChild),Tl=e,si=!0,ju=null,n=O8(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(sy(),r===i){e=bd(t,e,n);break e}is(t,e,r,n)}e=e.child}return e;case 5:return L8(e),t===null&&oN(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,eN(r,i)?a=null:o!==null&&eN(r,o)&&(e.flags|=32),o7(t,e),is(t,e,a,n),e.child;case 6:return t===null&&oN(e),null;case 13:return s7(t,e,n);case 4:return tF(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ly(e,null,r,n):is(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$u(r,i),A3(t,e,r,i,n);case 7:return is(t,e,e.pendingProps,n),e.child;case 8:return is(t,e,e.pendingProps.children,n),e.child;case 12:return is(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,jr($T,r._currentValue),r._currentValue=a,o!==null)if(nc(o.value,a)){if(o.children===i.children&&!js.current){e=bd(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var l=o.dependencies;if(l!==null){a=o.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(o.tag===1){u=pd(-1,n&-n),u.tag=2;var f=o.updateQueue;if(f!==null){f=f.shared;var h=f.pending;h===null?u.next=u:(u.next=h.next,h.next=u),f.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),aN(o.return,n,e),l.lanes|=n;break}u=u.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(tt(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),aN(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}is(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Uv(e,n),i=cu(i),r=r(i),e.flags|=1,is(t,e,r,n),e.child;case 14:return r=e.type,i=$u(r,e.pendingProps),i=$u(r.type,i),I3(t,e,r,i,n);case 15:return r7(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$u(r,i),GS(t,e),e.tag=1,zs(r)?(t=!0,UT(e)):t=!1,Uv(e,n),e7(e,r,i),lN(e,r,i,n),fN(null,e,r,!0,t,n);case 19:return l7(t,e,n);case 22:return i7(t,e,n)}throw Error(tt(156,e.tag))};function S7(t,e){return X5(t,e)}function rce(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function au(t,e,n,r){return new rce(t,e,n,r)}function gF(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ice(t){if(typeof t=="function")return gF(t)?1:0;if(t!=null){if(t=t.$$typeof,t===DM)return 11;if(t===MM)return 14}return 2}function Ph(t,e){var n=t.alternate;return n===null?(n=au(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function XS(t,e,n,r,i,o){var a=2;if(r=t,typeof t=="function")gF(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case yv:return Cm(n.children,i,o,e);case LM:a=8,i|=8;break;case PP:return t=au(12,n,e,i|2),t.elementType=PP,t.lanes=o,t;case NP:return t=au(13,n,e,i),t.elementType=NP,t.lanes=o,t;case LP:return t=au(19,n,e,i),t.elementType=LP,t.lanes=o,t;case L5:return kA(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case P5:a=10;break e;case N5:a=9;break e;case DM:a=11;break e;case MM:a=14;break e;case dh:a=16,r=null;break e}throw Error(tt(130,t==null?t:typeof t,""))}return e=au(a,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Cm(t,e,n,r){return t=au(7,t,r,e),t.lanes=n,t}function kA(t,e,n,r){return t=au(22,t,r,e),t.elementType=L5,t.lanes=n,t.stateNode={isHidden:!1},t}function oR(t,e,n){return t=au(6,t,null,e),t.lanes=n,t}function aR(t,e,n){return e=au(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function oce(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bk(0),this.expirationTimes=Bk(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bk(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function vF(t,e,n,r,i,o,a,l,u){return t=new oce(t,e,n,l,u),e===1?(e=1,o===!0&&(e|=8)):e=0,o=au(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},eF(o),t}function ace(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vv,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function T7(t){if(!t)return zh;t=t._reactInternals;e:{if(tg(t)!==t||t.tag!==1)throw Error(tt(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(zs(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(tt(171))}if(t.tag===1){var n=t.type;if(zs(n))return T8(t,n,e)}return e}function x7(t,e,n,r,i,o,a,l,u){return t=vF(n,r,!0,t,i,o,a,l,u),t.context=T7(null),n=t.current,r=hs(),i=Oh(n),o=pd(r,i),o.callback=e??null,kh(n,o,i),t.current.lanes=i,NE(t,i,r),Ws(t,r),t}function RA(t,e,n,r){var i=e.current,o=hs(),a=Oh(i);return n=T7(n),e.context===null?e.context=n:e.pendingContext=n,e=pd(o,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=kh(i,e,a),t!==null&&(Xu(t,i,a,o),WS(t,i,a)),a}function XT(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function B3(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function yF(t,e){B3(t,e),(t=t.alternate)&&B3(t,e)}function sce(){return null}var A7=typeof reportError=="function"?reportError:function(t){console.error(t)};function _F(t){this._internalRoot=t}OA.prototype.render=_F.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(tt(409));RA(t,e,null,null)};OA.prototype.unmount=_F.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Mm(function(){RA(null,t,null,null)}),e[yd]=null}};function OA(t){this._internalRoot=t}OA.prototype.unstable_scheduleHydration=function(t){if(t){var e=i8();t={blockedOn:null,target:t,priority:e};for(var n=0;n<mh.length&&e!==0&&e<mh[n].priority;n++);mh.splice(n,0,t),n===0&&a8(t)}};function bF(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function PA(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function $3(){}function lce(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var f=XT(a);o.call(f)}}var a=x7(e,r,t,0,null,!1,!1,"",$3);return t._reactRootContainer=a,t[yd]=a.current,N0(t.nodeType===8?t.parentNode:t),Mm(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var f=XT(u);l.call(f)}}var u=vF(t,0,!1,null,null,!1,!1,"",$3);return t._reactRootContainer=u,t[yd]=u.current,N0(t.nodeType===8?t.parentNode:t),Mm(function(){RA(e,u,n,r)}),u}function NA(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var l=i;i=function(){var u=XT(a);l.call(u)}}RA(e,a,t,i)}else a=lce(n,e,t,i,r);return XT(a)}n8=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Pb(e.pendingLanes);n!==0&&(VM(e,n|1),Ws(e,oo()),!(nr&6)&&(fy=oo()+500,cp()))}break;case 13:Mm(function(){var r=_d(t,1);if(r!==null){var i=hs();Xu(r,t,1,i)}}),yF(t,1)}};BM=function(t){if(t.tag===13){var e=_d(t,134217728);if(e!==null){var n=hs();Xu(e,t,134217728,n)}yF(t,134217728)}};r8=function(t){if(t.tag===13){var e=Oh(t),n=_d(t,e);if(n!==null){var r=hs();Xu(n,t,e,r)}yF(t,e)}};i8=function(){return br};o8=function(t,e){var n=br;try{return br=t,e()}finally{br=n}};zP=function(t,e,n){switch(e){case"input":if(FP(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=CA(r);if(!i)throw Error(tt(90));M5(r),FP(r,i)}}}break;case"textarea":U5(t,n);break;case"select":e=n.value,e!=null&&Lv(t,!!n.multiple,e,!1)}};W5=hF;q5=Mm;var uce={usingClientEntryPoint:!1,Events:[DE,wv,CA,j5,z5,hF]},cb={findFiberByHostInstance:fm,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},cce={bundleType:cb.bundleType,version:cb.version,rendererPackageName:cb.rendererPackageName,rendererConfig:cb.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ad.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Y5(t),t===null?null:t.stateNode},findFiberByHostInstance:cb.findFiberByHostInstance||sce,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var QC=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!QC.isDisabled&&QC.supportsFiber)try{_A=QC.inject(cce),tf=QC}catch{}}Pl.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uce;Pl.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bF(e))throw Error(tt(200));return ace(t,e,null,n)};Pl.createRoot=function(t,e){if(!bF(t))throw Error(tt(299));var n=!1,r="",i=A7;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=vF(t,1,!1,null,null,n,!1,r,i),t[yd]=e.current,N0(t.nodeType===8?t.parentNode:t),new _F(e)};Pl.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(tt(188)):(t=Object.keys(t).join(","),Error(tt(268,t)));return t=Y5(e),t=t===null?null:t.stateNode,t};Pl.flushSync=function(t){return Mm(t)};Pl.hydrate=function(t,e,n){if(!PA(e))throw Error(tt(200));return NA(null,t,e,!0,n)};Pl.hydrateRoot=function(t,e,n){if(!bF(t))throw Error(tt(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=A7;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=x7(e,null,t,1,n??null,i,!1,o,a),t[yd]=e.current,N0(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new OA(e)};Pl.render=function(t,e,n){if(!PA(e))throw Error(tt(200));return NA(null,t,e,!1,n)};Pl.unmountComponentAtNode=function(t){if(!PA(t))throw Error(tt(40));return t._reactRootContainer?(Mm(function(){NA(null,null,t,!1,function(){t._reactRootContainer=null,t[yd]=null})}),!0):!1};Pl.unstable_batchedUpdates=hF;Pl.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!PA(n))throw Error(tt(200));if(t==null||t._reactInternals===void 0)throw Error(tt(38));return NA(t,e,n,!1,r)};Pl.version="18.3.1-next-f1338f8080-20240426";function I7(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(I7)}catch(t){console.error(t)}}I7(),I5.exports=Pl;var md=I5.exports;const ff=ra(md);var k7={exports:{}},LA={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fce=B,dce=Symbol.for("react.element"),hce=Symbol.for("react.fragment"),pce=Object.prototype.hasOwnProperty,mce=fce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,gce={key:!0,ref:!0,__self:!0,__source:!0};function R7(t,e,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)pce.call(e,r)&&!gce.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:dce,type:t,key:o,ref:a,props:i,_owner:mce.current}}LA.Fragment=hce;LA.jsx=R7;LA.jsxs=R7;k7.exports=LA;var EF=k7.exports;const b=EF.jsx,ne=EF.jsxs,Rt=EF.Fragment;var O7="rmwcPortal";function vce(){var t=B.useRef(document.createElement("div"));return b("div",{ref:t,id:O7})}function P7(t){var e=t.children,n=t.renderTo,r=_n(B.useState(),2),i=r[0],o=r[1];return B.useEffect(function(){var a=void 0;n===!0?(a=document.getElementById(O7)||void 0,!a&&console.warn('No default Portal found. Did you forget to include it in the root of your app? `import { Portal } from "@rmwc/base";`')):typeof n=="string"?(a=document.querySelector(n)||void 0,!a&&console.warn('The selector you provided for renderToPortal "'+n+`" didn't find any elements.`)):n instanceof Element&&(a=n),a!==i&&o(a)},[n,i]),i?ff.createPortal(e,i):b(Rt,{children:e})}var yce={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",transparent:"#ffffff",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},_ce=function(t){return yce[t]||t},bce=function(t){t.length===4&&(t=t+t.slice(1));var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:{r:0,g:0,b:0}},H3=function(t,e,n){var r=[t,e,n].map(function(i){return i/=255,i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4)});return r[0]*.2126+r[1]*.7152+r[2]*.0722},Ece=function(t,e){return(H3(t[0],t[1],t[2])+.05)/(H3(e[0],e[1],e[2])+.05)},wce=function(t){return t=_ce(t),bce(t)},Cce=function(t){var e=wce(t),n=e.r,r=e.g,i=e.b,o=Ece([255,255,255],[n,r,i]);return!(o>3)},j3={"--mdc-theme-primary":[["--mdc-theme-on-primary",0]],"--mdc-theme-surface":[["--mdc-theme-on-surface",0]],"--mdc-theme-secondary":[["--mdc-theme-on-secondary",0]],"--mdc-theme-background":[["--mdc-theme-text-primary-on-background",0],["--mdc-theme-text-secondary-on-background",1],["--mdc-theme-text-hint-on-background",2],["--mdc-theme-text-disabled-on-background",2],["--mdc-theme-text-icon-on-background",2]]},Sce=["rgba(0, 0, 0, 0.87)","rgba(0, 0, 0, 0.54)","rgba(0, 0, 0, 0.38)"],Tce=["rgba(255, 255, 255, 1)","rgba(255, 255, 255, 0.7)","rgba(255, 255, 255, 0.5)"],xce=function(t){var e=Object.keys(j3).reduce(function(n,r){if(t[r]){var i=Cce(t[r])?Sce:Tce;j3[r].forEach(function(o){n[o[0]]=i[o[1]]})}return n},{});return ae(ae({},e),t)},ao=ht(function(e,n){var r=e.use,i=e.wrap,o=Ke(e,["use","wrap"]),a=St(e,[S5(r).join(" ")]);return i?AM(ae(ae({},o),{ref:n,className:a})):b(kt,{...ae({tag:"span",theme:r},o,{ref:n,className:a})})}),rc=ht(function(e,n){var r,i,o=JSON.stringify(e.options),a=B.useMemo(function(){var w=Object.keys(e.options).reduce(function(T,C){var R=e.options[C];return C=C.startsWith("--")?C:"--mdc-theme-"+C5(C),T[C]=R,T},{});return xce(w)},[o]);e.options;var l=e.style,u=l===void 0?{}:l,f=e.wrap,h=Ke(e,["options","style","wrap"]),g=St(e,[f&&typeof h.children=="object"&&((i=(r=h.children)===null||r===void 0?void 0:r.props)===null||i===void 0?void 0:i.className)]),y=ae(ae({},u),a);return f&&h.children?AM(ae(ae({},h),{style:y,ref:n})):b(kt,{...ae({},h,{style:y,className:g,ref:n})})}),N7,z3=md;N7=z3.createRoot,z3.hydrateRoot;var L7={exports:{}},D7={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dy=B;function Ace(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ice=typeof Object.is=="function"?Object.is:Ace,kce=dy.useState,Rce=dy.useEffect,Oce=dy.useLayoutEffect,Pce=dy.useDebugValue;function Nce(t,e){var n=e(),r=kce({inst:{value:n,getSnapshot:e}}),i=r[0].inst,o=r[1];return Oce(function(){i.value=n,i.getSnapshot=e,sR(i)&&o({inst:i})},[t,n,e]),Rce(function(){return sR(i)&&o({inst:i}),t(function(){sR(i)&&o({inst:i})})},[t]),Pce(n),n}function sR(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ice(t,n)}catch{return!0}}function Lce(t,e){return e()}var Dce=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Lce:Nce;D7.useSyncExternalStore=dy.useSyncExternalStore!==void 0?dy.useSyncExternalStore:Dce;L7.exports=D7;var M7=L7.exports,Mce={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DA=B,Fce=M7;function Uce(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Vce=typeof Object.is=="function"?Object.is:Uce,Bce=Fce.useSyncExternalStore,$ce=DA.useRef,Hce=DA.useEffect,jce=DA.useMemo,zce=DA.useDebugValue;Mce.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var o=$ce(null);if(o.current===null){var a={hasValue:!1,value:null};o.current=a}else a=o.current;o=jce(function(){function u(w){if(!f){if(f=!0,h=w,w=r(w),i!==void 0&&a.hasValue){var T=a.value;if(i(T,w))return g=T}return g=w}if(T=g,Vce(h,w))return T;var C=r(w);return i!==void 0&&i(T,C)?(h=w,T):(h=w,g=C)}var f=!1,h,g,y=n===void 0?null:n;return[function(){return u(e())},y===null?void 0:function(){return u(y())}]},[e,n,r,i]);var l=Bce(t,o[0],o[1]);return Hce(function(){a.hasValue=!0,a.value=l},[l]),zce(l),l};function Wce(t){t()}let F7=Wce;const qce=t=>F7=t,Kce=()=>F7,W3=Symbol.for("react-redux-context"),q3=typeof globalThis<"u"?globalThis:{};function Gce(){var t;if(!B.createContext)return{};const e=(t=q3[W3])!=null?t:q3[W3]=new Map;let n=e.get(B.createContext);return n||(n=B.createContext(null),e.set(B.createContext,n)),n}const U7=Gce(),Yce=()=>{throw new Error("uSES not initialized!")};function ti(){return ti=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ti.apply(null,arguments)}function ng(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var V7={exports:{}},wr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ia=typeof Symbol=="function"&&Symbol.for,wF=ia?Symbol.for("react.element"):60103,CF=ia?Symbol.for("react.portal"):60106,MA=ia?Symbol.for("react.fragment"):60107,FA=ia?Symbol.for("react.strict_mode"):60108,UA=ia?Symbol.for("react.profiler"):60114,VA=ia?Symbol.for("react.provider"):60109,BA=ia?Symbol.for("react.context"):60110,SF=ia?Symbol.for("react.async_mode"):60111,$A=ia?Symbol.for("react.concurrent_mode"):60111,HA=ia?Symbol.for("react.forward_ref"):60112,jA=ia?Symbol.for("react.suspense"):60113,Qce=ia?Symbol.for("react.suspense_list"):60120,zA=ia?Symbol.for("react.memo"):60115,WA=ia?Symbol.for("react.lazy"):60116,Xce=ia?Symbol.for("react.block"):60121,Jce=ia?Symbol.for("react.fundamental"):60117,Zce=ia?Symbol.for("react.responder"):60118,efe=ia?Symbol.for("react.scope"):60119;function Ll(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case wF:switch(t=t.type,t){case SF:case $A:case MA:case UA:case FA:case jA:return t;default:switch(t=t&&t.$$typeof,t){case BA:case HA:case WA:case zA:case VA:return t;default:return e}}case CF:return e}}}function B7(t){return Ll(t)===$A}wr.AsyncMode=SF;wr.ConcurrentMode=$A;wr.ContextConsumer=BA;wr.ContextProvider=VA;wr.Element=wF;wr.ForwardRef=HA;wr.Fragment=MA;wr.Lazy=WA;wr.Memo=zA;wr.Portal=CF;wr.Profiler=UA;wr.StrictMode=FA;wr.Suspense=jA;wr.isAsyncMode=function(t){return B7(t)||Ll(t)===SF};wr.isConcurrentMode=B7;wr.isContextConsumer=function(t){return Ll(t)===BA};wr.isContextProvider=function(t){return Ll(t)===VA};wr.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===wF};wr.isForwardRef=function(t){return Ll(t)===HA};wr.isFragment=function(t){return Ll(t)===MA};wr.isLazy=function(t){return Ll(t)===WA};wr.isMemo=function(t){return Ll(t)===zA};wr.isPortal=function(t){return Ll(t)===CF};wr.isProfiler=function(t){return Ll(t)===UA};wr.isStrictMode=function(t){return Ll(t)===FA};wr.isSuspense=function(t){return Ll(t)===jA};wr.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===MA||t===$A||t===UA||t===FA||t===jA||t===Qce||typeof t=="object"&&t!==null&&(t.$$typeof===WA||t.$$typeof===zA||t.$$typeof===VA||t.$$typeof===BA||t.$$typeof===HA||t.$$typeof===Jce||t.$$typeof===Zce||t.$$typeof===efe||t.$$typeof===Xce)};wr.typeOf=Ll;V7.exports=wr;var tfe=V7.exports,TF=tfe,nfe={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},rfe={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},ife={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},$7={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},xF={};xF[TF.ForwardRef]=ife;xF[TF.Memo]=$7;function K3(t){return TF.isMemo(t)?$7:xF[t.$$typeof]||nfe}var ofe=Object.defineProperty,afe=Object.getOwnPropertyNames,G3=Object.getOwnPropertySymbols,sfe=Object.getOwnPropertyDescriptor,lfe=Object.getPrototypeOf,Y3=Object.prototype;function H7(t,e,n){if(typeof e!="string"){if(Y3){var r=lfe(e);r&&r!==Y3&&H7(t,r,n)}var i=afe(e);G3&&(i=i.concat(G3(e)));for(var o=K3(t),a=K3(e),l=0;l<i.length;++l){var u=i[l];if(!rfe[u]&&!(n&&n[u])&&!(a&&a[u])&&!(o&&o[u])){var f=sfe(e,u);try{ofe(t,u,f)}catch{}}}}return t}var ufe=H7;const Q3=ra(ufe);var j7={exports:{}},Cr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AF=Symbol.for("react.element"),IF=Symbol.for("react.portal"),qA=Symbol.for("react.fragment"),KA=Symbol.for("react.strict_mode"),GA=Symbol.for("react.profiler"),YA=Symbol.for("react.provider"),QA=Symbol.for("react.context"),cfe=Symbol.for("react.server_context"),XA=Symbol.for("react.forward_ref"),JA=Symbol.for("react.suspense"),ZA=Symbol.for("react.suspense_list"),eI=Symbol.for("react.memo"),tI=Symbol.for("react.lazy"),ffe=Symbol.for("react.offscreen"),z7;z7=Symbol.for("react.module.reference");function gu(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case AF:switch(t=t.type,t){case qA:case GA:case KA:case JA:case ZA:return t;default:switch(t=t&&t.$$typeof,t){case cfe:case QA:case XA:case tI:case eI:case YA:return t;default:return e}}case IF:return e}}}Cr.ContextConsumer=QA;Cr.ContextProvider=YA;Cr.Element=AF;Cr.ForwardRef=XA;Cr.Fragment=qA;Cr.Lazy=tI;Cr.Memo=eI;Cr.Portal=IF;Cr.Profiler=GA;Cr.StrictMode=KA;Cr.Suspense=JA;Cr.SuspenseList=ZA;Cr.isAsyncMode=function(){return!1};Cr.isConcurrentMode=function(){return!1};Cr.isContextConsumer=function(t){return gu(t)===QA};Cr.isContextProvider=function(t){return gu(t)===YA};Cr.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===AF};Cr.isForwardRef=function(t){return gu(t)===XA};Cr.isFragment=function(t){return gu(t)===qA};Cr.isLazy=function(t){return gu(t)===tI};Cr.isMemo=function(t){return gu(t)===eI};Cr.isPortal=function(t){return gu(t)===IF};Cr.isProfiler=function(t){return gu(t)===GA};Cr.isStrictMode=function(t){return gu(t)===KA};Cr.isSuspense=function(t){return gu(t)===JA};Cr.isSuspenseList=function(t){return gu(t)===ZA};Cr.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===qA||t===GA||t===KA||t===JA||t===ZA||t===ffe||typeof t=="object"&&t!==null&&(t.$$typeof===tI||t.$$typeof===eI||t.$$typeof===YA||t.$$typeof===QA||t.$$typeof===XA||t.$$typeof===z7||t.getModuleId!==void 0)};Cr.typeOf=gu;j7.exports=Cr;var dfe=j7.exports;const hfe=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function pfe(t,e,n,r,{areStatesEqual:i,areOwnPropsEqual:o,areStatePropsEqual:a}){let l=!1,u,f,h,g,y;function w(k,O){return u=k,f=O,h=t(u,f),g=e(r,f),y=n(h,g,f),l=!0,y}function T(){return h=t(u,f),e.dependsOnOwnProps&&(g=e(r,f)),y=n(h,g,f),y}function C(){return t.dependsOnOwnProps&&(h=t(u,f)),e.dependsOnOwnProps&&(g=e(r,f)),y=n(h,g,f),y}function R(){const k=t(u,f),O=!a(k,h);return h=k,O&&(y=n(h,g,f)),y}function I(k,O){const A=!o(O,f),V=!i(k,u,O,f);return u=k,f=O,A&&V?T():A?C():V?R():y}return function(O,A){return l?I(O,A):w(O,A)}}function mfe(t,e){let{initMapStateToProps:n,initMapDispatchToProps:r,initMergeProps:i}=e,o=ng(e,hfe);const a=n(t,o),l=r(t,o),u=i(t,o);return pfe(a,l,u,t,o)}function gfe(t,e){const n={};for(const r in t){const i=t[r];typeof i=="function"&&(n[r]=(...o)=>e(i(...o)))}return n}function CN(t){return function(n){const r=t(n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function X3(t){return t.dependsOnOwnProps?!!t.dependsOnOwnProps:t.length!==1}function W7(t,e){return function(r,{displayName:i}){const o=function(l,u){return o.dependsOnOwnProps?o.mapToProps(l,u):o.mapToProps(l,void 0)};return o.dependsOnOwnProps=!0,o.mapToProps=function(l,u){o.mapToProps=t,o.dependsOnOwnProps=X3(t);let f=o(l,u);return typeof f=="function"&&(o.mapToProps=f,o.dependsOnOwnProps=X3(f),f=o(l,u)),f},o}}function q7(t,e){return(n,r)=>{throw new Error(`Invalid value of type ${typeof t} for ${e} argument when connecting component ${r.wrappedComponentName}.`)}}function vfe(t){return t&&typeof t=="object"?CN(e=>gfe(t,e)):t?typeof t=="function"?W7(t):q7(t,"mapDispatchToProps"):CN(e=>({dispatch:e}))}function yfe(t){return t?typeof t=="function"?W7(t):q7(t,"mapStateToProps"):CN(()=>({}))}function _fe(t,e,n){return ti({},n,t,e)}function bfe(t){return()=>_fe}function Efe(){const t=Kce();let e=null,n=null;return{clear(){e=null,n=null},notify(){t(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=e;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,o=n={callback:r,next:null,prev:n};return o.prev?o.prev.next=o:e=o,function(){!i||e===null||(i=!1,o.next?o.next.prev=o.prev:n=o.prev,o.prev?o.prev.next=o.next:e=o.next)}}}}const J3={notify(){},get:()=>[]};function K7(t,e){let n,r=J3,i=0,o=!1;function a(C){h();const R=r.subscribe(C);let I=!1;return()=>{I||(I=!0,R(),g())}}function l(){r.notify()}function u(){T.onStateChange&&T.onStateChange()}function f(){return o}function h(){i++,n||(n=e?e.addNestedSub(u):t.subscribe(u),r=Efe())}function g(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=J3)}function y(){o||(o=!0,h())}function w(){o&&(o=!1,g())}const T={addNestedSub:a,notifyNestedSubs:l,handleChangeWrapper:u,isSubscribed:f,trySubscribe:y,tryUnsubscribe:w,getListeners:()=>r};return T}const wfe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",JT=wfe?B.useLayoutEffect:B.useEffect;function Z3(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function lR(t,e){if(Z3(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!Z3(t[n[i]],e[n[i]]))return!1;return!0}const Cfe=["reactReduxForwardedRef"];let G7=Yce;const Sfe=t=>{G7=t},Tfe=[null,null];function xfe(t,e,n){JT(()=>t(...e),n)}function Afe(t,e,n,r,i,o){t.current=r,n.current=!1,i.current&&(i.current=null,o())}function Ife(t,e,n,r,i,o,a,l,u,f,h){if(!t)return()=>{};let g=!1,y=null;const w=()=>{if(g||!l.current)return;const C=e.getState();let R,I;try{R=r(C,i.current)}catch(k){I=k,y=k}I||(y=null),R===o.current?a.current||f():(o.current=R,u.current=R,a.current=!0,h())};return n.onStateChange=w,n.trySubscribe(),w(),()=>{if(g=!0,n.tryUnsubscribe(),n.onStateChange=null,y)throw y}}function kfe(t,e){return t===e}function Ys(t,e,n,{pure:r,areStatesEqual:i=kfe,areOwnPropsEqual:o=lR,areStatePropsEqual:a=lR,areMergedPropsEqual:l=lR,forwardRef:u=!1,context:f=U7}={}){const h=f,g=yfe(t),y=vfe(e),w=bfe(),T=!!t;return R=>{const I=R.displayName||R.name||"Component",k=`Connect(${I})`,O={shouldHandleStateChanges:T,displayName:k,wrappedComponentName:I,WrappedComponent:R,initMapStateToProps:g,initMapDispatchToProps:y,initMergeProps:w,areStatesEqual:i,areStatePropsEqual:a,areOwnPropsEqual:o,areMergedPropsEqual:l};function A(P){const[N,$,q]=B.useMemo(()=>{const{reactReduxForwardedRef:Ut}=P,an=ng(P,Cfe);return[P.context,Ut,an]},[P]),z=B.useMemo(()=>N&&N.Consumer&&dfe.isContextConsumer(B.createElement(N.Consumer,null))?N:h,[N,h]),K=B.useContext(z),Q=!!P.store&&!!P.store.getState&&!!P.store.dispatch,Ee=!!K&&!!K.store,he=Q?P.store:K.store,Je=Ee?K.getServerState:he.getState,He=B.useMemo(()=>mfe(he.dispatch,O),[he]),[xe,Te]=B.useMemo(()=>{if(!T)return Tfe;const Ut=K7(he,Q?void 0:K.subscription),an=Ut.notifyNestedSubs.bind(Ut);return[Ut,an]},[he,Q,K]),J=B.useMemo(()=>Q?K:ti({},K,{subscription:xe}),[Q,K,xe]),Ae=B.useRef(),Ne=B.useRef(q),ie=B.useRef(),lt=B.useRef(!1);B.useRef(!1);const Ge=B.useRef(!1),ut=B.useRef();JT(()=>(Ge.current=!0,()=>{Ge.current=!1}),[]);const et=B.useMemo(()=>()=>ie.current&&q===Ne.current?ie.current:He(he.getState(),q),[he,q]),_t=B.useMemo(()=>an=>xe?Ife(T,he,xe,He,Ne,Ae,lt,Ge,ie,Te,an):()=>{},[xe]);xfe(Afe,[Ne,Ae,lt,q,ie,Te]);let xt;try{xt=G7(_t,et,Je?()=>He(Je(),q):et)}catch(Ut){throw ut.current&&(Ut.message+=`
The error may be correlated with this previous error:
${ut.current.stack}

`),Ut}JT(()=>{ut.current=void 0,ie.current=void 0,Ae.current=xt});const Et=B.useMemo(()=>B.createElement(R,ti({},xt,{ref:$})),[$,R,xt]);return B.useMemo(()=>T?B.createElement(z.Provider,{value:J},Et):Et,[z,Et,J])}const D=B.memo(A);if(D.WrappedComponent=R,D.displayName=A.displayName=k,u){const N=B.forwardRef(function(q,z){return B.createElement(D,ti({},q,{reactReduxForwardedRef:z}))});return N.displayName=k,N.WrappedComponent=R,Q3(N,R)}return Q3(D,R)}}function Rfe({store:t,context:e,children:n,serverState:r,stabilityCheck:i="once",noopCheck:o="once"}){const a=B.useMemo(()=>{const f=K7(t);return{store:t,subscription:f,getServerState:r?()=>r:void 0,stabilityCheck:i,noopCheck:o}},[t,r,i,o]),l=B.useMemo(()=>t.getState(),[t]);JT(()=>{const{subscription:f}=a;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),l!==t.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[a,l]);const u=e||U7;return B.createElement(u.Provider,{value:a},n)}Sfe(M7.useSyncExternalStore);qce(md.unstable_batchedUpdates);function SN(t,e){return SN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},SN(t,e)}function ic(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,SN(t,e)}var Y7={exports:{}},Ofe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Pfe=Ofe,Nfe=Pfe;function Q7(){}function X7(){}X7.resetWarningCache=Q7;var Lfe=function(){function t(r,i,o,a,l,u){if(u!==Nfe){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:X7,resetWarningCache:Q7};return n.PropTypes=n,n};Y7.exports=Lfe();var Dfe=Y7.exports;const de=ra(Dfe);function XC(t){return t.charAt(0)==="/"}function uR(t,e){for(var n=e,r=n+1,i=t.length;r<i;n+=1,r+=1)t[n]=t[r];t.pop()}function Mfe(t,e){e===void 0&&(e="");var n=t&&t.split("/")||[],r=e&&e.split("/")||[],i=t&&XC(t),o=e&&XC(e),a=i||o;if(t&&XC(t)?r=n:n.length&&(r.pop(),r=r.concat(n)),!r.length)return"/";var l;if(r.length){var u=r[r.length-1];l=u==="."||u===".."||u===""}else l=!1;for(var f=0,h=r.length;h>=0;h--){var g=r[h];g==="."?uR(r,h):g===".."?(uR(r,h),f++):f&&(uR(r,h),f--)}if(!a)for(;f--;f)r.unshift("..");a&&r[0]!==""&&(!r[0]||!XC(r[0]))&&r.unshift("");var y=r.join("/");return l&&y.substr(-1)!=="/"&&(y+="/"),y}function e$(t){return t.valueOf?t.valueOf():Object.prototype.valueOf.call(t)}function JS(t,e){if(t===e)return!0;if(t==null||e==null)return!1;if(Array.isArray(t))return Array.isArray(e)&&t.length===e.length&&t.every(function(i,o){return JS(i,e[o])});if(typeof t=="object"||typeof e=="object"){var n=e$(t),r=e$(e);return n!==t||r!==e?JS(n,r):Object.keys(Object.assign({},t,e)).every(function(i){return JS(t[i],e[i])})}return!1}var Ffe="Invariant failed";function fp(t,e){throw new Error(Ffe)}function n0(t){return t.charAt(0)==="/"?t:"/"+t}function t$(t){return t.charAt(0)==="/"?t.substr(1):t}function Ufe(t,e){return t.toLowerCase().indexOf(e.toLowerCase())===0&&"/?#".indexOf(t.charAt(e.length))!==-1}function J7(t,e){return Ufe(t,e)?t.substr(e.length):t}function Z7(t){return t.charAt(t.length-1)==="/"?t.slice(0,-1):t}function Vfe(t){var e=t||"/",n="",r="",i=e.indexOf("#");i!==-1&&(r=e.substr(i),e=e.substr(0,i));var o=e.indexOf("?");return o!==-1&&(n=e.substr(o),e=e.substr(0,o)),{pathname:e,search:n==="?"?"":n,hash:r==="#"?"":r}}function Ls(t){var e=t.pathname,n=t.search,r=t.hash,i=e||"/";return n&&n!=="?"&&(i+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(i+=r.charAt(0)==="#"?r:"#"+r),i}function cs(t,e,n,r){var i;typeof t=="string"?(i=Vfe(t),i.state=e):(i=ti({},t),i.pathname===void 0&&(i.pathname=""),i.search?i.search.charAt(0)!=="?"&&(i.search="?"+i.search):i.search="",i.hash?i.hash.charAt(0)!=="#"&&(i.hash="#"+i.hash):i.hash="",e!==void 0&&i.state===void 0&&(i.state=e));try{i.pathname=decodeURI(i.pathname)}catch(o){throw o instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):o}return n&&(i.key=n),r?i.pathname?i.pathname.charAt(0)!=="/"&&(i.pathname=Mfe(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function Bfe(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.hash===e.hash&&t.key===e.key&&JS(t.state,e.state)}function kF(){var t=null;function e(a){return t=a,function(){t===a&&(t=null)}}function n(a,l,u,f){if(t!=null){var h=typeof t=="function"?t(a,l):t;typeof h=="string"?typeof u=="function"?u(h,f):f(!0):f(h!==!1)}else f(!0)}var r=[];function i(a){var l=!0;function u(){l&&a.apply(void 0,arguments)}return r.push(u),function(){l=!1,r=r.filter(function(f){return f!==u})}}function o(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];r.forEach(function(f){return f.apply(void 0,l)})}return{setPrompt:e,confirmTransitionTo:n,appendListener:i,notifyListeners:o}}var eq=!!(typeof window<"u"&&window.document&&window.document.createElement);function tq(t,e){e(window.confirm(t))}function $fe(){var t=window.navigator.userAgent;return(t.indexOf("Android 2.")!==-1||t.indexOf("Android 4.0")!==-1)&&t.indexOf("Mobile Safari")!==-1&&t.indexOf("Chrome")===-1&&t.indexOf("Windows Phone")===-1?!1:window.history&&"pushState"in window.history}function Hfe(){return window.navigator.userAgent.indexOf("Trident")===-1}function jfe(){return window.navigator.userAgent.indexOf("Firefox")===-1}function zfe(t){return t.state===void 0&&navigator.userAgent.indexOf("CriOS")===-1}var n$="popstate",r$="hashchange";function i$(){try{return window.history.state||{}}catch{return{}}}function Wfe(t){t===void 0&&(t={}),eq||fp();var e=window.history,n=$fe(),r=!Hfe(),i=t,o=i.forceRefresh,a=o===void 0?!1:o,l=i.getUserConfirmation,u=l===void 0?tq:l,f=i.keyLength,h=f===void 0?6:f,g=t.basename?Z7(n0(t.basename)):"";function y(Te){var J=Te||{},Ae=J.key,Ne=J.state,ie=window.location,lt=ie.pathname,Ge=ie.search,ut=ie.hash,et=lt+Ge+ut;return g&&(et=J7(et,g)),cs(et,Ne,Ae)}function w(){return Math.random().toString(36).substr(2,h)}var T=kF();function C(Te){ti(xe,Te),xe.length=e.length,T.notifyListeners(xe.location,xe.action)}function R(Te){zfe(Te)||O(y(Te.state))}function I(){O(y(i$()))}var k=!1;function O(Te){if(k)k=!1,C();else{var J="POP";T.confirmTransitionTo(Te,J,u,function(Ae){Ae?C({action:J,location:Te}):A(Te)})}}function A(Te){var J=xe.location,Ae=D.indexOf(J.key);Ae===-1&&(Ae=0);var Ne=D.indexOf(Te.key);Ne===-1&&(Ne=0);var ie=Ae-Ne;ie&&(k=!0,q(ie))}var V=y(i$()),D=[V.key];function P(Te){return g+Ls(Te)}function N(Te,J){var Ae="PUSH",Ne=cs(Te,J,w(),xe.location);T.confirmTransitionTo(Ne,Ae,u,function(ie){if(ie){var lt=P(Ne),Ge=Ne.key,ut=Ne.state;if(n)if(e.pushState({key:Ge,state:ut},null,lt),a)window.location.href=lt;else{var et=D.indexOf(xe.location.key),_t=D.slice(0,et+1);_t.push(Ne.key),D=_t,C({action:Ae,location:Ne})}else window.location.href=lt}})}function $(Te,J){var Ae="REPLACE",Ne=cs(Te,J,w(),xe.location);T.confirmTransitionTo(Ne,Ae,u,function(ie){if(ie){var lt=P(Ne),Ge=Ne.key,ut=Ne.state;if(n)if(e.replaceState({key:Ge,state:ut},null,lt),a)window.location.replace(lt);else{var et=D.indexOf(xe.location.key);et!==-1&&(D[et]=Ne.key),C({action:Ae,location:Ne})}else window.location.replace(lt)}})}function q(Te){e.go(Te)}function z(){q(-1)}function K(){q(1)}var Q=0;function Ee(Te){Q+=Te,Q===1&&Te===1?(window.addEventListener(n$,R),r&&window.addEventListener(r$,I)):Q===0&&(window.removeEventListener(n$,R),r&&window.removeEventListener(r$,I))}var he=!1;function Je(Te){Te===void 0&&(Te=!1);var J=T.setPrompt(Te);return he||(Ee(1),he=!0),function(){return he&&(he=!1,Ee(-1)),J()}}function He(Te){var J=T.appendListener(Te);return Ee(1),function(){Ee(-1),J()}}var xe={length:e.length,action:"POP",location:V,createHref:P,push:N,replace:$,go:q,goBack:z,goForward:K,block:Je,listen:He};return xe}var o$="hashchange",qfe={hashbang:{encodePath:function(e){return e.charAt(0)==="!"?e:"!/"+t$(e)},decodePath:function(e){return e.charAt(0)==="!"?e.substr(1):e}},noslash:{encodePath:t$,decodePath:n0},slash:{encodePath:n0,decodePath:n0}};function nq(t){var e=t.indexOf("#");return e===-1?t:t.slice(0,e)}function fb(){var t=window.location.href,e=t.indexOf("#");return e===-1?"":t.substring(e+1)}function Kfe(t){window.location.hash=t}function cR(t){window.location.replace(nq(window.location.href)+"#"+t)}function Gfe(t){t===void 0&&(t={}),eq||fp();var e=window.history;jfe();var n=t,r=n.getUserConfirmation,i=r===void 0?tq:r,o=n.hashType,a=o===void 0?"slash":o,l=t.basename?Z7(n0(t.basename)):"",u=qfe[a],f=u.encodePath,h=u.decodePath;function g(){var J=h(fb());return l&&(J=J7(J,l)),cs(J)}var y=kF();function w(J){ti(Te,J),Te.length=e.length,y.notifyListeners(Te.location,Te.action)}var T=!1,C=null;function R(J,Ae){return J.pathname===Ae.pathname&&J.search===Ae.search&&J.hash===Ae.hash}function I(){var J=fb(),Ae=f(J);if(J!==Ae)cR(Ae);else{var Ne=g(),ie=Te.location;if(!T&&R(ie,Ne)||C===Ls(Ne))return;C=null,k(Ne)}}function k(J){if(T)T=!1,w();else{var Ae="POP";y.confirmTransitionTo(J,Ae,i,function(Ne){Ne?w({action:Ae,location:J}):O(J)})}}function O(J){var Ae=Te.location,Ne=P.lastIndexOf(Ls(Ae));Ne===-1&&(Ne=0);var ie=P.lastIndexOf(Ls(J));ie===-1&&(ie=0);var lt=Ne-ie;lt&&(T=!0,z(lt))}var A=fb(),V=f(A);A!==V&&cR(V);var D=g(),P=[Ls(D)];function N(J){var Ae=document.querySelector("base"),Ne="";return Ae&&Ae.getAttribute("href")&&(Ne=nq(window.location.href)),Ne+"#"+f(l+Ls(J))}function $(J,Ae){var Ne="PUSH",ie=cs(J,void 0,void 0,Te.location);y.confirmTransitionTo(ie,Ne,i,function(lt){if(lt){var Ge=Ls(ie),ut=f(l+Ge),et=fb()!==ut;if(et){C=Ge,Kfe(ut);var _t=P.lastIndexOf(Ls(Te.location)),xt=P.slice(0,_t+1);xt.push(Ge),P=xt,w({action:Ne,location:ie})}else w()}})}function q(J,Ae){var Ne="REPLACE",ie=cs(J,void 0,void 0,Te.location);y.confirmTransitionTo(ie,Ne,i,function(lt){if(lt){var Ge=Ls(ie),ut=f(l+Ge),et=fb()!==ut;et&&(C=Ge,cR(ut));var _t=P.indexOf(Ls(Te.location));_t!==-1&&(P[_t]=Ge),w({action:Ne,location:ie})}})}function z(J){e.go(J)}function K(){z(-1)}function Q(){z(1)}var Ee=0;function he(J){Ee+=J,Ee===1&&J===1?window.addEventListener(o$,I):Ee===0&&window.removeEventListener(o$,I)}var Je=!1;function He(J){J===void 0&&(J=!1);var Ae=y.setPrompt(J);return Je||(he(1),Je=!0),function(){return Je&&(Je=!1,he(-1)),Ae()}}function xe(J){var Ae=y.appendListener(J);return he(1),function(){he(-1),Ae()}}var Te={length:e.length,action:"POP",location:D,createHref:N,push:$,replace:q,go:z,goBack:K,goForward:Q,block:He,listen:xe};return Te}function a$(t,e,n){return Math.min(Math.max(t,e),n)}function Yfe(t){t===void 0&&(t={});var e=t,n=e.getUserConfirmation,r=e.initialEntries,i=r===void 0?["/"]:r,o=e.initialIndex,a=o===void 0?0:o,l=e.keyLength,u=l===void 0?6:l,f=kF();function h(N){ti(P,N),P.length=P.entries.length,f.notifyListeners(P.location,P.action)}function g(){return Math.random().toString(36).substr(2,u)}var y=a$(a,0,i.length-1),w=i.map(function(N){return typeof N=="string"?cs(N,void 0,g()):cs(N,void 0,N.key||g())}),T=Ls;function C(N,$){var q="PUSH",z=cs(N,$,g(),P.location);f.confirmTransitionTo(z,q,n,function(K){if(K){var Q=P.index,Ee=Q+1,he=P.entries.slice(0);he.length>Ee?he.splice(Ee,he.length-Ee,z):he.push(z),h({action:q,location:z,index:Ee,entries:he})}})}function R(N,$){var q="REPLACE",z=cs(N,$,g(),P.location);f.confirmTransitionTo(z,q,n,function(K){K&&(P.entries[P.index]=z,h({action:q,location:z}))})}function I(N){var $=a$(P.index+N,0,P.entries.length-1),q="POP",z=P.entries[$];f.confirmTransitionTo(z,q,n,function(K){K?h({action:q,location:z,index:$}):h()})}function k(){I(-1)}function O(){I(1)}function A(N){var $=P.index+N;return $>=0&&$<P.entries.length}function V(N){return N===void 0&&(N=!1),f.setPrompt(N)}function D(N){return f.appendListener(N)}var P={length:w.length,action:"POP",location:w[y],index:y,entries:w,createHref:T,push:C,replace:R,go:I,goBack:k,goForward:O,canGo:A,block:V,listen:D};return P}var $y={exports:{}},Qfe=Array.isArray||function(t){return Object.prototype.toString.call(t)=="[object Array]"},ZT=Qfe;$y.exports=oq;$y.exports.parse=RF;$y.exports.compile=Zfe;$y.exports.tokensToFunction=rq;$y.exports.tokensToRegExp=iq;var Xfe=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function RF(t,e){for(var n=[],r=0,i=0,o="",a=e&&e.delimiter||"/",l;(l=Xfe.exec(t))!=null;){var u=l[0],f=l[1],h=l.index;if(o+=t.slice(i,h),i=h+u.length,f){o+=f[1];continue}var g=t[i],y=l[2],w=l[3],T=l[4],C=l[5],R=l[6],I=l[7];o&&(n.push(o),o="");var k=y!=null&&g!=null&&g!==y,O=R==="+"||R==="*",A=R==="?"||R==="*",V=y||a,D=T||C,P=y||(typeof n[n.length-1]=="string"?n[n.length-1]:"");n.push({name:w||r++,prefix:y||"",delimiter:V,optional:A,repeat:O,partial:k,asterisk:!!I,pattern:D?nde(D):I?".*":Jfe(V,P)})}return i<t.length&&(o+=t.substr(i)),o&&n.push(o),n}function Jfe(t,e){return!e||e.indexOf(t)>-1?"[^"+pm(t)+"]+?":pm(e)+"|(?:(?!"+pm(e)+")[^"+pm(t)+"])+?"}function Zfe(t,e){return rq(RF(t,e),e)}function ede(t){return encodeURI(t).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function tde(t){return encodeURI(t).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function rq(t,e){for(var n=new Array(t.length),r=0;r<t.length;r++)typeof t[r]=="object"&&(n[r]=new RegExp("^(?:"+t[r].pattern+")$",PF(e)));return function(i,o){for(var a="",l=i||{},u=o||{},f=u.pretty?ede:encodeURIComponent,h=0;h<t.length;h++){var g=t[h];if(typeof g=="string"){a+=g;continue}var y=l[g.name],w;if(y==null)if(g.optional){g.partial&&(a+=g.prefix);continue}else throw new TypeError('Expected "'+g.name+'" to be defined');if(ZT(y)){if(!g.repeat)throw new TypeError('Expected "'+g.name+'" to not repeat, but received `'+JSON.stringify(y)+"`");if(y.length===0){if(g.optional)continue;throw new TypeError('Expected "'+g.name+'" to not be empty')}for(var T=0;T<y.length;T++){if(w=f(y[T]),!n[h].test(w))throw new TypeError('Expected all "'+g.name+'" to match "'+g.pattern+'", but received `'+JSON.stringify(w)+"`");a+=(T===0?g.prefix:g.delimiter)+w}continue}if(w=g.asterisk?tde(y):f(y),!n[h].test(w))throw new TypeError('Expected "'+g.name+'" to match "'+g.pattern+'", but received "'+w+'"');a+=g.prefix+w}return a}}function pm(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function nde(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function OF(t,e){return t.keys=e,t}function PF(t){return t&&t.sensitive?"":"i"}function rde(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return OF(t,e)}function ide(t,e,n){for(var r=[],i=0;i<t.length;i++)r.push(oq(t[i],e,n).source);var o=new RegExp("(?:"+r.join("|")+")",PF(n));return OF(o,e)}function ode(t,e,n){return iq(RF(t,n),e,n)}function iq(t,e,n){ZT(e)||(n=e||n,e=[]),n=n||{};for(var r=n.strict,i=n.end!==!1,o="",a=0;a<t.length;a++){var l=t[a];if(typeof l=="string")o+=pm(l);else{var u=pm(l.prefix),f="(?:"+l.pattern+")";e.push(l),l.repeat&&(f+="(?:"+u+f+")*"),l.optional?l.partial?f=u+"("+f+")?":f="(?:"+u+"("+f+"))?":f=u+"("+f+")",o+=f}}var h=pm(n.delimiter||"/"),g=o.slice(-h.length)===h;return r||(o=(g?o.slice(0,-h.length):o)+"(?:"+h+"(?=$))?"),i?o+="$":o+=r&&g?"":"(?="+h+"|$)",OF(new RegExp("^"+o,PF(n)),e)}function oq(t,e,n){return ZT(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?rde(t,e):ZT(t)?ide(t,e,n):ode(t,e,n)}var ade=$y.exports;const aq=ra(ade);var xr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oa=typeof Symbol=="function"&&Symbol.for,NF=oa?Symbol.for("react.element"):60103,LF=oa?Symbol.for("react.portal"):60106,nI=oa?Symbol.for("react.fragment"):60107,rI=oa?Symbol.for("react.strict_mode"):60108,iI=oa?Symbol.for("react.profiler"):60114,oI=oa?Symbol.for("react.provider"):60109,aI=oa?Symbol.for("react.context"):60110,DF=oa?Symbol.for("react.async_mode"):60111,sI=oa?Symbol.for("react.concurrent_mode"):60111,lI=oa?Symbol.for("react.forward_ref"):60112,uI=oa?Symbol.for("react.suspense"):60113,sde=oa?Symbol.for("react.suspense_list"):60120,cI=oa?Symbol.for("react.memo"):60115,fI=oa?Symbol.for("react.lazy"):60116,lde=oa?Symbol.for("react.block"):60121,ude=oa?Symbol.for("react.fundamental"):60117,cde=oa?Symbol.for("react.responder"):60118,fde=oa?Symbol.for("react.scope"):60119;function Dl(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case NF:switch(t=t.type,t){case DF:case sI:case nI:case iI:case rI:case uI:return t;default:switch(t=t&&t.$$typeof,t){case aI:case lI:case fI:case cI:case oI:return t;default:return e}}case LF:return e}}}function sq(t){return Dl(t)===sI}xr.AsyncMode=DF;xr.ConcurrentMode=sI;xr.ContextConsumer=aI;xr.ContextProvider=oI;xr.Element=NF;xr.ForwardRef=lI;xr.Fragment=nI;xr.Lazy=fI;xr.Memo=cI;xr.Portal=LF;xr.Profiler=iI;xr.StrictMode=rI;xr.Suspense=uI;xr.isAsyncMode=function(t){return sq(t)||Dl(t)===DF};xr.isConcurrentMode=sq;xr.isContextConsumer=function(t){return Dl(t)===aI};xr.isContextProvider=function(t){return Dl(t)===oI};xr.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===NF};xr.isForwardRef=function(t){return Dl(t)===lI};xr.isFragment=function(t){return Dl(t)===nI};xr.isLazy=function(t){return Dl(t)===fI};xr.isMemo=function(t){return Dl(t)===cI};xr.isPortal=function(t){return Dl(t)===LF};xr.isProfiler=function(t){return Dl(t)===iI};xr.isStrictMode=function(t){return Dl(t)===rI};xr.isSuspense=function(t){return Dl(t)===uI};xr.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===nI||t===sI||t===iI||t===rI||t===uI||t===sde||typeof t=="object"&&t!==null&&(t.$$typeof===fI||t.$$typeof===cI||t.$$typeof===oI||t.$$typeof===aI||t.$$typeof===lI||t.$$typeof===ude||t.$$typeof===cde||t.$$typeof===fde||t.$$typeof===lde)};xr.typeOf=Dl;var fR=1073741823,s$=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{};function dde(){var t="__global_unique_id__";return s$[t]=(s$[t]||0)+1}function hde(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function pde(t){var e=[];return{on:function(r){e.push(r)},off:function(r){e=e.filter(function(i){return i!==r})},get:function(){return t},set:function(r,i){t=r,e.forEach(function(o){return o(t,i)})}}}function mde(t){return Array.isArray(t)?t[0]:t}function gde(t,e){var n,r,i="__create-react-context-"+dde()+"__",o=function(l){ic(u,l);function u(){for(var h,g=arguments.length,y=new Array(g),w=0;w<g;w++)y[w]=arguments[w];return h=l.call.apply(l,[this].concat(y))||this,h.emitter=pde(h.props.value),h}var f=u.prototype;return f.getChildContext=function(){var g;return g={},g[i]=this.emitter,g},f.componentWillReceiveProps=function(g){if(this.props.value!==g.value){var y=this.props.value,w=g.value,T;hde(y,w)?T=0:(T=typeof e=="function"?e(y,w):fR,T|=0,T!==0&&this.emitter.set(g.value,T))}},f.render=function(){return this.props.children},u}(Y.Component);o.childContextTypes=(n={},n[i]=de.object.isRequired,n);var a=function(l){ic(u,l);function u(){for(var h,g=arguments.length,y=new Array(g),w=0;w<g;w++)y[w]=arguments[w];return h=l.call.apply(l,[this].concat(y))||this,h.observedBits=void 0,h.state={value:h.getValue()},h.onUpdate=function(T,C){var R=h.observedBits|0;R&C&&h.setState({value:h.getValue()})},h}var f=u.prototype;return f.componentWillReceiveProps=function(g){var y=g.observedBits;this.observedBits=y??fR},f.componentDidMount=function(){this.context[i]&&this.context[i].on(this.onUpdate);var g=this.props.observedBits;this.observedBits=g??fR},f.componentWillUnmount=function(){this.context[i]&&this.context[i].off(this.onUpdate)},f.getValue=function(){return this.context[i]?this.context[i].get():t},f.render=function(){return mde(this.props.children)(this.state.value)},u}(Y.Component);return a.contextTypes=(r={},r[i]=de.object,r),{Provider:o,Consumer:a}}var vde=Y.createContext||gde,lq=function(e){var n=vde();return n.displayName=e,n},uq=lq("Router-History"),df=lq("Router"),dI=function(t){ic(e,t),e.computeRootMatch=function(i){return{path:"/",url:"/",params:{},isExact:i==="/"}};function e(r){var i;return i=t.call(this,r)||this,i.state={location:r.history.location},i._isMounted=!1,i._pendingLocation=null,r.staticContext||(i.unlisten=r.history.listen(function(o){i._pendingLocation=o})),i}var n=e.prototype;return n.componentDidMount=function(){var i=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen(function(o){i._isMounted&&i.setState({location:o})})),this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},n.render=function(){return Y.createElement(df.Provider,{value:{history:this.props.history,location:this.state.location,match:e.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},Y.createElement(uq.Provider,{children:this.props.children||null,value:this.props.history}))},e}(Y.Component);Y.Component;var yde=function(t){ic(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(i){this.props.onUpdate&&this.props.onUpdate.call(this,this,i)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},e}(Y.Component),dR={},_de=1e4,l$=0;function bde(t){if(dR[t])return dR[t];var e=aq.compile(t);return l$<_de&&(dR[t]=e,l$++),e}function u$(t,e){return t===void 0&&(t="/"),e===void 0&&(e={}),t==="/"?t:bde(t)(e,{pretty:!0})}function Ju(t){var e=t.computedMatch,n=t.to,r=t.push,i=r===void 0?!1:r;return Y.createElement(df.Consumer,null,function(o){o||fp();var a=o.history,l=o.staticContext,u=i?a.push:a.replace,f=cs(e?typeof n=="string"?u$(n,e.params):ti({},n,{pathname:u$(n.pathname,e.params)}):n);return l?(u(f),null):Y.createElement(yde,{onMount:function(){u(f)},onUpdate:function(g,y){var w=cs(y.to);Bfe(w,ti({},f,{key:w.key}))||u(f)},to:n})})}var c$={},Ede=1e4,f$=0;function wde(t,e){var n=""+e.end+e.strict+e.sensitive,r=c$[n]||(c$[n]={});if(r[t])return r[t];var i=[],o=aq(t,i,e),a={regexp:o,keys:i};return f$<Ede&&(r[t]=a,f$++),a}function Wh(t,e){e===void 0&&(e={}),(typeof e=="string"||Array.isArray(e))&&(e={path:e});var n=e,r=n.path,i=n.exact,o=i===void 0?!1:i,a=n.strict,l=a===void 0?!1:a,u=n.sensitive,f=u===void 0?!1:u,h=[].concat(r);return h.reduce(function(g,y){if(!y&&y!=="")return null;if(g)return g;var w=wde(y,{end:o,strict:l,sensitive:f}),T=w.regexp,C=w.keys,R=T.exec(t);if(!R)return null;var I=R[0],k=R.slice(1),O=t===I;return o&&!O?null:{path:y,url:y==="/"&&I===""?"/":I,isExact:O,params:C.reduce(function(A,V,D){return A[V.name]=k[D],A},{})}},null)}function Cde(t){return Y.Children.count(t)===0}var ms=function(t){ic(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.render=function(){var i=this;return Y.createElement(df.Consumer,null,function(o){o||fp();var a=i.props.location||o.location,l=i.props.computedMatch?i.props.computedMatch:i.props.path?Wh(a.pathname,i.props):o.match,u=ti({},o,{location:a,match:l}),f=i.props,h=f.children,g=f.component,y=f.render;return Array.isArray(h)&&Cde(h)&&(h=null),Y.createElement(df.Provider,{value:u},u.match?h?typeof h=="function"?h(u):h:g?Y.createElement(g,u):y?y(u):null:typeof h=="function"?h(u):null)})},e}(Y.Component);function MF(t){return t.charAt(0)==="/"?t:"/"+t}function Sde(t,e){return t?ti({},e,{pathname:MF(t)+e.pathname}):e}function Tde(t,e){if(!t)return e;var n=MF(t);return e.pathname.indexOf(n)!==0?e:ti({},e,{pathname:e.pathname.substr(n.length)})}function d$(t){return typeof t=="string"?t:Ls(t)}function hR(t){return function(){fp()}}function h$(){}Y.Component;var dp=function(t){ic(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.render=function(){var i=this;return Y.createElement(df.Consumer,null,function(o){o||fp();var a=i.props.location||o.location,l,u;return Y.Children.forEach(i.props.children,function(f){if(u==null&&Y.isValidElement(f)){l=f;var h=f.props.path||f.props.from;u=h?Wh(a.pathname,ti({},f.props,{path:h})):o.match}}),u?Y.cloneElement(l,{location:a,computedMatch:u}):null})},e}(Y.Component),hI=Y.useContext;function yf(){return hI(uq)}function _f(){return hI(df).location}function pI(){var t=hI(df).match;return t?t.params:{}}function Hy(t){_f();var e=hI(df).match;return e}var xde=function(t){ic(e,t);function e(){for(var r,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o))||this,r.history=Wfe(r.props),r}var n=e.prototype;return n.render=function(){return Y.createElement(dI,{history:this.history,children:this.props.children})},e}(Y.Component);Y.Component;var TN=function(e,n){return typeof e=="function"?e(n):e},xN=function(e,n){return typeof e=="string"?cs(e,null,null,n):e},FF=function(e){return e},hy=Y.forwardRef;typeof hy>"u"&&(hy=FF);function Ade(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}var Ide=hy(function(t,e){var n=t.innerRef,r=t.navigate,i=t.onClick,o=ng(t,["innerRef","navigate","onClick"]),a=o.target,l=ti({},o,{onClick:function(f){try{i&&i(f)}catch(h){throw f.preventDefault(),h}!f.defaultPrevented&&f.button===0&&(!a||a==="_self")&&!Ade(f)&&(f.preventDefault(),r())}});return FF!==hy?l.ref=e||n:l.ref=n,Y.createElement("a",l)}),du=hy(function(t,e){var n=t.component,r=n===void 0?Ide:n,i=t.replace,o=t.to,a=t.innerRef,l=ng(t,["component","replace","to","innerRef"]);return Y.createElement(df.Consumer,null,function(u){u||fp();var f=u.history,h=xN(TN(o,u.location),u.location),g=h?f.createHref(h):"",y=ti({},l,{href:g,navigate:function(){var T=TN(o,u.location),C=Ls(u.location)===Ls(xN(T)),R=i||C?f.replace:f.push;R(T)}});return FF!==hy?y.ref=e||a:y.innerRef=a,Y.createElement(r,y)})}),cq=function(e){return e},ex=Y.forwardRef;typeof ex>"u"&&(ex=cq);function kde(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.filter(function(r){return r}).join(" ")}var fq=ex(function(t,e){var n=t["aria-current"],r=n===void 0?"page":n,i=t.activeClassName,o=i===void 0?"active":i,a=t.activeStyle,l=t.className,u=t.exact,f=t.isActive,h=t.location,g=t.sensitive,y=t.strict,w=t.style,T=t.to,C=t.innerRef,R=ng(t,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return Y.createElement(df.Consumer,null,function(I){I||fp();var k=h||I.location,O=xN(TN(T,k),k),A=O.pathname,V=A&&A.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),D=V?Wh(k.pathname,{path:V,exact:u,sensitive:g,strict:y}):null,P=!!(f?f(D,k):D),N=typeof l=="function"?l(P):l,$=typeof w=="function"?w(P):w;P&&(N=kde(N,o),$=ti({},$,a));var q=ti({"aria-current":P&&r||null,className:N,style:$,to:O},R);return cq!==ex?q.ref=e||C:q.innerRef=C,Y.createElement(du,q)})});/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var tx;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(tx||(tx={}));function Il(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function dq(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function UF(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}var p$;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(p$||(p$={}));function Rde(t,e,n){return n===void 0&&(n="/"),Ode(t,e,n)}function Ode(t,e,n,r){let i=typeof e=="string"?UF(e):e,o=mq(i.pathname||"/",n);if(o==null)return null;let a=hq(t);Pde(a);let l=null;for(let u=0;l==null&&u<a.length;++u){let f=zde(o);l=$de(a[u],f)}return l}function hq(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,a,l)=>{let u={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};u.relativePath.startsWith("/")&&(Il(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let f=Bv([r,u.relativePath]),h=n.concat(u);o.children&&o.children.length>0&&(Il(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),hq(o.children,e,h,f)),!(o.path==null&&!o.index)&&e.push({path:f,score:Vde(f,o.index),routesMeta:h})};return t.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))i(o,a);else for(let u of pq(o.path))i(o,a,u)}),e}function pq(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=pq(r.join("/")),l=[];return l.push(...a.map(u=>u===""?o:[o,u].join("/"))),i&&l.push(...a),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function Pde(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Bde(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Nde=/^:[\w-]+$/,Lde=3,Dde=2,Mde=1,Fde=10,Ude=-2,m$=t=>t==="*";function Vde(t,e){let n=t.split("/"),r=n.length;return n.some(m$)&&(r+=Ude),e&&(r+=Dde),n.filter(i=>!m$(i)).reduce((i,o)=>i+(Nde.test(o)?Lde:o===""?Mde:Fde),r)}function Bde(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function $de(t,e,n){let{routesMeta:r}=t,i={},o="/",a=[];for(let l=0;l<r.length;++l){let u=r[l],f=l===r.length-1,h=o==="/"?e:e.slice(o.length)||"/",g=Hde({path:u.relativePath,caseSensitive:u.caseSensitive,end:f},h),y=u.route;if(!g)return null;Object.assign(i,g.params),a.push({params:i,pathname:Bv([o,g.pathname]),pathnameBase:Wde(Bv([o,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(o=Bv([o,g.pathnameBase]))}return a}function Hde(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=jde(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((f,h,g)=>{let{paramName:y,isOptional:w}=h;if(y==="*"){let C=l[g]||"";a=o.slice(0,o.length-C.length).replace(/(.)\/+$/,"$1")}const T=l[g];return w&&!T?f[y]=void 0:f[y]=(T||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:a,pattern:t}}function jde(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),dq(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function zde(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return dq(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function mq(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const Bv=t=>t.join("/").replace(/\/\/+/g,"/"),Wde=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/");function qde(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const gq=["post","put","patch","delete"];new Set(gq);const Kde=["get",...gq];new Set(Kde);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nx(){return nx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nx.apply(this,arguments)}const Gde=B.createContext(null),Yde=B.createContext(null),vq=B.createContext(null),mI=B.createContext(null),gI=B.createContext({outlet:null,matches:[],isDataRoute:!1}),yq=B.createContext(null);function VF(){return B.useContext(mI)!=null}function Qde(){return VF()||Il(!1),B.useContext(mI).location}function Xde(t,e){return Jde(t,e)}function Jde(t,e,n,r){VF()||Il(!1);let{navigator:i,static:o}=B.useContext(vq),{matches:a}=B.useContext(gI),l=a[a.length-1],u=l?l.params:{};l&&l.pathname;let f=l?l.pathnameBase:"/";l&&l.route;let h=Qde(),g;if(e){var y;let I=typeof e=="string"?UF(e):e;f==="/"||(y=I.pathname)!=null&&y.startsWith(f)||Il(!1),g=I}else g=h;let w=g.pathname||"/",T=w;if(f!=="/"){let I=f.replace(/^\//,"").split("/");T="/"+w.replace(/^\//,"").split("/").slice(I.length).join("/")}let C=Rde(t,{pathname:T}),R=rhe(C&&C.map(I=>Object.assign({},I,{params:Object.assign({},u,I.params),pathname:Bv([f,i.encodeLocation?i.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?f:Bv([f,i.encodeLocation?i.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),a,n,r);return e&&R?B.createElement(mI.Provider,{value:{location:nx({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:tx.Pop}},R):R}function Zde(){let t=she(),e=qde(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),n?B.createElement("pre",{style:i},n):null,null)}const ehe=B.createElement(Zde,null);class the extends B.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?B.createElement(gI.Provider,{value:this.props.routeContext},B.createElement(yq.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function nhe(t){let{routeContext:e,match:n,children:r}=t,i=B.useContext(Gde);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),B.createElement(gI.Provider,{value:e},r)}function rhe(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let h=a.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);h>=0||Il(!1),a=a.slice(0,Math.min(a.length,h+1))}let u=!1,f=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<a.length;h++){let g=a[h];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=h),g.route.id){let{loaderData:y,errors:w}=n,T=g.route.loader&&y[g.route.id]===void 0&&(!w||w[g.route.id]===void 0);if(g.route.lazy||T){u=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((h,g,y)=>{let w,T=!1,C=null,R=null;n&&(w=l&&g.route.id?l[g.route.id]:void 0,C=g.route.errorElement||ehe,u&&(f<0&&y===0?(lhe("route-fallback"),T=!0,R=null):f===y&&(T=!0,R=g.route.hydrateFallbackElement||null)));let I=e.concat(a.slice(0,y+1)),k=()=>{let O;return w?O=C:T?O=R:g.route.Component?O=B.createElement(g.route.Component,null):g.route.element?O=g.route.element:O=h,B.createElement(nhe,{match:g,routeContext:{outlet:h,matches:I,isDataRoute:n!=null},children:O})};return n&&(g.route.ErrorBoundary||g.route.errorElement||y===0)?B.createElement(the,{location:n.location,revalidation:n.revalidation,component:C,error:w,children:k(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):k()},null)}var _q=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(_q||{});function ihe(t){let e=B.useContext(Yde);return e||Il(!1),e}function ohe(t){let e=B.useContext(gI);return e||Il(!1),e}function ahe(t){let e=ohe(),n=e.matches[e.matches.length-1];return n.route.id||Il(!1),n.route.id}function she(){var t;let e=B.useContext(yq),n=ihe(_q.UseRouteError),r=ahe();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}const g$={};function lhe(t,e,n){g$[t]||(g$[t]=!0)}function bq(t){Il(!1)}function uhe(t){let{basename:e="/",children:n=null,location:r,navigationType:i=tx.Pop,navigator:o,static:a=!1,future:l}=t;VF()&&Il(!1);let u=e.replace(/^\/*/,"/"),f=B.useMemo(()=>({basename:u,navigator:o,static:a,future:nx({v7_relativeSplatPath:!1},l)}),[u,l,o,a]);typeof r=="string"&&(r=UF(r));let{pathname:h="/",search:g="",hash:y="",state:w=null,key:T="default"}=r,C=B.useMemo(()=>{let R=mq(h,u);return R==null?null:{location:{pathname:R,search:g,hash:y,state:w,key:T},navigationType:i}},[u,h,g,y,w,T,i]);return C==null?null:B.createElement(vq.Provider,{value:f},B.createElement(mI.Provider,{children:n,value:C}))}function che(t){let{children:e,location:n}=t;return Xde(AN(e),n)}new Promise(()=>{});function AN(t,e){e===void 0&&(e=[]);let n=[];return B.Children.forEach(t,(r,i)=>{if(!B.isValidElement(r))return;let o=[...e,i];if(r.type===B.Fragment){n.push.apply(n,AN(r.props.children,o));return}r.type!==bq&&Il(!1),!r.props.index||!r.props.children||Il(!1);let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=AN(r.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v5 Compat v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const fhe="6";try{window.__reactRouterVersion=fhe}catch{}var v$;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(v$||(v$={}));var y$;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(y$||(y$={}));const dhe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",hhe=dhe?B.useLayoutEffect:()=>{};function phe(t){let{children:e}=t,n=yf(),[r,i]=B.useState(()=>({location:n.location,action:n.action}));return hhe(()=>{n.listen((o,a)=>i({location:o,action:a}))},[n]),B.createElement(uhe,{navigationType:r.action,location:r.location,navigator:n},B.createElement(che,null,B.createElement(bq,{path:"*",element:e})))}class pR extends Error{constructor(e,n,r){super(e),this.response=n,this.json=r}}class mhe{getToken(){return{accessToken:"owner"}}async jsonRequest(e,n,r="GET",i={"Content-Type":"application/json"}){const{accessToken:o}=this.getToken(),a=await Do(e,{method:r,body:n?JSON.stringify(n):void 0,headers:{Authorization:"Bearer "+o,...i}}),l=await a.json();if(a.status>=400&&a.status<600)throw new pR(l.error.message,a,l);return{res:a,json:l}}async deleteRequest(e){const{accessToken:n}=this.getToken(),r=await Do(e,{method:"DELETE",headers:{Authorization:"Bearer "+n}}),i=await r.json();if(r.status>=400&&r.status<600)throw new pR(i.error.message,r,i);return{res:r,json:i}}async patchRequest(e,n){return this.jsonRequest(e,n,"PATCH")}async postFile(e,n,r="POST"){const i=ghe(n),{accessToken:o}=this.getToken();i.append("auth",o);const a=await Do(e,{method:r,body:i}),l=await a.text();if(a.status>=400&&a.status<600)throw new pR(l,a);return{res:a,text:l}}}function ghe(t){const e=new FormData;return e.append("upload",t),e}function Eq(t){return t.includes(".cloudworkstations.dev")}async function Do(t,e){return Eq(t)&&(e={...e,credentials:"include"}),fetch(t,e)}const vhe="_topActions_1vtym_20",yhe={topActions:vhe};var hu=ht(function(e,n){var r=e.z,i=r===void 0?0:r,o=e.transition,a=o===void 0?!1:o,l=e.wrap,u=Ke(e,["z","transition","wrap"]),f=St(e,["mdc-elevation--z"+i,{"mdc-elevation-transition":a}]);return l?AM(ae(ae({},u),{className:f,ref:n})):Y.createElement(kt,ae({},u,{ref:n,className:f}))}),_he=ht(function(e,n){var r,i=e.children,o=e.fixedColumnWidth,a=e.align,l=Ke(e,["children","fixedColumnWidth","align"]),u=IM(i)!=="GridRow",f=St(e,["mdc-layout-grid",(r={},r["mdc-layout-grid--align-"+(a||"")]=e.align!==void 0,r["mdc-layout-grid--fixed-column-width"]=o,r)]);return Y.createElement(kt,ae({},l,{className:f,ref:n}),u?Y.createElement(Fm,null,i):i)}),_r=ht(function(e,n){var r,i=e.span,o=e.phone,a=e.tablet,l=e.desktop,u=e.order,f=e.align,h=Ke(e,["span","phone","tablet","desktop","order","align"]),g=St(e,["mdc-layout-grid__cell",(r={},r["mdc-layout-grid__cell--order-"+(u||"")]=u!==void 0,r["mdc-layout-grid__cell--align-"+(f||"")]=f!==void 0,r["mdc-layout-grid__cell--span-"+(i||"")]=i!==void 0,r["mdc-layout-grid__cell--span-"+(o||"")+"-phone"]=o!==void 0,r["mdc-layout-grid__cell--span-"+(a||"")+"-tablet"]=a!==void 0,r["mdc-layout-grid__cell--span-"+(l||"")+"-desktop"]=e.desktop!==void 0,r)]);return Y.createElement(kt,ae({},h,{ref:n,className:g}))}),Fm=ht(function(e,n){var r=St(e,["mdc-layout-grid__inner"]);return Y.createElement(kt,ae({},e,{ref:n,className:r}))});Fm.displayName="GridRow";function BF(t){return t==null}function $F(t){throw new Error("Argument "+t+" is empty.")}function wq(t){return typeof t=="function"&&"getType"in t}function bhe(t){throw new Error("Argument "+t+' is invalid, it should be an action-creator instance from "typesafe-actions"')}function Cq(t){return typeof t=="string"||typeof t=="symbol"}function Sq(t){return!Cq(t)}function Tq(t){throw new Error("Argument "+t+" is invalid, it should be an action type of type: string | symbol")}function Ehe(t,e){return BF(t)&&$F(1),Sq(t)&&Tq(1),Object.assign(function(){var n=e!=null?e.apply(void 0,arguments):void 0;return Object.assign({type:t},n)},{getType:function(){return t},toString:function(){return t}})}function Hn(t,e,n){return BF(t)&&$F(1),Sq(t)&&Tq(1),function(){return Ehe(t,function(){var r=arguments.length<=0?void 0:arguments[0],i=arguments.length<=1?void 0:arguments[1];return Object.assign({},r!==void 0&&{payload:r},{},i!==void 0&&{meta:i})})}}function tu(t){return BF(t)&&$F(1),wq(t)||bhe(1),t.getType()}function vI(t,e){e===void 0&&(e={});var n=Object.assign({},e),r=function(i,o){var a=Array.isArray(i)?i:[i],l={};return a.map(function(u,f){return wq(u)?tu(u):Cq(u)?u:function(h){throw new Error("Argument "+h+' is invalid, it should be an action-creator instance from "typesafe-actions" or action type of type: string | symbol')}(f+1)}).forEach(function(u){return l[u]=o}),vI(t,Object.assign({},n,{},l))};return Object.assign(function(i,o){if(i===void 0&&(i=t),n.hasOwnProperty(o.type)){var a=n[o.type];if(typeof a!="function")throw Error('Reducer under "'+o.type+'" key is not a valid reducer');return a(i,o)}return i},{handlers:Object.assign({},n),handleAction:r,handleType:r})}const xq=Hn("@auth/UPDATE_AUTH_CONFIG")(),Aq=Hn("@auth/CREATE_USER_REQUEST")(),Iq=Hn("@auth/CREATE_USER_SUCCESS")(),kq=Hn("@auth/UPDATE_USER_REQUEST")(),Rq=Hn("@auth/UPDATE_USER_SUCCESS")(),Oq=Hn("@auth/SET_USER_DISABLED_REQUEST")(),Pq=Hn("@auth/SET_USER_DISABLED_SUCCESS")(),Nq=Hn("@auth/DELETE_USER_REQUEST")(),Lq=Hn("@auth/DELETE_USER_SUCCESS")(),Dq=Hn("@auth/UPDATE_FILTER")(),whe=Hn("@auth/NUKE_USERS_FOR_ALL_TENANTS_REQUEST")(),Mq=Hn("@auth/NUKE_USERS_FOR_ALL_TENANTS_SUCCESS")(),Fq=Hn("@auth/NUKE_USERS_REQUEST")(),Uq=Hn("@auth/NUKE_USERS_SUCCESS")(),IN=Hn("@auth/AUTH_FETCH_USERS_REQUEST")(),Vq=Hn("@auth/AUTH_FETCH_USERS_SUCCESS")(),Bq=Hn("@auth/AUTH_FETCH_USERS_ERROR")(),$q=Hn("@auth/SET_ALLOW_DUPLICATE_EMAILS_REQUEST")(),HF=Hn("@auth/SET_ALLOW_DUPLICATE_EMAILS_SUCCESS")(),_$=Hn("@auth/GET_ALLOW_DUPLICATE_EMAILS_REQUEST")();Hn("@auth/GET_ALLOW_DUPLICATE_EMAILS_SUCCESS")();const jF=Hn("@auth/SET_AUTH_USER_DIALOG_DATA")(),H0=Hn("@auth/SET_AUTH_USER_DIALOG_DATA_LOADING")(),zF=Hn("@auth/SET_AUTH_USER_DIALOG_DATA_ERRORS")(),yI=Hn("@auth/CLEAR_AUTH_USER_DIALOG_DATA")(),kN=Hn("@auth/AUTH_FETCH_TENANTS_REQUEST")(),Hq=Hn("@auth/AUTH_FETCH_TENANTS_SUCCESS")();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function jq(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function l(h){try{f(r.next(h))}catch(g){a(g)}}function u(h){try{f(r.throw(h))}catch(g){a(g)}}function f(h){h.done?o(h.value):i(h.value).then(l,u)}f((r=r.apply(t,[])).next())})}function zq(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(f){return function(h){return u([f,h])}}function u(f){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=f[0]&2?i.return:f[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,f[1])).done)return o;switch(i=0,o&&(f=[f[0]&2,o.value]),f[0]){case 0:case 1:o=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!o||f[1]>o[0]&&f[1]<o[3])){n.label=f[1];break}if(f[0]===6&&n.label<o[1]){n.label=o[1],o=f;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(f);break}o[2]&&n.ops.pop(),n.trys.pop();continue}f=e.call(t,n)}catch(h){f=[6,h],i=0}finally{r=o=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}var Gc=function(){},Vs=Gc(),ZS=Object,os=function(t){return t===Vs},bh=function(t){return typeof t=="function"},qh=function(t,e){return ZS.assign({},t,e)},WF="undefined",qF=function(){return typeof window!=WF},Che=function(){return typeof document!=WF},She=function(){return qF()&&typeof window.requestAnimationFrame!=WF},JC=new WeakMap,The=0,j0=function(t){var e=typeof t,n=t&&t.constructor,r=n==Date,i,o;if(ZS(t)===t&&!r&&n!=RegExp){if(i=JC.get(t),i)return i;if(i=++The+"~",JC.set(t,i),n==Array){for(i="@",o=0;o<t.length;o++)i+=j0(t[o])+",";JC.set(t,i)}if(n==ZS){i="#";for(var a=ZS.keys(t).sort();!os(o=a.pop());)os(t[o])||(i+=o+":"+j0(t[o])+",");JC.set(t,i)}}else i=r?t.toJSON():e=="symbol"?t.toString():e=="string"?JSON.stringify(t):""+t;return i},RN=!0,xhe=function(){return RN},Wq=qF(),KF=Che(),ON=Wq&&window.addEventListener?window.addEventListener.bind(window):Gc,Ahe=KF?document.addEventListener.bind(document):Gc,PN=Wq&&window.removeEventListener?window.removeEventListener.bind(window):Gc,Ihe=KF?document.removeEventListener.bind(document):Gc,khe=function(){var t=KF&&document.visibilityState;return os(t)||t!=="hidden"},Rhe=function(t){return Ahe("visibilitychange",t),ON("focus",t),function(){Ihe("visibilitychange",t),PN("focus",t)}},Ohe=function(t){var e=function(){RN=!0,t()},n=function(){RN=!1};return ON("online",e),ON("offline",n),function(){PN("online",e),PN("offline",n)}},Phe={isOnline:xhe,isVisible:khe},Nhe={initFocus:Rhe,initReconnect:Ohe},_I=!qF()||"Deno"in window,Lhe=function(t){return She()?window.requestAnimationFrame(t):setTimeout(t,1)},eT=_I?B.useEffect:B.useLayoutEffect,mR=typeof navigator<"u"&&navigator.connection,b$=!_I&&mR&&(["slow-2g","2g"].includes(mR.effectiveType)||mR.saveData),qq=function(t){if(bh(t))try{t=t()}catch{t=""}var e=[].concat(t);t=typeof t=="string"?t:(Array.isArray(t)?t.length:t)?j0(t):"";var n=t?"$swr$"+t:"";return[t,e,n]},mm=new WeakMap,Kq=0,Gq=1,Yq=2,r0=function(t,e,n,r,i,o,a){a===void 0&&(a=!0);var l=mm.get(t),u=l[0],f=l[1],h=l[3],g=u[e],y=f[e];if(a&&y)for(var w=0;w<y.length;++w)y[w](n,r,i);return o&&(delete h[e],g&&g[0])?g[0](Yq).then(function(){return t.get(e)}):t.get(e)},Dhe=0,NN=function(){return++Dhe},Qq=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return jq(void 0,void 0,void 0,function(){var n,r,i,o,a,l,u,f,h,g,y,w,T,C,R,I,k,O,A,V,D;return zq(this,function(P){switch(P.label){case 0:if(n=t[0],r=t[1],i=t[2],o=t[3],a=typeof o=="boolean"?{revalidate:o}:o||{},l=os(a.populateCache)?!0:a.populateCache,u=a.revalidate!==!1,f=a.rollbackOnError!==!1,h=a.optimisticData,g=qq(r),y=g[0],w=g[2],!y)return[2];if(T=mm.get(n),C=T[2],t.length<3)return[2,r0(n,y,n.get(y),Vs,Vs,u,!0)];if(R=i,k=NN(),C[y]=[k,0],O=!os(h),A=n.get(y),O&&(V=bh(h)?h(A):h,n.set(y,V),r0(n,y,V)),bh(R))try{R=R(n.get(y))}catch(N){I=N}return R&&bh(R.then)?[4,R.catch(function(N){I=N})]:[3,2];case 1:if(R=P.sent(),k!==C[y][0]){if(I)throw I;return[2,R]}else I&&O&&f&&(l=!0,R=A,n.set(y,A));P.label=2;case 2:return l&&(I||(bh(l)&&(R=l(R,A)),n.set(y,R)),n.set(w,qh(n.get(w),{error:I}))),C[y][1]=NN(),[4,r0(n,y,R,I,Vs,u,!!l)];case 3:if(D=P.sent(),I)throw I;return[2,l?D:R]}})})},E$=function(t,e){for(var n in t)t[n][0]&&t[n][0](e)},Mhe=function(t,e){if(!mm.has(t)){var n=qh(Nhe,e),r={},i=Qq.bind(Vs,t),o=Gc;if(mm.set(t,[r,{},{},{},i]),!_I){var a=n.initFocus(setTimeout.bind(Vs,E$.bind(Vs,r,Kq))),l=n.initReconnect(setTimeout.bind(Vs,E$.bind(Vs,r,Gq)));o=function(){a&&a(),l&&l(),mm.delete(t)}}return[t,i,o]}return[t,mm.get(t)[4]]},Fhe=function(t,e,n,r,i){var o=n.errorRetryCount,a=i.retryCount,l=~~((Math.random()+.5)*(1<<(a<8?a:8)))*n.errorRetryInterval;!os(o)&&a>o||setTimeout(r,l,i)},Xq=Mhe(new Map),Uhe=Xq[0],bI=Xq[1],Vhe=qh({onLoadingSlow:Gc,onSuccess:Gc,onError:Gc,onErrorRetry:Fhe,onDiscarded:Gc,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:b$?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:b$?5e3:3e3,compare:function(t,e){return j0(t)==j0(e)},isPaused:function(){return!1},cache:Uhe,mutate:bI,fallback:{}},Phe),Bhe=function(t,e){var n=qh(t,e);if(e){var r=t.use,i=t.fallback,o=e.use,a=e.fallback;r&&o&&(n.use=r.concat(o)),i&&a&&(n.fallback=qh(i,a))}return n},$he=B.createContext({}),Hhe=function(t,e){var n=B.useState({})[1],r=B.useRef(t),i=B.useRef({data:!1,error:!1,isValidating:!1}),o=B.useCallback(function(a){var l=!1,u=r.current;for(var f in a){var h=f;u[h]!==a[h]&&(u[h]=a[h],i.current[h]&&(l=!0))}l&&!e.current&&n({})},[]);return eT(function(){r.current=t}),[r,i.current,o]},jhe=function(t){return bh(t[1])?[t[0],t[1],t[2]||{}]:[t[0],null,(t[1]===null?t[2]:t[1])||{}]},zhe=function(){return qh(Vhe,B.useContext($he))},Whe=function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=zhe(),o=jhe(n),a=o[0],l=o[1],u=o[2],f=Bhe(i,u),h=t,g=f.use;if(g)for(var y=g.length;y-- >0;)h=g[y](h);return h(a,l||f.fetcher,f)}},w$=function(t,e,n){var r=e[t]||(e[t]=[]);return r.push(n),function(){var i=r.indexOf(n);i>=0&&(r[i]=r[r.length-1],r.pop())}},gR={dedupe:!0},qhe=function(t,e,n){var r=n.cache,i=n.compare,o=n.fallbackData,a=n.suspense,l=n.revalidateOnMount,u=n.refreshInterval,f=n.refreshWhenHidden,h=n.refreshWhenOffline,g=mm.get(r),y=g[0],w=g[1],T=g[2],C=g[3],R=qq(t),I=R[0],k=R[1],O=R[2],A=B.useRef(!1),V=B.useRef(!1),D=B.useRef(I),P=B.useRef(e),N=B.useRef(n),$=function(){return N.current},q=function(){return $().isVisible()&&$().isOnline()},z=function(et){return r.set(O,qh(r.get(O),et))},K=r.get(I),Q=os(o)?n.fallback[I]:o,Ee=os(K)?Q:K,he=r.get(O)||{},Je=he.error,He=!A.current,xe=function(){return He&&!os(l)?l:$().isPaused()?!1:a?os(Ee)?!1:n.revalidateIfStale:os(Ee)||n.revalidateIfStale},Te=function(){return!I||!e?!1:he.isValidating?!0:He&&xe()},J=Te(),Ae=Hhe({data:Ee,error:Je,isValidating:J},V),Ne=Ae[0],ie=Ae[1],lt=Ae[2],Ge=B.useCallback(function(et){return jq(void 0,void 0,void 0,function(){var _t,xt,Et,Dt,Ut,an,nt,nn,Wt,Kt,vn,fn,Ot;return zq(this,function(En){switch(En.label){case 0:if(_t=P.current,!I||!_t||V.current||$().isPaused())return[2,!1];Dt=!0,Ut=et||{},an=!C[I]||!Ut.dedupe,nt=function(){return!V.current&&I===D.current&&A.current},nn=function(){var fe=C[I];fe&&fe[1]===Et&&delete C[I]},Wt={isValidating:!1},Kt=function(){z({isValidating:!1}),nt()&&lt(Wt)},z({isValidating:!0}),lt({isValidating:!0}),En.label=1;case 1:return En.trys.push([1,3,,4]),an&&(r0(r,I,Ne.current.data,Ne.current.error,!0),n.loadingTimeout&&!r.get(I)&&setTimeout(function(){Dt&&nt()&&$().onLoadingSlow(I,n)},n.loadingTimeout),C[I]=[_t.apply(void 0,k),NN()]),Ot=C[I],xt=Ot[0],Et=Ot[1],[4,xt];case 2:return xt=En.sent(),an&&setTimeout(nn,n.dedupingInterval),!C[I]||C[I][1]!==Et?(an&&nt()&&$().onDiscarded(I),[2,!1]):(z({error:Vs}),Wt.error=Vs,vn=T[I],!os(vn)&&(Et<=vn[0]||Et<=vn[1]||vn[1]===0)?(Kt(),an&&nt()&&$().onDiscarded(I),[2,!1]):(i(Ne.current.data,xt)?Wt.data=Ne.current.data:Wt.data=xt,i(r.get(I),xt)||r.set(I,xt),an&&nt()&&$().onSuccess(xt,I,n),[3,4]));case 3:return fn=En.sent(),nn(),$().isPaused()||(z({error:fn}),Wt.error=fn,an&&nt()&&($().onError(fn,I,n),(typeof n.shouldRetryOnError=="boolean"&&n.shouldRetryOnError||bh(n.shouldRetryOnError)&&n.shouldRetryOnError(fn))&&q()&&$().onErrorRetry(fn,I,n,Ge,{retryCount:(Ut.retryCount||0)+1,dedupe:!0}))),[3,4];case 4:return Dt=!1,Kt(),nt()&&an&&r0(r,I,Wt.data,Wt.error,!1),[2,!0]}})})},[I]),ut=B.useCallback(Qq.bind(Vs,r,function(){return D.current}),[]);if(eT(function(){P.current=e,N.current=n}),eT(function(){if(I){var et=I!==D.current,_t=Ge.bind(Vs,gR),xt=function(nt,nn,Wt){lt(qh({error:nn,isValidating:Wt},i(Ne.current.data,nt)?Vs:{data:nt}))},Et=0,Dt=function(nt){if(nt==Kq){var nn=Date.now();$().revalidateOnFocus&&nn>Et&&q()&&(Et=nn+$().focusThrottleInterval,_t())}else if(nt==Gq)$().revalidateOnReconnect&&q()&&_t();else if(nt==Yq)return Ge()},Ut=w$(I,w,xt),an=w$(I,y,Dt);return V.current=!1,D.current=I,A.current=!0,et&&lt({data:Ee,error:Je,isValidating:J}),xe()&&(os(Ee)||_I?_t():Lhe(_t)),function(){V.current=!0,Ut(),an()}}},[I,Ge]),eT(function(){var et;function _t(){var Et=bh(u)?u(Ee):u;Et&&et!==-1&&(et=setTimeout(xt,Et))}function xt(){!Ne.current.error&&(f||$().isVisible())&&(h||$().isOnline())?Ge(gR).then(_t):_t()}return _t(),function(){et&&(clearTimeout(et),et=-1)}},[u,f,h,Ge]),B.useDebugValue(Ee),a&&os(Ee)&&I)throw P.current=e,N.current=n,V.current=!1,os(Je)?Ge(gR):Je;return{mutate:ut,get data(){return ie.data=!0,Ee},get error(){return ie.error=!0,Je},get isValidating(){return ie.isValidating=!0,J}}},hf=Whe(qhe);function Khe(t,e){return t.indexOf(":")>=0?`[${t}]:${e}`:`${t}:${e}`}const GF=Y.createContext(void 0),C$="/api/config";function YF(t){const[e,n]=B.useState(()=>({oldData:t,deferred:S$()}));return B.useEffect(()=>{if(t!==e.oldData){const r=e.deferred;n({oldData:t,deferred:S$()}),r.resolve(t)}},[t,e,n]),e.deferred.promise}const Ghe=({refreshInterval:t,children:e})=>{const{data:n}=hf(C$,Qhe,{refreshInterval:t,refreshWhenOffline:!0,onErrorRetry(i,o,a,l,{retryCount:u}){u<2?setTimeout(()=>l({retryCount:u}),t):bI(C$,null,!0)}}),r=YF(n);return b(GF.Provider,{value:{config:n,promise:r},children:e})};function jy(){const t=Y.useContext(GF);if(t===void 0)throw new Error("useConfig must be used within a <EmulatorConfigProvider>");if(t.config===void 0)throw t.promise;if(t.config==null)throw t.promise;return t.config}function za(t){const n=jy()[t],r=YF(n);if(n===void 0)throw r;return n}function rg(t){const e=FE();return e===void 0?!1:!!(e===null||t&&!e[t])}function FE(){const t=Y.useContext(GF);if(t===void 0)throw new Error("useConfigOptional must be used within a <EmulatorConfigProvider>");return t.config}async function Yhe(t){const e=await fetch(t);if(!e.ok)throw new Error(`Got HTTP status code ${e.status}`);return e.json()}async function Qhe(t){const e=await Yhe(t),n={projectId:e.projectId,analytics:e.analytics,experiments:e.experiments};for(const[r,i]of Object.entries(e)){if(r==="projectId"||r==="analytics"||r==="experiments")continue;let o=i.host,a=i.port;for(const l of i.listen??[])if(l.address==="0.0.0.0"){a=l.port,o=window.location.hostname,(!o||o==="localhost")&&(o="127.0.0.1"),r=="firestore"&&(i.webSocketHost=i.host);break}else if(l.address==="::"){a=l.port,o=window.location.hostname,(!o||o==="localhost")&&(o="::1"),r=="firestore"&&(i.webSocketHost=i.host);break}n[r]={...i,host:o,port:a,hostAndPort:Khe(o,a)}}return n}function S$(){let t;return{promise:new Promise(n=>{t=n}),resolve:t}}var ZC;function Xhe(t,e){e===void 0&&(e=!1);var n=t.CSS,r=ZC;if(typeof ZC=="boolean"&&!e)return ZC;var i=n&&typeof n.supports=="function";if(!i)return!1;var o=n.supports("--css-vars","yes"),a=n.supports("(--css-vars: yes)")&&n.supports("color","#00000000");return r=o||a,e||(ZC=r),r}function Jhe(t,e,n){if(!t)return{x:0,y:0};var r=e.x,i=e.y,o=r+n.left,a=i+n.top,l,u;if(t.type==="touchstart"){var f=t;l=f.changedTouches[0].pageX-o,u=f.changedTouches[0].pageY-a}else{var h=t;l=h.pageX-o,u=h.pageY-a}return{x:l,y:u}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var LN=function(t,e){return LN=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},LN(t,e)};function Zhe(t,e){LN(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var rx=function(){return rx=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},rx.apply(this,arguments)};/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var ui=function(){function t(e){e===void 0&&(e={}),this.adapter_=e}return Object.defineProperty(t,"cssClasses",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{}},enumerable:!0,configurable:!0}),t.prototype.init=function(){},t.prototype.destroy=function(){},t}();/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var epe={BG_FOCUSED:"mdc-ripple-upgraded--background-focused",FG_ACTIVATION:"mdc-ripple-upgraded--foreground-activation",FG_DEACTIVATION:"mdc-ripple-upgraded--foreground-deactivation",ROOT:"mdc-ripple-upgraded",UNBOUNDED:"mdc-ripple-upgraded--unbounded"},tpe={VAR_FG_SCALE:"--mdc-ripple-fg-scale",VAR_FG_SIZE:"--mdc-ripple-fg-size",VAR_FG_TRANSLATE_END:"--mdc-ripple-fg-translate-end",VAR_FG_TRANSLATE_START:"--mdc-ripple-fg-translate-start",VAR_LEFT:"--mdc-ripple-left",VAR_TOP:"--mdc-ripple-top"},T$={DEACTIVATION_TIMEOUT_MS:225,FG_DEACTIVATION_MS:150,INITIAL_ORIGIN_SCALE:.6,PADDING:10,TAP_DELAY_MS:300};/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var x$=["touchstart","pointerdown","mousedown","keydown"],A$=["touchend","pointerup","mouseup","contextmenu"],eS=[],npe=function(t){Zhe(e,t);function e(n){var r=t.call(this,rx({},e.defaultAdapter,n))||this;return r.activationAnimationHasEnded_=!1,r.activationTimer_=0,r.fgDeactivationRemovalTimer_=0,r.fgScale_="0",r.frame_={width:0,height:0},r.initialSize_=0,r.layoutFrame_=0,r.maxRadius_=0,r.unboundedCoords_={left:0,top:0},r.activationState_=r.defaultActivationState_(),r.activationTimerCallback_=function(){r.activationAnimationHasEnded_=!0,r.runDeactivationUXLogicIfReady_()},r.activateHandler_=function(i){return r.activate_(i)},r.deactivateHandler_=function(){return r.deactivate_()},r.focusHandler_=function(){return r.handleFocus()},r.blurHandler_=function(){return r.handleBlur()},r.resizeHandler_=function(){return r.layout()},r}return Object.defineProperty(e,"cssClasses",{get:function(){return epe},enumerable:!0,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return tpe},enumerable:!0,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return T$},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},browserSupportsCssVars:function(){return!0},computeBoundingRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},containsEventTarget:function(){return!0},deregisterDocumentInteractionHandler:function(){},deregisterInteractionHandler:function(){},deregisterResizeHandler:function(){},getWindowPageOffset:function(){return{x:0,y:0}},isSurfaceActive:function(){return!0},isSurfaceDisabled:function(){return!0},isUnbounded:function(){return!0},registerDocumentInteractionHandler:function(){},registerInteractionHandler:function(){},registerResizeHandler:function(){},removeClass:function(){},updateCssVariable:function(){}}},enumerable:!0,configurable:!0}),e.prototype.init=function(){var n=this,r=this.supportsPressRipple_();if(this.registerRootHandlers_(r),r){var i=e.cssClasses,o=i.ROOT,a=i.UNBOUNDED;requestAnimationFrame(function(){n.adapter_.addClass(o),n.adapter_.isUnbounded()&&(n.adapter_.addClass(a),n.layoutInternal_())})}},e.prototype.destroy=function(){var n=this;if(this.supportsPressRipple_()){this.activationTimer_&&(clearTimeout(this.activationTimer_),this.activationTimer_=0,this.adapter_.removeClass(e.cssClasses.FG_ACTIVATION)),this.fgDeactivationRemovalTimer_&&(clearTimeout(this.fgDeactivationRemovalTimer_),this.fgDeactivationRemovalTimer_=0,this.adapter_.removeClass(e.cssClasses.FG_DEACTIVATION));var r=e.cssClasses,i=r.ROOT,o=r.UNBOUNDED;requestAnimationFrame(function(){n.adapter_.removeClass(i),n.adapter_.removeClass(o),n.removeCssVars_()})}this.deregisterRootHandlers_(),this.deregisterDeactivationHandlers_()},e.prototype.activate=function(n){this.activate_(n)},e.prototype.deactivate=function(){this.deactivate_()},e.prototype.layout=function(){var n=this;this.layoutFrame_&&cancelAnimationFrame(this.layoutFrame_),this.layoutFrame_=requestAnimationFrame(function(){n.layoutInternal_(),n.layoutFrame_=0})},e.prototype.setUnbounded=function(n){var r=e.cssClasses.UNBOUNDED;n?this.adapter_.addClass(r):this.adapter_.removeClass(r)},e.prototype.handleFocus=function(){var n=this;requestAnimationFrame(function(){return n.adapter_.addClass(e.cssClasses.BG_FOCUSED)})},e.prototype.handleBlur=function(){var n=this;requestAnimationFrame(function(){return n.adapter_.removeClass(e.cssClasses.BG_FOCUSED)})},e.prototype.supportsPressRipple_=function(){return this.adapter_.browserSupportsCssVars()},e.prototype.defaultActivationState_=function(){return{activationEvent:void 0,hasDeactivationUXRun:!1,isActivated:!1,isProgrammatic:!1,wasActivatedByPointer:!1,wasElementMadeActive:!1}},e.prototype.registerRootHandlers_=function(n){var r=this;n&&(x$.forEach(function(i){r.adapter_.registerInteractionHandler(i,r.activateHandler_)}),this.adapter_.isUnbounded()&&this.adapter_.registerResizeHandler(this.resizeHandler_)),this.adapter_.registerInteractionHandler("focus",this.focusHandler_),this.adapter_.registerInteractionHandler("blur",this.blurHandler_)},e.prototype.registerDeactivationHandlers_=function(n){var r=this;n.type==="keydown"?this.adapter_.registerInteractionHandler("keyup",this.deactivateHandler_):A$.forEach(function(i){r.adapter_.registerDocumentInteractionHandler(i,r.deactivateHandler_)})},e.prototype.deregisterRootHandlers_=function(){var n=this;x$.forEach(function(r){n.adapter_.deregisterInteractionHandler(r,n.activateHandler_)}),this.adapter_.deregisterInteractionHandler("focus",this.focusHandler_),this.adapter_.deregisterInteractionHandler("blur",this.blurHandler_),this.adapter_.isUnbounded()&&this.adapter_.deregisterResizeHandler(this.resizeHandler_)},e.prototype.deregisterDeactivationHandlers_=function(){var n=this;this.adapter_.deregisterInteractionHandler("keyup",this.deactivateHandler_),A$.forEach(function(r){n.adapter_.deregisterDocumentInteractionHandler(r,n.deactivateHandler_)})},e.prototype.removeCssVars_=function(){var n=this,r=e.strings,i=Object.keys(r);i.forEach(function(o){o.indexOf("VAR_")===0&&n.adapter_.updateCssVariable(r[o],null)})},e.prototype.activate_=function(n){var r=this;if(!this.adapter_.isSurfaceDisabled()){var i=this.activationState_;if(!i.isActivated){var o=this.previousActivationEvent_,a=o&&n!==void 0&&o.type!==n.type;if(!a){i.isActivated=!0,i.isProgrammatic=n===void 0,i.activationEvent=n,i.wasActivatedByPointer=i.isProgrammatic?!1:n!==void 0&&(n.type==="mousedown"||n.type==="touchstart"||n.type==="pointerdown");var l=n!==void 0&&eS.length>0&&eS.some(function(u){return r.adapter_.containsEventTarget(u)});if(l){this.resetActivationState_();return}n!==void 0&&(eS.push(n.target),this.registerDeactivationHandlers_(n)),i.wasElementMadeActive=this.checkElementMadeActive_(n),i.wasElementMadeActive&&this.animateActivation_(),requestAnimationFrame(function(){eS=[],!i.wasElementMadeActive&&n!==void 0&&(n.key===" "||n.keyCode===32)&&(i.wasElementMadeActive=r.checkElementMadeActive_(n),i.wasElementMadeActive&&r.animateActivation_()),i.wasElementMadeActive||(r.activationState_=r.defaultActivationState_())})}}}},e.prototype.checkElementMadeActive_=function(n){return n!==void 0&&n.type==="keydown"?this.adapter_.isSurfaceActive():!0},e.prototype.animateActivation_=function(){var n=this,r=e.strings,i=r.VAR_FG_TRANSLATE_START,o=r.VAR_FG_TRANSLATE_END,a=e.cssClasses,l=a.FG_DEACTIVATION,u=a.FG_ACTIVATION,f=e.numbers.DEACTIVATION_TIMEOUT_MS;this.layoutInternal_();var h="",g="";if(!this.adapter_.isUnbounded()){var y=this.getFgTranslationCoordinates_(),w=y.startPoint,T=y.endPoint;h=w.x+"px, "+w.y+"px",g=T.x+"px, "+T.y+"px"}this.adapter_.updateCssVariable(i,h),this.adapter_.updateCssVariable(o,g),clearTimeout(this.activationTimer_),clearTimeout(this.fgDeactivationRemovalTimer_),this.rmBoundedActivationClasses_(),this.adapter_.removeClass(l),this.adapter_.computeBoundingRect(),this.adapter_.addClass(u),this.activationTimer_=setTimeout(function(){return n.activationTimerCallback_()},f)},e.prototype.getFgTranslationCoordinates_=function(){var n=this.activationState_,r=n.activationEvent,i=n.wasActivatedByPointer,o;i?o=Jhe(r,this.adapter_.getWindowPageOffset(),this.adapter_.computeBoundingRect()):o={x:this.frame_.width/2,y:this.frame_.height/2},o={x:o.x-this.initialSize_/2,y:o.y-this.initialSize_/2};var a={x:this.frame_.width/2-this.initialSize_/2,y:this.frame_.height/2-this.initialSize_/2};return{startPoint:o,endPoint:a}},e.prototype.runDeactivationUXLogicIfReady_=function(){var n=this,r=e.cssClasses.FG_DEACTIVATION,i=this.activationState_,o=i.hasDeactivationUXRun,a=i.isActivated,l=o||!a;l&&this.activationAnimationHasEnded_&&(this.rmBoundedActivationClasses_(),this.adapter_.addClass(r),this.fgDeactivationRemovalTimer_=setTimeout(function(){n.adapter_.removeClass(r)},T$.FG_DEACTIVATION_MS))},e.prototype.rmBoundedActivationClasses_=function(){var n=e.cssClasses.FG_ACTIVATION;this.adapter_.removeClass(n),this.activationAnimationHasEnded_=!1,this.adapter_.computeBoundingRect()},e.prototype.resetActivationState_=function(){var n=this;this.previousActivationEvent_=this.activationState_.activationEvent,this.activationState_=this.defaultActivationState_(),setTimeout(function(){return n.previousActivationEvent_=void 0},e.numbers.TAP_DELAY_MS)},e.prototype.deactivate_=function(){var n=this,r=this.activationState_;if(r.isActivated){var i=rx({},r);r.isProgrammatic?(requestAnimationFrame(function(){return n.animateDeactivation_(i)}),this.resetActivationState_()):(this.deregisterDeactivationHandlers_(),requestAnimationFrame(function(){n.activationState_.hasDeactivationUXRun=!0,n.animateDeactivation_(i),n.resetActivationState_()}))}},e.prototype.animateDeactivation_=function(n){var r=n.wasActivatedByPointer,i=n.wasElementMadeActive;(r||i)&&this.runDeactivationUXLogicIfReady_()},e.prototype.layoutInternal_=function(){var n=this;this.frame_=this.adapter_.computeBoundingRect();var r=Math.max(this.frame_.height,this.frame_.width),i=function(){var a=Math.sqrt(Math.pow(n.frame_.width,2)+Math.pow(n.frame_.height,2));return a+e.numbers.PADDING};this.maxRadius_=this.adapter_.isUnbounded()?r:i();var o=Math.floor(r*e.numbers.INITIAL_ORIGIN_SCALE);this.adapter_.isUnbounded()&&o%2!==0?this.initialSize_=o-1:this.initialSize_=o,this.fgScale_=""+this.maxRadius_/this.initialSize_,this.updateLayoutCssVars_()},e.prototype.updateLayoutCssVars_=function(){var n=e.strings,r=n.VAR_FG_SIZE,i=n.VAR_LEFT,o=n.VAR_TOP,a=n.VAR_FG_SCALE;this.adapter_.updateCssVariable(r,this.initialSize_+"px"),this.adapter_.updateCssVariable(a,this.fgScale_),this.adapter_.isUnbounded()&&(this.unboundedCoords_={left:Math.round(this.frame_.width/2-this.initialSize_/2),top:Math.round(this.frame_.height/2-this.initialSize_/2)},this.adapter_.updateCssVariable(i,this.unboundedCoords_.left+"px"),this.adapter_.updateCssVariable(o,this.unboundedCoords_.top+"px"))},e}(ui),rpe=function(t){var e=B.useRef(!1),n=li({props:t,elements:{rootEl:!0,surfaceEl:!0},foundation:function(N){var $=N.rootEl,q=N.surfaceEl,z=N.getProps;return new npe({browserSupportsCssVars:function(){return Xhe(window)},isUnbounded:function(){return!!z().unbounded},isSurfaceActive:function(){return $.ref?PE($.ref,":active"):!1},isSurfaceDisabled:function(){return!!z().disabled},addClass:function(K){q.addClass(K)},removeClass:function(K){q.removeClass(K)},containsEventTarget:function(K){return!!$.ref&&$.ref.contains(K)},registerInteractionHandler:function(K,Q){},deregisterInteractionHandler:function(K,Q){},registerDocumentInteractionHandler:function(K,Q){return document.documentElement.addEventListener(K,Q,{passive:!0})},deregisterDocumentInteractionHandler:function(K,Q){return document.documentElement.removeEventListener(K,Q)},registerResizeHandler:function(K){return window.addEventListener("resize",K)},deregisterResizeHandler:function(K){return window.removeEventListener("resize",K)},updateCssVariable:function(K,Q){return q.setStyle(K,Q)},computeBoundingRect:function(){return $.ref?$.ref.getBoundingClientRect():ry},getWindowPageOffset:function(){return{x:window.pageXOffset,y:window.pageYOffset}}})}}),r=n.foundation,i=Ke(n,["foundation"]),o=i.rootEl,a=B.useCallback(function(N){N.persist(),r.activate(N)},[r]),l=B.useCallback(function(N){N.persist(),r.deactivate()},[r]),u=t.onFocus,f=B.useCallback(function(N){u==null||u(N),r.handleFocus()},[r,u]),h=t.onBlur,g=B.useCallback(function(N){h==null||h(N),r.handleBlur()},[r,h]),y=t.onMouseDown,w=B.useCallback(function(N){y==null||y(N),e.current||a(N),e.current=!1},[y,a]),T=t.onMouseUp,C=B.useCallback(function(N){T==null||T(N),l(N)},[T,l]),R=t.onTouchStart,I=B.useCallback(function(N){e.current=!0,R==null||R(N),a(N)},[R,a]),k=t.onTouchEnd,O=B.useCallback(function(N){k==null||k(N),l(N)},[k,l]),A=t.onKeyDown,V=B.useCallback(function(N){A==null||A(N),a(N)},[A,a]),D=t.onKeyUp,P=B.useCallback(function(N){D==null||D(N),l(N)},[D,l]);return o.setProp("onFocus",f,!0),o.setProp("onBlur",g,!0),o.setProp("onMouseDown",w,!0),o.setProp("onMouseUp",C,!0),o.setProp("onTouchStart",I,!0),o.setProp("onTouchEnd",O,!0),o.setProp("onKeyDown",V,!0),o.setProp("onKeyUp",P,!0),B.useEffect(function(){o.setRef(t.domNode)},[o,t.domNode]),B.useEffect(function(){r.setUnbounded(!!t.unbounded)},[t.unbounded,r]),B.useEffect(function(){t.disabled&&r.handleBlur()},[t.disabled,r]),ae({},i)},Jq=Y.createContext({}),ipe=function(){return function(t){return function(e){xd(n,e);function n(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={domNode:null},r}return n.prototype.componentDidMount=function(){this.setState({domNode:md.findDOMNode(this)})},n.prototype.componentDidUpdate=function(){var r=md.findDOMNode(this);r!==this.state.domNode&&this.setState({rootRippleElement:r})},n.prototype.render=function(){return Y.createElement(t,ae({},this.props,{domNode:this.state.domNode}))},n}(Y.Component)}},ope=ipe()(function(e){var n=e.children,r=e.className,i=e.primary,o=e.accent,a=e.unbounded,l=e.surface;e.domNode,e.foundationRef;var u=Ke(e,["children","className","primary","accent","unbounded","surface","domNode","foundationRef"]),f=rpe(e),h=f.rootEl,g=f.surfaceEl,y=Y.Children.only(n);if(!Y.isValidElement(y))return null;var w=!l||!a,T=a?{"data-mdc-ripple-is-unbounded":!0}:{},C=w?g.props({style:y.props.style}):{},R=Lr(r!==y.props.className&&r,C.className,y.props.className,{"mdc-ripple-surface":typeof l=="boolean"?l:l===void 0,"mdc-ripple-surface--primary":i,"mdc-ripple-surface--accent":o});u.disabled&&(R=R.replace("mdc-ripple-upgraded--background-focused",""));var I=Y.cloneElement(y,ae(ae(ae({},y.props),T),h.props(ae(ae(ae(ae({},u),{style:y.props.style}),C),{className:R}))));return Y.createElement(Jq.Provider,{value:g.props({style:y.props.style})},I)}),ape=function(t){var e=t.className,n=Ke(t,["className"]);return Y.createElement(Jq.Consumer,null,function(r){return Y.createElement("div",ae({},n,r,{className:e+" "+(r.className||"")}))})},cc=function(t){var e=t===void 0?{}:t,n=e.unbounded,r=e.accent,i=e.surface;return function(o){var a=Y.forwardRef(function(l,u){var f=l.ripple,h=Ke(l,["ripple"]),g=gA();f=f??g.ripple;var y=typeof f!="object"?{}:f;return f?Y.createElement(ope,ae({},h,{accent:y.accent||r,unbounded:y.unbounded||n,surface:y.surface||i}),Y.createElement(o,ae({},h,{ref:u}))):Y.createElement(o,ae({},h,{ref:u}))});return a.displayName="withRipple("+(o.displayName||o.constructor.name||"Unknown")+")",a}},spe=function(t){return typeof t=="string"&&t.includes("/")?"url":Y.isValidElement(t)?"component":"ligature"},lpe=function(t,e,n){return e=e||n||"auto",e==="auto"?spe(t):e},upe=function(t){var e=t.content,n=Ke(t,["content"]);return Y.createElement(z0,ae({},n),e)},cpe=function(t){t.content;var e=Ke(t,["content"]);return Y.createElement(z0,ae({},e))},fpe=function(t){var e=t.content,n=Ke(t,["content"]);return Y.createElement(z0,ae({},n,{style:ae(ae({},n.style),{backgroundImage:"url("+e+")"})}))},dpe=function(t){var e=t.content,n=Ke(t,["content"]);if(e.type==="svg"){var r=e.props,i=r.children,o=Ke(r,["children"]);return Y.createElement(z0,ae({},o,n,{tag:"svg"}),i)}return Y.createElement(z0,ae({},n),e)},hpe={ligature:upe,className:cpe,url:fpe,component:dpe,auto:void 0},ppe=function(t){return Y.isValidElement(t)||t&&typeof t!="object"?{icon:t}:t},z0=Y.forwardRef(function(e,n){return Y.createElement(kt,ae({tag:"i"},e,{ref:n}))}),Mn=ht(function(t,e){var n,r=t.icon,i=Ke(t,["icon"]),o=gA(),a=ae({},ppe(r)),l=a.icon,u=a.strategy,f=a.prefix,h=a.basename,g=a.render,y=a.size,w=Ke(a,["icon","strategy","prefix","basename","render","size"]),T=o.icon||{},C=T.basename,R=C===void 0?null:C,I=T.prefix,k=I===void 0?null:I,O=T.strategy,A=O===void 0?null:O,V=T.render,D=V===void 0?null:V,P=l,N=lpe(P,u||null,A||null),$=f||k,q=h===void 0?R:h,z=N==="className"&&typeof l=="string"?""+String($)+l:null,K=!!N&&hpe[N],Q=K||null;if(N==="custom"&&(Q=g||D),!Q)return console.error("Icon: rendering not implemented for "+String(N)+"."),null;var Ee=Q(ae(ae(ae({},i),w),{ref:e,content:P,className:Lr("rmwc-icon","rmwc-icon--"+N,q,i.className,w.className,z,(n={},n["rmwc-icon--size-"+(y||"")]=!!y,n))}));if(!Y.isValidElement(Ee))return null;var he=IM(Ee.props.children);return he.includes("Avatar")||he.includes("Icon")?Y.cloneElement(Ee.props.children,ae(ae(ae({},Ee.props.children.props),Ee.props),{ref:e,children:Ee.props.children.props.children,className:Lr(Ee.props.className,Ee.props.children.props.className)})):Ee});Mn.displayName="Icon";var fr=cc({surface:!1})(ht(function(e,n){var r=e.dense,i=e.raised,o=e.unelevated,a=e.outlined,l=e.danger,u=e.icon,f=e.label,h=e.trailingIcon,g=e.children,y=Ke(e,["dense","raised","unelevated","outlined","danger","icon","label","trailingIcon","children"]),w=St(e,["mdc-button",{"mdc-button--dense":r,"mdc-button--raised":i,"mdc-button--unelevated":o,"mdc-button--outlined":a}]);if(l){var T=y.style||{},C={"--mdc-theme-primary":"var(--mdc-theme-error)","--mdc-theme-on-primary":"var(--mdc-theme-on-error)"};y.style=ae(ae({},C),T)}return Y.createElement(kt,ae({tag:"button"},y,{ref:n,className:w}),Y.createElement(mpe,null),!!u&&Y.createElement(I$,{icon:u}),Y.createElement("span",{className:"mdc-button__label"},f,g),!!h&&Y.createElement(I$,{icon:h}))})),mpe=Y.memo(function(){return Y.createElement("div",{className:"mdc-button__ripple"})}),I$=ile(function(e,n){var r=St(e,["mdc-button__icon"]);return Y.createElement(Mn,ae({},e,{className:r,ref:n}))});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var DN=function(t,e){return DN=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},DN(t,e)};function gpe(t,e){DN(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var MN=function(){return MN=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},MN.apply(this,arguments)};/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var tS={ICON_BUTTON_ON:"mdc-icon-button--on",ROOT:"mdc-icon-button"},vR={ARIA_PRESSED:"aria-pressed",CHANGE_EVENT:"MDCIconButtonToggle:change"};/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var vpe=function(t){gpe(e,t);function e(n){return t.call(this,MN({},e.defaultAdapter,n))||this}return Object.defineProperty(e,"cssClasses",{get:function(){return tS},enumerable:!0,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return vR},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},hasClass:function(){return!1},notifyChange:function(){},removeClass:function(){},setAttr:function(){}}},enumerable:!0,configurable:!0}),e.prototype.init=function(){this.adapter_.setAttr(vR.ARIA_PRESSED,""+this.isOn())},e.prototype.handleClick=function(){this.toggle(),this.adapter_.notifyChange({isOn:this.isOn()})},e.prototype.isOn=function(){return this.adapter_.hasClass(tS.ICON_BUTTON_ON)},e.prototype.toggle=function(n){n===void 0&&(n=!this.isOn()),n?this.adapter_.addClass(tS.ICON_BUTTON_ON):this.adapter_.removeClass(tS.ICON_BUTTON_ON),this.adapter_.setAttr(vR.ARIA_PRESSED,""+n)},e}(ui),ype=function(t){var e=li({props:t,elements:{rootEl:!0},foundation:function(l){var u=l.rootEl,f=l.emit;return new vpe({addClass:function(h){return u.addClass(h)},removeClass:function(h){return u.removeClass(h)},hasClass:function(h){return u.hasClass(h)},setAttr:function(h,g){return u.setProp(h,g)},notifyChange:function(h){return f("onChange",h)}})}}),n=e.foundation,r=Ke(e,["foundation"]),i=r.rootEl,o=t.checked!==void 0?t.checked:n.isOn();B.useEffect(function(){o!==n.isOn()&&n.toggle(o)},[n,o]);var a=function(l){var u;(u=t.onClick)===null||u===void 0||u.call(t,l),n.handleClick()};return i.setProp("onClick",a,!0),ae({isOn:o,foundation:n},r)},bn=ht(function(e,n){var r=Ke(e,[]);return r.onIcon?Y.createElement(_pe,ae({},r,{ref:n})):Y.createElement(bpe,ae({tag:"button"},r,{ref:n}))}),_pe=ht(function(e,n){var r=e.icon,i=e.onIcon;e.foundationRef;var o=Ke(e,["icon","onIcon","foundationRef"]),a=ype(e),l=a.isOn,u=a.rootEl;return Y.createElement(Epe,ae({"aria-pressed":l},u.props(o),{tag:"button",ref:n}),Y.createElement(k$,{icon:r}),Y.createElement(k$,{icon:i,on:!0}))}),bpe=cc({surface:!1,unbounded:!0})(ht(function(e,n){var r=e.checked,i=e.label;e.foundationRef;var o=Ke(e,["checked","label","foundationRef"]),a=St(e,["mdc-icon-button",{"mdc-icon-button--on":r}]);return Y.createElement(Mn,ae({role:"button",tabIndex:0,"aria-label":i},o,{className:a,ref:n}))})),Epe=cc({surface:!1,unbounded:!0})(ht(function(e,n){var r=e.checked,i=Ke(e,["checked"]),o=St(e,["mdc-icon-button",{"mdc-icon-button--on":r}]);return Y.createElement(kt,ae({tag:"button",role:"button",tabIndex:0},i,{className:o,ref:n}))})),k$=Y.memo(function(e){e.on;var n=Ke(e,["on"]),r=St(e,["mdc-icon-button__icon",{"mdc-icon-button__icon--on":e.on}]);return Y.createElement(Mn,ae({},n,{className:r}))}),xa=ht(function(e,n){var r=e.outlined,i=Ke(e,["outlined"]),o=St(e,["mdc-card",{"mdc-card--outlined":r}]);return Y.createElement(kt,ae({},i,{ref:n,className:o}))});ht(function(e,n){var r=e.square,i=e.sixteenByNine,o=Ke(e,["square","sixteenByNine"]),a=St(e,["mdc-card__media",{"mdc-card__media--square":r,"mdc-card__media--16-9":i}]);return Y.createElement(kt,ae({tag:"section"},o,{ref:n,className:a}))});ht(function(e,n){var r=St(e,["mdc-card__media-content"]);return Y.createElement(kt,ae({},e,{ref:n,className:r}))});cc({surface:!1})(ht(function(e,n){var r=St(e,["mdc-card__primary-action"]);return Y.createElement(kt,ae({},e,{ref:n,className:r}))}));var EI=ht(function(e,n){var r=e.fullBleed,i=Ke(e,["fullBleed"]),o=St(e,["mdc-card__actions",{"mdc-card__actions--full-bleed":r}]);return Y.createElement(kt,ae({tag:"section"},i,{ref:n,className:o}))}),ix=ht(function(e,n){var r=St(e,["mdc-card__action-buttons"]);return Y.createElement(kt,ae({},e,{ref:n,className:r}))}),wpe=ht(function(e,n){var r=St(e,["mdc-card__action-icons"]);return Y.createElement(kt,ae({},e,{ref:n,className:r}))});ht(function(e,n){var r=St(e,["mdc-card__action","mdc-card__action--icon"]);return Y.createElement(bn,ae({},e,{ref:n,className:r}))});var rf=ht(function(e,n){var r=St(e,["mdc-card__action","mdc-card__action--button"]);return Y.createElement(fr,ae({},e,{ref:n,className:r}))}),Ue=ht(function(e,n){var r,i=e.use,o=Ke(e,["use"]),a=gA(),l=a.typography,u=(l==null?void 0:l[i])||(l==null?void 0:l.defaultTag)||"span",f=St(e,[(r={},r["mdc-typography--"+e.use]=e.use,r)]);return Y.createElement(kt,ae({tag:u},o,{ref:n,className:f}))});const Zq=fc(b("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 192 192",children:ne("g",{fill:"none",children:[b("path",{d:"M0 0h192v192H0z"}),b("path",{d:"M96 104l-72 32v-32l72-32 72 32v28-6 10zm0-88l72 32v32L96 48 24 80V48zm27 116l36 16-63 28v-32z",fill:"currentColor",fillRule:"evenodd"})]})})),Cpe=fc(b("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:b("path",{d:"M10.8 7.79999C10.8 9.45684 9.45681 10.8 7.79995 10.8C6.1431 10.8 4.79995 9.45684 4.79995 7.79999C4.79995 6.14313 6.1431 4.79999 7.79995 4.79999C9.45681 4.79999 10.8 6.14313 10.8 7.79999ZM1.19995 16.68V19.2H14.4V16.68C14.4 14.2745 11.445 13.2 7.79995 13.2C4.15487 13.2 1.19995 14.2745 1.19995 16.68ZM16.2 10.8C17.8568 10.8 19.2 9.45684 19.2 7.79999C19.2 6.14313 17.8568 4.79999 16.2 4.79999C14.5431 4.79999 13.2 6.14313 13.2 7.79999C13.2 9.45684 14.5431 10.8 16.2 10.8ZM22.8 19.2H15.6V16.68C15.6 15.25 14.9331 14.1526 13.7752 13.3811C14.5258 13.2593 15.3439 13.2 16.2 13.2C19.845 13.2 22.8 14.2745 22.8 16.68V19.2Z",fill:"currentColor",fillRule:"evenodd"})})),R$=fc(b("svg",{viewBox:"0 0 22 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:b("path",{d:"M14 4C14 2.58 13.5 1.27 12.67 0.24C13.09 0.0999998 13.53 0 14 0C16.21 0 18 1.79 18 4C18 6.21 16.21 8 14 8C13.57 8 13.16 7.91 12.77 7.79C12.74 7.78 12.71 7.77 12.67 7.76C13.5 6.73 14 5.42 14 4ZM15.66 9.13C17.03 10.06 18 11.32 18 13V16H22V13C22 10.82 18.42 9.53 15.66 9.13ZM8 2C6.9 2 6 2.9 6 4C6 5.1 6.9 6 8 6C9.1 6 10 5.1 10 4C10 2.9 9.1 2 8 2ZM8 11C5.3 11 2.2 12.29 2 13.01V14H14V13C13.8 12.29 10.7 11 8 11ZM8 0C10.21 0 12 1.79 12 4C12 6.21 10.21 8 8 8C5.79 8 4 6.21 4 4C4 1.79 5.79 0 8 0ZM8 9C10.67 9 16 10.34 16 13V16H0V13C0 10.34 5.33 9 8 9Z",fill:"currentColor"})})),Spe=fc(b("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 192 192",children:ne("g",{fill:"none",children:[b("path",{d:"M0 0h192v192H0z"}),b("path",{d:"M24 120h144v32.016c0 8.832-7.144 15.984-15.96 15.984H39.96C31.144 168 24 160.816 24 152.016zm0-80.064C24 31.136 31.144 24 39.96 24h112.08c8.816 0 15.96 7.2 15.96 15.936v56.128c0 8.8-7.144 15.936-15.96 15.936H39.96C31.144 112 24 104.8 24 96.064zM40 40h112v24H40zm0 44.04C40 81.8 41.712 80 44.04 80h7.92C54.2 80 56 81.712 56 84.04v7.92C56 94.2 54.288 96 51.96 96h-7.92C41.8 96 40 94.288 40 91.96zm0 56c0-2.24 1.712-4.04 4.04-4.04h7.92c2.24 0 4.04 1.712 4.04 4.04v7.92c0 2.24-1.712 4.04-4.04 4.04h-7.92c-2.24 0-4.04-1.712-4.04-4.04z",fill:"currentColor",fillRule:"evenodd"})]})})),Tpe=fc(b("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 192 192",children:b("path",{d:"M105.264 17.096l18.704 18.984c6.288 6.384 3.736 8.768-.32 12.888l-18.272 18.544c-4.056 4.12-3.44 9.144-.024 12.608l12.416 12.6c3.424 3.472 8.36 4.096 12.416-.024l18.272-18.544c4.056-4.12 9.28-3.792 12.72-.32l18.552 18.84c3.424 3.48 3.76 8.792-.304 12.912l-59.944 60.84a37.2 37.2 0 0 1-53.168 0l-54.08-54.896c-3.44-3.48-3.736-8.824.32-12.936l18.136-18.408c4.056-4.12 4.904-7.92 1.48-11.4L18.48 54.888c-3.432-3.472-3.472-9.056.584-13.176l17.616-17.88c4.056-4.12 9.376-3.888 12.8-.416l13.696 13.896c3.424 3.48 7.04 2.752 11.096-1.36L92.544 17.4c4.056-4.12 9.296-3.784 12.72-.304z",fill:"currentcolor"})})),xpe=fc(b("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 192 192",children:ne("g",{fill:"none",children:[b("path",{d:"M0 0h192v192H0z"}),b("path",{d:"M160.056 134.048v-76.08l-26.944-26.944 16.952-16.96L184 48v86.16l-.056.032v9.832l-33.904 33.912L133.112 161zm-128.112-.024l26.944 26.952-16.952 16.96L8 144V57.84l.056-.032v-9.832L41.96 14.064 58.888 31 31.944 57.952v76.08zm28.064-26c-6.647 0-12.036-5.389-12.036-12.036 0-6.647 5.389-12.036 12.036-12.036 6.645 0 12.032 5.387 12.032 12.032 0 6.645-5.387 12.032-12.032 12.032zm35.984 0c-6.647 0-12.036-5.389-12.036-12.036 0-6.647 5.389-12.036 12.036-12.036 6.645 0 12.032 5.387 12.032 12.032 0 6.645-5.387 12.032-12.032 12.032zm35.984 0c-6.647 0-12.036-5.389-12.036-12.036 0-6.647 5.389-12.036 12.036-12.036 6.645 0 12.032 5.387 12.032 12.032 0 6.645-5.387 12.032-12.032 12.032z",fill:"currentColor",fillRule:"evenodd"})]})})),Ape=fc(b("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 192 192",children:b("path",{d:"M96 16c-44.16 0-80 35.84-80 80s35.84 80 80 80 80-35.84 80-80-35.84-80-80-80zm-8 143.44c-31.6-3.92-56-30.8-56-63.44 0-4.96.64-9.68 1.68-14.32L72 120v8c0 8.8 7.2 16 16 16zm55.2-20.32c-2.08-6.48-8-11.12-15.2-11.12h-8v-24c0-4.4-3.6-8-8-8H64V80h16c4.4 0 8-3.6 8-8V56h16c8.8 0 16-7.2 16-16v-3.28c23.44 9.52 40 32.48 40 59.28 0 16.64-6.4 31.76-16.8 43.12z",fillRule:"evenodd",fill:"currentColor"})})),eK=fc(b("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 192 192",children:b("path",{fill:"currentColor",d:"M80 32H32c-8.8 0-15.92 7.2-15.92 16L16 144c0 8.8 7.2 16 16 16h128c8.8 0 16-7.2 16-16V64c0-8.8-7.2-16-16-16H96zm11.6 93.68L117.328 96 152 136H48l26-32z"})})),Ipe=fc(b("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:ne("g",{children:[b("path",{d:"M19.83,9.7a1.72,1.72,0,1,0-2.36-.63A1.73,1.73,0,0,0,19.83,9.7Z",fill:"currentColor"}),b("path",{d:"M4.17,9.7a1.72,1.72,0,1,0-.63-2.35A1.72,1.72,0,0,0,4.17,9.7Z",fill:"currentColor"}),b("circle",{cx:"12",cy:"20.28",r:"1.72",fill:"currentColor"}),b("path",{d:"M20.06,14.36a2.19,2.19,0,0,0-2.46.19l-2.9-1.68a2.67,2.67,0,0,0,.08-.64,2.77,2.77,0,0,0-2-2.65V6.22a2.19,2.19,0,1,0-1.6,0V9.58a2.77,2.77,0,0,0-2,2.65,2.67,2.67,0,0,0,.08.64L6.4,14.55a2.2,2.2,0,1,0,.79,1.38l2.9-1.68a2.75,2.75,0,0,0,3.82,0l2.9,1.68a2.18,2.18,0,1,0,3.25-1.57Z",fill:"currentColor"})]})})),kpe=fc(ne("svg",{viewBox:"0 0 38 38",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[b("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19 37C28.9411 37 37 28.9411 37 19C37 9.05887 28.9411 1 19 1C9.05887 1 1 9.05887 1 19C1 28.9411 9.05887 37 19 37Z",fill:"white",stroke:"black",strokeOpacity:"0.12"}),b("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 22H28V26.002C28.0005 26.5315 27.7906 27.0396 27.4164 27.4143C27.0423 27.7891 26.5345 27.9997 26.005 28H11.995C10.8929 27.9978 10.0005 27.1041 10 26.002V22ZM10 11.992C10 10.892 10.893 10 11.995 10H26.005C27.107 10 28 10.9 28 11.992V19.008C28 20.108 27.107 21 26.005 21H11.995C10.893 21 10 20.1 10 19.008V11.992ZM12 12H26V15H12V12ZM12 17.505C12 17.225 12.214 17 12.505 17H13.495C13.775 17 14 17.214 14 17.505V18.495C14 18.775 13.786 19 13.495 19H12.505C12.3704 19.0022 12.2407 18.9497 12.1455 18.8545C12.0503 18.7593 11.9978 18.6296 12 18.495V17.505ZM12 24.505C12 24.225 12.214 24 12.505 24H13.495C13.775 24 14 24.214 14 24.505V25.495C14 25.775 13.786 26 13.495 26H12.505C12.3704 26.0022 12.2407 25.9497 12.1455 25.8545C12.0503 25.7593 11.9978 25.6296 12 25.495V24.505Z",fill:"currentColor"})]})),Rpe=fc(b("svg",{viewBox:"0 0 10 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:b("path",{d:"M2.99998 13C2.99998 13.3667 3.29998 13.6667 3.66665 13.6667H6.33331C6.69998 13.6667 6.99998 13.3667 6.99998 13V12.3334H2.99998V13ZM4.99998 0.333374C2.42665 0.333374 0.333313 2.42671 0.333313 5.00004C0.333313 6.58671 1.12665 7.98004 2.33331 8.82671V10.3334C2.33331 10.7 2.63331 11 2.99998 11H6.99998C7.36665 11 7.66665 10.7 7.66665 10.3334V8.82671C8.87331 7.98004 9.66665 6.58671 9.66665 5.00004C9.66665 2.42671 7.57331 0.333374 4.99998 0.333374ZM6.89998 7.73337L6.33331 8.13337V9.66671H3.66665V8.13337L3.09998 7.73337C2.65831 7.42718 2.29727 7.01867 2.04768 6.54271C1.79809 6.06675 1.66736 5.53747 1.66665 5.00004C1.66665 3.16004 3.15998 1.66671 4.99998 1.66671C6.83998 1.66671 8.33331 3.16004 8.33331 5.00004C8.33331 6.08671 7.79998 7.10671 6.89998 7.73337Z",fill:"currentColor"})}));function fc(t){return({size:e="small",...n})=>b(Mn,{icon:{strategy:"component",size:e,icon:t},...n})}const UE=({productName:t})=>ne(Rt,{children:[b(_r,{desktop:2,tablet:0,phone:0}),b(_r,{span:8,align:"middle",children:ne(xa,{className:"EmulatorDisabled",children:[b("div",{className:"EmulatorDisabled-graphics",children:b("img",{src:"/assets/img/database.png",alt:""})}),ne("div",{className:"EmulatorDisabled-description",children:[ne(Ue,{use:"headline6",tag:"h3",children:["The ",t," Emulator is currently not running."]}),ne(Ue,{use:"body1",tag:"p",children:["If you are not using ",t," in your testing, everything is fine. If you want to use ",t," in your testing, then the best way to set it up and start it is to run the following command to initialize the ",t," Emulator:"," ",b("code",{children:"firebase init emulators"}),". Followed by:"," ",b("code",{children:"firebase emulators:start"}),"."]}),b(Ue,{use:"body1",tag:"p",children:ne("a",{href:"https://firebase.google.com/docs/emulator-suite/install_and_configure#configure_emulator_suite",children:[b(Rpe,{size:"xsmall"})," Learn more"]})})]})]})})]}),Ope=()=>ne(Rt,{children:[b(_r,{desktop:2,tablet:0,phone:0}),b(_r,{span:8,align:"middle",children:ne(xa,{className:"EmulatorDisabled",children:[b("div",{className:"EmulatorDisabled-extensions-graphics",children:b("img",{src:"/assets/extensions/default-extension.png",alt:""})}),ne("div",{className:"EmulatorDisabled-description",children:[b(Ue,{use:"headline6",tag:"h3",children:"The Extensions Emulator is currently not running."}),ne(Ue,{use:"body1",tag:"p",children:["If you are not using Extensions in your testing, everything is fine. If you want to use Extensions in your testing,"," ",b("a",{href:"https://firebase.google.com/docs/extensions/manifest",children:"add them to your extension manifest"}),". To do so, either to add a single extension instance by running:"," ",b("code",{children:"firebase ext:install <publisherId/extensionId>"})," or export the extensions instances from a production project by running"," ",b("code",{children:"firebase ext:export --project=your-project"}),"."]})]})]})})]}),Ppe=({productName:t})=>ne("div",{className:"EmulatorDisabled",children:[b("div",{className:"EmulatorDisabled-graphics",children:b("img",{src:"/assets/img/database.png",alt:""})}),ne("div",{className:"EmulatorDisabled-description",children:[ne(Ue,{use:"headline6",tag:"h3",children:["Please update your ",t," Emulator."]}),ne(Ue,{use:"body1",tag:"p",children:["This feature requires the latest ",t," Emulator. Please"," ",b("a",{href:"https://firebase.google.com/docs/cli#update-cli",children:"upgrade your Firebase CLI"})," ","to the latest version and refresh this page."]})]})]});var yR={xsmall:18,small:20,medium:24,large:36,xlarge:48},tK=ht(function(e,n){var r,i=e.size,o=i===void 0?"medium":i,a=e.max,l=a===void 0?1:a,u=e.min,f=u===void 0?0:u,h=e.progress,g=Ke(e,["size","max","min","progress"]),y=St(e,["rmwc-circular-progress",(r={},r["rmwc-circular-progress--size-"+e.size]=typeof e.size=="string",r["rmwc-circular-progress--indeterminate"]=h===void 0,r["rmwc-circular-progress--thickerstroke"]=!!e.size&&(yR[o]||Number(o))>36,r)]),w=yR[o]?g.style:ae(ae({},g.style),{fontSize:Number(o)}),T=yR[o]||Number(o),C=function(I){return I<f?0:I>l?1:(I-f)/(l-f)},R=function(I){return h!==void 0?{strokeDasharray:2*Math.PI*(I/2.4)*C(h)+", 666.66%"}:void 0};return Y.createElement(kt,ae({"aria-valuenow":h,"aria-valuemin":f,"aria-valuemax":l},g,{style:w,className:y,ref:n}),Y.createElement("svg",{className:"rmwc-circular-progress__circle",viewBox:"0 0 "+T+" "+T},Y.createElement("circle",{className:"rmwc-circular-progress__path",style:R(T),cx:T/2,cy:T/2,r:T/2.4})))});const ja=({message:t,size:e,span:n,cover:r,scrim:i,...o})=>{const a=ne(Rt,{children:[b(tK,{size:e??"xlarge"}),t&&b(Ue,{use:"body2",tag:"p",children:t})]});return n===void 0?b("div",{className:Lr("Spinner",{cover:r,scrim:i}),...o,children:a}):b(_r,{span:n,align:"middle",className:"Spinner",...o,children:a})};function W0(t){"@babel/helpers - typeof";return W0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W0(t)}function Npe(t,e){if(W0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(W0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lpe(t){var e=Npe(t,"string");return W0(e)=="symbol"?e:e+""}function nK(t,e,n){return(e=Lpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function P$(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?O$(Object(n),!0).forEach(function(r){nK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Na(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var N$=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),_R=function(){return Math.random().toString(36).substring(7).split("").join(".")},ox={INIT:"@@redux/INIT"+_R(),REPLACE:"@@redux/REPLACE"+_R(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+_R()}};function Dpe(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function rK(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Na(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Na(1));return n(rK)(t,e)}if(typeof t!="function")throw new Error(Na(2));var i=t,o=e,a=[],l=a,u=!1;function f(){l===a&&(l=a.slice())}function h(){if(u)throw new Error(Na(3));return o}function g(C){if(typeof C!="function")throw new Error(Na(4));if(u)throw new Error(Na(5));var R=!0;return f(),l.push(C),function(){if(R){if(u)throw new Error(Na(6));R=!1,f();var k=l.indexOf(C);l.splice(k,1),a=null}}}function y(C){if(!Dpe(C))throw new Error(Na(7));if(typeof C.type>"u")throw new Error(Na(8));if(u)throw new Error(Na(9));try{u=!0,o=i(o,C)}finally{u=!1}for(var R=a=l,I=0;I<R.length;I++){var k=R[I];k()}return C}function w(C){if(typeof C!="function")throw new Error(Na(10));i=C,y({type:ox.REPLACE})}function T(){var C,R=g;return C={subscribe:function(k){if(typeof k!="object"||k===null)throw new Error(Na(11));function O(){k.next&&k.next(h())}O();var A=R(O);return{unsubscribe:A}}},C[N$]=function(){return this},C}return y({type:ox.INIT}),r={dispatch:y,subscribe:g,getState:h,replaceReducer:w},r[N$]=T,r}function Mpe(t){Object.keys(t).forEach(function(e){var n=t[e],r=n(void 0,{type:ox.INIT});if(typeof r>"u")throw new Error(Na(12));if(typeof n(void 0,{type:ox.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Na(13))})}function Fpe(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r];typeof t[i]=="function"&&(n[i]=t[i])}var o=Object.keys(n),a;try{Mpe(n)}catch(l){a=l}return function(u,f){if(u===void 0&&(u={}),a)throw a;for(var h=!1,g={},y=0;y<o.length;y++){var w=o[y],T=n[w],C=u[w],R=T(C,f);if(typeof R>"u")throw f&&f.type,new Error(Na(14));g[w]=R,h=h||R!==C}return h=h||o.length!==Object.keys(u).length,h?g:u}}function iK(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function Upe(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),o=function(){throw new Error(Na(15))},a={getState:i.getState,dispatch:function(){return o.apply(void 0,arguments)}},l=e.map(function(u){return u(a)});return o=iK.apply(void 0,l)(i.dispatch),P$(P$({},i),{},{dispatch:o})}}}var dc=function(e){return"@@redux-saga/"+e},Vpe=dc("CANCEL_PROMISE"),oK=dc("CHANNEL_END"),aK=dc("IO"),L$=dc("MATCH"),sK=dc("MULTICAST"),lK=dc("SAGA_ACTION"),uK=dc("SELF_CANCELLATION"),Bpe=dc("TASK"),$v=dc("TASK_CANCEL"),cK=dc("TERMINATE"),$pe=dc("LOCATION"),fK=function(e){return e==null},tT=function(e){return e!=null},Gs=function(e){return typeof e=="function"},QF=function(e){return typeof e=="string"},hp=Array.isArray,wI=function(e){return e&&Gs(e.then)},XF=function(e){return e&&Gs(e.next)&&Gs(e.throw)},D$=function t(e){return e&&(QF(e)||hK(e)||Gs(e)||hp(e)&&e.every(t))},JF=function(e){return e&&Gs(e.take)&&Gs(e.close)},dK=function(e){return Gs(e)&&e.hasOwnProperty("toString")},hK=function(e){return!!e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype},Hpe=function(e){return JF(e)&&e[sK]},jpe=function(e){return function(){return e}},zpe=jpe(!0),ss=function(){},Wpe=function(e){return e},ZF=function(e,n){ti(e,n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(n).forEach(function(r){e[r]=n[r]})},qpe=function(e,n){var r;return(r=[]).concat.apply(r,n.map(e))};function CI(t,e){var n=t.indexOf(e);n>=0&&t.splice(n,1)}function Kpe(t){var e=!1;return function(){e||(e=!0,t())}}var Gpe=function(e){throw e},Ype=function(e){return{value:e,done:!0}};function FN(t,e,n){e===void 0&&(e=Gpe),n===void 0&&(n="iterator");var r={meta:{name:n},next:t,throw:e,return:Ype,isSagaIterator:!0};return typeof Symbol<"u"&&(r[Symbol.iterator]=function(){return r}),r}function Qpe(t,e){var n=e.sagaStack;console.error(t),console.error(n)}var pK=function(e){return Array.apply(null,new Array(e))},Xpe=function(e){return function(n){return e(Object.defineProperty(n,lK,{value:!0}))}},mK=function(e){return e===cK},gK=function(e){return e===$v},vK=function(e){return mK(e)||gK(e)};function yK(t,e){var n=Object.keys(t),r=n.length,i=0,o,a=hp(t)?pK(r):{},l={};function u(){i===r&&(o=!0,e(a))}return n.forEach(function(f){var h=function(y,w){o||(w||vK(y)?(e.cancel(),e(y,w)):(a[f]=y,i++,u()))};h.cancel=ss,l[f]=h}),e.cancel=function(){o||(o=!0,n.forEach(function(f){return l[f].cancel()}))},l}function e2(t){return{name:t.name||"anonymous",location:_K(t)}}function _K(t){return t[$pe]}function Jpe(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}var Zpe="Channel's Buffer overflow!",eme=1,tme=3,bK=4;function nme(t,e){t===void 0&&(t=10);var n=new Array(t),r=0,i=0,o=0,a=function(h){n[i]=h,i=(i+1)%t,r++},l=function(){if(r!=0){var h=n[o];return n[o]=null,r--,o=(o+1)%t,h}},u=function(){for(var h=[];r;)h.push(l());return h};return{isEmpty:function(){return r==0},put:function(h){if(r<t)a(h);else{var g;switch(e){case eme:throw new Error(Zpe);case tme:n[i]=h,i=(i+1)%t,o=i;break;case bK:g=2*t,n=u(),r=n.length,i=n.length,o=0,n.length=g,t=g,a(h);break}}},take:l,flush:u}}var rme=function(e){return nme(e,bK)},nT="TAKE",EK="PUT",wK="ALL",ime="RACE",CK="CALL",ome="CPS",SK="FORK",ame="JOIN",TK="CANCEL",sme="SELECT",lme="ACTION_CHANNEL",ume="CANCELLED",cme="FLUSH",xK="GET_CONTEXT",AK="SET_CONTEXT",of=function(e,n){var r;return r={},r[aK]=!0,r.combinator=!1,r.type=e,r.payload=n,r};function fme(t,e){if(t===void 0&&(t="*"),D$(t))return tT(e)&&console.warn("take(pattern) takes one argument but two were provided. Consider passing an array for listening to several action types"),of(nT,{pattern:t});if(Hpe(t)&&tT(e)&&D$(e))return of(nT,{channel:t,pattern:e});if(JF(t))return tT(e)&&console.warn("take(channel) takes one argument but two were provided. Second argument is ignored."),of(nT,{channel:t})}function $i(t,e){return fK(e)&&(e=t,t=void 0),of(EK,{channel:t,action:e})}function IK(t){var e=of(wK,t);return e.combinator=!0,e}function kK(t,e){var n=null,r;return Gs(t)?r=t:(hp(t)?(n=t[0],r=t[1]):(n=t.context,r=t.fn),n&&QF(r)&&Gs(n[r])&&(r=n[r])),{context:n,fn:r,args:e}}function so(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return of(CK,kK(t,n))}function t2(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return of(SK,kK(t,n))}function dme(t){return t===void 0&&(t=uK),of(TK,t)}function hme(t){return of(xK,t)}function pme(t){return of(AK,t)}var M$=function(e){return{done:!0,value:e}},bR={};function mme(t){return JF(t)?"channel":dK(t)?String(t):Gs(t)?t.name:String(t)}function gme(t,e,n){var r,i,o,a=e;function l(u,f){if(a===bR)return M$(u);if(f&&!i)throw a=bR,f;r&&r(u);var h=f?t[i](f):t[a]();return a=h.nextState,o=h.effect,r=h.stateUpdater,i=h.errorState,a===bR?M$(u):o}return FN(l,function(u){return l(null,u)},n)}function vme(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var o={done:!1,value:fme(t)},a=function(w){return{done:!1,value:t2.apply(void 0,[e].concat(r,[w]))}},l=function(w){return{done:!1,value:dme(w)}},u,f,h=function(w){return u=w},g=function(w){return f=w};return gme({q1:function(){return{nextState:"q2",effect:o,stateUpdater:g}},q2:function(){return u?{nextState:"q3",effect:l(u)}:{nextState:"q1",effect:a(f),stateUpdater:h}},q3:function(){return{nextState:"q1",effect:a(f),stateUpdater:h}}},"q1","takeLatest("+mme(t)+", "+e.name+")")}function Bu(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return t2.apply(void 0,[vme,t,e].concat(r))}var ax="NOT_FOUND";function yme(t){var e;return{get:function(r){return e&&t(e.key,r)?e.value:ax},put:function(r,i){e={key:r,value:i}},getEntries:function(){return e?[e]:[]},clear:function(){e=void 0}}}function _me(t,e){var n=[];function r(l){var u=n.findIndex(function(h){return e(l,h.key)});if(u>-1){var f=n[u];return u>0&&(n.splice(u,1),n.unshift(f)),f.value}return ax}function i(l,u){r(l)===ax&&(n.unshift({key:l,value:u}),n.length>t&&n.pop())}function o(){return n}function a(){n=[]}return{get:r,put:i,getEntries:o,clear:a}}var bme=function(e,n){return e===n};function Eme(t){return function(n,r){if(n===null||r===null||n.length!==r.length)return!1;for(var i=n.length,o=0;o<i;o++)if(!t(n[o],r[o]))return!1;return!0}}function wme(t,e){var n=typeof e=="object"?e:{equalityCheck:e},r=n.equalityCheck,i=r===void 0?bme:r,o=n.maxSize,a=o===void 0?1:o,l=n.resultEqualityCheck,u=Eme(i),f=a===1?yme(u):_me(a,u);function h(){var g=f.get(arguments);if(g===ax){if(g=t.apply(null,arguments),l){var y=f.getEntries(),w=y.find(function(T){return l(T.value,g)});w&&(g=w.value)}f.put(arguments,g)}return g}return h.clearCache=function(){return f.clear()},h}function Cme(t){var e=Array.isArray(t[0])?t[0]:t;if(!e.every(function(r){return typeof r=="function"})){var n=e.map(function(r){return typeof r=="function"?"function "+(r.name||"unnamed")+"()":typeof r}).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return e}function Sme(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];var f=0,h,g={memoizeOptions:void 0},y=l.pop();if(typeof y=="object"&&(g=y,y=l.pop()),typeof y!="function")throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof y+"]");var w=g,T=w.memoizeOptions,C=T===void 0?n:T,R=Array.isArray(C)?C:[C],I=Cme(l),k=t.apply(void 0,[function(){return f++,y.apply(null,arguments)}].concat(R)),O=t(function(){for(var V=[],D=I.length,P=0;P<D;P++)V.push(I[P].apply(null,arguments));return h=k.apply(null,V),h});return Object.assign(O,{resultFunc:y,memoizedResultFunc:k,dependencies:I,lastResult:function(){return h},recomputations:function(){return f},resetRecomputations:function(){return f=0}}),O};return i}var Fo=Sme(wme),Tme=function(e,n){if(n===void 0&&(n=Fo),typeof e!="object")throw new Error("createStructuredSelector expects first argument to be an object "+("where each property is a selector, instead received a "+typeof e));var r=Object.keys(e),i=n(r.map(function(o){return e[o]}),function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return a.reduce(function(u,f,h){return u[r[h]]=f,u},{})});return i};function zu(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function py(t){return!!t&&!!t[kl]}function Um(t){var e;return!!t&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===Nme}(t)||Array.isArray(t)||!!t[z$]||!!(!((e=t.constructor)===null||e===void 0)&&e[z$])||n2(t)||r2(t))}function q0(t,e,n){n===void 0&&(n=!1),zy(t)===0?(n?Object.keys:l2)(t).forEach(function(r){n&&typeof r=="symbol"||e(r,t[r],t)}):t.forEach(function(r,i){return e(i,r,t)})}function zy(t){var e=t[kl];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:n2(t)?2:r2(t)?3:0}function UN(t,e){return zy(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function xme(t,e){return zy(t)===2?t.get(e):t[e]}function RK(t,e,n){var r=zy(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function Ame(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function n2(t){return Ome&&t instanceof Map}function r2(t){return Pme&&t instanceof Set}function em(t){return t.o||t.t}function i2(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=Lme(t);delete e[kl];for(var n=l2(e),r=0;r<n.length;r++){var i=n[r],o=e[i];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(e[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),e)}function o2(t,e){return e===void 0&&(e=!1),a2(t)||py(t)||!Um(t)||(zy(t)>1&&(t.set=t.add=t.clear=t.delete=Ime),Object.freeze(t),e&&q0(t,function(n,r){return o2(r,!0)},!0)),t}function Ime(){zu(2)}function a2(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function af(t){var e=Dme[t];return e||zu(18,t),e}function F$(){return K0}function ER(t,e){e&&(af("Patches"),t.u=[],t.s=[],t.v=e)}function sx(t){VN(t),t.p.forEach(kme),t.p=null}function VN(t){t===K0&&(K0=t.l)}function U$(t){return K0={p:[],l:K0,h:t,m:!0,_:0}}function kme(t){var e=t[kl];e.i===0||e.i===1?e.j():e.g=!0}function wR(t,e){e._=e.p.length;var n=e.p[0],r=t!==void 0&&t!==n;return e.h.O||af("ES5").S(e,t,r),r?(n[kl].P&&(sx(e),zu(4)),Um(t)&&(t=lx(e,t),e.l||ux(e,t)),e.u&&af("Patches").M(n[kl].t,t,e.u,e.s)):t=lx(e,n,[]),sx(e),e.u&&e.v(e.u,e.s),t!==OK?t:void 0}function lx(t,e,n){if(a2(e))return e;var r=e[kl];if(!r)return q0(e,function(l,u){return V$(t,r,e,l,u,n)},!0),e;if(r.A!==t)return e;if(!r.P)return ux(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=i2(r.k):r.o,o=i,a=!1;r.i===3&&(o=new Set(i),i.clear(),a=!0),q0(o,function(l,u){return V$(t,r,i,l,u,n,a)}),ux(t,i,!1),n&&t.u&&af("Patches").N(r,n,t.u,t.s)}return r.o}function V$(t,e,n,r,i,o,a){if(py(i)){var l=lx(t,i,o&&e&&e.i!==3&&!UN(e.R,r)?o.concat(r):void 0);if(RK(n,r,l),!py(l))return;t.m=!1}else a&&n.add(i);if(Um(i)&&!a2(i)){if(!t.h.D&&t._<1)return;lx(t,i),e&&e.A.l||ux(t,i)}}function ux(t,e,n){n===void 0&&(n=!1),!t.l&&t.h.D&&t.m&&o2(e,n)}function CR(t,e){var n=t[kl];return(n?em(n):t)[e]}function B$(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function BN(t){t.P||(t.P=!0,t.l&&BN(t.l))}function SR(t){t.o||(t.o=i2(t.t))}function $N(t,e,n){var r=n2(e)?af("MapSet").F(e,n):r2(e)?af("MapSet").T(e,n):t.O?function(i,o){var a=Array.isArray(i),l={i:a?1:0,A:o?o.A:F$(),P:!1,I:!1,R:{},l:o,t:i,k:null,o:null,j:null,C:!1},u=l,f=HN;a&&(u=[l],f=Lb);var h=Proxy.revocable(u,f),g=h.revoke,y=h.proxy;return l.k=y,l.j=g,y}(e,n):af("ES5").J(e,n);return(n?n.A:F$()).p.push(r),r}function Rme(t){return py(t)||zu(22,t),function e(n){if(!Um(n))return n;var r,i=n[kl],o=zy(n);if(i){if(!i.P&&(i.i<4||!af("ES5").K(i)))return i.t;i.I=!0,r=$$(n,o),i.I=!1}else r=$$(n,o);return q0(r,function(a,l){i&&xme(i.t,a)===l||RK(r,a,e(l))}),o===3?new Set(r):r}(t)}function $$(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return i2(t)}var H$,K0,s2=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",Ome=typeof Map<"u",Pme=typeof Set<"u",j$=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",OK=s2?Symbol.for("immer-nothing"):((H$={})["immer-nothing"]=!0,H$),z$=s2?Symbol.for("immer-draftable"):"__$immer_draftable",kl=s2?Symbol.for("immer-state"):"__$immer_state",Nme=""+Object.prototype.constructor,l2=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,Lme=Object.getOwnPropertyDescriptors||function(t){var e={};return l2(t).forEach(function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)}),e},Dme={},HN={get:function(t,e){if(e===kl)return t;var n=em(t);if(!UN(n,e))return function(i,o,a){var l,u=B$(o,a);return u?"value"in u?u.value:(l=u.get)===null||l===void 0?void 0:l.call(i.k):void 0}(t,n,e);var r=n[e];return t.I||!Um(r)?r:r===CR(t.t,e)?(SR(t),t.o[e]=$N(t.A.h,r,t)):r},has:function(t,e){return e in em(t)},ownKeys:function(t){return Reflect.ownKeys(em(t))},set:function(t,e,n){var r=B$(em(t),e);if(r!=null&&r.set)return r.set.call(t.k,n),!0;if(!t.P){var i=CR(em(t),e),o=i==null?void 0:i[kl];if(o&&o.t===n)return t.o[e]=n,t.R[e]=!1,!0;if(Ame(n,i)&&(n!==void 0||UN(t.t,e)))return!0;SR(t),BN(t)}return t.o[e]===n&&(n!==void 0||e in t.o)||Number.isNaN(n)&&Number.isNaN(t.o[e])||(t.o[e]=n,t.R[e]=!0),!0},deleteProperty:function(t,e){return CR(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,SR(t),BN(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=em(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty:function(){zu(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){zu(12)}},Lb={};q0(HN,function(t,e){Lb[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),Lb.deleteProperty=function(t,e){return Lb.set.call(this,t,e,void 0)},Lb.set=function(t,e,n){return HN.set.call(this,t[0],e,n,t[0])};var Mme=function(){function t(n){var r=this;this.O=j$,this.D=!0,this.produce=function(i,o,a){if(typeof i=="function"&&typeof o!="function"){var l=o;o=i;var u=r;return function(C){var R=this;C===void 0&&(C=l);for(var I=arguments.length,k=Array(I>1?I-1:0),O=1;O<I;O++)k[O-1]=arguments[O];return u.produce(C,function(A){var V;return(V=o).call.apply(V,[R,A].concat(k))})}}var f;if(typeof o!="function"&&zu(6),a!==void 0&&typeof a!="function"&&zu(7),Um(i)){var h=U$(r),g=$N(r,i,void 0),y=!0;try{f=o(g),y=!1}finally{y?sx(h):VN(h)}return typeof Promise<"u"&&f instanceof Promise?f.then(function(C){return ER(h,a),wR(C,h)},function(C){throw sx(h),C}):(ER(h,a),wR(f,h))}if(!i||typeof i!="object"){if((f=o(i))===void 0&&(f=i),f===OK&&(f=void 0),r.D&&o2(f,!0),a){var w=[],T=[];af("Patches").M(i,f,w,T),a(w,T)}return f}zu(21,i)},this.produceWithPatches=function(i,o){if(typeof i=="function")return function(f){for(var h=arguments.length,g=Array(h>1?h-1:0),y=1;y<h;y++)g[y-1]=arguments[y];return r.produceWithPatches(f,function(w){return i.apply(void 0,[w].concat(g))})};var a,l,u=r.produce(i,o,function(f,h){a=f,l=h});return typeof Promise<"u"&&u instanceof Promise?u.then(function(f){return[f,a,l]}):[u,a,l]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var e=t.prototype;return e.createDraft=function(n){Um(n)||zu(8),py(n)&&(n=Rme(n));var r=U$(this),i=$N(this,n,void 0);return i[kl].C=!0,VN(r),i},e.finishDraft=function(n,r){var i=n&&n[kl],o=i.A;return ER(o,r),wR(void 0,o)},e.setAutoFreeze=function(n){this.D=n},e.setUseProxies=function(n){n&&!j$&&zu(20),this.O=n},e.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var o=r[i];if(o.path.length===0&&o.op==="replace"){n=o.value;break}}i>-1&&(r=r.slice(i+1));var a=af("Patches").$;return py(n)?a(n,r):this.produce(n,function(l){return a(l,r)})},t}(),Rl=new Mme,Nr=Rl.produce;Rl.produceWithPatches.bind(Rl);Rl.setAutoFreeze.bind(Rl);Rl.setUseProxies.bind(Rl);Rl.applyPatches.bind(Rl);Rl.createDraft.bind(Rl);Rl.finishDraft.bind(Rl);var cx={exports:{}};cx.exports;(function(t,e){var n=200,r="__lodash_hash_undefined__",i=1,o=2,a=9007199254740991,l="[object Arguments]",u="[object Array]",f="[object AsyncFunction]",h="[object Boolean]",g="[object Date]",y="[object Error]",w="[object Function]",T="[object GeneratorFunction]",C="[object Map]",R="[object Number]",I="[object Null]",k="[object Object]",O="[object Promise]",A="[object Proxy]",V="[object RegExp]",D="[object Set]",P="[object String]",N="[object Symbol]",$="[object Undefined]",q="[object WeakMap]",z="[object ArrayBuffer]",K="[object DataView]",Q="[object Float32Array]",Ee="[object Float64Array]",he="[object Int8Array]",Je="[object Int16Array]",He="[object Int32Array]",xe="[object Uint8Array]",Te="[object Uint8ClampedArray]",J="[object Uint16Array]",Ae="[object Uint32Array]",Ne=/[\\^$.*+?()[\]{}|]/g,ie=/^\[object .+?Constructor\]$/,lt=/^(?:0|[1-9]\d*)$/,Ge={};Ge[Q]=Ge[Ee]=Ge[he]=Ge[Je]=Ge[He]=Ge[xe]=Ge[Te]=Ge[J]=Ge[Ae]=!0,Ge[l]=Ge[u]=Ge[z]=Ge[h]=Ge[K]=Ge[g]=Ge[y]=Ge[w]=Ge[C]=Ge[R]=Ge[k]=Ge[V]=Ge[D]=Ge[P]=Ge[q]=!1;var ut=typeof Ei=="object"&&Ei&&Ei.Object===Object&&Ei,et=typeof self=="object"&&self&&self.Object===Object&&self,_t=ut||et||Function("return this")(),xt=e&&!e.nodeType&&e,Et=xt&&!0&&t&&!t.nodeType&&t,Dt=Et&&Et.exports===xt,Ut=Dt&&ut.process,an=function(){try{return Ut&&Ut.binding&&Ut.binding("util")}catch{}}(),nt=an&&an.isTypedArray;function nn(oe,ye){for(var Le=-1,pt=oe==null?0:oe.length,zn=0,$t=[];++Le<pt;){var Tn=oe[Le];ye(Tn,Le,oe)&&($t[zn++]=Tn)}return $t}function Wt(oe,ye){for(var Le=-1,pt=ye.length,zn=oe.length;++Le<pt;)oe[zn+Le]=ye[Le];return oe}function Kt(oe,ye){for(var Le=-1,pt=oe==null?0:oe.length;++Le<pt;)if(ye(oe[Le],Le,oe))return!0;return!1}function vn(oe,ye){for(var Le=-1,pt=Array(oe);++Le<oe;)pt[Le]=ye(Le);return pt}function fn(oe){return function(ye){return oe(ye)}}function Ot(oe,ye){return oe.has(ye)}function En(oe,ye){return oe==null?void 0:oe[ye]}function fe(oe){var ye=-1,Le=Array(oe.size);return oe.forEach(function(pt,zn){Le[++ye]=[zn,pt]}),Le}function Ce(oe,ye){return function(Le){return oe(ye(Le))}}function ge(oe){var ye=-1,Le=Array(oe.size);return oe.forEach(function(pt){Le[++ye]=pt}),Le}var Re=Array.prototype,Me=Function.prototype,se=Object.prototype,pe=_t["__core-js_shared__"],qe=Me.toString,De=se.hasOwnProperty,Ze=function(){var oe=/[^.]+$/.exec(pe&&pe.keys&&pe.keys.IE_PROTO||"");return oe?"Symbol(src)_1."+oe:""}(),Tt=se.toString,hn=RegExp("^"+qe.call(De).replace(Ne,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),pn=Dt?_t.Buffer:void 0,rr=_t.Symbol,Dr=_t.Uint8Array,Qt=se.propertyIsEnumerable,ci=Re.splice,ft=rr?rr.toStringTag:void 0,Qs=Object.getOwnPropertySymbols,Tr=pn?pn.isBuffer:void 0,Un=Ce(Object.keys,Object),Jn=qr(_t,"DataView"),Ai=qr(_t,"Map"),Wr=qr(_t,"Promise"),fi=qr(_t,"Set"),Ar=qr(_t,"WeakMap"),Uo=qr(Object,"create"),Ml=fa(Jn),Ir=fa(Ai),ys=fa(Wr),aa=fa(fi),sa=fa(Ar),Xs=rr?rr.prototype:void 0,la=Xs?Xs.valueOf:void 0;function Ii(oe){var ye=-1,Le=oe==null?0:oe.length;for(this.clear();++ye<Le;){var pt=oe[ye];this.set(pt[0],pt[1])}}function If(){this.__data__=Uo?Uo(null):{},this.size=0}function wu(oe){var ye=this.has(oe)&&delete this.__data__[oe];return this.size-=ye?1:0,ye}function Fl(oe){var ye=this.__data__;if(Uo){var Le=ye[oe];return Le===r?void 0:Le}return De.call(ye,oe)?ye[oe]:void 0}function yc(oe){var ye=this.__data__;return Uo?ye[oe]!==void 0:De.call(ye,oe)}function qi(oe,ye){var Le=this.__data__;return this.size+=this.has(oe)?0:1,Le[oe]=Uo&&ye===void 0?r:ye,this}Ii.prototype.clear=If,Ii.prototype.delete=wu,Ii.prototype.get=Fl,Ii.prototype.has=yc,Ii.prototype.set=qi;function Ki(oe){var ye=-1,Le=oe==null?0:oe.length;for(this.clear();++ye<Le;){var pt=oe[ye];this.set(pt[0],pt[1])}}function Vo(){this.__data__=[],this.size=0}function Wa(oe){var ye=this.__data__,Le=Mt(ye,oe);if(Le<0)return!1;var pt=ye.length-1;return Le==pt?ye.pop():ci.call(ye,Le,1),--this.size,!0}function _c(oe){var ye=this.__data__,Le=Mt(ye,oe);return Le<0?void 0:ye[Le][1]}function Cu(oe){return Mt(this.__data__,oe)>-1}function ki(oe,ye){var Le=this.__data__,pt=Mt(Le,oe);return pt<0?(++this.size,Le.push([oe,ye])):Le[pt][1]=ye,this}Ki.prototype.clear=Vo,Ki.prototype.delete=Wa,Ki.prototype.get=_c,Ki.prototype.has=Cu,Ki.prototype.set=ki;function Bo(oe){var ye=-1,Le=oe==null?0:oe.length;for(this.clear();++ye<Le;){var pt=oe[ye];this.set(pt[0],pt[1])}}function $o(){this.size=0,this.__data__={hash:new Ii,map:new(Ai||Ki),string:new Ii}}function kf(oe){var ye=Ri(this,oe).delete(oe);return this.size-=ye?1:0,ye}function Gi(oe){return Ri(this,oe).get(oe)}function Ul(oe){return Ri(this,oe).has(oe)}function qa(oe,ye){var Le=Ri(this,oe),pt=Le.size;return Le.set(oe,ye),this.size+=Le.size==pt?0:1,this}Bo.prototype.clear=$o,Bo.prototype.delete=kf,Bo.prototype.get=Gi,Bo.prototype.has=Ul,Bo.prototype.set=qa;function Vn(oe){var ye=-1,Le=oe==null?0:oe.length;for(this.__data__=new Bo;++ye<Le;)this.add(oe[ye])}function mt(oe){return this.__data__.set(oe,r),this}function Mr(oe){return this.__data__.has(oe)}Vn.prototype.add=Vn.prototype.push=mt,Vn.prototype.has=Mr;function Co(oe){var ye=this.__data__=new Ki(oe);this.size=ye.size}function So(){this.__data__=new Ki,this.size=0}function wn(oe){var ye=this.__data__,Le=ye.delete(oe);return this.size=ye.size,Le}function Aa(oe){return this.__data__.get(oe)}function Ka(oe){return this.__data__.has(oe)}function _s(oe,ye){var Le=this.__data__;if(Le instanceof Ki){var pt=Le.__data__;if(!Ai||pt.length<n-1)return pt.push([oe,ye]),this.size=++Le.size,this;Le=this.__data__=new Bo(pt)}return Le.set(oe,ye),this.size=Le.size,this}Co.prototype.clear=So,Co.prototype.delete=wn,Co.prototype.get=Aa,Co.prototype.has=Ka,Co.prototype.set=_s;function Be(oe,ye){var Le=da(oe),pt=!Le&&ws(oe),zn=!Le&&!pt&&Oi(oe),$t=!Le&&!pt&&!zn&&Cs(oe),Tn=Le||pt||zn||$t,dr=Tn?vn(oe.length,String):[],Ht=dr.length;for(var Wn in oe)De.call(oe,Wn)&&!(Tn&&(Wn=="length"||zn&&(Wn=="offset"||Wn=="parent")||$t&&(Wn=="buffer"||Wn=="byteLength"||Wn=="byteOffset")||Vl(Wn,Ht)))&&dr.push(Wn);return dr}function Mt(oe,ye){for(var Le=oe.length;Le--;)if(xo(oe[Le][0],ye))return Le;return-1}function Js(oe,ye,Le){var pt=ye(oe);return da(oe)?pt:Wt(pt,Le(oe))}function Ga(oe){return oe==null?oe===void 0?$:I:ft&&ft in Object(oe)?Tu(oe):ca(oe)}function Ya(oe){return zo(oe)&&Ga(oe)==l}function Ho(oe,ye,Le,pt,zn){return oe===ye?!0:oe==null||ye==null||!zo(oe)&&!zo(ye)?oe!==oe&&ye!==ye:Su(oe,ye,Le,pt,Ho,zn)}function Su(oe,ye,Le,pt,zn,$t){var Tn=da(oe),dr=da(ye),Ht=Tn?u:ua(oe),Wn=dr?u:ua(ye);Ht=Ht==l?k:Ht,Wn=Wn==l?k:Wn;var Pn=Ht==k,Fr=Wn==k,hr=Ht==Wn;if(hr&&Oi(oe)){if(!Oi(ye))return!1;Tn=!0,Pn=!1}if(hr&&!Pn)return $t||($t=new Co),Tn||Cs(oe)?jo(oe,ye,Le,pt,zn,$t):To(oe,ye,Ht,Le,pt,zn,$t);if(!(Le&i)){var sn=Pn&&De.call(oe,"__wrapped__"),ni=Fr&&De.call(ye,"__wrapped__");if(sn||ni){var kr=sn?oe.value():oe,ri=ni?ye.value():ye;return $t||($t=new Co),zn(kr,ri,Le,pt,$t)}}return hr?($t||($t=new Co),jn(oe,ye,Le,pt,zn,$t)):!1}function Lt(oe){if(!bc(oe)||Au(oe))return!1;var ye=co(oe)?hn:ie;return ye.test(fa(oe))}function uo(oe){return zo(oe)&&el(oe.length)&&!!Ge[Ga(oe)]}function bs(oe){if(!Es(oe))return Un(oe);var ye=[];for(var Le in Object(oe))De.call(oe,Le)&&Le!="constructor"&&ye.push(Le);return ye}function jo(oe,ye,Le,pt,zn,$t){var Tn=Le&i,dr=oe.length,Ht=ye.length;if(dr!=Ht&&!(Tn&&Ht>dr))return!1;var Wn=$t.get(oe);if(Wn&&$t.get(ye))return Wn==ye;var Pn=-1,Fr=!0,hr=Le&o?new Vn:void 0;for($t.set(oe,ye),$t.set(ye,oe);++Pn<dr;){var sn=oe[Pn],ni=ye[Pn];if(pt)var kr=Tn?pt(ni,sn,Pn,ye,oe,$t):pt(sn,ni,Pn,oe,ye,$t);if(kr!==void 0){if(kr)continue;Fr=!1;break}if(hr){if(!Kt(ye,function(ri,Ao){if(!Ot(hr,Ao)&&(sn===ri||zn(sn,ri,Le,pt,$t)))return hr.push(Ao)})){Fr=!1;break}}else if(!(sn===ni||zn(sn,ni,Le,pt,$t))){Fr=!1;break}}return $t.delete(oe),$t.delete(ye),Fr}function To(oe,ye,Le,pt,zn,$t,Tn){switch(Le){case K:if(oe.byteLength!=ye.byteLength||oe.byteOffset!=ye.byteOffset)return!1;oe=oe.buffer,ye=ye.buffer;case z:return!(oe.byteLength!=ye.byteLength||!$t(new Dr(oe),new Dr(ye)));case h:case g:case R:return xo(+oe,+ye);case y:return oe.name==ye.name&&oe.message==ye.message;case V:case P:return oe==ye+"";case C:var dr=fe;case D:var Ht=pt&i;if(dr||(dr=ge),oe.size!=ye.size&&!Ht)return!1;var Wn=Tn.get(oe);if(Wn)return Wn==ye;pt|=o,Tn.set(oe,ye);var Pn=jo(dr(oe),dr(ye),pt,zn,$t,Tn);return Tn.delete(oe),Pn;case N:if(la)return la.call(oe)==la.call(ye)}return!1}function jn(oe,ye,Le,pt,zn,$t){var Tn=Le&i,dr=Ia(oe),Ht=dr.length,Wn=Ia(ye),Pn=Wn.length;if(Ht!=Pn&&!Tn)return!1;for(var Fr=Ht;Fr--;){var hr=dr[Fr];if(!(Tn?hr in ye:De.call(ye,hr)))return!1}var sn=$t.get(oe);if(sn&&$t.get(ye))return sn==ye;var ni=!0;$t.set(oe,ye),$t.set(ye,oe);for(var kr=Tn;++Fr<Ht;){hr=dr[Fr];var ri=oe[hr],Ao=ye[hr];if(pt)var Pi=Tn?pt(Ao,ri,hr,ye,oe,$t):pt(ri,Ao,hr,oe,ye,$t);if(!(Pi===void 0?ri===Ao||zn(ri,Ao,Le,pt,$t):Pi)){ni=!1;break}kr||(kr=hr=="constructor")}if(ni&&!kr){var tl=oe.constructor,Kr=ye.constructor;tl!=Kr&&"constructor"in oe&&"constructor"in ye&&!(typeof tl=="function"&&tl instanceof tl&&typeof Kr=="function"&&Kr instanceof Kr)&&(ni=!1)}return $t.delete(oe),$t.delete(ye),ni}function Ia(oe){return Js(oe,Iu,Zs)}function Ri(oe,ye){var Le=oe.__data__;return xu(ye)?Le[typeof ye=="string"?"string":"hash"]:Le.map}function qr(oe,ye){var Le=En(oe,ye);return Lt(Le)?Le:void 0}function Tu(oe){var ye=De.call(oe,ft),Le=oe[ft];try{oe[ft]=void 0;var pt=!0}catch{}var zn=Tt.call(oe);return pt&&(ye?oe[ft]=Le:delete oe[ft]),zn}var Zs=Qs?function(oe){return oe==null?[]:(oe=Object(oe),nn(Qs(oe),function(ye){return Qt.call(oe,ye)}))}:Cn,ua=Ga;(Jn&&ua(new Jn(new ArrayBuffer(1)))!=K||Ai&&ua(new Ai)!=C||Wr&&ua(Wr.resolve())!=O||fi&&ua(new fi)!=D||Ar&&ua(new Ar)!=q)&&(ua=function(oe){var ye=Ga(oe),Le=ye==k?oe.constructor:void 0,pt=Le?fa(Le):"";if(pt)switch(pt){case Ml:return K;case Ir:return C;case ys:return O;case aa:return D;case sa:return q}return ye});function Vl(oe,ye){return ye=ye??a,!!ye&&(typeof oe=="number"||lt.test(oe))&&oe>-1&&oe%1==0&&oe<ye}function xu(oe){var ye=typeof oe;return ye=="string"||ye=="number"||ye=="symbol"||ye=="boolean"?oe!=="__proto__":oe===null}function Au(oe){return!!Ze&&Ze in oe}function Es(oe){var ye=oe&&oe.constructor,Le=typeof ye=="function"&&ye.prototype||se;return oe===Le}function ca(oe){return Tt.call(oe)}function fa(oe){if(oe!=null){try{return qe.call(oe)}catch{}try{return oe+""}catch{}}return""}function xo(oe,ye){return oe===ye||oe!==oe&&ye!==ye}var ws=Ya(function(){return arguments}())?Ya:function(oe){return zo(oe)&&De.call(oe,"callee")&&!Qt.call(oe,"callee")},da=Array.isArray;function ha(oe){return oe!=null&&el(oe.length)&&!co(oe)}var Oi=Tr||Sn;function Rf(oe,ye){return Ho(oe,ye)}function co(oe){if(!bc(oe))return!1;var ye=Ga(oe);return ye==w||ye==T||ye==f||ye==A}function el(oe){return typeof oe=="number"&&oe>-1&&oe%1==0&&oe<=a}function bc(oe){var ye=typeof oe;return oe!=null&&(ye=="object"||ye=="function")}function zo(oe){return oe!=null&&typeof oe=="object"}var Cs=nt?fn(nt):uo;function Iu(oe){return ha(oe)?Be(oe):bs(oe)}function Cn(){return[]}function Sn(){return!1}t.exports=Rf})(cx,cx.exports);cx.exports;function Fme(t){return t!==void 0&&"data"in t}function PK(t){return t!==void 0&&"error"in t}function Ume(t,e){if(t!==void 0)return"error"in t?t:{data:e(t.data)}}function tv(t,e){return{loading:t.loading,result:Ume(t.result,e)}}function NK(t){return{loading:!1,result:{data:t}}}function Vme(t,e){return t===void 0?e.onNone():PK(t)?e.onError(t.error):e.onData(t.data)}function Bme(t,e){return Vme(t.result,{onNone:()=>e.onNone(t.loading),onData:n=>e.onData(n,t.loading),onError:n=>e.onError(n,t.loading)})}function LK(t,e){return Bme(t,{onNone:()=>e,onData:n=>n,onError:()=>e})}const $me={users:{loading:!0},filter:"",allowDuplicateEmails:!1,tenants:{loading:!0},alertText:""},Hme=vI($me).handleAction(Iq,(t,{payload:e})=>Nr(t,n=>{n.users=tv(n.users,r=>[...r,e.user]),n.alertText=""})).handleAction(Rq,(t,{payload:e})=>Nr(t,n=>{n.users=tv(n.users,r=>r.map(i=>i.localId===e.user.localId?e.user:i))})).handleAction(Uq,t=>Nr(t,e=>{e.users=tv(e.users,()=>[]),e.alertText="All Users Cleared!"})).handleAction(Mq,t=>Nr(t,e=>{e.users=tv(e.users,()=>[]),e.alertText="All Users Cleared!"})).handleAction(HF,(t,{payload:e})=>Nr(t,n=>{n.allowDuplicateEmails=e})).handleAction(Pq,(t,{payload:e})=>Nr(t,n=>{n.users=tv(n.users,r=>r.map(i=>i.localId===e.localId?{...i,disabled:e.disabled}:i))})).handleAction(Lq,(t,{payload:e})=>Nr(t,n=>{n.users=tv(n.users,r=>r.filter(i=>i.localId!==e.localId))})).handleAction(Dq,(t,{payload:e})=>Nr(t,n=>{n.filter=e.filter})).handleAction(jF,(t,{payload:e})=>Nr(t,n=>{n.authUserDialogData=e})).handleAction(H0,(t,{payload:e})=>Nr(t,n=>{n.authUserDialogData&&(n.authUserDialogData.loading=e)})).handleAction(zF,(t,{payload:e})=>Nr(t,n=>{n.authUserDialogData&&n.authUserDialogData.result&&(n.authUserDialogData.result.error=e)})).handleAction(yI,t=>Nr(t,e=>{e.authUserDialogData=void 0})).handleAction(Vq,(t,{payload:e})=>Nr(t,n=>{n.users={loading:!1,result:{data:e}},n.alertText=""})).handleAction(Bq,(t,{payload:e})=>Nr(t,n=>{n.users={loading:!1,result:{error:e}}})).handleAction(Hq,(t,{payload:e})=>Nr(t,n=>{n.tenants={loading:!1,result:{data:e}}})).handleAction(kN,t=>Nr(t,e=>{e.tenants.loading=!0})),W$=t=>{var n;const e=(n=t.passwordHash)==null?void 0:n.match(zme);return{password:e?e[1]:"",...t,providerUserInfo:t.providerUserInfo||[]}};class jme extends mhe{constructor(n,r,i){super();Zf(this,"baseUrl");Zf(this,"baseUrlV2");Zf(this,"baseEmulatorUrl");this.hostAndPort=n,this.projectId=r,this.tenantId=i,this.baseUrl=`//${this.hostAndPort}/identitytoolkit.googleapis.com/v1/projects/${this.projectId}`,this.baseUrlV2=`//${this.hostAndPort}/identitytoolkit.googleapis.com/v2/projects/${this.projectId}`,this.baseEmulatorUrl=`//${this.hostAndPort}/emulator/v1/projects/${this.projectId}`}async nukeUsersForAllTenants(){const n=[];n.push(this.deleteRequest(`${this.baseEmulatorUrl}/accounts`)),(await this.fetchTenants()).map(({tenantId:i})=>this.deleteRequest(`${this.baseEmulatorUrl}/tenants/${i}/accounts`)),await Promise.all(n)}async nukeUsers(){return this.tenantId?await this.deleteRequest(`${this.baseEmulatorUrl}/tenants/${this.tenantId}/accounts`):await this.deleteRequest(`${this.baseEmulatorUrl}/accounts`),[]}async fetchUsers(){const{json:n}=await this.jsonRequest(`${this.baseUrl}/accounts:query`,{tenantId:this.tenantId},"POST");return n.userInfo.map(W$)}async fetchTenants(){const{json:n}=await this.jsonRequest(`${this.baseUrlV2}/tenants`);return n.tenants}async fetchUser(n){const{json:r}=await this.jsonRequest(`${this.baseUrl}/accounts:lookup`,{localId:[n],tenantId:this.tenantId},"POST");if(!r.users||!r.users.length)throw new Error(`User "${n}" not found in Project "${this.projectId}"!`);return W$(r.users[0])}async createUser(n){const{json:r}=await this.jsonRequest(`${this.baseUrl}/accounts`,{...n,tenantId:this.tenantId},"POST");return this.fetchUser(r.localId)}async updateConfig(n){const{json:r}=await this.patchRequest(`${this.baseEmulatorUrl}/config`,n);return r}async getConfig(){return await(await Do(`${this.baseEmulatorUrl}/config`)).json()}async updateUser(n){const r={...n,mfa:n.mfaInfo?{enrollments:n.mfaInfo}:void 0},{json:i}=await this.jsonRequest(`${this.baseUrl}/accounts:update`,{...r,tenantId:this.tenantId},"POST");return this.fetchUser(i.localId)}async deleteUser(n){await this.jsonRequest(`${this.baseUrl}/accounts:delete`,{...n,tenantId:this.tenantId},"POST")}}const zme=/^fakeHash:salt=[\w\d]+:password=(.*)$/;function*Wme(){const t=yield so(bf);try{const e=yield so([t,"fetchUsers"]);yield $i(Vq(e))}catch{yield $i(Bq({message:"Error when fetching users"}))}}function*qme(){const t=yield so(bf),e=yield so([t,"fetchTenants"]);yield $i(Hq(e))}const DK="AUTH_API_CONTEXT";function*Kme({payload:t}){t&&(yield pme({[DK]:new jme(t.auth.hostAndPort,t.projectId,t.tenantId)}),yield IK([Bu(tu(IN),Wme),Bu(tu(kN),qme),Bu(tu(Aq),Yme),Bu(tu(Fq),ege),Bu(tu(whe),tge),Bu(tu(Nq),Gme),Bu(tu(kq),Qme),Bu(tu(Oq),Xme),Bu(tu($q),Jme),Bu(tu(_$),Zme),$i(IN()),$i(kN()),$i(_$())]))}function*Gme({payload:t}){const e=yield so(bf);yield so([e,"deleteUser"],{localId:t.localId}),yield $i(Lq({localId:t.localId}))}function*Yme({payload:t}){const e=yield so(bf);try{yield $i(H0(!0));let n=yield so([e,"createUser"],t.user);t.user.customAttributes&&(n=yield so([e,"updateUser"],{localId:n.localId,customAttributes:t.user.customAttributes})),yield $i(Iq({user:n})),t.keepDialogOpen||(yield $i(yI()))}catch(n){yield $i(zF(n.message))}finally{yield $i(H0(!1))}}function*Qme({payload:t}){const e=yield so(bf);try{yield $i(H0(!0));const n=yield so([e,"updateUser"],{...t.user,localId:t.localId});yield $i(Rq({user:n})),yield $i(yI())}catch(n){yield $i(zF(n.message))}finally{yield $i(H0(!1))}}function*Xme({payload:t}){const e=yield so(bf);yield so([e,"updateUser"],{disableUser:t.disabled,localId:t.localId}),yield $i(Pq(t))}function*Jme({payload:t}){const e=yield so(bf);yield so([e,"updateConfig"],{signIn:{allowDuplicateEmails:t}}),yield $i(HF(t))}function*Zme(){var r;const t=yield so(bf),e=yield so([t,"getConfig"]);if(((r=e.signIn)==null?void 0:r.allowDuplicateEmails)===void 0)throw new Error('Did not get a "signIn.allowDuplicateEmails" setting from config API');yield $i(HF(e.signIn.allowDuplicateEmails))}function*ege(){const t=yield so(bf);yield so([t,"nukeUsers"]),yield $i(Uq())}function*tge(){const t=yield so(bf);yield so([t,"nukeUsersForAllTenants"]),yield $i(Mq())}function*bf(){return yield hme(DK)}function*nge(){yield Bu(tu(xq),Kme)}function*rge(){yield IK([t2(nge)])}const ige=Fpe({auth:Hme});function vu(t){return Tme(t)}const ig=t=>t.auth,MK=Fo(ig,t=>t.users),u2=Fo(ig,t=>t.authUserDialogData),c2=Fo(u2,t=>t&&Fme(t.result)?t.result.data:void 0),oge=Fo(c2,t=>!!t);Fo(MK,t=>t.result);const Wy=Fo(MK,t=>[...LK(t,[])].sort((e,n)=>Number(new Date(n.createdAt))-Number(new Date(e.createdAt||0)))),age=Fo(c2,Wy,(t,e)=>new Set(e.filter(n=>n.localId!==(t==null?void 0:t.localId)).map(n=>n.email).filter(n=>!!n))),sge=Fo(Wy,t=>new Set(t.map(e=>e.phoneNumber).filter(e=>!!e))),lge=Fo(Wy,t=>t.length>0),FK=Fo(ig,t=>t.filter),UK=Fo(ig,t=>t.allowDuplicateEmails),f2=Fo(Wy,FK,(t,e)=>e?t.filter(n=>[n.localId,n.displayName,n.email||"",n.phoneNumber||""].join(`
`).toLocaleUpperCase().includes(e.toLocaleUpperCase())):t),uge=Fo(Wy,t=>t.length===0),cge=Fo(Wy,f2,(t,e)=>t.length>0&&e.length===0),fge=Fo(ig,t=>t.alertText),dge=Fo(f2,t=>t.length>0),hge=Fo(ig,t=>LK(t.tenants,[]).map(e=>e.tenantId)),pge=Fo(ig,t=>t.tenants.loading),mge="_wrapper_rdau2_47",gge={wrapper:mge};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var jN=function(t,e){return jN=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},jN(t,e)};function vge(t,e){jN(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var zN=function(){return zN=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},zN.apply(this,arguments)};/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Os={CLOSING:"mdc-dialog--closing",OPEN:"mdc-dialog--open",OPENING:"mdc-dialog--opening",SCROLLABLE:"mdc-dialog--scrollable",SCROLL_LOCK:"mdc-dialog-scroll-lock",STACKED:"mdc-dialog--stacked"},nv={ACTION_ATTRIBUTE:"data-mdc-dialog-action",BUTTON_DEFAULT_ATTRIBUTE:"data-mdc-dialog-button-default",BUTTON_SELECTOR:".mdc-dialog__button",CLOSED_EVENT:"MDCDialog:closed",CLOSE_ACTION:"close",CLOSING_EVENT:"MDCDialog:closing",CONTAINER_SELECTOR:".mdc-dialog__container",CONTENT_SELECTOR:".mdc-dialog__content",DESTROY_ACTION:"destroy",INITIAL_FOCUS_ATTRIBUTE:"data-mdc-dialog-initial-focus",OPENED_EVENT:"MDCDialog:opened",OPENING_EVENT:"MDCDialog:opening",SCRIM_SELECTOR:".mdc-dialog__scrim",SUPPRESS_DEFAULT_PRESS_SELECTOR:["textarea",".mdc-menu .mdc-list-item"].join(", "),SURFACE_SELECTOR:".mdc-dialog__surface"},TR={DIALOG_ANIMATION_CLOSE_TIME_MS:75,DIALOG_ANIMATION_OPEN_TIME_MS:150};/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var rd=function(t){vge(e,t);function e(n){var r=t.call(this,zN({},e.defaultAdapter,n))||this;return r.isOpen_=!1,r.animationFrame_=0,r.animationTimer_=0,r.layoutFrame_=0,r.escapeKeyAction_=nv.CLOSE_ACTION,r.scrimClickAction_=nv.CLOSE_ACTION,r.autoStackButtons_=!0,r.areButtonsStacked_=!1,r}return Object.defineProperty(e,"cssClasses",{get:function(){return Os},enumerable:!0,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return nv},enumerable:!0,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return TR},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addBodyClass:function(){},addClass:function(){},areButtonsStacked:function(){return!1},clickDefaultButton:function(){},eventTargetMatches:function(){return!1},getActionFromEvent:function(){return""},getInitialFocusEl:function(){return null},hasClass:function(){return!1},isContentScrollable:function(){return!1},notifyClosed:function(){},notifyClosing:function(){},notifyOpened:function(){},notifyOpening:function(){},releaseFocus:function(){},removeBodyClass:function(){},removeClass:function(){},reverseButtons:function(){},trapFocus:function(){}}},enumerable:!0,configurable:!0}),e.prototype.init=function(){this.adapter_.hasClass(Os.STACKED)&&this.setAutoStackButtons(!1)},e.prototype.destroy=function(){this.isOpen_&&this.close(nv.DESTROY_ACTION),this.animationTimer_&&(clearTimeout(this.animationTimer_),this.handleAnimationTimerEnd_()),this.layoutFrame_&&(cancelAnimationFrame(this.layoutFrame_),this.layoutFrame_=0)},e.prototype.open=function(){var n=this;this.isOpen_=!0,this.adapter_.notifyOpening(),this.adapter_.addClass(Os.OPENING),this.runNextAnimationFrame_(function(){n.adapter_.addClass(Os.OPEN),n.adapter_.addBodyClass(Os.SCROLL_LOCK),n.layout(),n.animationTimer_=setTimeout(function(){n.handleAnimationTimerEnd_(),n.adapter_.trapFocus(n.adapter_.getInitialFocusEl()),n.adapter_.notifyOpened()},TR.DIALOG_ANIMATION_OPEN_TIME_MS)})},e.prototype.close=function(n){var r=this;n===void 0&&(n=""),this.isOpen_&&(this.isOpen_=!1,this.adapter_.notifyClosing(n),this.adapter_.addClass(Os.CLOSING),this.adapter_.removeClass(Os.OPEN),this.adapter_.removeBodyClass(Os.SCROLL_LOCK),cancelAnimationFrame(this.animationFrame_),this.animationFrame_=0,clearTimeout(this.animationTimer_),this.animationTimer_=setTimeout(function(){r.adapter_.releaseFocus(),r.handleAnimationTimerEnd_(),r.adapter_.notifyClosed(n)},TR.DIALOG_ANIMATION_CLOSE_TIME_MS))},e.prototype.isOpen=function(){return this.isOpen_},e.prototype.getEscapeKeyAction=function(){return this.escapeKeyAction_},e.prototype.setEscapeKeyAction=function(n){this.escapeKeyAction_=n},e.prototype.getScrimClickAction=function(){return this.scrimClickAction_},e.prototype.setScrimClickAction=function(n){this.scrimClickAction_=n},e.prototype.getAutoStackButtons=function(){return this.autoStackButtons_},e.prototype.setAutoStackButtons=function(n){this.autoStackButtons_=n},e.prototype.layout=function(){var n=this;this.layoutFrame_&&cancelAnimationFrame(this.layoutFrame_),this.layoutFrame_=requestAnimationFrame(function(){n.layoutInternal_(),n.layoutFrame_=0})},e.prototype.handleClick=function(n){var r=this.adapter_.eventTargetMatches(n.target,nv.SCRIM_SELECTOR);if(r&&this.scrimClickAction_!=="")this.close(this.scrimClickAction_);else{var i=this.adapter_.getActionFromEvent(n);i&&this.close(i)}},e.prototype.handleKeydown=function(n){var r=n.key==="Enter"||n.keyCode===13;if(r){var i=this.adapter_.getActionFromEvent(n);if(!i){var o=!this.adapter_.eventTargetMatches(n.target,nv.SUPPRESS_DEFAULT_PRESS_SELECTOR);r&&o&&this.adapter_.clickDefaultButton()}}},e.prototype.handleDocumentKeydown=function(n){var r=n.key==="Escape"||n.keyCode===27;r&&this.escapeKeyAction_!==""&&this.close(this.escapeKeyAction_)},e.prototype.layoutInternal_=function(){this.autoStackButtons_&&this.detectStackedButtons_(),this.detectScrollableContent_()},e.prototype.handleAnimationTimerEnd_=function(){this.animationTimer_=0,this.adapter_.removeClass(Os.OPENING),this.adapter_.removeClass(Os.CLOSING)},e.prototype.runNextAnimationFrame_=function(n){var r=this;cancelAnimationFrame(this.animationFrame_),this.animationFrame_=requestAnimationFrame(function(){r.animationFrame_=0,clearTimeout(r.animationTimer_),r.animationTimer_=setTimeout(n,0)})},e.prototype.detectStackedButtons_=function(){this.adapter_.removeClass(Os.STACKED);var n=this.adapter_.areButtonsStacked();n&&this.adapter_.addClass(Os.STACKED),n!==this.areButtonsStacked_&&(this.adapter_.reverseButtons(),this.areButtonsStacked_=n)},e.prototype.detectScrollableContent_=function(){this.adapter_.removeClass(Os.SCROLLABLE),this.adapter_.isContentScrollable()&&this.adapter_.addClass(Os.SCROLLABLE)},e}(ui),yge=function(t){return t.scrollHeight>t.offsetHeight},_ge=function(t){var e=new Set;return[].forEach.call(t,function(n){return e.add(n.offsetTop)}),e.size>1},bge=function(t){var e=B.useRef(),n=B.useRef(null),r=B.useRef(null),i=B.useRef(null),o=li({props:t,elements:{rootEl:!0},foundation:function(y){var w=y.rootEl,T=y.emit;return y.getProps,new rd({addClass:function(C){return w.addClass(C)},removeClass:function(C){return w.removeClass(C)},hasClass:function(C){return w.hasClass(C)},addBodyClass:function(C){return document.body&&document.body.classList.add(C)},removeBodyClass:function(C){return document.body&&document.body.classList.remove(C)},eventTargetMatches:function(C,R){return PE(C,R)},trapFocus:function(){var C;try{(C=e.current)===null||C===void 0||C.trapFocus()}catch{}},releaseFocus:function(){var C;return(C=e.current)===null||C===void 0?void 0:C.releaseFocus()},isContentScrollable:function(){return!!i.current&&yge(i.current)},areButtonsStacked:function(){return _ge(r.current)},getActionFromEvent:function(C){var R=yA(C.target,"["+rd.strings.ACTION_ATTRIBUTE+"]");return(R==null?void 0:R.getAttribute(rd.strings.ACTION_ATTRIBUTE))||null},clickDefaultButton:function(){var C;(C=n.current)===null||C===void 0||C.click()},reverseButtons:function(){var C,R;(C=r.current)===null||C===void 0||C.reverse(),(R=r.current)===null||R===void 0||R.forEach(function(I){return I.parentElement&&I.parentElement.appendChild(I)})},notifyOpening:function(){return T("onOpen",{})},notifyOpened:function(){T("onOpened",{}),A5()},notifyClosing:function(C){return T("onClose",C?{action:C}:{})},notifyClosed:function(C){return T("onClosed",C?{action:C}:{})},getInitialFocusEl:function(){return document.querySelector("["+rd.strings.INITIAL_FOCUS_ATTRIBUTE+"]")}})}}),a=o.foundation,l=Ke(o,["foundation"]),u=l.rootEl,f=B.useMemo(function(){var y=a.handleDocumentKeydown.bind(a);return function(w){if(!(w.which===27&&t.preventOutsideDismiss))return y(w)}},[a,t.preventOutsideDismiss]);B.useEffect(function(){var y;n.current=u.ref&&u.ref.querySelector("["+rd.strings.BUTTON_DEFAULT_ATTRIBUTE+"]")||null,r.current=u.ref&&[].slice.call(u.ref.querySelectorAll(rd.strings.BUTTON_SELECTOR)),i.current=((y=u.ref)===null||y===void 0?void 0:y.querySelector(rd.strings.CONTENT_SELECTOR))||null},[u.ref]),B.useEffect(function(){var y=u.ref&&u.ref.querySelector(rd.strings.SURFACE_SELECTOR);y&&(e.current=tle(y,{initialFocusEl:n.current||void 0}))},[u.ref]),B.useEffect(function(){t.open?a.isOpen()||(document.addEventListener("keydown",f),a.open()):a.isOpen()&&(document.removeEventListener("keydown",f),a.close())},[t.open,a,f]);var h=function(y){var w;return(w=t.onClick)===null||w===void 0||w.call(t,y),a.handleClick(y)},g=function(y){var w;return(w=t.onKeyDown)===null||w===void 0||w.call(t,y),a.handleKeydown(y)};return u.setProp("onClick",h,!0),u.setProp("onKeyDown",g,!0),ae({foundation:a},l)},hc=ht(function(e,n){var r=bge(e).rootEl,i=St(e,["mdc-dialog"]),o=e.children;e.open,e.onOpen,e.onOpened,e.onClose,e.onClosed;var a=e.preventOutsideDismiss;e.foundationRef;var l=e.renderToPortal,u=e["aria-labelledby"],f=e["aria-describedby"],h=Ke(e,["children","open","onOpen","onOpened","onClose","onClosed","preventOutsideDismiss","foundationRef","renderToPortal","aria-labelledby","aria-describedby"]);return Y.createElement(P7,{renderTo:l},Y.createElement(kt,ae({},h,{element:r,className:i,ref:n}),Y.createElement("div",{className:"mdc-dialog__container"},Y.createElement("div",{className:"mdc-dialog__surface",role:"alertdialog","aria-modal":!0,"aria-labelledby":u,"aria-describedby":f},o)),Y.createElement(wge,{disableInteraction:a})))}),Ege=ht(function(e,n){var r=e.title,i=e.header,o=e.body,a=e.footer,l=e.acceptLabel,u=l===void 0?"Accept":l,f=e.cancelLabel,h=f===void 0?"Cancel":f,g=e.children,y=e.open,w=Ke(e,["title","header","body","footer","acceptLabel","cancelLabel","children","open"]);return Y.createElement(hc,ae({open:y},w,{ref:n}),(!!r||!!i)&&Y.createElement(pc,null,!!r&&r,!!i&&i),(!!o||g)&&Y.createElement(mc,null,o,g),(!!h||!!u||!!a)&&Y.createElement(Ef,null,!!a&&a,!!h&&Y.createElement($n,{action:"close"},h),!!u&&Y.createElement($n,{action:"accept",isDefaultAction:!0},u)))}),wge=Y.memo(function(e){var n=e.disableInteraction,r=n?{pointerEvents:"none"}:{};return Y.createElement("div",{className:"mdc-dialog__scrim",style:r})}),pc=ht(function(e,n){var r=St(e,["mdc-dialog__title"]);return Y.createElement(kt,ae({tag:"h2"},e,{ref:n,className:r}))}),mc=ht(function(e,n){var r=St(e,["mdc-dialog__content"]);return Y.createElement(kt,ae({},e,{ref:n,className:r}))}),Ef=ht(function(e,n){var r=St(e,["mdc-dialog__actions"]);return Y.createElement(kt,ae({},e,{ref:n,className:r}))}),$n=ht(function(e,n){var r,i=St(e,["mdc-dialog__button"]),o=e.action,a=o===void 0?"":o,l=e.isDefaultAction,u=Ke(e,["action","isDefaultAction"]),f=l?(r={},r[rd.strings.BUTTON_DEFAULT_ATTRIBUTE]=!0,r):{};return Y.createElement(fr,ae({},u,f,{ref:n,className:i,"data-mdc-dialog-action":a}))});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var WN=function(t,e){return WN=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},WN(t,e)};function Cge(t,e){WN(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var qN=function(){return qN=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},qN.apply(this,arguments)};/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Kp={LINE_RIPPLE_ACTIVE:"mdc-line-ripple--active",LINE_RIPPLE_DEACTIVATING:"mdc-line-ripple--deactivating"};/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Sge=function(t){Cge(e,t);function e(n){var r=t.call(this,qN({},e.defaultAdapter,n))||this;return r.transitionEndHandler_=function(i){return r.handleTransitionEnd(i)},r}return Object.defineProperty(e,"cssClasses",{get:function(){return Kp},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},setStyle:function(){},registerEventHandler:function(){},deregisterEventHandler:function(){}}},enumerable:!0,configurable:!0}),e.prototype.init=function(){this.adapter_.registerEventHandler("transitionend",this.transitionEndHandler_)},e.prototype.destroy=function(){this.adapter_.deregisterEventHandler("transitionend",this.transitionEndHandler_)},e.prototype.activate=function(){this.adapter_.removeClass(Kp.LINE_RIPPLE_DEACTIVATING),this.adapter_.addClass(Kp.LINE_RIPPLE_ACTIVE)},e.prototype.setRippleCenter=function(n){this.adapter_.setStyle("transform-origin",n+"px center")},e.prototype.deactivate=function(){this.adapter_.addClass(Kp.LINE_RIPPLE_DEACTIVATING)},e.prototype.handleTransitionEnd=function(n){var r=this.adapter_.hasClass(Kp.LINE_RIPPLE_DEACTIVATING);n.propertyName==="opacity"&&r&&(this.adapter_.removeClass(Kp.LINE_RIPPLE_ACTIVE),this.adapter_.removeClass(Kp.LINE_RIPPLE_DEACTIVATING))},e}(ui),Tge=function(t){var e=li({props:t,elements:{rootEl:!0},foundation:function(o){var a=o.rootEl;return new Sge({addClass:function(l){return a.addClass(l)},removeClass:function(l){return a.removeClass(l)},hasClass:function(l){return a.hasClass(l)},setStyle:function(l,u){return a.setStyle(l,u)},registerEventHandler:function(l,u){return a.addEventListener(l,u)},deregisterEventHandler:function(l,u){return a.removeEventListener(l,u)}})}}),n=e.foundation,r=Ke(e,["foundation"]),i=r.rootEl;return B.useEffect(function(){t.active?n.activate():n.deactivate()},[t.active,n]),B.useEffect(function(){typeof t.center=="number"&&n.setRippleCenter(t.center)},[t.center,n]),i.setProp("onTransitionEnd",function(o){return n.handleTransitionEnd(o)},!0),ae({foundation:n},r)},VK=ht(function(e,n){e.active,e.center;var r=Ke(e,["active","center"]),i=Tge(e).rootEl;return Y.createElement(kt,ae({},r,{tag:"span",element:i,className:"mdc-line-ripple",ref:n}))});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var KN=function(t,e){return KN=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},KN(t,e)};function xge(t,e){KN(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var GN=function(){return GN=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},GN.apply(this,arguments)};/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Age={LABEL_FLOAT_ABOVE:"mdc-floating-label--float-above",LABEL_SHAKE:"mdc-floating-label--shake",ROOT:"mdc-floating-label"};/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Ige=function(t){xge(e,t);function e(n){var r=t.call(this,GN({},e.defaultAdapter,n))||this;return r.shakeAnimationEndHandler_=function(){return r.handleShakeAnimationEnd_()},r}return Object.defineProperty(e,"cssClasses",{get:function(){return Age},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},getWidth:function(){return 0},registerInteractionHandler:function(){},deregisterInteractionHandler:function(){}}},enumerable:!0,configurable:!0}),e.prototype.init=function(){this.adapter_.registerInteractionHandler("animationend",this.shakeAnimationEndHandler_)},e.prototype.destroy=function(){this.adapter_.deregisterInteractionHandler("animationend",this.shakeAnimationEndHandler_)},e.prototype.getWidth=function(){return this.adapter_.getWidth()},e.prototype.shake=function(n){var r=e.cssClasses.LABEL_SHAKE;n?this.adapter_.addClass(r):this.adapter_.removeClass(r)},e.prototype.float=function(n){var r=e.cssClasses,i=r.LABEL_FLOAT_ABOVE,o=r.LABEL_SHAKE;n?this.adapter_.addClass(i):(this.adapter_.removeClass(i),this.adapter_.removeClass(o))},e.prototype.handleShakeAnimationEnd_=function(){var n=e.cssClasses.LABEL_SHAKE;this.adapter_.removeClass(n)},e}(ui),kge=function(t){var e=li({props:t,elements:{rootEl:!0},api:function(i){var o=i.foundation;return{getWidth:function(){return o.getWidth()}}},foundation:function(i){var o=i.rootEl;return new Ige({addClass:function(a){return o.addClass(a)},removeClass:function(a){return o.removeClass(a)},getWidth:function(){var a;return((a=o.ref)===null||a===void 0?void 0:a.scrollWidth)||0},registerInteractionHandler:function(a,l){return o.addEventListener(a,l)},deregisterInteractionHandler:function(a,l){return o.removeEventListener(a,l)}})}}),n=e.foundation,r=Ke(e,["foundation"]);return B.useEffect(function(){n.shake(!!t.shake)},[t.shake,n]),B.useEffect(function(){n.float(!!t.float)},[t.float,n]),ae({foundation:n},r)},BK=ht(function(e,n){var r=kge(e).rootEl;e.shake,e.float,e.apiRef;var i=Ke(e,["shake","float","apiRef"]);return Y.createElement("span",ae({},r.props(ae(ae({},i),{className:"mdc-floating-label"})),{ref:iy(r.setRef,n)}))});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var YN=function(t,e){return YN=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},YN(t,e)};function Rge(t,e){YN(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var QN=function(){return QN=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},QN.apply(this,arguments)};/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Oge={NOTCH_ELEMENT_SELECTOR:".mdc-notched-outline__notch"},q$={NOTCH_ELEMENT_PADDING:8},Pge={NO_LABEL:"mdc-notched-outline--no-label",OUTLINE_NOTCHED:"mdc-notched-outline--notched",OUTLINE_UPGRADED:"mdc-notched-outline--upgraded"};/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var xR=function(t){Rge(e,t);function e(n){return t.call(this,QN({},e.defaultAdapter,n))||this}return Object.defineProperty(e,"strings",{get:function(){return Oge},enumerable:!0,configurable:!0}),Object.defineProperty(e,"cssClasses",{get:function(){return Pge},enumerable:!0,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return q$},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},setNotchWidthProperty:function(){},removeNotchWidthProperty:function(){}}},enumerable:!0,configurable:!0}),e.prototype.notch=function(n){var r=e.cssClasses.OUTLINE_NOTCHED;n>0&&(n+=q$.NOTCH_ELEMENT_PADDING),this.adapter_.setNotchWidthProperty(n),this.adapter_.addClass(r)},e.prototype.closeNotch=function(){var n=e.cssClasses.OUTLINE_NOTCHED;this.adapter_.removeClass(n),this.adapter_.removeNotchWidthProperty()},e}(ui),Nge=function(t){var e=li({props:t,elements:{rootEl:!0,notchedEl:!0},foundation:function(a){var l=a.rootEl,u=a.notchedEl;return new xR({addClass:function(f){return l.addClass(f)},removeClass:function(f){return l.removeClass(f)},setNotchWidthProperty:function(f){return u.setStyle("width",f+"px")},removeNotchWidthProperty:function(){return u.setStyle("width","")}})}}),n=e.foundation,r=Ke(e,["foundation"]),i=r.rootEl,o=B.useRef();return B.useEffect(function(){t.notch?n.notch(t.notch):n.closeNotch()},[t.notch,n]),B.useEffect(function(){var a;o.current=((a=i.ref)===null||a===void 0?void 0:a.querySelector(".mdc-floating-label"))||void 0;var l=o.current;l?(l.style.transitionDuration="0s",i.addClass(xR.cssClasses.OUTLINE_UPGRADED),requestAnimationFrame(function(){l&&(l.style.transitionDuration="")})):i.addClass(xR.cssClasses.NO_LABEL)},[i]),ae({foundation:n},r)},$K=ht(function(e,n){var r=e.children,i=Ke(e,["children"]),o=Nge(e),a=o.rootEl,l=o.notchedEl;return Y.createElement(kt,ae({},i,{element:a,className:"mdc-notched-outline",ref:n}),Y.createElement(Lge,null),Y.createElement("div",ae({},l.props({className:"mdc-notched-outline__notch"}),{ref:l.setRef}),r),Y.createElement(Dge,null))}),Lge=Y.memo(function(){return Y.createElement("div",{className:"mdc-notched-outline__leading"})}),Dge=Y.memo(function(){return Y.createElement("div",{className:"mdc-notched-outline__trailing"})});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var XN=function(t,e){return XN=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},XN(t,e)};function d2(t,e){XN(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var G0=function(){return G0=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},G0.apply(this,arguments)};/**
 * @license
 * Copyright 2019 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var HK={ROOT:"mdc-text-field-character-counter"},Mge={ROOT_SELECTOR:"."+HK.ROOT};/**
 * @license
 * Copyright 2019 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Fge=function(t){d2(e,t);function e(n){return t.call(this,G0({},e.defaultAdapter,n))||this}return Object.defineProperty(e,"cssClasses",{get:function(){return HK},enumerable:!0,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return Mge},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{setContent:function(){}}},enumerable:!0,configurable:!0}),e.prototype.setCounterValue=function(n,r){n=Math.min(n,r),this.adapter_.setContent(n+" / "+r)},e}(ui);/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Uge={ARIA_CONTROLS:"aria-controls",INPUT_SELECTOR:".mdc-text-field__input",LABEL_SELECTOR:".mdc-floating-label",LEADING_ICON_SELECTOR:".mdc-text-field__icon--leading",LINE_RIPPLE_SELECTOR:".mdc-line-ripple",OUTLINE_SELECTOR:".mdc-notched-outline",TRAILING_ICON_SELECTOR:".mdc-text-field__icon--trailing"},K$={DENSE:"mdc-text-field--dense",DISABLED:"mdc-text-field--disabled",FOCUSED:"mdc-text-field--focused",FULLWIDTH:"mdc-text-field--fullwidth",HELPER_LINE:"mdc-text-field-helper-line",INVALID:"mdc-text-field--invalid",NO_LABEL:"mdc-text-field--no-label",OUTLINED:"mdc-text-field--outlined",ROOT:"mdc-text-field",TEXTAREA:"mdc-text-field--textarea",WITH_LEADING_ICON:"mdc-text-field--with-leading-icon",WITH_TRAILING_ICON:"mdc-text-field--with-trailing-icon"},AR={DENSE_LABEL_SCALE:.923,LABEL_SCALE:.75},Vge=["pattern","min","max","required","step","minlength","maxlength"],Bge=["color","date","datetime-local","month","range","time","week"];/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var G$=["mousedown","touchstart"],Y$=["click","keydown"],$ge=function(t){d2(e,t);function e(n,r){r===void 0&&(r={});var i=t.call(this,G0({},e.defaultAdapter,n))||this;return i.isFocused_=!1,i.receivedUserInput_=!1,i.isValid_=!0,i.useNativeValidation_=!0,i.helperText_=r.helperText,i.characterCounter_=r.characterCounter,i.leadingIcon_=r.leadingIcon,i.trailingIcon_=r.trailingIcon,i.inputFocusHandler_=function(){return i.activateFocus()},i.inputBlurHandler_=function(){return i.deactivateFocus()},i.inputInputHandler_=function(){return i.handleInput()},i.setPointerXOffset_=function(o){return i.setTransformOrigin(o)},i.textFieldInteractionHandler_=function(){return i.handleTextFieldInteraction()},i.validationAttributeChangeHandler_=function(o){return i.handleValidationAttributeChange(o)},i}return Object.defineProperty(e,"cssClasses",{get:function(){return K$},enumerable:!0,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return Uge},enumerable:!0,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return AR},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shouldAlwaysFloat_",{get:function(){var n=this.getNativeInput_().type;return Bge.indexOf(n)>=0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shouldFloat",{get:function(){return this.shouldAlwaysFloat_||this.isFocused_||!!this.getValue()||this.isBadInput_()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shouldShake",{get:function(){return!this.isFocused_&&!this.isValid()&&!!this.getValue()},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!0},registerTextFieldInteractionHandler:function(){},deregisterTextFieldInteractionHandler:function(){},registerInputInteractionHandler:function(){},deregisterInputInteractionHandler:function(){},registerValidationAttributeChangeHandler:function(){return new MutationObserver(function(){})},deregisterValidationAttributeChangeHandler:function(){},getNativeInput:function(){return null},isFocused:function(){return!1},activateLineRipple:function(){},deactivateLineRipple:function(){},setLineRippleTransformOrigin:function(){},shakeLabel:function(){},floatLabel:function(){},hasLabel:function(){return!1},getLabelWidth:function(){return 0},hasOutline:function(){return!1},notchOutline:function(){},closeOutline:function(){}}},enumerable:!0,configurable:!0}),e.prototype.init=function(){var n=this;this.adapter_.isFocused()?this.inputFocusHandler_():this.adapter_.hasLabel()&&this.shouldFloat&&(this.notchOutline(!0),this.adapter_.floatLabel(!0)),this.adapter_.registerInputInteractionHandler("focus",this.inputFocusHandler_),this.adapter_.registerInputInteractionHandler("blur",this.inputBlurHandler_),this.adapter_.registerInputInteractionHandler("input",this.inputInputHandler_),G$.forEach(function(r){n.adapter_.registerInputInteractionHandler(r,n.setPointerXOffset_)}),Y$.forEach(function(r){n.adapter_.registerTextFieldInteractionHandler(r,n.textFieldInteractionHandler_)}),this.validationObserver_=this.adapter_.registerValidationAttributeChangeHandler(this.validationAttributeChangeHandler_),this.setCharacterCounter_(this.getValue().length)},e.prototype.destroy=function(){var n=this;this.adapter_.deregisterInputInteractionHandler("focus",this.inputFocusHandler_),this.adapter_.deregisterInputInteractionHandler("blur",this.inputBlurHandler_),this.adapter_.deregisterInputInteractionHandler("input",this.inputInputHandler_),G$.forEach(function(r){n.adapter_.deregisterInputInteractionHandler(r,n.setPointerXOffset_)}),Y$.forEach(function(r){n.adapter_.deregisterTextFieldInteractionHandler(r,n.textFieldInteractionHandler_)}),this.adapter_.deregisterValidationAttributeChangeHandler(this.validationObserver_)},e.prototype.handleTextFieldInteraction=function(){var n=this.adapter_.getNativeInput();n&&n.disabled||(this.receivedUserInput_=!0)},e.prototype.handleValidationAttributeChange=function(n){var r=this;n.some(function(i){return Vge.indexOf(i)>-1?(r.styleValidity_(!0),!0):!1}),n.indexOf("maxlength")>-1&&this.setCharacterCounter_(this.getValue().length)},e.prototype.notchOutline=function(n){if(this.adapter_.hasOutline())if(n){var r=this.adapter_.hasClass(K$.DENSE),i=r?AR.DENSE_LABEL_SCALE:AR.LABEL_SCALE,o=this.adapter_.getLabelWidth()*i;this.adapter_.notchOutline(o)}else this.adapter_.closeOutline()},e.prototype.activateFocus=function(){this.isFocused_=!0,this.styleFocused_(this.isFocused_),this.adapter_.activateLineRipple(),this.adapter_.hasLabel()&&(this.notchOutline(this.shouldFloat),this.adapter_.floatLabel(this.shouldFloat),this.adapter_.shakeLabel(this.shouldShake)),this.helperText_&&this.helperText_.showToScreenReader()},e.prototype.setTransformOrigin=function(n){var r=n.touches,i=r?r[0]:n,o=i.target.getBoundingClientRect(),a=i.clientX-o.left;this.adapter_.setLineRippleTransformOrigin(a)},e.prototype.handleInput=function(){this.autoCompleteFocus(),this.setCharacterCounter_(this.getValue().length)},e.prototype.autoCompleteFocus=function(){this.receivedUserInput_||this.activateFocus()},e.prototype.deactivateFocus=function(){this.isFocused_=!1,this.adapter_.deactivateLineRipple();var n=this.isValid();this.styleValidity_(n),this.styleFocused_(this.isFocused_),this.adapter_.hasLabel()&&(this.notchOutline(this.shouldFloat),this.adapter_.floatLabel(this.shouldFloat),this.adapter_.shakeLabel(this.shouldShake)),this.shouldFloat||(this.receivedUserInput_=!1)},e.prototype.getValue=function(){return this.getNativeInput_().value},e.prototype.setValue=function(n){this.getValue()!==n&&(this.getNativeInput_().value=n),this.setCharacterCounter_(n.length);var r=this.isValid();this.styleValidity_(r),this.adapter_.hasLabel()&&(this.notchOutline(this.shouldFloat),this.adapter_.floatLabel(this.shouldFloat),this.adapter_.shakeLabel(this.shouldShake))},e.prototype.isValid=function(){return this.useNativeValidation_?this.isNativeInputValid_():this.isValid_},e.prototype.setValid=function(n){this.isValid_=n,this.styleValidity_(n);var r=!n&&!this.isFocused_&&!!this.getValue();this.adapter_.hasLabel()&&this.adapter_.shakeLabel(r)},e.prototype.setUseNativeValidation=function(n){this.useNativeValidation_=n},e.prototype.isDisabled=function(){return this.getNativeInput_().disabled},e.prototype.setDisabled=function(n){this.getNativeInput_().disabled=n,this.styleDisabled_(n)},e.prototype.setHelperTextContent=function(n){this.helperText_&&this.helperText_.setContent(n)},e.prototype.setLeadingIconAriaLabel=function(n){this.leadingIcon_&&this.leadingIcon_.setAriaLabel(n)},e.prototype.setLeadingIconContent=function(n){this.leadingIcon_&&this.leadingIcon_.setContent(n)},e.prototype.setTrailingIconAriaLabel=function(n){this.trailingIcon_&&this.trailingIcon_.setAriaLabel(n)},e.prototype.setTrailingIconContent=function(n){this.trailingIcon_&&this.trailingIcon_.setContent(n)},e.prototype.setCharacterCounter_=function(n){if(this.characterCounter_){var r=this.getNativeInput_().maxLength;if(r===-1)throw new Error("MDCTextFieldFoundation: Expected maxlength html property on text input or textarea.");this.characterCounter_.setCounterValue(n,r)}},e.prototype.isBadInput_=function(){return this.getNativeInput_().validity.badInput||!1},e.prototype.isNativeInputValid_=function(){return this.getNativeInput_().validity.valid},e.prototype.styleValidity_=function(n){var r=e.cssClasses.INVALID;n?this.adapter_.removeClass(r):this.adapter_.addClass(r),this.helperText_&&this.helperText_.setValidity(n)},e.prototype.styleFocused_=function(n){var r=e.cssClasses.FOCUSED;n?this.adapter_.addClass(r):this.adapter_.removeClass(r)},e.prototype.styleDisabled_=function(n){var r=e.cssClasses,i=r.DISABLED,o=r.INVALID;n?(this.adapter_.addClass(i),this.adapter_.removeClass(o)):this.adapter_.removeClass(i),this.leadingIcon_&&this.leadingIcon_.setDisabled(n),this.trailingIcon_&&this.trailingIcon_.setDisabled(n)},e.prototype.getNativeInput_=function(){var n=this.adapter_?this.adapter_.getNativeInput():null;return n||{disabled:!1,maxLength:-1,type:"input",validity:{badInput:!1,valid:!0},value:""}},e}(ui);/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Q$={ICON_EVENT:"MDCTextField:icon",ICON_ROLE:"button"},Hge={ROOT:"mdc-text-field__icon"};/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var X$=["click","keydown"],jge=function(t){d2(e,t);function e(n){var r=t.call(this,G0({},e.defaultAdapter,n))||this;return r.savedTabIndex_=null,r.interactionHandler_=function(i){return r.handleInteraction(i)},r}return Object.defineProperty(e,"strings",{get:function(){return Q$},enumerable:!0,configurable:!0}),Object.defineProperty(e,"cssClasses",{get:function(){return Hge},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{getAttr:function(){return null},setAttr:function(){},removeAttr:function(){},setContent:function(){},registerInteractionHandler:function(){},deregisterInteractionHandler:function(){},notifyIconAction:function(){}}},enumerable:!0,configurable:!0}),e.prototype.init=function(){var n=this;this.savedTabIndex_=this.adapter_.getAttr("tabindex"),X$.forEach(function(r){n.adapter_.registerInteractionHandler(r,n.interactionHandler_)})},e.prototype.destroy=function(){var n=this;X$.forEach(function(r){n.adapter_.deregisterInteractionHandler(r,n.interactionHandler_)})},e.prototype.setDisabled=function(n){this.savedTabIndex_&&(n?(this.adapter_.setAttr("tabindex","-1"),this.adapter_.removeAttr("role")):(this.adapter_.setAttr("tabindex",this.savedTabIndex_),this.adapter_.setAttr("role",Q$.ICON_ROLE)))},e.prototype.setAriaLabel=function(n){this.adapter_.setAttr("aria-label",n)},e.prototype.setContent=function(n){this.adapter_.setContent(n)},e.prototype.handleInteraction=function(n){var r=n.key==="Enter"||n.keyCode===13;(n.type==="click"||r)&&(n.preventDefault(),this.adapter_.notifyIconAction())},e}(ui),zge=function(t){var e=li({props:t,elements:{rootEl:!0},api:function(r){var i=r.foundation;return{getFoundation:function(){return i}}},foundation:function(r){var i=r.rootEl,o=r.emit,a=new jge({getAttr:function(l){return i.getProp(l)},setAttr:function(l,u){return i.setProp(l,u)},removeAttr:function(l){return i.removeProp(l)},setContent:function(l){i.setProp("icon",l)},registerInteractionHandler:function(l,u){return i.addEventListener(l,u)},deregisterInteractionHandler:function(l,u){return i.removeEventListener(l,u)},notifyIconAction:function(){return o("onClick",{},!0)}});return a}});e.foundation;var n=Ke(e,["foundation"]);return ae({},n)},Wge=function(t){var e=_n(B.useState(),2),n=e[0],r=e[1],i=li({props:t,api:function(a){var l=a.foundation;return{getFoundation:function(){return l}}},elements:{},foundation:function(){return new Fge({setContent:function(a){r(a)}})}});i.foundation;var o=Ke(i,["foundation"]);return ae({content:n},o)},qge=function(t){var e=_n(B.useState(!1),2),n=e[0],r=e[1],i=_n(B.useState(0),2),o=i[0],a=i[1],l=_n(B.useState(),2),u=l[0],f=l[1],h=_n(B.useState(!1),2),g=h[0],y=h[1],w=_n(B.useState(!1),2),T=w[0],C=w[1],R=B.useRef(),I=function(K){return R.current=K},k=B.useRef(),O=function(K){return k.current=K},A=B.useRef(),V=function(K){return A.current=K},D=B.useRef(),P=function(K){return D.current=K},N=li({props:t,elements:{rootEl:!0,inputEl:!0},foundation:function(K){var Q=K.rootEl,Ee=K.inputEl,he=K.getProps,Je=function(){return{shakeLabel:function(Ae){return y(Ae)},floatLabel:function(Ae){var Ne;C((Ne=he().floatLabel)!==null&&Ne!==void 0?Ne:Ae)},hasLabel:function(){return!!he().label},getLabelWidth:function(){var Ae;return((Ae=D.current)===null||Ae===void 0?void 0:Ae.getWidth())||0}}},He=function(){return{activateLineRipple:function(){r(!0)},deactivateLineRipple:function(){r(!1)},setLineRippleTransformOrigin:function(Ae){a(Ae)}}},xe=function(){return{notchOutline:function(Ae){f(Ae)},closeOutline:function(){var Ae;(Ae=he().floatLabel)!==null&&Ae!==void 0||f(void 0)},hasOutline:function(){return!!he().outlined}}},Te=function(){return{registerInputInteractionHandler:function(Ae,Ne){return Ee.addEventListener(Ae,Ne)},deregisterInputInteractionHandler:function(Ae,Ne){return Ee.removeEventListener(Ae,Ne)},getNativeInput:function(){return Ee.ref}}},J=function(){return{characterCounter:R.current?R.current.getFoundation():void 0,helperText:void 0,leadingIcon:k.current?k.current.getFoundation():void 0,trailingIcon:A.current?A.current.getFoundation():void 0}};return new $ge(ae(ae(ae(ae({addClass:function(Ae){return Q.addClass(Ae)},removeClass:function(Ae){return Q.removeClass(Ae)},hasClass:function(Ae){return Q.hasClass(Ae)},registerTextFieldInteractionHandler:function(Ae,Ne){return Q.addEventListener(Ae,Ne)},deregisterTextFieldInteractionHandler:function(Ae,Ne){return Q.removeEventListener(Ae,Ne)},registerValidationAttributeChangeHandler:function(Ae){var Ne=function(ut){return ut.map(function(et){return et.attributeName})};if(Ee.ref){var ie=new MutationObserver(function(ut){return Ae(Ne(ut))}),lt=Ee.ref,Ge={attributes:!0};return lt&&ie.observe(lt,Ge),ie}return{}},deregisterValidationAttributeChangeHandler:function(Ae){Ae&&Ae.disconnect()},isFocused:function(){return document.activeElement===Ee.ref}},Te()),Je()),He()),xe()),J())}}),$=N.foundation,q=Ke(N,["foundation"]),z=$.getValue();return B.useEffect(function(){t.value!==void 0&&t.value!==z&&$.setValue(String(t.value))},[t.value,$,z]),B.useEffect(function(){t.floatLabel!==void 0&&($.notchOutline(t.floatLabel),$.adapter_.floatLabel(t.floatLabel))},[$,t.floatLabel]),ae({shakeLabel:g,floatLabel:T,notchWidth:u,lineRippleActive:n,lineRippleCenter:o,setCharacterCounter:I,setLeadingIcon:O,setTrailingIcon:V,setFloatingLabel:P},q)},VE=ht(function(e,n){var r=e.label,i=e.style,o=e.outlined,a=e.align,l=e.fullwidth,u=e.invalid,f=e.disabled,h=e.helpText,g=e.children,y=e.textarea,w=e.inputRef,T=e.characterCount,C=e.icon,R=e.trailingIcon,I=e.rootProps,k=I===void 0?{}:I;e.foundationRef,e.ripple,e.floatLabel;var O=Ke(e,["label","style","outlined","align","fullwidth","invalid","disabled","helpText","children","textarea","inputRef","characterCount","icon","trailingIcon","rootProps","foundationRef","ripple","floatLabel"]),A=qge(e),V=A.rootEl,D=A.inputEl,P=A.shakeLabel,N=A.floatLabel,$=A.notchWidth,q=A.lineRippleActive,z=A.lineRippleCenter,K=A.setLeadingIcon,Q=A.setTrailingIcon,Ee=A.setFloatingLabel,he=A.setCharacterCounter,Je=vA("textfield",e),He=Je+"-label",xe=St(e,["mdc-text-field","mdc-text-field--upgraded",{"mdc-text-field--textarea":y,"mdc-text-field--fullwidth":l,"mdc-text-field--outlined":o,"mdc-text-field--invalid":u,"mdc-text-field--disabled":f,"mdc-text-field--with-leading-icon":!!C,"mdc-text-field--with-trailing-icon":!!R,"mdc-text-field--no-label":!r,"mdc-text-field--end-aligned":a==="end"}]),Te=function(ie,lt){return Y.createElement(jK,{apiRef:function(Ge){lt==="leading"?K(Ge):Q(Ge)},position:lt,tabIndex:lt==="trailing"?0:void 0,icon:ie})},J=function(ie){var lt=!!h||T&&!y;if(!lt)return null;var Ge=typeof h=="object"&&!Y.isValidElement(h);return Y.createElement("div",{className:"mdc-text-field-helper-line"},h&&Ge?Y.createElement(J$,ae({},h)):Y.createElement(J$,null,h),!y&&ie)},Ae=r?Y.createElement(BK,{shake:P,float:N,apiRef:Ee,id:He},r):null,Ne=T?Y.createElement(Yge,{apiRef:he}):null;return Y.createElement(Y.Fragment,null,Y.createElement(Gge,ae({},k,{element:V,style:i,className:xe,ref:n,"aria-labelledby":He}),!!C&&Te(C,"leading"),g,!!y&&Ne,Y.createElement(Kge,null),Y.createElement(kt,ae({},O,{element:D,className:"mdc-text-field__input",disabled:f,tag:y?"textarea":"input",ref:w})),o?Y.createElement(Y.Fragment,null,Y.createElement($K,{notch:$},Ae),!!R&&Te(R,"trailing")):Y.createElement(Y.Fragment,null,Ae,!!R&&Te(R,"trailing"),Y.createElement(VK,{active:q,center:z}))),J(Ne))}),Kge=Y.memo(function(){return Y.createElement("span",{className:"mdc-text-field__ripple"})}),Gge=cc({surface:!1})(Y.forwardRef(function(e,n){return Y.createElement(kt,ae({},e,{tag:"label",ref:n}))})),Yge=Y.memo(function(e){var n=Wge(e).content;return Y.createElement("div",{className:"mdc-text-field-character-counter"},n)}),J$=ht(function(e,n){var r=e.persistent,i=e.validationMsg,o=Ke(e,["persistent","validationMsg"]),a=St(e,["mdc-text-field-helper-text",{"mdc-text-field-helper-text--persistent":r,"mdc-text-field-helper-text--validation-msg":i}]);return Y.createElement(kt,ae({tag:"p"},o,{className:a,ref:n}))}),jK=function(e){e.apiRef;var n=e.position,r=Ke(e,["apiRef","position"]),i=zge(e).rootEl,o=St(e,["mdc-text-field__icon",{"mdc-text-field__icon--trailing":n==="trailing","mdc-text-field__icon--leading":n==="leading"}]);return Y.createElement(Mn,ae({},i.props(ae(ae({},r),{className:o}))))};jK.displayName="TextFieldIcon";function Qge(t){var e=t.dialogs,n=Ke(t,["dialogs"]),r=_n(B.useState(0),2),i=r[1],o=_n(B.useState({}),2),a=o[0],l=o[1];B.useEffect(function(){var h=function(){return i(function(g){return g+1})};return e.on("change",h),function(){e.off("change",h)}},[e]);var u=function(h,g){var y;l(ae(ae({},a),(y={},y[g.id]=!0,y))),g.resolve(h),setTimeout(function(){var w=e.array.indexOf(g);~w&&e.array.splice(w,1);var T=ae({},a);delete T[g.id],l(T)},150)},f=!1;return b(Rt,{children:e.array.map(function(h){h.resolve,h.reject;var g=h.id;h.inputProps;var y=Ke(h,["resolve","reject","id","inputProps"]),w=b(Ege,{...ae({},n,y,{key:g,open:!a[g]&&!f,onClose:function(T){u(T,h),h.onClose&&h.onClose(T)}})});return a[g]||(f=!0),w})})}var IR=function(t,e){return function(n){return new Promise(function(r,i){var o=t(ae(ae({id:uu()},n),{resolve:r,reject:i}));e.push(o)})}};function Xge(t){var e=t.body,n=t.inputProps,r=t.apiRef,i=_n(B.useState(""),2),o=i[0],a=i[1];return B.useEffect(function(){r(function(){return o})},[r,o]),ne("div",{children:[!!e&&b("div",{style:{marginBottom:"1rem"},children:e}),b(VE,{...ae({style:{width:"100%"},autoFocus:!0},n,{value:o,onChange:function(l){a(l.currentTarget.value)}})})]})}var Jge=function(t){var e=function(){return""},n=b(Xge,{body:t.body,inputProps:t.inputProps,apiRef:function(r){return e=r}});return ae(ae({title:"Prompt"},t),{body:n,resolve:function(r){t.resolve(r.detail.action==="accept"?e():null),e=void 0}})},Zge=function(t){return ae(ae({title:"Alert",body:"You have been alerted!",acceptLabel:"OK",cancelLabel:null},t),{resolve:function(e){return t.resolve(e.detail.action)}})},eve=function(t){return ae(ae({title:"Confirm",body:"Are you sure you want do that?",acceptLabel:"OK",cancelLabel:"Cancel"},t),{resolve:function(e){return t.resolve(e.detail.action==="accept")}})},tve=function(){var t=new rle;return{dialogs:t,alert:IR(Zge,t),confirm:IR(eve,t),prompt:IR(Jge,t)}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var JN=function(t,e){return JN=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},JN(t,e)};function nve(t,e){JN(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var ZN=function(){return ZN=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},ZN.apply(this,arguments)};/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var rve={ROOT:"mdc-form-field"},ive={LABEL_SELECTOR:".mdc-form-field > label"};/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var ove=function(t){nve(e,t);function e(n){var r=t.call(this,ZN({},e.defaultAdapter,n))||this;return r.clickHandler_=function(){return r.handleClick_()},r}return Object.defineProperty(e,"cssClasses",{get:function(){return rve},enumerable:!0,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return ive},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{activateInputRipple:function(){},deactivateInputRipple:function(){},deregisterInteractionHandler:function(){},registerInteractionHandler:function(){}}},enumerable:!0,configurable:!0}),e.prototype.init=function(){this.adapter_.registerInteractionHandler("click",this.clickHandler_)},e.prototype.destroy=function(){this.adapter_.deregisterInteractionHandler("click",this.clickHandler_)},e.prototype.handleClick_=function(){var n=this;this.adapter_.activateInputRipple(),requestAnimationFrame(function(){return n.adapter_.deactivateInputRipple()})},e}(ui),ave=function(t){li({props:t,elements:{},foundation:function(){return new ove({registerInteractionHandler:function(e,n){},deregisterInteractionHandler:function(e,n){},activateInputRipple:function(){},deactivateInputRipple:function(){}})}})},sve=ht(function(e,n){ave(e),e.alignEnd,e.foundationRef;var r=Ke(e,["alignEnd","foundationRef"]),i=St(e,["mdc-form-field",{"mdc-form-field--align-end":e.alignEnd}]);return Y.createElement(kt,ae({},r,{ref:n,className:i}))});function h2(t){var e=t.className,n=t.style,r=t.rootProps,i=t.label,o=t.children,a=t.disabled,l=t.label||t.children,u=vA("toggle-",t),f=function(g){return l?Y.createElement(sve,ae({},r,{className:e,style:n}),g,Y.createElement("label",{id:u+"label",htmlFor:u},i,o)):g},h=l?{disabled:a}:ae({className:e,style:n,disabled:a},r);return{id:u,renderToggle:f,toggleRootProps:h}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var eL=function(t,e){return eL=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},eL(t,e)};function lve(t,e){eL(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var tL=function(){return tL=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},tL.apply(this,arguments)};/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var uve={NATIVE_CONTROL_SELECTOR:".mdc-radio__native-control"},cve={DISABLED:"mdc-radio--disabled",ROOT:"mdc-radio"};/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var fve=function(t){lve(e,t);function e(n){return t.call(this,tL({},e.defaultAdapter,n))||this}return Object.defineProperty(e,"cssClasses",{get:function(){return cve},enumerable:!0,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return uve},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},setNativeControlDisabled:function(){}}},enumerable:!0,configurable:!0}),e.prototype.setDisabled=function(n){var r=e.cssClasses.DISABLED;this.adapter_.setNativeControlDisabled(n),n?this.adapter_.addClass(r):this.adapter_.removeClass(r)},e}(ui),dve=function(t){var e=h2(t),n=e.renderToggle,r=e.toggleRootProps,i=e.id,o=li({props:t,elements:{rootEl:!0},foundation:function(u){var f=u.rootEl;return new fve({addClass:function(h){return f.addClass(h)},removeClass:function(h){return f.removeClass(h)}})}}),a=o.foundation,l=Ke(o,["foundation"]);return ae({foundation:a,renderToggle:n,toggleRootProps:r,id:i},l)},fx=ht(function(e,n){var r=dve(e),i=r.renderToggle,o=r.id,a=r.toggleRootProps,l=r.rootEl;e.children,e.className,e.label,e.style;var u=e.inputRef;e.foundationRef;var f=Ke(e,["children","className","label","style","inputRef","foundationRef"]),h=Y.createElement(pve,ae({},l.props(a),{ref:iy(l.setRef,n)}),Y.createElement("input",ae({},f,{className:"mdc-radio__native-control",type:"radio",id:o,ref:u})),Y.createElement(mve,null),Y.createElement(hve,null));return i(h)}),hve=Y.memo(function(){return Y.createElement("div",{className:"mdc-radio__ripple"})}),pve=cc({surface:!1,unbounded:!0})(Y.forwardRef(function(e,n){var r=e.disabled,i=Ke(e,["disabled"]),o=St(e,["mdc-radio",{"mdc-radio--disabled":r}]);return Y.createElement(kt,ae({},i,{className:o,ref:n}))})),mve=Y.memo(function(){return Y.createElement("div",{className:"mdc-radio__background"},Y.createElement("div",{className:"mdc-radio__outer-circle"}),Y.createElement("div",{className:"mdc-radio__inner-circle"}))});const gve="_description_izcx8_16",vve={description:gve},yve=({allowDuplicateEmails:t,onClose:e,setAllowDuplicateEmails:n})=>{const[r,i]=Y.useState(t);return ne(hc,{renderToPortal:!0,open:!0,onClose:e,children:[b(pc,{children:"Account email address settings"}),ne("form",{onSubmit:o=>{o.preventDefault(),n(r),e()},children:[ne(mc,{children:[b(Ue,{use:"body2",className:vve.description,children:"This setting either prevents or allows users to create multiple accounts using the same email address if they sign in to your app using different authentication providers."}),b(fx,{value:"false",checked:!r,onChange:()=>i(!1),onClick:()=>i(!1),children:"Prevent creation of multiple accounts with the same email address"}),b(fx,{value:"true",checked:r,onChange:()=>i(!0),onClick:()=>i(!0),children:"Allow creation of multiple accounts with the same email address"})]}),ne(Ef,{children:[b($n,{action:"close",type:"button",theme:"secondary",children:"Cancel"}),b($n,{type:"submit",unelevated:!0,children:"Save"})]})]})]})},_ve=vu({allowDuplicateEmails:UK}),bve=t=>({setAllowDuplicateEmails:e=>t($q(e))}),Eve=Ys(_ve,bve)(yve),wve=({allowDuplicateEmails:t})=>{const[e,n]=B.useState(!1);return ne(Rt,{children:[ne(xa,{className:gge.wrapper,children:[t?ne("div",{children:[b(Ue,{use:"headline6",tag:"div",theme:"textPrimaryOnBackground",children:"Multiple accounts per email address"}),ne(Ue,{use:"body2",theme:"textPrimaryOnBackground",children:["Allowing users to create multiple accounts for authentication providers that use the same email address."," ",b("a",{target:"_blank",rel:"noopener noreferrer",href:"https://support.google.com/firebase/answer/6400716",children:"Learn more"})]})]}):ne("div",{children:[b(Ue,{use:"headline6",tag:"div",theme:"textPrimaryOnBackground",children:"One account per email address"}),b(Ue,{use:"body2",theme:"textPrimaryOnBackground",children:"Preventing users from creating multiple accounts using the same email address with different authentication providers."})]}),b("div",{children:b(fr,{"aria-label":"Enable or disable multiple accounts from one email address.",outlined:!0,onClick:()=>n(!0),children:"Change"})})]}),e&&b(Eve,{onClose:()=>n(!1)})]})},Cve=vu({allowDuplicateEmails:UK}),Sve=Ys(Cve)(wve),Tve="#F6F7F9",Db="#681DA8",dx="rgba(0, 0, 0, 0.55)",qy="#F5F5F5",xve="#D7AEFB",Ave="#0c2d48",Ive="#FFF",kve="#d32f2f",Rve="#f3e5f5",Ove={background:Rve,primary:Db,primaryRgb:"104, 29, 168",textIconOnBackground:Db,textPrimaryOnBackground:Db,textSecondaryOnBackground:`rgba(${Db}, 0.7)`},Pve="#e0f2f1",Z$="#00796b",e6="#00695c",nL={background:Pve,primary:Z$,primaryRgb:"0, 121, 107",textIconOnBackground:Z$,textPrimaryOnBackground:e6,textSecondaryOnBackground:`rgba(${e6}, 0.7)`},Nve="#e5eaf0",t6="#476282",n6="#1b3a57",Lve={background:Nve,primary:t6,primaryRgb:"71, 98, 130",textIconOnBackground:t6,textPrimaryOnBackground:n6,textSecondaryOnBackground:`rgba(${n6}, 0.7)`},Dve="#fff3e0",r6="#ff8f00",i6="#bf360c",Mve={background:Dve,primary:r6,primaryRgb:"255, 143, 0",onPrimary:"white",textIconOnBackground:r6,textPrimaryOnBackground:i6,textSecondaryOnBackground:`rgba(${i6}, 0.7)`},Fve="#fbe9e7",o6="#d32f2f",a6="#c62828",rL={background:Fve,primary:o6,primaryRgb:"211, 47, 47",textIconOnBackground:o6,textPrimaryOnBackground:a6,textSecondaryOnBackground:`rgba(${a6}, 0.7)`};var om=(t=>(t.CAUTION="caution",t.NOTE="note",t.SUCCESS="success",t.TIP="tip",t.WARNING="warning",t))(om||{});const Uve={caution:Mve,note:Lve,success:nL,tip:Ove,warning:rL},og=({use:t,wrap:e,children:n})=>b(rc,{options:Uve[t],wrap:e,children:n}),Vve={[om.CAUTION]:"error",[om.NOTE]:"info",[om.SUCCESS]:"check_circle",[om.TIP]:"star",[om.WARNING]:"warning"},ji=({children:t,aside:e,type:n=om.NOTE,actions:r})=>{const i=Vve[n],a=`Callout Callout-${n}${e?" Callout-aside":""}`;return b(og,{use:n,wrap:!0,children:ne(ao,{className:a,use:e?[]:["onPrimary","primaryBg"],tag:"div",children:[b("div",{className:"Callout-body",children:ne("div",{className:"Callout-message",children:[i&&b(Mn,{icon:i,"aria-label":i+" icon",className:"Callout-icon"}),b(Ue,{use:"subtitle2",tag:"div",className:"Callout-header-wrapper",children:t})]})}),r&&b(rc,{wrap:!0,options:e?{}:{primary:"#fff"},children:b("div",{className:"Callout-actions",children:r})})]})})},{dialogs:Bve,confirm:pp}=tve(),$ve=()=>pp({title:"Clear all data",body:b("div",{className:"Firestore--dialog-body",children:b(ji,{aside:!0,type:"warning",children:"This will delete all users"})}),acceptLabel:null,cancelLabel:null,footer:ne(Rt,{children:[b($n,{action:"close",type:"button",theme:"secondary",children:"Cancel"}),b($n,{unelevated:!0,action:"accept",isDefaultAction:!0,danger:!0,children:"Delete"})]})}),Hve="_clearAllButton_18e1i_16",jve="_tenantPicker_18e1i_20",iL={clearAllButton:Hve,tenantPicker:jve},zve=({hasUsers:t,clearAllData:e})=>b(Rt,{children:t&&b("div",{className:iL.clearAllButton,children:b(og,{use:"warning",wrap:!0,children:b(fr,{unelevated:!0,onClick:async()=>{await $ve()&&e()},children:"Clear all data"})})})}),Wve=vu({hasUsers:lge}),qve=t=>({clearAllData:()=>t(Fq())}),Kve=Ys(Wve,qve)(zve);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var oL=function(t,e){return oL=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},oL(t,e)};function Gve(t,e){oL(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var aL=function(){return aL=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},aL.apply(this,arguments)};/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Fs={LIST_ITEM_ACTIVATED_CLASS:"mdc-list-item--activated",LIST_ITEM_CLASS:"mdc-list-item",LIST_ITEM_DISABLED_CLASS:"mdc-list-item--disabled",LIST_ITEM_SELECTED_CLASS:"mdc-list-item--selected",ROOT:"mdc-list"},Uc={ACTION_EVENT:"MDCList:action",ARIA_CHECKED:"aria-checked",ARIA_CHECKED_CHECKBOX_SELECTOR:'[role="checkbox"][aria-checked="true"]',ARIA_CHECKED_RADIO_SELECTOR:'[role="radio"][aria-checked="true"]',ARIA_CURRENT:"aria-current",ARIA_DISABLED:"aria-disabled",ARIA_ORIENTATION:"aria-orientation",ARIA_ORIENTATION_HORIZONTAL:"horizontal",ARIA_ROLE_CHECKBOX_SELECTOR:'[role="checkbox"]',ARIA_SELECTED:"aria-selected",CHECKBOX_RADIO_SELECTOR:'input[type="checkbox"], input[type="radio"]',CHECKBOX_SELECTOR:'input[type="checkbox"]',CHILD_ELEMENTS_TO_TOGGLE_TABINDEX:`
    .`+Fs.LIST_ITEM_CLASS+` button:not(:disabled),
    .`+Fs.LIST_ITEM_CLASS+` a
  `,FOCUSABLE_CHILD_ELEMENTS:`
    .`+Fs.LIST_ITEM_CLASS+` button:not(:disabled),
    .`+Fs.LIST_ITEM_CLASS+` a,
    .`+Fs.LIST_ITEM_CLASS+` input[type="radio"]:not(:disabled),
    .`+Fs.LIST_ITEM_CLASS+` input[type="checkbox"]:not(:disabled)
  `,RADIO_SELECTOR:'input[type="radio"]'},Vu={UNSET_INDEX:-1};/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Yve=["input","button","textarea","select"];function Qve(t){return t instanceof Array}var vl=function(t){Gve(e,t);function e(n){var r=t.call(this,aL({},e.defaultAdapter,n))||this;return r.wrapFocus_=!1,r.isVertical_=!0,r.isSingleSelectionList_=!1,r.selectedIndex_=Vu.UNSET_INDEX,r.focusedItemIndex_=Vu.UNSET_INDEX,r.useActivatedClass_=!1,r.ariaCurrentAttrValue_=null,r.isCheckboxList_=!1,r.isRadioList_=!1,r}return Object.defineProperty(e,"strings",{get:function(){return Uc},enumerable:!0,configurable:!0}),Object.defineProperty(e,"cssClasses",{get:function(){return Fs},enumerable:!0,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return Vu},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClassForElementIndex:function(){},focusItemAtIndex:function(){},getAttributeForElementIndex:function(){return null},getFocusedElementIndex:function(){return 0},getListItemCount:function(){return 0},hasCheckboxAtIndex:function(){return!1},hasRadioAtIndex:function(){return!1},isCheckboxCheckedAtIndex:function(){return!1},isFocusInsideList:function(){return!1},isRootFocused:function(){return!1},listItemAtIndexHasClass:function(){return!1},notifyAction:function(){},removeClassForElementIndex:function(){},setAttributeForElementIndex:function(){},setCheckedCheckboxOrRadioAtIndex:function(){},setTabIndexForListItemChildren:function(){}}},enumerable:!0,configurable:!0}),e.prototype.layout=function(){this.adapter_.getListItemCount()!==0&&(this.adapter_.hasCheckboxAtIndex(0)?this.isCheckboxList_=!0:this.adapter_.hasRadioAtIndex(0)&&(this.isRadioList_=!0))},e.prototype.setWrapFocus=function(n){this.wrapFocus_=n},e.prototype.setVerticalOrientation=function(n){this.isVertical_=n},e.prototype.setSingleSelection=function(n){this.isSingleSelectionList_=n},e.prototype.setUseActivatedClass=function(n){this.useActivatedClass_=n},e.prototype.getSelectedIndex=function(){return this.selectedIndex_},e.prototype.setSelectedIndex=function(n){this.isIndexValid_(n)&&(this.isCheckboxList_?this.setCheckboxAtIndex_(n):this.isRadioList_?this.setRadioAtIndex_(n):this.setSingleSelectionAtIndex_(n))},e.prototype.handleFocusIn=function(n,r){r>=0&&this.adapter_.setTabIndexForListItemChildren(r,"0")},e.prototype.handleFocusOut=function(n,r){var i=this;r>=0&&this.adapter_.setTabIndexForListItemChildren(r,"-1"),setTimeout(function(){i.adapter_.isFocusInsideList()||i.setTabindexToFirstSelectedItem_()},0)},e.prototype.handleKeydown=function(n,r,i){var o=n.key==="ArrowLeft"||n.keyCode===37,a=n.key==="ArrowUp"||n.keyCode===38,l=n.key==="ArrowRight"||n.keyCode===39,u=n.key==="ArrowDown"||n.keyCode===40,f=n.key==="Home"||n.keyCode===36,h=n.key==="End"||n.keyCode===35,g=n.key==="Enter"||n.keyCode===13,y=n.key==="Space"||n.keyCode===32;if(this.adapter_.isRootFocused()){a||h?(n.preventDefault(),this.focusLastElement()):(u||f)&&(n.preventDefault(),this.focusFirstElement());return}var w=this.adapter_.getFocusedElementIndex();if(!(w===-1&&(w=i,w<0))){var T;if(this.isVertical_&&u||!this.isVertical_&&l)this.preventDefaultEvent_(n),T=this.focusNextElement(w);else if(this.isVertical_&&a||!this.isVertical_&&o)this.preventDefaultEvent_(n),T=this.focusPrevElement(w);else if(f)this.preventDefaultEvent_(n),T=this.focusFirstElement();else if(h)this.preventDefaultEvent_(n),T=this.focusLastElement();else if((g||y)&&r){var C=n.target;if(C&&C.tagName==="A"&&g)return;this.preventDefaultEvent_(n),this.isSelectableList_()&&this.setSelectedIndexOnAction_(w),this.adapter_.notifyAction(w)}this.focusedItemIndex_=w,T!==void 0&&(this.setTabindexAtIndex_(T),this.focusedItemIndex_=T)}},e.prototype.handleClick=function(n,r){n!==Vu.UNSET_INDEX&&(this.isSelectableList_()&&this.setSelectedIndexOnAction_(n,r),this.adapter_.notifyAction(n),this.setTabindexAtIndex_(n),this.focusedItemIndex_=n)},e.prototype.focusNextElement=function(n){var r=this.adapter_.getListItemCount(),i=n+1;if(i>=r)if(this.wrapFocus_)i=0;else return n;return this.adapter_.focusItemAtIndex(i),i},e.prototype.focusPrevElement=function(n){var r=n-1;if(r<0)if(this.wrapFocus_)r=this.adapter_.getListItemCount()-1;else return n;return this.adapter_.focusItemAtIndex(r),r},e.prototype.focusFirstElement=function(){return this.adapter_.focusItemAtIndex(0),0},e.prototype.focusLastElement=function(){var n=this.adapter_.getListItemCount()-1;return this.adapter_.focusItemAtIndex(n),n},e.prototype.setEnabled=function(n,r){this.isIndexValid_(n)&&(r?(this.adapter_.removeClassForElementIndex(n,Fs.LIST_ITEM_DISABLED_CLASS),this.adapter_.setAttributeForElementIndex(n,Uc.ARIA_DISABLED,"false")):(this.adapter_.addClassForElementIndex(n,Fs.LIST_ITEM_DISABLED_CLASS),this.adapter_.setAttributeForElementIndex(n,Uc.ARIA_DISABLED,"true")))},e.prototype.preventDefaultEvent_=function(n){var r=n.target,i=(""+r.tagName).toLowerCase();Yve.indexOf(i)===-1&&n.preventDefault()},e.prototype.setSingleSelectionAtIndex_=function(n){if(this.selectedIndex_!==n){var r=Fs.LIST_ITEM_SELECTED_CLASS;this.useActivatedClass_&&(r=Fs.LIST_ITEM_ACTIVATED_CLASS),this.selectedIndex_!==Vu.UNSET_INDEX&&this.adapter_.removeClassForElementIndex(this.selectedIndex_,r),this.adapter_.addClassForElementIndex(n,r),this.setAriaForSingleSelectionAtIndex_(n),this.selectedIndex_=n}},e.prototype.setAriaForSingleSelectionAtIndex_=function(n){this.selectedIndex_===Vu.UNSET_INDEX&&(this.ariaCurrentAttrValue_=this.adapter_.getAttributeForElementIndex(n,Uc.ARIA_CURRENT));var r=this.ariaCurrentAttrValue_!==null,i=r?Uc.ARIA_CURRENT:Uc.ARIA_SELECTED;this.selectedIndex_!==Vu.UNSET_INDEX&&this.adapter_.setAttributeForElementIndex(this.selectedIndex_,i,"false");var o=r?this.ariaCurrentAttrValue_:"true";this.adapter_.setAttributeForElementIndex(n,i,o)},e.prototype.setRadioAtIndex_=function(n){this.adapter_.setCheckedCheckboxOrRadioAtIndex(n,!0),this.selectedIndex_!==Vu.UNSET_INDEX&&this.adapter_.setAttributeForElementIndex(this.selectedIndex_,Uc.ARIA_CHECKED,"false"),this.adapter_.setAttributeForElementIndex(n,Uc.ARIA_CHECKED,"true"),this.selectedIndex_=n},e.prototype.setCheckboxAtIndex_=function(n){for(var r=0;r<this.adapter_.getListItemCount();r++){var i=!1;n.indexOf(r)>=0&&(i=!0),this.adapter_.setCheckedCheckboxOrRadioAtIndex(r,i),this.adapter_.setAttributeForElementIndex(r,Uc.ARIA_CHECKED,i?"true":"false")}this.selectedIndex_=n},e.prototype.setTabindexAtIndex_=function(n){this.focusedItemIndex_===Vu.UNSET_INDEX&&n!==0?this.adapter_.setAttributeForElementIndex(0,"tabindex","-1"):this.focusedItemIndex_>=0&&this.focusedItemIndex_!==n&&this.adapter_.setAttributeForElementIndex(this.focusedItemIndex_,"tabindex","-1"),this.adapter_.setAttributeForElementIndex(n,"tabindex","0")},e.prototype.isSelectableList_=function(){return this.isSingleSelectionList_||this.isCheckboxList_||this.isRadioList_},e.prototype.setTabindexToFirstSelectedItem_=function(){var n=0;this.isSelectableList_()&&(typeof this.selectedIndex_=="number"&&this.selectedIndex_!==Vu.UNSET_INDEX?n=this.selectedIndex_:Qve(this.selectedIndex_)&&this.selectedIndex_.length>0&&(n=this.selectedIndex_.reduce(function(r,i){return Math.min(r,i)}))),this.setTabindexAtIndex_(n)},e.prototype.isIndexValid_=function(n){var r=this;if(n instanceof Array){if(!this.isCheckboxList_)throw new Error("MDCListFoundation: Array of index is only supported for checkbox based list");return n.length===0?!0:n.some(function(i){return r.isIndexInRange_(i)})}else if(typeof n=="number"){if(this.isCheckboxList_)throw new Error("MDCListFoundation: Expected array of index for checkbox based list but got number: "+n);return this.isIndexInRange_(n)}else return!1},e.prototype.isIndexInRange_=function(n){var r=this.adapter_.getListItemCount();return n>=0&&n<r},e.prototype.setSelectedIndexOnAction_=function(n,r){r===void 0&&(r=!0),!this.adapter_.listItemAtIndexHasClass(n,Fs.LIST_ITEM_DISABLED_CLASS)&&(this.isCheckboxList_?this.toggleCheckboxAtIndex_(n,r):this.setSelectedIndex(n))},e.prototype.toggleCheckboxAtIndex_=function(n,r){var i=this.adapter_.isCheckboxCheckedAtIndex(n);r&&(i=!i,this.adapter_.setCheckedCheckboxOrRadioAtIndex(n,i)),this.adapter_.setAttributeForElementIndex(n,Uc.ARIA_CHECKED,i?"true":"false");var o=this.selectedIndex_===Vu.UNSET_INDEX?[]:this.selectedIndex_.slice();i?o.push(n):o=o.filter(function(a){return a!==n}),this.selectedIndex_=o},e}(ui),Xve=function(t){var e=B.useCallback(function(C){return C?[].slice.call(C.querySelectorAll("."+vl.cssClasses.LIST_ITEM_CLASS)):[]},[]),n=li({props:t,api:function(C){var R=C.rootEl,I=C.foundation,k=I.adapter_;return{listElements:function(){return e(R.ref)},focusRoot:function(){return R.ref&&R.ref.focus()},getClasses:function(){return vl.cssClasses.LIST_ITEM_CLASS},addClassToElementIndex:k.addClassForElementIndex,removeClassFromElementAtIndex:k.removeClassForElementIndex,setAttributeForElementIndex:k.setAttributeForElementIndex,getListItemCount:k.getListItemCount,focusItemAtIndex:k.focusItemAtIndex}},elements:{rootEl:!0},foundation:function(C){var R=C.rootEl,I=C.emit;return new vl({getListItemCount:function(){return e(R.ref).length},getFocusedElementIndex:function(){return e(R.ref).indexOf(document.activeElement)},listItemAtIndexHasClass:function(k,O){var A=e(R.ref)[k];return!!(A!=null&&A.classList.contains(O))},setAttributeForElementIndex:function(k,O,A){O==="tabindex"&&(O="tabIndex");var V=e(R.ref)[k];V&&V.setAttribute(O,String(A))},addClassForElementIndex:function(k,O){var A=e(R.ref)[k];A&&A.classList.add(O)},removeClassForElementIndex:function(k,O){var A=e(R.ref)[k];A&&A.classList.remove(O)},focusItemAtIndex:function(k){var O=e(R.ref)[k];O&&O.focus()},setTabIndexForListItemChildren:function(k,O){var A=e(R.ref)[k],V=[].slice.call(A.querySelectorAll(vl.strings.CHILD_ELEMENTS_TO_TOGGLE_TABINDEX));V.forEach(function(D){return D.setAttribute("tabindex",String(O))})},hasCheckboxAtIndex:function(k){var O=e(R.ref)[k];return!!O.querySelector(vl.strings.CHECKBOX_SELECTOR)},hasRadioAtIndex:function(k){var O=e(R.ref)[k];return!!O.querySelector(vl.strings.RADIO_SELECTOR)},isCheckboxCheckedAtIndex:function(k){var O=e(R.ref)[k],A=O.querySelector(vl.strings.CHECKBOX_SELECTOR);return A?A.checked:!1},setCheckedCheckboxOrRadioAtIndex:function(k,O){var A=e(R.ref)[k],V=A.querySelector(vl.strings.CHECKBOX_RADIO_SELECTOR);if(V){V.checked=O;var D=document.createEvent("Event");D.initEvent("change",!0,!0),V.dispatchEvent(D)}},notifyAction:function(k){I("onAction",{index:k})},isFocusInsideList:function(){var k;return!!(!((k=R.ref)===null||k===void 0)&&k.contains(document.activeElement))},isRootFocused:function(){return document.activeElement===R.ref}})}}),r=n.foundation,i=Ke(n,["foundation"]),o=i.rootEl,a=B.useCallback(function(C){for(var R=C.target,I=-1;R&&!R.classList.contains(vl.cssClasses.LIST_ITEM_CLASS)&&!R.classList.contains(vl.cssClasses.ROOT);)R=R.parentElement;return R&&R.classList.contains(vl.cssClasses.LIST_ITEM_CLASS)&&(I=e(o.ref).indexOf(R)),I},[e,o.ref]),l=t.onClick,u=B.useCallback(function(C){l==null||l(C);var R=a(C),I=!PE(C.target,vl.strings.CHECKBOX_RADIO_SELECTOR);r.handleClick(R,I)},[a,r,l]),f=t.onKeyDown,h=B.useCallback(function(C){f==null||f(C);var R=a(C);R>=0&&r.handleKeydown(C,C.target instanceof Element&&C.target.classList.contains(vl.cssClasses.LIST_ITEM_CLASS),R)},[a,r,f]),g=t.onFocus,y=B.useCallback(function(C){g==null||g(C),r.handleFocusIn(C,a(C))},[a,r,g]),w=t.onBlur,T=B.useCallback(function(C){w==null||w(C),r.handleFocusOut(C,a(C))},[a,r,w]);return o.setProp("onClick",u,!0),o.setProp("onKeyDown",h,!0),o.setProp("onFocus",y,!0),o.setProp("onBlur",T,!0),B.useEffect(function(){r.layout()},[r]),B.useEffect(function(){r.setWrapFocus(t.wrapFocus||t.wrapFocus===void 0)},[r,t.wrapFocus]),B.useEffect(function(){r.setVerticalOrientation(t.vertical||t.vertical===void 0)},[r,t.vertical]),ae({},i)},Kh=ht(function(e,n){var r=e.dense,i=e.twoLine,o=e.avatarList;e.apiRef;var a=e.nonInteractive;e.onAction,e.foundationRef;var l=e.wrapFocus,u=Ke(e,["dense","twoLine","avatarList","apiRef","nonInteractive","onAction","foundationRef","wrapFocus"]),f=Xve(ae(ae({},e),{wrapFocus:l})).rootEl,h=St(e,["mdc-list",{"mdc-list--dense":r,"mdc-list--two-line":i,"mdc-list--avatar-list":o,"mdc-list--non-interactive":a}]);return Y.createElement(kt,ae({tag:"ul"},u,{element:f,className:h,ref:n}))}),wf=cc({surface:!1})(ht(function(e,n){e.selected,e.activated,e.disabled;var r=Ke(e,["selected","activated","disabled"]),i=St(e,["mdc-list-item",{"mdc-list-item--selected":e.selected,"mdc-list-item--activated":e.activated,"mdc-list-item--disabled":e.disabled}]);return Y.createElement(kt,ae({tag:"li",tabIndex:0},r,{className:i,ref:n}))})),hx=ht(function(e,n){var r=St(e,["mdc-list-item__text"]);return Y.createElement(kt,ae({tag:"span"},e,{ref:n,className:r}))}),zK=ht(function(e,n){var r=St(e,["mdc-list-item__primary-text"]);return Y.createElement(kt,ae({tag:"span"},e,{ref:n,className:r}))}),WK=ht(function(e,n){var r=St(e,["mdc-list-item__secondary-text"]);return Y.createElement(kt,ae({tag:"span"},e,{ref:n,className:r}))}),qK=ht(function(e,n){var r=St(e,["mdc-list-item__graphic"]);return Y.createElement(Mn,ae({},e,{"aria-hidden":"true",ref:n,className:r}))}),KK=ht(function(e,n){var r=St(e,["mdc-list-item__meta"]);if(e.icon)return Y.createElement(Mn,ae({},e,{"aria-hidden":"true",ref:n,className:r}));if(Y.isValidElement(e.children)){e.children;var i=Ke(e,["children"]);return Y.cloneElement(e.children,ae(ae(ae({},i),e.children.props),{className:Lr(r,e.children.props.className)}))}return Y.createElement(kt,ae({},e,{ref:n,className:r}))}),GK=ht(function(e,n){var r=St(e,["mdc-list-group"]);return Y.createElement(kt,ae({},e,{ref:n,className:r}))}),YK=ht(function(e,n){var r=St(e,["mdc-list-group__subheader"]);return Y.createElement(kt,ae({},e,{ref:n,className:r}))}),Ky=ht(function(e,n){var r=St(e,["mdc-list-divider"]);return Y.createElement(kt,ae({tag:"li",role:"separator"},e,{ref:n,className:r}))}),Jve=ht(function(t,e){var n=t.text,r=t.secondaryText,i=t.graphic,o=t.metaIcon,a=t.meta,l=t.children,u=Ke(t,["text","secondaryText","graphic","metaIcon","meta","children"]),f=n&&r!==void 0?Y.createElement(zK,null,n):n,h=r!==void 0?Y.createElement(WK,null,r):null;return Y.createElement(wf,ae({},u,{ref:e}),i!==void 0&&Y.createElement(qK,{icon:i}),h!==null?Y.createElement(hx,null,f,h):f,(!!a||!!o)&&Y.createElement(KK,{icon:o},a),l)}),s6=function(t){if(!t)return!1;var e=t.getAttribute("tabindex");return e&&Number(e)>=0?(t.focus(),!0):!1},QK=function(t,e){if(!t)return null;var n=e?t.previousElementSibling:t.nextElementSibling;return n===null?QK(t.parentElement,e):n},Zve=function(t){xd(e,t);function e(n){var r=t.call(this,n)||this;return r.childContainer=null,r.root=null,r.rafId=null,r.timerId=null,r.state={open:!!r.props.defaultOpen||!!r.props.open,childrenStyle:{}},r.handleClick=r.handleClick.bind(r),r.handleKeydown=r.handleKeydown.bind(r),r.handleFocus=r.handleFocus.bind(r),r}return e.getDerivedStateFromProps=function(n,r){return n.open!==void 0&&n.open!==r.open?ae(ae({},r),{open:n.open}):r},e.prototype.componentDidMount=function(){this.syncOpenState()},e.prototype.componentDidUpdate=function(n,r){r.open!==this.state.open&&this.syncOpenState()},e.prototype.componentWillUnmount=function(){this.rafId&&window.cancelAnimationFrame(this.rafId),this.timerId&&window.clearTimeout(this.timerId)},e.prototype.syncOpenState=function(){var n=this,r=this.props,i=r.onOpen,o=r.onClose,a={maxHeight:this.childContainer?this.childContainer.offsetHeight+"px":"0px"};this.setState({childrenStyle:a},function(){n.state.open?(i&&i(),n.timerId=window.setTimeout(function(){n.state.open&&n.setState({childrenStyle:{maxHeight:"none"}})},300)):(o&&o(),n.rafId=window.requestAnimationFrame(function(){n.setState({childrenStyle:{}})}))})},e.prototype.correctFocus=function(n){var r=this;this.rafId=window.requestAnimationFrame(function(){if(!r.state.open&&r.root&&r.root.contains(document.activeElement)){var i=QK(r.root,n);if(s6(i))return;if(i)for(var o=i.querySelectorAll("[tabindex]"),a=0;a<o.length&&!s6(o[a]);a++);}})},e.prototype.toggleOpen=function(n){this.setState({open:n})},e.prototype.handleClick=function(n){var r=this.props.handle;r.props.onClick&&r.props.onClick(n),this.toggleOpen(!this.state.open)},e.prototype.handleKeydown=function(n){var r=this.props.handle;switch(r.props.onKeyDown&&r.props.onKeyDown(n),n.which){case 13:this.toggleOpen(!this.state.open);return;case 39:this.toggleOpen(!0);return;case 38:case 40:case 9:var i=n.shiftKey||n.which===38;this.correctFocus(i);return;case 37:this.toggleOpen(!1);return}},e.prototype.handleFocus=function(n){if(!this.state.open&&this.root&&this.childContainer&&this.childContainer.contains(document.activeElement)){var r=this.root.querySelector(".rmwc-collapsible-list__handle .mdc-list-item");r&&r.focus()}},e.prototype.render=function(){var n=this,r=this.props,i=r.children,o=r.handle;r.onOpen,r.onClose,r.open,r.defaultOpen;var a=r.className,l=Ke(r,["children","handle","onOpen","onClose","open","defaultOpen","className"]),u=this.state,f=u.open,h=u.childrenStyle;return Y.createElement(kt,ae({},l,{onFocus:this.handleFocus,ref:function(g){return n.root=g},className:Lr("rmwc-collapsible-list",a,{"rmwc-collapsible-list--open":f})}),Y.createElement("div",{className:"rmwc-collapsible-list__handle"},Y.cloneElement(o,ae(ae({},o.props),{onClick:this.handleClick,onKeyDown:this.handleKeydown}))),Y.createElement("div",{className:"rmwc-collapsible-list__children",style:h},Y.createElement("div",{className:"rmwc-collapsible-list__children-inner",ref:function(g){return n.childContainer=g}},i)))},e.displayName="CollapsibleList",e}(Y.Component);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var kR;function eye(t,e){if(e===void 0&&(e=!1),kR===void 0||e){var n=t.document.createElement("div");kR="transform"in n.style?"transform":"webkitTransform"}return kR}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var sL=function(t,e){return sL=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},sL(t,e)};function tye(t,e){sL(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var lL=function(){return lL=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},lL.apply(this,arguments)};function nye(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var rye={ANCHOR:"mdc-menu-surface--anchor",ANIMATING_CLOSED:"mdc-menu-surface--animating-closed",ANIMATING_OPEN:"mdc-menu-surface--animating-open",FIXED:"mdc-menu-surface--fixed",OPEN:"mdc-menu-surface--open",ROOT:"mdc-menu-surface"},iye={CLOSED_EVENT:"MDCMenuSurface:closed",OPENED_EVENT:"MDCMenuSurface:opened",FOCUSABLE_ELEMENTS:["button:not(:disabled)",'[href]:not([aria-disabled="true"])',"input:not(:disabled)","select:not(:disabled)","textarea:not(:disabled)",'[tabindex]:not([tabindex="-1"]):not([aria-disabled="true"])'].join(", ")},nS={TRANSITION_OPEN_DURATION:120,TRANSITION_CLOSE_DURATION:75,MARGIN_TO_EDGE:32,ANCHOR_TO_MENU_SURFACE_WIDTH_RATIO:.67},rs;(function(t){t[t.BOTTOM=1]="BOTTOM",t[t.CENTER=2]="CENTER",t[t.RIGHT=4]="RIGHT",t[t.FLIP_RTL=8]="FLIP_RTL"})(rs||(rs={}));var Hv;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=4]="TOP_RIGHT",t[t.BOTTOM_LEFT=1]="BOTTOM_LEFT",t[t.BOTTOM_RIGHT=5]="BOTTOM_RIGHT",t[t.TOP_START=8]="TOP_START",t[t.TOP_END=12]="TOP_END",t[t.BOTTOM_START=9]="BOTTOM_START",t[t.BOTTOM_END=13]="BOTTOM_END"})(Hv||(Hv={}));/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var i0=function(t){tye(e,t);function e(n){var r=t.call(this,lL({},e.defaultAdapter,n))||this;return r.isOpen_=!1,r.isQuickOpen_=!1,r.isHoistedElement_=!1,r.isFixedPosition_=!1,r.openAnimationEndTimerId_=0,r.closeAnimationEndTimerId_=0,r.animationRequestId_=0,r.anchorCorner_=Hv.TOP_START,r.anchorMargin_={top:0,right:0,bottom:0,left:0},r.position_={x:0,y:0},r}return Object.defineProperty(e,"cssClasses",{get:function(){return rye},enumerable:!0,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return iye},enumerable:!0,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return nS},enumerable:!0,configurable:!0}),Object.defineProperty(e,"Corner",{get:function(){return Hv},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},hasAnchor:function(){return!1},isElementInContainer:function(){return!1},isFocused:function(){return!1},isRtl:function(){return!1},getInnerDimensions:function(){return{height:0,width:0}},getAnchorDimensions:function(){return null},getWindowDimensions:function(){return{height:0,width:0}},getBodyDimensions:function(){return{height:0,width:0}},getWindowScroll:function(){return{x:0,y:0}},setPosition:function(){},setMaxHeight:function(){},setTransformOrigin:function(){},saveFocus:function(){},restoreFocus:function(){},notifyClose:function(){},notifyOpen:function(){}}},enumerable:!0,configurable:!0}),e.prototype.init=function(){var n=e.cssClasses,r=n.ROOT,i=n.OPEN;if(!this.adapter_.hasClass(r))throw new Error(r+" class required in root element.");this.adapter_.hasClass(i)&&(this.isOpen_=!0)},e.prototype.destroy=function(){clearTimeout(this.openAnimationEndTimerId_),clearTimeout(this.closeAnimationEndTimerId_),cancelAnimationFrame(this.animationRequestId_)},e.prototype.setAnchorCorner=function(n){this.anchorCorner_=n},e.prototype.setAnchorMargin=function(n){this.anchorMargin_.top=n.top||0,this.anchorMargin_.right=n.right||0,this.anchorMargin_.bottom=n.bottom||0,this.anchorMargin_.left=n.left||0},e.prototype.setIsHoisted=function(n){this.isHoistedElement_=n},e.prototype.setFixedPosition=function(n){this.isFixedPosition_=n},e.prototype.setAbsolutePosition=function(n,r){this.position_.x=this.isFinite_(n)?n:0,this.position_.y=this.isFinite_(r)?r:0},e.prototype.setQuickOpen=function(n){this.isQuickOpen_=n},e.prototype.isOpen=function(){return this.isOpen_},e.prototype.open=function(){var n=this;this.adapter_.saveFocus(),this.isQuickOpen_||this.adapter_.addClass(e.cssClasses.ANIMATING_OPEN),this.animationRequestId_=requestAnimationFrame(function(){n.adapter_.addClass(e.cssClasses.OPEN),n.dimensions_=n.adapter_.getInnerDimensions(),n.autoPosition_(),n.isQuickOpen_?n.adapter_.notifyOpen():n.openAnimationEndTimerId_=setTimeout(function(){n.openAnimationEndTimerId_=0,n.adapter_.removeClass(e.cssClasses.ANIMATING_OPEN),n.adapter_.notifyOpen()},nS.TRANSITION_OPEN_DURATION)}),this.isOpen_=!0},e.prototype.close=function(n){var r=this;n===void 0&&(n=!1),this.isQuickOpen_||this.adapter_.addClass(e.cssClasses.ANIMATING_CLOSED),requestAnimationFrame(function(){r.adapter_.removeClass(e.cssClasses.OPEN),r.isQuickOpen_?r.adapter_.notifyClose():r.closeAnimationEndTimerId_=setTimeout(function(){r.closeAnimationEndTimerId_=0,r.adapter_.removeClass(e.cssClasses.ANIMATING_CLOSED),r.adapter_.notifyClose()},nS.TRANSITION_CLOSE_DURATION)}),this.isOpen_=!1,n||this.maybeRestoreFocus_()},e.prototype.handleBodyClick=function(n){var r=n.target;this.adapter_.isElementInContainer(r)||this.close()},e.prototype.handleKeydown=function(n){var r=n.keyCode,i=n.key,o=i==="Escape"||r===27;o&&this.close()},e.prototype.autoPosition_=function(){var n;this.measurements_=this.getAutoLayoutMeasurements_();var r=this.getOriginCorner_(),i=this.getMenuSurfaceMaxHeight_(r),o=this.hasBit_(r,rs.BOTTOM)?"bottom":"top",a=this.hasBit_(r,rs.RIGHT)?"right":"left",l=this.getHorizontalOriginOffset_(r),u=this.getVerticalOriginOffset_(r),f=this.measurements_,h=f.anchorSize,g=f.surfaceSize,y=(n={},n[a]=l,n[o]=u,n);h.width/g.width>nS.ANCHOR_TO_MENU_SURFACE_WIDTH_RATIO&&(a="center"),(this.isHoistedElement_||this.isFixedPosition_)&&this.adjustPositionForHoistedElement_(y),this.adapter_.setTransformOrigin(a+" "+o),this.adapter_.setPosition(y),this.adapter_.setMaxHeight(i?i+"px":"")},e.prototype.getAutoLayoutMeasurements_=function(){var n=this.adapter_.getAnchorDimensions(),r=this.adapter_.getBodyDimensions(),i=this.adapter_.getWindowDimensions(),o=this.adapter_.getWindowScroll();return n||(n={top:this.position_.y,right:this.position_.x,bottom:this.position_.y,left:this.position_.x,width:0,height:0}),{anchorSize:n,bodySize:r,surfaceSize:this.dimensions_,viewportDistance:{top:n.top,right:i.width-n.right,bottom:i.height-n.bottom,left:n.left},viewportSize:i,windowScroll:o}},e.prototype.getOriginCorner_=function(){var n=Hv.TOP_LEFT,r=this.measurements_,i=r.viewportDistance,o=r.anchorSize,a=r.surfaceSize,l=this.hasBit_(this.anchorCorner_,rs.BOTTOM),u=l?i.top+o.height+this.anchorMargin_.bottom:i.top+this.anchorMargin_.top,f=l?i.bottom-this.anchorMargin_.bottom:i.bottom+o.height-this.anchorMargin_.top,h=a.height-u,g=a.height-f;g>0&&h<g&&(n=this.setBit_(n,rs.BOTTOM));var y=this.adapter_.isRtl(),w=this.hasBit_(this.anchorCorner_,rs.FLIP_RTL),T=this.hasBit_(this.anchorCorner_,rs.RIGHT),C=T&&!y||!T&&w&&y,R=C?i.left+o.width+this.anchorMargin_.right:i.left+this.anchorMargin_.left,I=C?i.right-this.anchorMargin_.right:i.right+o.width-this.anchorMargin_.left,k=a.width-R,O=a.width-I;return(k<0&&C&&y||T&&!C&&k<0||O>0&&k<O)&&(n=this.setBit_(n,rs.RIGHT)),n},e.prototype.getMenuSurfaceMaxHeight_=function(n){var r=this.measurements_.viewportDistance,i=0,o=this.hasBit_(n,rs.BOTTOM),a=this.hasBit_(this.anchorCorner_,rs.BOTTOM),l=e.numbers.MARGIN_TO_EDGE;return o?(i=r.top+this.anchorMargin_.top-l,a||(i+=this.measurements_.anchorSize.height)):(i=r.bottom-this.anchorMargin_.bottom+this.measurements_.anchorSize.height-l,a&&(i-=this.measurements_.anchorSize.height)),i},e.prototype.getHorizontalOriginOffset_=function(n){var r=this.measurements_.anchorSize,i=this.hasBit_(n,rs.RIGHT),o=this.hasBit_(this.anchorCorner_,rs.RIGHT);if(i){var a=o?r.width-this.anchorMargin_.left:this.anchorMargin_.right;return this.isHoistedElement_||this.isFixedPosition_?a-(this.measurements_.viewportSize.width-this.measurements_.bodySize.width):a}return o?r.width-this.anchorMargin_.right:this.anchorMargin_.left},e.prototype.getVerticalOriginOffset_=function(n){var r=this.measurements_.anchorSize,i=this.hasBit_(n,rs.BOTTOM),o=this.hasBit_(this.anchorCorner_,rs.BOTTOM),a=0;return i?a=o?r.height-this.anchorMargin_.top:-this.anchorMargin_.bottom:a=o?r.height+this.anchorMargin_.bottom:this.anchorMargin_.top,a},e.prototype.adjustPositionForHoistedElement_=function(n){var r,i,o=this.measurements_,a=o.windowScroll,l=o.viewportDistance,u=Object.keys(n);try{for(var f=nye(u),h=f.next();!h.done;h=f.next()){var g=h.value,y=n[g]||0;y+=l[g],this.isFixedPosition_||(g==="top"?y+=a.y:g==="bottom"?y-=a.y:g==="left"?y+=a.x:y-=a.x),n[g]=y}}catch(w){r={error:w}}finally{try{h&&!h.done&&(i=f.return)&&i.call(f)}finally{if(r)throw r.error}}},e.prototype.maybeRestoreFocus_=function(){var n=this.adapter_.isFocused(),r=document.activeElement&&this.adapter_.isElementInContainer(document.activeElement);(n||r)&&this.adapter_.restoreFocus()},e.prototype.hasBit_=function(n,r){return!!(n&r)},e.prototype.setBit_=function(n,r){return n|r},e.prototype.isFinite_=function(n){return typeof n=="number"&&isFinite(n)},e}(ui),oye={bottomEnd:"BOTTOM_END",bottomLeft:"BOTTOM_LEFT",bottomRight:"BOTTOM_RIGHT",bottomStart:"BOTTOM_START",topEnd:"TOP_END",topLeft:"TOP_LEFT",topRight:"TOP_RIGHT",topStart:"TOP_START"},aye=function(t){return i0.Corner[oye[t]]},sye=function(t){var e=_n(B.useState(t.open),2),n=e[0],r=e[1],i=B.useRef(null),o=B.useRef(null),a=B.useRef(null),l=B.useRef(null),u=li({props:t,elements:{rootEl:!0},api:function(T){var C=T.foundation,R=T.rootEl;return{hoistMenuToBody:function(){},setAnchorCorner:function(I){return C.setAnchorCorner(I)},setAnchorElement:function(I){return a.current=I},setOpen:function(I){return r(I)},getSurfaceElement:function(){return R.ref}}},foundation:function(T){var C=T.rootEl,R=T.getProps,I=T.emit,k=function(z){f.handleBodyClick(z)},O=function(){setTimeout(function(){document.body.addEventListener("click",k),document.body.addEventListener("touchstart",k)},150)},A=function(){document.body.removeEventListener("click",k),document.body.removeEventListener("touchstart",k)},V=function(){return{isFocused:function(){return document.activeElement===C.ref},saveFocus:function(){o.current=document.activeElement},restoreFocus:function(){C.ref&&C.ref.contains(document.activeElement)&&o.current&&o.current.focus&&o.current.focus()},isFirstElementFocused:function(){return!!i.current&&i.current===document.activeElement},isLastElementFocused:function(){return!!i.current&&i.current===document.activeElement},focusFirstElement:function(){return!!i.current&&i.current.focus&&i.current.focus()},focusLastElement:function(){return!!i.current&&i.current.focus&&i.current.focus()}}},D=function(){return{getInnerDimensions:function(){return{width:C.ref?C.ref.offsetWidth:0,height:C.ref?C.ref.offsetHeight:0}},getAnchorDimensions:function(){var z;return((z=a.current)===null||z===void 0?void 0:z.getBoundingClientRect())||ry},getWindowDimensions:function(){return{width:window.innerWidth,height:window.innerHeight}},getBodyDimensions:function(){return{width:document.body.clientWidth,height:document.body.clientHeight}},getWindowScroll:function(){return{x:window.pageXOffset,y:window.pageYOffset}},setPosition:function(z){C.setStyle("left",z.left!==void 0?z.left:null),C.setStyle("right",z.right!==void 0?z.right:null),C.setStyle("top",z.top!==void 0?z.top:null),C.setStyle("bottom",z.bottom!==void 0?z.bottom:null)},setMaxHeight:function(z){C.setStyle("maxHeight",z)}}},P=new i0(ae(ae({addClass:function(z){C.addClass(z)},removeClass:function(z){C.removeClass(z)},hasClass:function(z){return z==="mdc-menu-surface"?!0:C.hasClass(z)},hasAnchor:function(){return!!a.current},notifyClose:function(){A(),r(!1)},notifyOpen:function(){I("onOpen",{}),O()},isElementInContainer:function(z){return C.ref===z||!!C.ref&&C.ref.contains(z)},isRtl:function(){return!!C.ref&&getComputedStyle(C.ref).getPropertyValue("direction")==="rtl"},setTransformOrigin:function(z){C.setStyle(eye(window)+"-origin",z)}},V()),D())),N=P.close.bind(P),$=function(z){z===void 0&&(z=!1),I("onClose",{}),l.current=window.setTimeout(function(){R().open||N(z)})};P.close=$;var q=P.destroy.bind(P);return P.destroy=function(){A(),q()},P}}),f=u.foundation,h=Ke(u,["foundation"]),g=h.rootEl,y=t.onKeyDown,w=B.useCallback(function(T){y==null||y(T),f.handleKeydown(T)},[y,f]);return g.setProp("onKeyDown",w,!0),B.useEffect(function(){f.setFixedPosition(!!t.fixed)},[t.fixed,f]),B.useEffect(function(){var T=g.ref;if(T){var C=yA(T,"."+i0.cssClasses.ANCHOR);C&&(a.current=C)}},[g.ref]),B.useEffect(function(){t.renderToPortal?f.setIsHoisted(!0):f.setIsHoisted(!1);var T=function(){try{f.autoPosition_()}catch{}},C=t.renderToPortal?T:function(){};return RM(function(){f.isOpen()&&T()}),window.addEventListener("resize",C),function(){window.removeEventListener("resize",C)}},[t.renderToPortal,f]),B.useEffect(function(){var T=t.anchorCorner&&aye(t.anchorCorner);T!==void 0&&(f.setAnchorCorner(T),f.dimensions_=f.adapter_.getInnerDimensions(),f.autoPosition_())},[t.anchorCorner,f]),B.useEffect(function(){if(n){var T=g.ref?g.ref.querySelectorAll(i0.strings.FOCUSABLE_ELEMENTS):[];i.current=T.length>0?T[0]:null,f.open()}else f.isOpen()&&f.close()},[n,f,g.ref]),B.useEffect(function(){r(!!t.open)},[t.open]),B.useEffect(function(){return function(){l.current&&window.clearTimeout(l.current)}},[]),ae({},h)},XK=ht(function(e,n){var r=e.children;e.open,e.anchorCorner,e.onOpen,e.onClose;var i=e.renderToPortal,o=e.fixed;e.apiRef,e.foundationRef;var a=Ke(e,["children","open","anchorCorner","onOpen","onClose","renderToPortal","fixed","apiRef","foundationRef"]),l=sye(e).rootEl,u=St(e,["mdc-menu-surface",{"mdc-menu-surface--fixed":o}]);return Y.createElement(P7,{renderTo:i},Y.createElement(kt,ae({},a,{element:l,className:u,ref:n}),r))}),JK=ht(function(e,n){var r=St(e,["mdc-menu-surface--anchor"]);return Y.createElement(kt,ae({},e,{className:r,ref:n}))});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var uL=function(t,e){return uL=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},uL(t,e)};function lye(t,e){uL(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var cL=function(){return cL=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},cL.apply(this,arguments)};/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var RR={MENU_SELECTED_LIST_ITEM:"mdc-menu-item--selected",MENU_SELECTION_GROUP:"mdc-menu__selection-group",ROOT:"mdc-menu"},db={ARIA_CHECKED_ATTR:"aria-checked",ARIA_DISABLED_ATTR:"aria-disabled",CHECKBOX_SELECTOR:'input[type="checkbox"]',LIST_SELECTOR:".mdc-list",SELECTED_EVENT:"MDCMenu:selected"},uye={FOCUS_ROOT_INDEX:-1},kv;(function(t){t[t.NONE=0]="NONE",t[t.LIST_ROOT=1]="LIST_ROOT",t[t.FIRST_ITEM=2]="FIRST_ITEM",t[t.LAST_ITEM=3]="LAST_ITEM"})(kv||(kv={}));/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var cye=function(t){lye(e,t);function e(n){var r=t.call(this,cL({},e.defaultAdapter,n))||this;return r.closeAnimationEndTimerId_=0,r.defaultFocusState_=kv.LIST_ROOT,r}return Object.defineProperty(e,"cssClasses",{get:function(){return RR},enumerable:!0,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return db},enumerable:!0,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return uye},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClassToElementAtIndex:function(){},removeClassFromElementAtIndex:function(){},addAttributeToElementAtIndex:function(){},removeAttributeFromElementAtIndex:function(){},elementContainsClass:function(){return!1},closeSurface:function(){},getElementIndex:function(){return-1},notifySelected:function(){},getMenuItemCount:function(){return 0},focusItemAtIndex:function(){},focusListRoot:function(){},getSelectedSiblingOfItemAtIndex:function(){return-1},isSelectableItemAtIndex:function(){return!1}}},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this.closeAnimationEndTimerId_&&clearTimeout(this.closeAnimationEndTimerId_),this.adapter_.closeSurface()},e.prototype.handleKeydown=function(n){var r=n.key,i=n.keyCode,o=r==="Tab"||i===9;o&&this.adapter_.closeSurface(!0)},e.prototype.handleItemAction=function(n){var r=this,i=this.adapter_.getElementIndex(n);i<0||(this.adapter_.notifySelected({index:i}),this.adapter_.closeSurface(),this.closeAnimationEndTimerId_=setTimeout(function(){var o=r.adapter_.getElementIndex(n);r.adapter_.isSelectableItemAtIndex(o)&&r.setSelectedIndex(o)},i0.numbers.TRANSITION_CLOSE_DURATION))},e.prototype.handleMenuSurfaceOpened=function(){switch(this.defaultFocusState_){case kv.FIRST_ITEM:this.adapter_.focusItemAtIndex(0);break;case kv.LAST_ITEM:this.adapter_.focusItemAtIndex(this.adapter_.getMenuItemCount()-1);break;case kv.NONE:break;default:this.adapter_.focusListRoot();break}},e.prototype.setDefaultFocusState=function(n){this.defaultFocusState_=n},e.prototype.setSelectedIndex=function(n){if(this.validatedIndex_(n),!this.adapter_.isSelectableItemAtIndex(n))throw new Error("MDCMenuFoundation: No selection group at specified index.");var r=this.adapter_.getSelectedSiblingOfItemAtIndex(n);r>=0&&(this.adapter_.removeAttributeFromElementAtIndex(r,db.ARIA_CHECKED_ATTR),this.adapter_.removeClassFromElementAtIndex(r,RR.MENU_SELECTED_LIST_ITEM)),this.adapter_.addClassToElementAtIndex(n,RR.MENU_SELECTED_LIST_ITEM),this.adapter_.addAttributeToElementAtIndex(n,db.ARIA_CHECKED_ATTR,"true")},e.prototype.setEnabled=function(n,r){this.validatedIndex_(n),r?(this.adapter_.removeClassFromElementAtIndex(n,Fs.LIST_ITEM_DISABLED_CLASS),this.adapter_.addAttributeToElementAtIndex(n,db.ARIA_DISABLED_ATTR,"false")):(this.adapter_.addClassToElementAtIndex(n,Fs.LIST_ITEM_DISABLED_CLASS),this.adapter_.addAttributeToElementAtIndex(n,db.ARIA_DISABLED_ATTR,"true"))},e.prototype.validatedIndex_=function(n){var r=this.adapter_.getMenuItemCount(),i=n>=0&&n<r;if(!i)throw new Error("MDCMenuFoundation: No list item at specified index.")},e}(ui),fye=function(t){var e=B.useRef(),n=B.useRef(),r=function(k){n.current=k},i=function(k){e.current=k},o=B.useCallback(function(){var k;return((k=n.current)===null||k===void 0?void 0:k.listElements())||[]},[]),a=li({props:ae(ae({},t),{apiRef:void 0}),elements:{rootEl:!0},foundation:function(k){var O=k.emit;return new cye({addClassToElementAtIndex:function(){for(var A,V=[],D=0;D<arguments.length;D++)V[D]=arguments[D];return(A=n.current)===null||A===void 0?void 0:A.addClassToElementIndex.apply(A,ea([],_n(V)))},removeClassFromElementAtIndex:function(){for(var A,V=[],D=0;D<arguments.length;D++)V[D]=arguments[D];return(A=n.current)===null||A===void 0?void 0:A.removeClassFromElementAtIndex.apply(A,ea([],_n(V)))},addAttributeToElementAtIndex:function(){for(var A,V=[],D=0;D<arguments.length;D++)V[D]=arguments[D];return(A=n.current)===null||A===void 0?void 0:A.setAttributeForElementIndex.apply(A,ea([],_n(V)))},removeAttributeFromElementAtIndex:function(A,V){var D=o();D[A].removeAttribute(V)},elementContainsClass:function(A,V){return A.classList.contains(V)},closeSurface:function(){var A;(A=e.current)===null||A===void 0||A.setOpen(!1)},getElementIndex:function(A){return o().indexOf(A)},notifySelected:function(A){return O("onSelect",{index:A.index,item:o()[A.index]})},getMenuItemCount:function(){var A;return((A=n.current)===null||A===void 0?void 0:A.getListItemCount())||0},focusItemAtIndex:function(){for(var A,V=[],D=0;D<arguments.length;D++)V[D]=arguments[D];return(A=n.current)===null||A===void 0?void 0:A.focusItemAtIndex.apply(A,ea([],_n(V)))},focusListRoot:function(){var A;return(A=n.current)===null||A===void 0?void 0:A.focusRoot()}})}}),l=a.foundation,u=Ke(a,["foundation"]),f=u.rootEl,h=t.onClick,g=B.useCallback(function(k){h==null||h(k);var O=yA(k.target,".mdc-list-item");O&&l.handleItemAction(O)},[l,h]),y=t.onKeyDown,w=B.useCallback(function(k){y==null||y(k),l.handleKeydown(k),k.which===13&&k.target instanceof Element&&n.current&&k.target.classList.contains(n.current.getClasses())&&l.handleItemAction(k.target)},[l,y]),T=t.onOpen,C=t.focusOnOpen,R=B.useCallback(function(k){var O=o();(C||C===void 0)&&O.length>0&&!O.some(function(A){return A===document.activeElement})&&O[0].focus(),T==null||T(k)},[T,C,o]);f.setProp("onKeyDown",w,!0),f.setProp("onClick",g,!0),f.setProp("onOpen",R,!0);var I=n.current&&e.current&&t.apiRef;return B.useEffect(function(){n.current&&e.current&&t.apiRef&&t.apiRef(ae(ae(ae({},n.current),e.current),{items:o}))},[I,o]),ae({setListApi:r,setMenuSurfaceApi:i},u)},p2=ht(function(e,n){var r=St(e,["mdc-list mdc-menu__items"]);return b(Kh,{...ae({role:"menu"},e,{className:r,ref:n})})});p2.displayName="MenuItems";var sf=ht(function(e,n){return b(wf,{...ae({role:"menuitem",tabIndex:0},e,{ref:n})})}),l6=function(t){return IM(t)==="MenuItems"},m2=ht(function(e,n){var r=e.children;e.focusOnOpen,e.onSelect,e.foundationRef;var i=Ke(e,["children","focusOnOpen","onSelect","foundationRef"]),o=fye(e),a=o.rootEl,l=o.setListApi,u=o.setMenuSurfaceApi,f=(Y.Children.map(r,l6)||[]).every(function(g){return g===!1}),h={apiRef:l};return b(XK,{...ae({},a.props(i),{"aria-hidden":!i.open,className:Lr("mdc-menu",i.className),apiRef:u,ref:n}),children:f?b(p2,{...ae({},h),children:r}):Y.Children.map(r,function(g){return l6(g)?Y.cloneElement(g,ae(ae({},Y.isValidElement(g)?g.props:{}),h)):g})})}),dye=function(t){return function(e){var n=_n(B.useState(!!e.open),2),r=n[0],i=n[1];B.useEffect(function(){e.open!==void 0&&e.open!==r&&i(!!e.open)},[e.open,r]);var o=e.handle,a=e.onClose,l=e.children,u=e.rootProps,f=u===void 0?{}:u,h=e.open;e.foundationRef;var g=Ke(e,["handle","onClose","children","rootProps","open","foundationRef"]),y=Y.cloneElement(o,ae(ae({},o.props),{onClick:function(C){i(!r),o.props.onClick&&o.props.onClick(C)}})),w=function(C){i(!!h||!1),a==null||a(C)},T=t;return ne(JK,{...ae({},f),children:[b(T,{...ae({},g,{onClose:w,open:r}),children:l}),y]})}},BE=dye(m2);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var fL=function(t,e){return fL=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},fL(t,e)};function ZK(t,e){fL(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var px=function(){return px=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},px.apply(this,arguments)};/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Vi={ACTIVATED:"mdc-select--activated",DISABLED:"mdc-select--disabled",FOCUSED:"mdc-select--focused",INVALID:"mdc-select--invalid",OUTLINED:"mdc-select--outlined",REQUIRED:"mdc-select--required",ROOT:"mdc-select",SELECTED_ITEM_CLASS:"mdc-list-item--selected",WITH_LEADING_ICON:"mdc-select--with-leading-icon"},rS={ARIA_CONTROLS:"aria-controls",ARIA_SELECTED_ATTR:"aria-selected",CHANGE_EVENT:"MDCSelect:change",LABEL_SELECTOR:".mdc-floating-label",LEADING_ICON_SELECTOR:".mdc-select__icon",LINE_RIPPLE_SELECTOR:".mdc-line-ripple",MENU_SELECTOR:".mdc-select__menu",OUTLINE_SELECTOR:".mdc-notched-outline",SELECTED_ITEM_SELECTOR:"."+Vi.SELECTED_ITEM_CLASS,SELECTED_TEXT_SELECTOR:".mdc-select__selected-text",SELECT_ANCHOR_SELECTOR:".mdc-select__anchor",VALUE_ATTR:"data-value"},Gp={LABEL_SCALE:.75,UNSET_INDEX:-1};/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var hye=function(t){ZK(e,t);function e(n,r){r===void 0&&(r={});var i=t.call(this,px({},e.defaultAdapter,n))||this;return i.selectedIndex_=Gp.UNSET_INDEX,i.disabled_=!1,i.isMenuOpen_=!1,i.leadingIcon_=r.leadingIcon,i.helperText_=r.helperText,i.menuItemValues_=i.adapter_.getMenuItemValues(),i}return Object.defineProperty(e,"cssClasses",{get:function(){return Vi},enumerable:!0,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return Gp},enumerable:!0,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return rS},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},activateBottomLine:function(){},deactivateBottomLine:function(){},getSelectedMenuItem:function(){return null},hasLabel:function(){return!1},floatLabel:function(){},getLabelWidth:function(){return 0},hasOutline:function(){return!1},notchOutline:function(){},closeOutline:function(){},setRippleCenter:function(){},notifyChange:function(){},setSelectedText:function(){},isSelectedTextFocused:function(){return!1},getSelectedTextAttr:function(){return""},setSelectedTextAttr:function(){},openMenu:function(){},closeMenu:function(){},getAnchorElement:function(){return null},setMenuAnchorElement:function(){},setMenuAnchorCorner:function(){},setMenuWrapFocus:function(){},setAttributeAtIndex:function(){},removeAttributeAtIndex:function(){},focusMenuItemAtIndex:function(){},getMenuItemCount:function(){return 0},getMenuItemValues:function(){return[]},getMenuItemTextAtIndex:function(){return""},getMenuItemAttr:function(){return""},addClassAtIndex:function(){},removeClassAtIndex:function(){}}},enumerable:!0,configurable:!0}),e.prototype.getSelectedIndex=function(){return this.selectedIndex_},e.prototype.setSelectedIndex=function(n,r){if(r===void 0&&(r=!1),!(n>=this.adapter_.getMenuItemCount())){var i=this.selectedIndex_;this.selectedIndex_=n,this.selectedIndex_===Gp.UNSET_INDEX?this.adapter_.setSelectedText(""):this.adapter_.setSelectedText(this.adapter_.getMenuItemTextAtIndex(this.selectedIndex_).trim()),i!==Gp.UNSET_INDEX&&(this.adapter_.removeClassAtIndex(i,Vi.SELECTED_ITEM_CLASS),this.adapter_.removeAttributeAtIndex(i,rS.ARIA_SELECTED_ATTR)),this.selectedIndex_!==Gp.UNSET_INDEX&&(this.adapter_.addClassAtIndex(this.selectedIndex_,Vi.SELECTED_ITEM_CLASS),this.adapter_.setAttributeAtIndex(this.selectedIndex_,rS.ARIA_SELECTED_ATTR,"true")),this.layout(),r&&this.adapter_.closeMenu(),this.handleChange()}},e.prototype.setValue=function(n){var r=this.menuItemValues_.indexOf(n);this.setSelectedIndex(r),this.handleChange()},e.prototype.getValue=function(){var n=this.adapter_.getSelectedMenuItem();return n&&this.adapter_.getMenuItemAttr(n,rS.VALUE_ATTR)||""},e.prototype.getDisabled=function(){return this.disabled_},e.prototype.setDisabled=function(n){this.disabled_=n,this.disabled_?(this.adapter_.addClass(Vi.DISABLED),this.adapter_.closeMenu()):this.adapter_.removeClass(Vi.DISABLED),this.leadingIcon_&&this.leadingIcon_.setDisabled(this.disabled_),this.adapter_.setSelectedTextAttr("tabindex",this.disabled_?"-1":"0"),this.adapter_.setSelectedTextAttr("aria-disabled",this.disabled_.toString())},e.prototype.setHelperTextContent=function(n){this.helperText_&&this.helperText_.setContent(n)},e.prototype.layout=function(){if(this.adapter_.hasLabel()){var n=this.getValue().length>0;this.notchOutline(n)}},e.prototype.handleMenuOpened=function(){if(this.adapter_.getMenuItemValues().length!==0){this.adapter_.addClass(Vi.ACTIVATED);var n=this.selectedIndex_>=0?this.selectedIndex_:0;this.adapter_.focusMenuItemAtIndex(n)}},e.prototype.handleMenuClosed=function(){this.adapter_.removeClass(Vi.ACTIVATED),this.isMenuOpen_=!1,this.adapter_.setSelectedTextAttr("aria-expanded","false"),this.adapter_.isSelectedTextFocused()||this.blur_()},e.prototype.handleChange=function(){this.updateLabel_(),this.adapter_.notifyChange(this.getValue());var n=this.adapter_.hasClass(Vi.REQUIRED);n&&(this.setValid(this.isValid()),this.helperText_&&this.helperText_.setValidity(this.isValid()))},e.prototype.handleMenuItemAction=function(n){this.setSelectedIndex(n,!0)},e.prototype.handleFocus=function(){this.adapter_.addClass(Vi.FOCUSED),this.adapter_.hasLabel()&&(this.notchOutline(!0),this.adapter_.floatLabel(!0)),this.adapter_.activateBottomLine(),this.helperText_&&this.helperText_.showToScreenReader()},e.prototype.handleBlur=function(){this.isMenuOpen_||this.blur_()},e.prototype.handleClick=function(n){this.isMenuOpen_||(this.adapter_.setRippleCenter(n),this.adapter_.openMenu(),this.isMenuOpen_=!0,this.adapter_.setSelectedTextAttr("aria-expanded","true"))},e.prototype.handleKeydown=function(n){if(!this.isMenuOpen_){var r=n.key==="Enter"||n.keyCode===13,i=n.key==="Space"||n.keyCode===32,o=n.key==="ArrowUp"||n.keyCode===38,a=n.key==="ArrowDown"||n.keyCode===40;this.adapter_.hasClass(Vi.FOCUSED)&&(r||i||o||a)&&(this.adapter_.openMenu(),this.isMenuOpen_=!0,this.adapter_.setSelectedTextAttr("aria-expanded","true"),n.preventDefault())}},e.prototype.notchOutline=function(n){if(this.adapter_.hasOutline()){var r=this.adapter_.hasClass(Vi.FOCUSED);if(n){var i=Gp.LABEL_SCALE,o=this.adapter_.getLabelWidth()*i;this.adapter_.notchOutline(o)}else r||this.adapter_.closeOutline()}},e.prototype.setLeadingIconAriaLabel=function(n){this.leadingIcon_&&this.leadingIcon_.setAriaLabel(n)},e.prototype.setLeadingIconContent=function(n){this.leadingIcon_&&this.leadingIcon_.setContent(n)},e.prototype.setValid=function(n){this.adapter_.setSelectedTextAttr("aria-invalid",(!n).toString()),n?this.adapter_.removeClass(Vi.INVALID):this.adapter_.addClass(Vi.INVALID)},e.prototype.isValid=function(){return this.adapter_.hasClass(Vi.REQUIRED)&&!this.adapter_.hasClass(Vi.DISABLED)?this.selectedIndex_!==Gp.UNSET_INDEX&&(this.selectedIndex_!==0||!!this.getValue()):!0},e.prototype.setRequired=function(n){n?this.adapter_.addClass(Vi.REQUIRED):this.adapter_.removeClass(Vi.REQUIRED),this.adapter_.setSelectedTextAttr("aria-required",n.toString())},e.prototype.getRequired=function(){return this.adapter_.getSelectedTextAttr("aria-required")==="true"},e.prototype.init=function(){var n=this.adapter_.getAnchorElement();n&&(this.adapter_.setMenuAnchorElement(n),this.adapter_.setMenuAnchorCorner(Hv.BOTTOM_START)),this.adapter_.setMenuWrapFocus(!1);var r=this.getValue();r&&this.setValue(r),this.updateLabel_()},e.prototype.updateLabel_=function(){var n=this.getValue(),r=n.length>0;this.adapter_.hasLabel()&&(this.notchOutline(r),this.adapter_.hasClass(Vi.FOCUSED)||this.adapter_.floatLabel(r))},e.prototype.blur_=function(){this.adapter_.removeClass(Vi.FOCUSED),this.updateLabel_(),this.adapter_.deactivateBottomLine();var n=this.adapter_.hasClass(Vi.REQUIRED);n&&(this.setValid(this.isValid()),this.helperText_&&this.helperText_.setValidity(this.isValid()))},e}(ui);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var u6={ICON_EVENT:"MDCSelect:icon",ICON_ROLE:"button"};/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var c6=["click","keydown"],pye=function(t){ZK(e,t);function e(n){var r=t.call(this,px({},e.defaultAdapter,n))||this;return r.savedTabIndex_=null,r.interactionHandler_=function(i){return r.handleInteraction(i)},r}return Object.defineProperty(e,"strings",{get:function(){return u6},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{getAttr:function(){return null},setAttr:function(){},removeAttr:function(){},setContent:function(){},registerInteractionHandler:function(){},deregisterInteractionHandler:function(){},notifyIconAction:function(){}}},enumerable:!0,configurable:!0}),e.prototype.init=function(){var n=this;this.savedTabIndex_=this.adapter_.getAttr("tabindex"),c6.forEach(function(r){n.adapter_.registerInteractionHandler(r,n.interactionHandler_)})},e.prototype.destroy=function(){var n=this;c6.forEach(function(r){n.adapter_.deregisterInteractionHandler(r,n.interactionHandler_)})},e.prototype.setDisabled=function(n){this.savedTabIndex_&&(n?(this.adapter_.setAttr("tabindex","-1"),this.adapter_.removeAttr("role")):(this.adapter_.setAttr("tabindex",this.savedTabIndex_),this.adapter_.setAttr("role",u6.ICON_ROLE)))},e.prototype.setAriaLabel=function(n){this.adapter_.setAttr("aria-label",n)},e.prototype.setContent=function(n){this.adapter_.setContent(n)},e.prototype.handleInteraction=function(n){var r=n.key==="Enter"||n.keyCode===13;(n.type==="click"||r)&&this.adapter_.notifyIconAction()},e}(ui),mye=function(t){var e,n=_n(B.useState(),2),r=n[0],i=n[1],o=_n(B.useState(!1),2),a=o[0],l=o[1],u=_n(B.useState(0),2),f=u[0],h=u[1],g=_n(B.useState(!1),2),y=g[0],w=g[1],T=_n(B.useState(!1),2),C=T[0],R=T[1],I=_n(B.useState(""),2),k=I[0],O=I[1],A=B.useRef(-1),V=B.useRef(),D=function(nt){V.current=nt},P=B.useRef(),N=function(nt){P.current=nt},$=B.useRef(null),q=function(nt){$.current=nt},z=B.useRef(),K=function(nt){z.current=nt},Q=B.useRef(),Ee=function(nt){Q.current=nt},he=B.useRef(!1),Je=li({props:t,elements:{rootEl:!0,selectedTextEl:!0},foundation:function(nt){var nn=nt.rootEl,Wt=nt.selectedTextEl,Kt=nt.getProps,vn=nt.emit,fn=function(){return!Kt().enhanced},Ot=function(){var pe=function(){var De,Ze;return(fn()?Array.apply(null,(De=Q.current)===null||De===void 0?void 0:De.options):(Ze=P.current)===null||Ze===void 0?void 0:Ze.items())||[]},qe=function(De){return De.getAttribute("data-value")||De.getAttribute("value")||""};return{getSelectedMenuItem:function(){var De,Ze,Tt;return fn()?((De=Q.current)===null||De===void 0?void 0:De.selectedOptions[0])||null:A.current===-1?((Tt=(Ze=P.current)===null||Ze===void 0?void 0:Ze.getSurfaceElement())===null||Tt===void 0?void 0:Tt.querySelector(".mdc-list-item--activated"))||null:pe()[A.current]},getMenuItemAttr:function(De,Ze){return Ze==="data-value"?qe(De):De.getAttribute(Ze)},setSelectedText:function(De){O(De)},isSelectedTextFocused:function(){return!!(Wt.ref&&Wt.ref===document.activeElement)},getSelectedTextAttr:function(De){return Wt.getProp(De)},setSelectedTextAttr:function(De,Ze){if(De==="tabindex"){if(fn())return;De="tabIndex"}Wt.setProp(De,Ze)},openMenu:function(){R(!0)},closeMenu:function(){R(!1)},getAnchorElement:function(){return $.current},setMenuAnchorElement:function(De){return q(De)},setMenuAnchorCorner:function(De){var Ze;return(Ze=P.current)===null||Ze===void 0?void 0:Ze.setAnchorCorner(De)},setMenuWrapFocus:function(De){},setAttributeAtIndex:function(){for(var De,Ze=[],Tt=0;Tt<arguments.length;Tt++)Ze[Tt]=arguments[Tt];return(De=P.current)===null||De===void 0?void 0:De.setAttributeForElementIndex.apply(De,ea([],_n(Ze)))},removeAttributeAtIndex:function(De,Ze){var Tt,hn;return(hn=(Tt=P.current)===null||Tt===void 0?void 0:Tt.items()[De])===null||hn===void 0?void 0:hn.removeAttribute(Ze)},focusMenuItemAtIndex:function(){for(var De,Ze=[],Tt=0;Tt<arguments.length;Tt++)Ze[Tt]=arguments[Tt];return(De=P.current)===null||De===void 0?void 0:De.focusItemAtIndex.apply(De,ea([],_n(Ze)))},getMenuItemCount:function(){return pe().length},getMenuItemValues:function(){return pe().map(qe)||[]},getMenuItemTextAtIndex:function(De){return pe()[De].textContent},addClassAtIndex:function(){for(var De,Ze=[],Tt=0;Tt<arguments.length;Tt++)Ze[Tt]=arguments[Tt];return(De=P.current)===null||De===void 0?void 0:De.addClassToElementIndex.apply(De,ea([],_n(Ze)))},removeClassAtIndex:function(){for(var De,Ze=[],Tt=0;Tt<arguments.length;Tt++)Ze[Tt]=arguments[Tt];return(De=P.current)===null||De===void 0?void 0:De.removeClassFromElementAtIndex.apply(De,ea([],_n(Ze)))}}},En=function(){return{addClass:function(pe){nn.addClass(pe)},removeClass:function(pe){nn.removeClass(pe)},hasClass:function(pe){return nn.hasClass(pe)},isRtl:function(){return nn.ref&&window.getComputedStyle(nn.ref).getPropertyValue("direction")==="rtl"},setRippleCenter:function(pe){h(pe)},activateBottomLine:function(){return l(!0)},deactivateBottomLine:function(){return l(!1)},notifyChange:function(pe){he.current||vn("onChange",{index:A.current,value:pe},!0)}}},fe=function(){return{hasOutline:function(){return!!Kt().outlined},notchOutline:function(pe){i(pe)},closeOutline:function(){i(void 0)}}},Ce=function(){return{hasLabel:function(){return!!Kt().label},floatLabel:function(pe){w(pe)},getLabelWidth:function(){var pe;return((pe=V.current)===null||pe===void 0?void 0:pe.getWidth())||0}}},ge=function(){return{leadingIcon:z.current&&z.current.getFoundation()||void 0}},Re=new hye(ae(ae(ae(ae({},Ot()),En()),fe()),Ce()),ge()),Me=Re.adapter_;Re.updateLabel_=function(){var pe=function(){var qe=Re.getValue(),De=!!Kt().placeholder||qe.length>0;Me.hasLabel()&&(Re.notchOutline(De),Me.hasClass(Vi.FOCUSED)||Me.floatLabel(De))};pe()},Object.defineProperty(Re,"menuItemValues_",{get:function(){return Me.getMenuItemValues()}});var se=Re.init.bind(Re);return Re.init=function(){he.current=!0,se();var pe=String(Kt().placeholder||"");!Re.getValue()&&pe&&Me.setSelectedText(pe),he.current=!1},Re}}),He=Je.foundation,xe=Ke(Je,["foundation"]),Te=xe.selectedTextEl,J=xe.rootEl,Ae=t.onFocus,Ne=B.useCallback(function(nt){Ae==null||Ae(nt),He.handleFocus()},[Ae,He]),ie=t.onBlur,lt=B.useCallback(function(nt){ie==null||ie(nt),He.handleBlur()},[ie,He]),Ge=B.useCallback(function(nt){var nn;if(!(!((nn=J.ref)===null||nn===void 0)&&nn.querySelector(".mdc-menu-surface--open"))){var Wt=function(vn){var fn=vn.target.getBoundingClientRect(),Ot=vn.clientX;return Ot-fn.left},Kt=Wt(nt);Te.ref&&Te.ref.focus(),He.handleClick(Kt)}},[He,Te.ref,J.ref]),ut=t.onKeyDown,et=B.useCallback(function(nt){ut==null||ut(nt),He.handleKeydown(nt)},[He,ut]),_t=B.useCallback(function(nt){A.current=nt,He.handleMenuItemAction(nt)},[He]),xt=B.useCallback(function(){He.handleMenuOpened()},[He]),Et=B.useCallback(function(){R(!1),He.handleMenuClosed()},[He]),Dt=He.getValue(),Ut=(e=t.value)!==null&&e!==void 0?e:A.current===-1?t.defaultValue:void 0,an=Array.isArray(t.options)?t.options.length:Object.values(t.options||{}).length;return B.useEffect(function(){if(he.current=!0,Ut!==void 0&&Ut!==Dt){var nt=He.menuItemValues_.indexOf(Ut);A.current=nt,He.setValue(Ut||"")}RM(function(){he.current=!1})},[Ut,Dt,an,He]),B.useEffect(function(){He.setDisabled(!!t.disabled)},[He,t.disabled]),B.useEffect(function(){var nt;J.ref&&((nt=P.current)===null||nt===void 0||nt.setAnchorElement(J.ref))},[J.ref]),ae({notchWidth:r,menuOpen:C,lineRippleActive:a,lineRippleCenter:f,floatLabel:y,selectedIndex:A.current,selectedTextContent:k,setFloatingLabel:D,setMenu:N,setLeadingIcon:K,setNativeControl:Ee,handleFocus:Ne,handleBlur:lt,handleClick:Ge,handleKeydown:et,handleMenuClosed:Et,handleMenuOpened:xt,handleMenuSelected:_t},xe)},gye=function(t){var e=li({props:t,elements:{rootEl:!0},api:function(r){var i=r.foundation;return{getFoundation:function(){return i}}},foundation:function(r){var i=r.rootEl,o=r.emit;return new pye({getAttr:function(a){return i.getProp(a)},setAttr:function(a,l){return i.setProp(a,l)},removeAttr:function(a){return i.removeProp(a)},setContent:function(a){i.ref&&(i.ref.textContent=a)},registerInteractionHandler:function(a,l){return i.addEventListener(a,l)},deregisterInteractionHandler:function(a,l){return i.removeEventListener(a,l)},notifyIconAction:function(){return o("onClick",{},!0)}})}});e.foundation;var n=Ke(e,["foundation"]);return ae({},n)},vye=function(e){e.apiRef;var n=Ke(e,["apiRef"]),r=gye(e).rootEl,i=St(e,["mdc-select__icon"]);return Y.createElement(Mn,ae({},r.props(ae(ae({},n),{className:i}))))},eG=function(t){return Array.isArray(t)&&t[0]&&typeof t[0]=="object"?t.map(function(e){if(typeof e!="object")throw new Error("Encountered non object for Select "+e);return ae(ae({},e),{options:eG(e.options)})}):Array.isArray(t)?t.map(function(e){return{value:e,label:e}}):typeof t=="object"?Object.keys(t).map(function(e){return{value:e,label:t[e]}}):t},yye=Y.memo(function(){return Y.createElement("i",{className:"mdc-select__dropdown-icon"})});function _ye(t){var e=t.selectOptions,n=t.placeholder,r=n===void 0?"":n,i=t.children,o=t.elementRef,a=Ke(t,["selectOptions","placeholder","children","elementRef"]),l=function(f){var h=f.label,g=f.option,y=f.index;return Y.createElement("option",ae({key:y},g,{value:g.value}),h)},u=!t.value&&!t.defaultValue;return Y.createElement("select",ae({tabIndex:0},a,{ref:o,className:"rmwc-select__native-control "+(a.className||"")}),(t.placeholder!==void 0||u)&&Y.createElement("option",{value:"",disabled:u},r),!!e&&e.map(function(f,h){var g=f.label,y=f.options,w=Ke(f,["label","options"]);return y?Y.createElement("optgroup",{label:g,key:h},y.map(function(T,C){var R=T.label,I=Ke(T,["label"]);return l({label:R,option:I,index:C})})):l({label:g,option:w,index:h})}),i)}var bye=cc({surface:!1})(function(t){return Y.createElement(kt,ae({},t))});function Eye(t){var e=t.selectOptions,n=t.menuApiRef,r=t.value,i=t.placeholder,o=t.children,a=t.selectedIndex,l=Ke(t,["selectOptions","menuApiRef","value","placeholder","children","selectedIndex"]),u=0,f=function(h){var g=h.label,y=h.option;return u+=1,Y.createElement(sf,ae({key:g+"-"+y.value,activated:r!==void 0?y.value===r:u-1===a},y,{"data-value":y.value}),g)};return Y.createElement(m2,ae({},l,{apiRef:n,className:"mdc-select__menu",focusOnOpen:!0}),!!t.placeholder&&Y.createElement(sf,{selected:u-1===a,"data-value":"",theme:"textDisabledOnBackground"},i),e.map(function(h,g){var y=h.label,w=h.options,T=Ke(h,["label","options"]);return w?Y.createElement(GK,{key:g},y&&Y.createElement(YK,{theme:"textDisabledOnBackground"},y),Y.createElement(p2,null,w.map(function(C){var R=C.label,I=Ke(C,["label"]);return f({label:R,option:I})})),g<e.length-1&&Y.createElement(Ky,null)):f({label:y,option:T})}),o)}var Y0=ht(function(e,n){var r=e.placeholder,i=e.children,o=e.value,a=e.outlined,l=e.label,u=l===void 0?"":l,f=e.options,h=f===void 0?[]:f,g=e.rootProps,y=g===void 0?{}:g,w=e.enhanced,T=e.icon;e.onChange,e.onFocus,e.onBlur,e.onKeyDown;var C=e.invalid;e.inputRef;var R=e.helpText;e.foundationRef;var I=Ke(e,["placeholder","children","value","outlined","label","options","rootProps","enhanced","icon","onChange","onFocus","onBlur","onKeyDown","invalid","inputRef","helpText","foundationRef"]),k=eG(h),O=mye(e),A=O.rootEl,V=O.selectedTextEl,D=O.notchWidth,P=O.menuOpen,N=O.selectedTextContent,$=O.lineRippleActive,q=O.lineRippleCenter,z=O.floatLabel,K=O.setFloatingLabel,Q=O.setNativeControl,Ee=O.setLeadingIcon,he=O.selectedIndex,Je=O.setMenu,He=O.handleFocus,xe=O.handleBlur,Te=O.handleClick,J=O.handleKeydown,Ae=O.handleMenuClosed,Ne=O.handleMenuOpened,ie=O.handleMenuSelected,lt=vA("select",e),Ge=St(e,["mdc-select",{"mdc-select--outlined":!!a,"mdc-select--required":!!e.required,"mdc-select--invalid":!!C,"mdc-select--with-leading-icon":!!T,"mdc-select--no-label":!u}]),ut=typeof w=="object"?w:{},et=o!==void 0?void 0:e.defaultValue||"",_t=Y.createElement(BK,{float:z,apiRef:K,htmlFor:lt},u),xt=function(){var Et=!!R;if(!Et)return null;var Dt=typeof R=="object"&&!Y.isValidElement(R);return R&&Dt?Y.createElement(f6,ae({},R)):Y.createElement(f6,null,R)};return Y.createElement(Y.Fragment,null,Y.createElement(kt,ae({role:"listbox"},y,{element:A,ref:n,className:Ge}),Y.createElement("div",{className:"mdc-select__anchor"},!!T&&Y.createElement(vye,{apiRef:Ee,icon:T}),Y.createElement(yye,null),Y.createElement(bye,{className:"mdc-select__selected-text",role:"button","aria-haspopup":"listbox",element:V,onFocus:He,onBlur:xe,onClick:Te,onKeyDown:J,tabIndex:w?void 0:-1},N||Y.createElement(Y.Fragment,null,"")),a?Y.createElement($K,{notch:D},_t):Y.createElement(Y.Fragment,null,_t,Y.createElement(VK,{active:$,center:q})),!w&&Y.createElement(_ye,ae({},I,{value:o,children:i,defaultValue:et,placeholder:r,selectOptions:k,elementRef:Q,onFocus:He,onBlur:xe,onChange:function(Et){return ie(Et.currentTarget.selectedIndex)}}))),w&&Y.createElement(Eye,ae({},I,ut,{anchorCorner:"bottomStart",defaultValue:et,placeholder:r,open:P,onClose:Ae,onOpen:Ne,onSelect:function(Et){ie(Et.detail.index)},selectOptions:k,value:o,selectedIndex:he,menuApiRef:Je,children:i}))),xt())}),f6=ht(function(e,n){var r=e.persistent,i=e.validationMsg,o=Ke(e,["persistent","validationMsg"]),a=St(e,["mdc-select-helper-text",{"mdc-select-helper-text--persistent":r,"mdc-select-helper-text--validation-msg":i}]);return Y.createElement(kt,ae({tag:"p"},o,{className:a,ref:n}))});function tG(){const t=yf(),e=pI().tenantId;function n(r){t.push(wG+r)}return[e,n]}const wye=({tenants:t,loading:e})=>{const[n,r]=tG();return t.length===0?null:e===!0&&!t.includes(n)?b(Y0,{disabled:!0,icon:b(R$,{}),className:iL.tenantPicker,"aria-label":"Tenant picker loading"}):b(Y0,{disabled:!1,icon:b(R$,{}),className:iL.tenantPicker,value:n??"Default tenant","aria-label":"Select tenant",options:["Default tenant",...t||[]],onChange:i=>{let o=i.target.value;o==="Default tenant"&&(o=""),r(o)}})},Cye=vu({tenants:hge,loading:pge}),Sye=Ys(Cye)(wye);var $E=t=>t.type==="checkbox",gm=t=>t instanceof Date,as=t=>t==null;const nG=t=>typeof t=="object";var lo=t=>!as(t)&&!Array.isArray(t)&&nG(t)&&!gm(t),rG=t=>lo(t)&&t.target?$E(t.target)?t.target.checked:t.target.value:t,Tye=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,iG=(t,e)=>t.has(Tye(e)),xye=t=>{const e=t.constructor&&t.constructor.prototype;return lo(e)&&e.hasOwnProperty("isPrototypeOf")},g2=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function vi(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(g2&&(t instanceof Blob||r))&&(n||lo(t)))if(e=n?[]:{},!n&&!xye(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=vi(t[i]));else return t;return e}var HE=t=>Array.isArray(t)?t.filter(Boolean):[],Jr=t=>t===void 0,dt=(t,e,n)=>{if(!e||!lo(t))return n;const r=HE(e.split(/[,[\].]+?/)).reduce((i,o)=>as(i)?i:i[o],t);return Jr(r)||r===t?Jr(t[e])?n:t[e]:r},El=t=>typeof t=="boolean",v2=t=>/^\w*$/.test(t),oG=t=>HE(t.replace(/["|']|\]/g,"").split(/\.|\[/)),yr=(t,e,n)=>{let r=-1;const i=v2(e)?[e]:oG(e),o=i.length,a=o-1;for(;++r<o;){const l=i[r];let u=n;if(r!==a){const f=t[l];u=lo(f)||Array.isArray(f)?f:isNaN(+i[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=u,t=t[l]}};const mx={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ou={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ed={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},aG=Y.createContext(null),yu=()=>Y.useContext(aG),sG=t=>{const{children:e,...n}=t;return Y.createElement(aG.Provider,{value:n},e)};var lG=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const o in t)Object.defineProperty(i,o,{get:()=>{const a=o;return e._proxyFormState[a]!==ou.all&&(e._proxyFormState[a]=!r||ou.all),n&&(n[a]=!0),t[a]}});return i},dL=t=>as(t)||!nG(t);function ld(t,e){if(dL(t)||dL(e))return t===e;if(gm(t)&&gm(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const o=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const a=e[i];if(gm(o)&&gm(a)||lo(o)&&lo(a)||Array.isArray(o)&&Array.isArray(a)?!ld(o,a):o!==a)return!1}}return!0}const uG=(t,e)=>{const n=B.useRef(e);ld(e,n.current)||(n.current=e),B.useEffect(t,n.current)};function Aye(t){const e=yu(),{control:n=e.control,disabled:r,name:i,exact:o}=t||{},[a,l]=Y.useState(n._formState),u=Y.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return uG(()=>n._subscribe({name:i,formState:u.current,exact:o,callback:f=>{!r&&l({...n._formState,...f})}}),[i,r,o]),Y.useEffect(()=>{u.current.isValid&&n._setValid(!0)},[n]),Y.useMemo(()=>lG(a,n,u.current,!1),[a,n])}var Yc=t=>typeof t=="string",cG=(t,e,n,r,i)=>Yc(t)?(r&&e.watch.add(t),dt(n,t,i)):Array.isArray(t)?t.map(o=>(r&&e.watch.add(o),dt(n,o))):(r&&(e.watchAll=!0),n);function Iye(t){const e=yu(),{control:n=e.control,name:r,defaultValue:i,disabled:o,exact:a}=t||{},[l,u]=Y.useState(n._getWatch(r,i));return uG(()=>n._subscribe({name:r,formState:{values:!0},exact:a,callback:f=>!o&&u(cG(r,n._names,f.values||n._formValues,!1,i))}),[r,i,o,a]),Y.useEffect(()=>n._removeUnmounted()),l}function kye(t){const e=yu(),{name:n,disabled:r,control:i=e.control,shouldUnregister:o}=t,a=iG(i._names.array,n),l=Iye({control:i,name:n,defaultValue:dt(i._formValues,n,dt(i._defaultValues,n,t.defaultValue)),exact:!0}),u=Aye({control:i,name:n,exact:!0}),f=Y.useRef(t),h=Y.useRef(i.register(n,{...t.rules,value:l,...El(t.disabled)?{disabled:t.disabled}:{}})),g=Y.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!dt(u.errors,n)},isDirty:{enumerable:!0,get:()=>!!dt(u.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!dt(u.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!dt(u.validatingFields,n)},error:{enumerable:!0,get:()=>dt(u.errors,n)}}),[u,n]),y=Y.useCallback(R=>h.current.onChange({target:{value:rG(R),name:n},type:mx.CHANGE}),[n]),w=Y.useCallback(()=>h.current.onBlur({target:{value:dt(i._formValues,n),name:n},type:mx.BLUR}),[n,i._formValues]),T=Y.useCallback(R=>{const I=dt(i._fields,n);I&&R&&(I._f.ref={focus:()=>R.focus(),select:()=>R.select(),setCustomValidity:k=>R.setCustomValidity(k),reportValidity:()=>R.reportValidity()})},[i._fields,n]),C=Y.useMemo(()=>({name:n,value:l,...El(r)||u.disabled?{disabled:u.disabled||r}:{},onChange:y,onBlur:w,ref:T}),[n,r,u.disabled,y,w,T,l]);return Y.useEffect(()=>{const R=i._options.shouldUnregister||o;i.register(n,{...f.current.rules,...El(f.current.disabled)?{disabled:f.current.disabled}:{}});const I=(k,O)=>{const A=dt(i._fields,k);A&&A._f&&(A._f.mount=O)};if(I(n,!0),R){const k=vi(dt(i._options.defaultValues,n));yr(i._defaultValues,n,k),Jr(dt(i._formValues,n))&&yr(i._formValues,n,k)}return!a&&i.register(n),()=>{(a?R&&!i._state.action:R)?i.unregister(n):I(n,!1)}},[n,i,a,o]),Y.useEffect(()=>{i._setDisabledField({disabled:r,name:n})},[r,n,i]),Y.useMemo(()=>({field:C,formState:u,fieldState:g}),[C,u,g])}const pf=t=>t.render(kye(t));var Rye=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},Hs=t=>Array.isArray(t)?t:[t],d6=()=>{let t=[];return{get observers(){return t},next:i=>{for(const o of t)o.next&&o.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(o=>o!==i)}}),unsubscribe:()=>{t=[]}}},La=t=>lo(t)&&!Object.keys(t).length,y2=t=>t.type==="file",Wu=t=>typeof t=="function",gx=t=>{if(!g2)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},fG=t=>t.type==="select-multiple",_2=t=>t.type==="radio",Oye=t=>_2(t)||$E(t),OR=t=>gx(t)&&t.isConnected;function Pye(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=Jr(t)?r++:t[e[r++]];return t}function Nye(t){for(const e in t)if(t.hasOwnProperty(e)&&!Jr(t[e]))return!1;return!0}function mo(t,e){const n=Array.isArray(e)?e:v2(e)?[e]:oG(e),r=n.length===1?t:Pye(t,n),i=n.length-1,o=n[i];return r&&delete r[o],i!==0&&(lo(r)&&La(r)||Array.isArray(r)&&Nye(r))&&mo(t,n.slice(0,-1)),t}var dG=t=>{for(const e in t)if(Wu(t[e]))return!0;return!1};function vx(t,e={}){const n=Array.isArray(t);if(lo(t)||n)for(const r in t)Array.isArray(t[r])||lo(t[r])&&!dG(t[r])?(e[r]=Array.isArray(t[r])?[]:{},vx(t[r],e[r])):as(t[r])||(e[r]=!0);return e}function hG(t,e,n){const r=Array.isArray(t);if(lo(t)||r)for(const i in t)Array.isArray(t[i])||lo(t[i])&&!dG(t[i])?Jr(e)||dL(n[i])?n[i]=Array.isArray(t[i])?vx(t[i],[]):{...vx(t[i])}:hG(t[i],as(e)?{}:e[i],n[i]):n[i]=!ld(t[i],e[i]);return n}var hb=(t,e)=>hG(t,e,vx(e));const h6={value:!1,isValid:!1},p6={value:!0,isValid:!0};var pG=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Jr(t[0].attributes.value)?Jr(t[0].value)||t[0].value===""?p6:{value:t[0].value,isValid:!0}:p6:h6}return h6},mG=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>Jr(t)?t:e?t===""?NaN:t&&+t:n&&Yc(t)?new Date(t):r?r(t):t;const m6={isValid:!1,value:null};var gG=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,m6):m6;function g6(t){const e=t.ref;return y2(e)?e.files:_2(e)?gG(t.refs).value:fG(e)?[...e.selectedOptions].map(({value:n})=>n):$E(e)?pG(t.refs).value:mG(Jr(e.value)?t.ref.value:e.value,t)}var Lye=(t,e,n,r)=>{const i={};for(const o of t){const a=dt(e,o);a&&yr(i,o,a._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},yx=t=>t instanceof RegExp,pb=t=>Jr(t)?t:yx(t)?t.source:lo(t)?yx(t.value)?t.value.source:t.value:t,Rv=t=>({isOnSubmit:!t||t===ou.onSubmit,isOnBlur:t===ou.onBlur,isOnChange:t===ou.onChange,isOnAll:t===ou.all,isOnTouch:t===ou.onTouched});const v6="AsyncFunction";var Dye=t=>!!t&&!!t.validate&&!!(Wu(t.validate)&&t.validate.constructor.name===v6||lo(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===v6)),Mye=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),hL=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const jv=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const o=dt(t,i);if(o){const{_f:a,...l}=o;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],i)&&!r)return!0;if(a.ref&&e(a.ref,a.name)&&!r)return!0;if(jv(l,e))break}else if(lo(l)&&jv(l,e))break}}};function y6(t,e,n){const r=dt(t,n);if(r||v2(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const o=i.join("."),a=dt(e,o),l=dt(t,o);if(a&&!Array.isArray(a)&&n!==o)return{name:n};if(l&&l.type)return{name:o,error:l};i.pop()}return{name:n}}var Fye=(t,e,n,r)=>{n(t);const{name:i,...o}=t;return La(o)||Object.keys(o).length>=Object.keys(e).length||Object.keys(o).find(a=>e[a]===(!r||ou.all))},Uye=(t,e,n)=>!t||!e||t===e||Hs(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),Vye=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,Bye=(t,e)=>!HE(dt(t,e)).length&&mo(t,e),vG=(t,e,n)=>{const r=Hs(dt(t,n));return yr(r,"root",e[n]),yr(t,n,r),t},rT=t=>Yc(t);function _6(t,e,n="validate"){if(rT(t)||Array.isArray(t)&&t.every(rT)||El(t)&&!t)return{type:n,message:rT(t)?t:"",ref:e}}var rv=t=>lo(t)&&!yx(t)?t:{value:t,message:""},pL=async(t,e,n,r,i,o)=>{const{ref:a,refs:l,required:u,maxLength:f,minLength:h,min:g,max:y,pattern:w,validate:T,name:C,valueAsNumber:R,mount:I}=t._f,k=dt(n,C);if(!I||e.has(C))return{};const O=l?l[0]:a,A=K=>{i&&O.reportValidity&&(O.setCustomValidity(El(K)?"":K||""),O.reportValidity())},V={},D=_2(a),P=$E(a),N=D||P,$=(R||y2(a))&&Jr(a.value)&&Jr(k)||gx(a)&&a.value===""||k===""||Array.isArray(k)&&!k.length,q=Rye.bind(null,C,r,V),z=(K,Q,Ee,he=ed.maxLength,Je=ed.minLength)=>{const He=K?Q:Ee;V[C]={type:K?he:Je,message:He,ref:a,...q(K?he:Je,He)}};if(o?!Array.isArray(k)||!k.length:u&&(!N&&($||as(k))||El(k)&&!k||P&&!pG(l).isValid||D&&!gG(l).isValid)){const{value:K,message:Q}=rT(u)?{value:!!u,message:u}:rv(u);if(K&&(V[C]={type:ed.required,message:Q,ref:O,...q(ed.required,Q)},!r))return A(Q),V}if(!$&&(!as(g)||!as(y))){let K,Q;const Ee=rv(y),he=rv(g);if(!as(k)&&!isNaN(k)){const Je=a.valueAsNumber||k&&+k;as(Ee.value)||(K=Je>Ee.value),as(he.value)||(Q=Je<he.value)}else{const Je=a.valueAsDate||new Date(k),He=J=>new Date(new Date().toDateString()+" "+J),xe=a.type=="time",Te=a.type=="week";Yc(Ee.value)&&k&&(K=xe?He(k)>He(Ee.value):Te?k>Ee.value:Je>new Date(Ee.value)),Yc(he.value)&&k&&(Q=xe?He(k)<He(he.value):Te?k<he.value:Je<new Date(he.value))}if((K||Q)&&(z(!!K,Ee.message,he.message,ed.max,ed.min),!r))return A(V[C].message),V}if((f||h)&&!$&&(Yc(k)||o&&Array.isArray(k))){const K=rv(f),Q=rv(h),Ee=!as(K.value)&&k.length>+K.value,he=!as(Q.value)&&k.length<+Q.value;if((Ee||he)&&(z(Ee,K.message,Q.message),!r))return A(V[C].message),V}if(w&&!$&&Yc(k)){const{value:K,message:Q}=rv(w);if(yx(K)&&!k.match(K)&&(V[C]={type:ed.pattern,message:Q,ref:a,...q(ed.pattern,Q)},!r))return A(Q),V}if(T){if(Wu(T)){const K=await T(k,n),Q=_6(K,O);if(Q&&(V[C]={...Q,...q(ed.validate,Q.message)},!r))return A(Q.message),V}else if(lo(T)){let K={};for(const Q in T){if(!La(K)&&!r)break;const Ee=_6(await T[Q](k,n),O,Q);Ee&&(K={...Ee,...q(Q,Ee.message)},A(Ee.message),r&&(V[C]=K))}if(!La(K)&&(V[C]={ref:O,...K},!r))return V}}return A(!0),V};const $ye={mode:ou.onSubmit,reValidateMode:ou.onChange,shouldFocusError:!0};function Hye(t={}){let e={...$ye,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Wu(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const r={};let i=lo(e.defaultValues)||lo(e.values)?vi(e.values||e.defaultValues)||{}:{},o=e.shouldUnregister?{}:vi(i),a={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},u,f=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let g={...h};const y={array:d6(),state:d6()},w=Rv(e.mode),T=Rv(e.reValidateMode),C=e.criteriaMode===ou.all,R=fe=>Ce=>{clearTimeout(f),f=setTimeout(fe,Ce)},I=async fe=>{if(!e.disabled&&(h.isValid||g.isValid||fe)){const Ce=e.resolver?La((await $()).errors):await z(r,!0);Ce!==n.isValid&&y.state.next({isValid:Ce})}},k=(fe,Ce)=>{!e.disabled&&(h.isValidating||h.validatingFields||g.isValidating||g.validatingFields)&&((fe||Array.from(l.mount)).forEach(ge=>{ge&&(Ce?yr(n.validatingFields,ge,Ce):mo(n.validatingFields,ge))}),y.state.next({validatingFields:n.validatingFields,isValidating:!La(n.validatingFields)}))},O=(fe,Ce=[],ge,Re,Me=!0,se=!0)=>{if(Re&&ge&&!e.disabled){if(a.action=!0,se&&Array.isArray(dt(r,fe))){const pe=ge(dt(r,fe),Re.argA,Re.argB);Me&&yr(r,fe,pe)}if(se&&Array.isArray(dt(n.errors,fe))){const pe=ge(dt(n.errors,fe),Re.argA,Re.argB);Me&&yr(n.errors,fe,pe),Bye(n.errors,fe)}if((h.touchedFields||g.touchedFields)&&se&&Array.isArray(dt(n.touchedFields,fe))){const pe=ge(dt(n.touchedFields,fe),Re.argA,Re.argB);Me&&yr(n.touchedFields,fe,pe)}(h.dirtyFields||g.dirtyFields)&&(n.dirtyFields=hb(i,o)),y.state.next({name:fe,isDirty:Q(fe,Ce),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else yr(o,fe,Ce)},A=(fe,Ce)=>{yr(n.errors,fe,Ce),y.state.next({errors:n.errors})},V=fe=>{n.errors=fe,y.state.next({errors:n.errors,isValid:!1})},D=(fe,Ce,ge,Re)=>{const Me=dt(r,fe);if(Me){const se=dt(o,fe,Jr(ge)?dt(i,fe):ge);Jr(se)||Re&&Re.defaultChecked||Ce?yr(o,fe,Ce?se:g6(Me._f)):Je(fe,se),a.mount&&I()}},P=(fe,Ce,ge,Re,Me)=>{let se=!1,pe=!1;const qe={name:fe};if(!e.disabled){if(!ge||Re){(h.isDirty||g.isDirty)&&(pe=n.isDirty,n.isDirty=qe.isDirty=Q(),se=pe!==qe.isDirty);const De=ld(dt(i,fe),Ce);pe=!!dt(n.dirtyFields,fe),De?mo(n.dirtyFields,fe):yr(n.dirtyFields,fe,!0),qe.dirtyFields=n.dirtyFields,se=se||(h.dirtyFields||g.dirtyFields)&&pe!==!De}if(ge){const De=dt(n.touchedFields,fe);De||(yr(n.touchedFields,fe,ge),qe.touchedFields=n.touchedFields,se=se||(h.touchedFields||g.touchedFields)&&De!==ge)}se&&Me&&y.state.next(qe)}return se?qe:{}},N=(fe,Ce,ge,Re)=>{const Me=dt(n.errors,fe),se=(h.isValid||g.isValid)&&El(Ce)&&n.isValid!==Ce;if(e.delayError&&ge?(u=R(()=>A(fe,ge)),u(e.delayError)):(clearTimeout(f),u=null,ge?yr(n.errors,fe,ge):mo(n.errors,fe)),(ge?!ld(Me,ge):Me)||!La(Re)||se){const pe={...Re,...se&&El(Ce)?{isValid:Ce}:{},errors:n.errors,name:fe};n={...n,...pe},y.state.next(pe)}},$=async fe=>{k(fe,!0);const Ce=await e.resolver(o,e.context,Lye(fe||l.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return k(fe),Ce},q=async fe=>{const{errors:Ce}=await $(fe);if(fe)for(const ge of fe){const Re=dt(Ce,ge);Re?yr(n.errors,ge,Re):mo(n.errors,ge)}else n.errors=Ce;return Ce},z=async(fe,Ce,ge={valid:!0})=>{for(const Re in fe){const Me=fe[Re];if(Me){const{_f:se,...pe}=Me;if(se){const qe=l.array.has(se.name),De=Me._f&&Dye(Me._f);De&&h.validatingFields&&k([Re],!0);const Ze=await pL(Me,l.disabled,o,C,e.shouldUseNativeValidation&&!Ce,qe);if(De&&h.validatingFields&&k([Re]),Ze[se.name]&&(ge.valid=!1,Ce))break;!Ce&&(dt(Ze,se.name)?qe?vG(n.errors,Ze,se.name):yr(n.errors,se.name,Ze[se.name]):mo(n.errors,se.name))}!La(pe)&&await z(pe,Ce,ge)}}return ge.valid},K=()=>{for(const fe of l.unMount){const Ce=dt(r,fe);Ce&&(Ce._f.refs?Ce._f.refs.every(ge=>!OR(ge)):!OR(Ce._f.ref))&&xt(fe)}l.unMount=new Set},Q=(fe,Ce)=>!e.disabled&&(fe&&Ce&&yr(o,fe,Ce),!ld(Ne(),i)),Ee=(fe,Ce,ge)=>cG(fe,l,{...a.mount?o:Jr(Ce)?i:Yc(fe)?{[fe]:Ce}:Ce},ge,Ce),he=fe=>HE(dt(a.mount?o:i,fe,e.shouldUnregister?dt(i,fe,[]):[])),Je=(fe,Ce,ge={})=>{const Re=dt(r,fe);let Me=Ce;if(Re){const se=Re._f;se&&(!se.disabled&&yr(o,fe,mG(Ce,se)),Me=gx(se.ref)&&as(Ce)?"":Ce,fG(se.ref)?[...se.ref.options].forEach(pe=>pe.selected=Me.includes(pe.value)):se.refs?$E(se.ref)?se.refs.length>1?se.refs.forEach(pe=>(!pe.defaultChecked||!pe.disabled)&&(pe.checked=Array.isArray(Me)?!!Me.find(qe=>qe===pe.value):Me===pe.value)):se.refs[0]&&(se.refs[0].checked=!!Me):se.refs.forEach(pe=>pe.checked=pe.value===Me):y2(se.ref)?se.ref.value="":(se.ref.value=Me,se.ref.type||y.state.next({name:fe,values:vi(o)})))}(ge.shouldDirty||ge.shouldTouch)&&P(fe,Me,ge.shouldTouch,ge.shouldDirty,!0),ge.shouldValidate&&Ae(fe)},He=(fe,Ce,ge)=>{for(const Re in Ce){const Me=Ce[Re],se=`${fe}.${Re}`,pe=dt(r,se);(l.array.has(fe)||lo(Me)||pe&&!pe._f)&&!gm(Me)?He(se,Me,ge):Je(se,Me,ge)}},xe=(fe,Ce,ge={})=>{const Re=dt(r,fe),Me=l.array.has(fe),se=vi(Ce);yr(o,fe,se),Me?(y.array.next({name:fe,values:vi(o)}),(h.isDirty||h.dirtyFields||g.isDirty||g.dirtyFields)&&ge.shouldDirty&&y.state.next({name:fe,dirtyFields:hb(i,o),isDirty:Q(fe,se)})):Re&&!Re._f&&!as(se)?He(fe,se,ge):Je(fe,se,ge),hL(fe,l)&&y.state.next({...n}),y.state.next({name:a.mount?fe:void 0,values:vi(o)})},Te=async fe=>{a.mount=!0;const Ce=fe.target;let ge=Ce.name,Re=!0;const Me=dt(r,ge),se=pe=>{Re=Number.isNaN(pe)||gm(pe)&&isNaN(pe.getTime())||ld(pe,dt(o,ge,pe))};if(Me){let pe,qe;const De=Ce.type?g6(Me._f):rG(fe),Ze=fe.type===mx.BLUR||fe.type===mx.FOCUS_OUT,Tt=!Mye(Me._f)&&!e.resolver&&!dt(n.errors,ge)&&!Me._f.deps||Vye(Ze,dt(n.touchedFields,ge),n.isSubmitted,T,w),hn=hL(ge,l,Ze);yr(o,ge,De),Ze?(Me._f.onBlur&&Me._f.onBlur(fe),u&&u(0)):Me._f.onChange&&Me._f.onChange(fe);const pn=P(ge,De,Ze),rr=!La(pn)||hn;if(!Ze&&y.state.next({name:ge,type:fe.type,values:vi(o)}),Tt)return(h.isValid||g.isValid)&&(e.mode==="onBlur"?Ze&&I():Ze||I()),rr&&y.state.next({name:ge,...hn?{}:pn});if(!Ze&&hn&&y.state.next({...n}),e.resolver){const{errors:Dr}=await $([ge]);if(se(De),Re){const Qt=y6(n.errors,r,ge),ci=y6(Dr,r,Qt.name||ge);pe=ci.error,ge=ci.name,qe=La(Dr)}}else k([ge],!0),pe=(await pL(Me,l.disabled,o,C,e.shouldUseNativeValidation))[ge],k([ge]),se(De),Re&&(pe?qe=!1:(h.isValid||g.isValid)&&(qe=await z(r,!0)));Re&&(Me._f.deps&&Ae(Me._f.deps),N(ge,qe,pe,pn))}},J=(fe,Ce)=>{if(dt(n.errors,Ce)&&fe.focus)return fe.focus(),1},Ae=async(fe,Ce={})=>{let ge,Re;const Me=Hs(fe);if(e.resolver){const se=await q(Jr(fe)?fe:Me);ge=La(se),Re=fe?!Me.some(pe=>dt(se,pe)):ge}else fe?(Re=(await Promise.all(Me.map(async se=>{const pe=dt(r,se);return await z(pe&&pe._f?{[se]:pe}:pe)}))).every(Boolean),!(!Re&&!n.isValid)&&I()):Re=ge=await z(r);return y.state.next({...!Yc(fe)||(h.isValid||g.isValid)&&ge!==n.isValid?{}:{name:fe},...e.resolver||!fe?{isValid:ge}:{},errors:n.errors}),Ce.shouldFocus&&!Re&&jv(r,J,fe?Me:l.mount),Re},Ne=fe=>{const Ce={...a.mount?o:i};return Jr(fe)?Ce:Yc(fe)?dt(Ce,fe):fe.map(ge=>dt(Ce,ge))},ie=(fe,Ce)=>({invalid:!!dt((Ce||n).errors,fe),isDirty:!!dt((Ce||n).dirtyFields,fe),error:dt((Ce||n).errors,fe),isValidating:!!dt(n.validatingFields,fe),isTouched:!!dt((Ce||n).touchedFields,fe)}),lt=fe=>{fe&&Hs(fe).forEach(Ce=>mo(n.errors,Ce)),y.state.next({errors:fe?n.errors:{}})},Ge=(fe,Ce,ge)=>{const Re=(dt(r,fe,{_f:{}})._f||{}).ref,Me=dt(n.errors,fe)||{},{ref:se,message:pe,type:qe,...De}=Me;yr(n.errors,fe,{...De,...Ce,ref:Re}),y.state.next({name:fe,errors:n.errors,isValid:!1}),ge&&ge.shouldFocus&&Re&&Re.focus&&Re.focus()},ut=(fe,Ce)=>Wu(fe)?y.state.subscribe({next:ge=>fe(Ee(void 0,Ce),ge)}):Ee(fe,Ce,!0),et=fe=>y.state.subscribe({next:Ce=>{Uye(fe.name,Ce.name,fe.exact)&&Fye(Ce,fe.formState||h,fn,fe.reRenderRoot)&&fe.callback({values:{...o},...n,...Ce})}}).unsubscribe,_t=fe=>(a.mount=!0,g={...g,...fe.formState},et({...fe,formState:g})),xt=(fe,Ce={})=>{for(const ge of fe?Hs(fe):l.mount)l.mount.delete(ge),l.array.delete(ge),Ce.keepValue||(mo(r,ge),mo(o,ge)),!Ce.keepError&&mo(n.errors,ge),!Ce.keepDirty&&mo(n.dirtyFields,ge),!Ce.keepTouched&&mo(n.touchedFields,ge),!Ce.keepIsValidating&&mo(n.validatingFields,ge),!e.shouldUnregister&&!Ce.keepDefaultValue&&mo(i,ge);y.state.next({values:vi(o)}),y.state.next({...n,...Ce.keepDirty?{isDirty:Q()}:{}}),!Ce.keepIsValid&&I()},Et=({disabled:fe,name:Ce})=>{(El(fe)&&a.mount||fe||l.disabled.has(Ce))&&(fe?l.disabled.add(Ce):l.disabled.delete(Ce))},Dt=(fe,Ce={})=>{let ge=dt(r,fe);const Re=El(Ce.disabled)||El(e.disabled);return yr(r,fe,{...ge||{},_f:{...ge&&ge._f?ge._f:{ref:{name:fe}},name:fe,mount:!0,...Ce}}),l.mount.add(fe),ge?Et({disabled:El(Ce.disabled)?Ce.disabled:e.disabled,name:fe}):D(fe,!0,Ce.value),{...Re?{disabled:Ce.disabled||e.disabled}:{},...e.progressive?{required:!!Ce.required,min:pb(Ce.min),max:pb(Ce.max),minLength:pb(Ce.minLength),maxLength:pb(Ce.maxLength),pattern:pb(Ce.pattern)}:{},name:fe,onChange:Te,onBlur:Te,ref:Me=>{if(Me){Dt(fe,Ce),ge=dt(r,fe);const se=Jr(Me.value)&&Me.querySelectorAll&&Me.querySelectorAll("input,select,textarea")[0]||Me,pe=Oye(se),qe=ge._f.refs||[];if(pe?qe.find(De=>De===se):se===ge._f.ref)return;yr(r,fe,{_f:{...ge._f,...pe?{refs:[...qe.filter(OR),se,...Array.isArray(dt(i,fe))?[{}]:[]],ref:{type:se.type,name:fe}}:{ref:se}}}),D(fe,!1,void 0,se)}else ge=dt(r,fe,{}),ge._f&&(ge._f.mount=!1),(e.shouldUnregister||Ce.shouldUnregister)&&!(iG(l.array,fe)&&a.action)&&l.unMount.add(fe)}}},Ut=()=>e.shouldFocusError&&jv(r,J,l.mount),an=fe=>{El(fe)&&(y.state.next({disabled:fe}),jv(r,(Ce,ge)=>{const Re=dt(r,ge);Re&&(Ce.disabled=Re._f.disabled||fe,Array.isArray(Re._f.refs)&&Re._f.refs.forEach(Me=>{Me.disabled=Re._f.disabled||fe}))},0,!1))},nt=(fe,Ce)=>async ge=>{let Re;ge&&(ge.preventDefault&&ge.preventDefault(),ge.persist&&ge.persist());let Me=vi(o);if(y.state.next({isSubmitting:!0}),e.resolver){const{errors:se,values:pe}=await $();n.errors=se,Me=pe}else await z(r);if(l.disabled.size)for(const se of l.disabled)yr(Me,se,void 0);if(mo(n.errors,"root"),La(n.errors)){y.state.next({errors:{}});try{await fe(Me,ge)}catch(se){Re=se}}else Ce&&await Ce({...n.errors},ge),Ut(),setTimeout(Ut);if(y.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:La(n.errors)&&!Re,submitCount:n.submitCount+1,errors:n.errors}),Re)throw Re},nn=(fe,Ce={})=>{dt(r,fe)&&(Jr(Ce.defaultValue)?xe(fe,vi(dt(i,fe))):(xe(fe,Ce.defaultValue),yr(i,fe,vi(Ce.defaultValue))),Ce.keepTouched||mo(n.touchedFields,fe),Ce.keepDirty||(mo(n.dirtyFields,fe),n.isDirty=Ce.defaultValue?Q(fe,vi(dt(i,fe))):Q()),Ce.keepError||(mo(n.errors,fe),h.isValid&&I()),y.state.next({...n}))},Wt=(fe,Ce={})=>{const ge=fe?vi(fe):i,Re=vi(ge),Me=La(fe),se=Me?i:Re;if(Ce.keepDefaultValues||(i=ge),!Ce.keepValues){if(Ce.keepDirtyValues){const pe=new Set([...l.mount,...Object.keys(hb(i,o))]);for(const qe of Array.from(pe))dt(n.dirtyFields,qe)?yr(se,qe,dt(o,qe)):xe(qe,dt(se,qe))}else{if(g2&&Jr(fe))for(const pe of l.mount){const qe=dt(r,pe);if(qe&&qe._f){const De=Array.isArray(qe._f.refs)?qe._f.refs[0]:qe._f.ref;if(gx(De)){const Ze=De.closest("form");if(Ze){Ze.reset();break}}}}for(const pe of l.mount)xe(pe,dt(se,pe))}o=vi(se),y.array.next({values:{...se}}),y.state.next({values:{...se}})}l={mount:Ce.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!h.isValid||!!Ce.keepIsValid||!!Ce.keepDirtyValues,a.watch=!!e.shouldUnregister,y.state.next({submitCount:Ce.keepSubmitCount?n.submitCount:0,isDirty:Me?!1:Ce.keepDirty?n.isDirty:!!(Ce.keepDefaultValues&&!ld(fe,i)),isSubmitted:Ce.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:Me?{}:Ce.keepDirtyValues?Ce.keepDefaultValues&&o?hb(i,o):n.dirtyFields:Ce.keepDefaultValues&&fe?hb(i,fe):Ce.keepDirty?n.dirtyFields:{},touchedFields:Ce.keepTouched?n.touchedFields:{},errors:Ce.keepErrors?n.errors:{},isSubmitSuccessful:Ce.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Kt=(fe,Ce)=>Wt(Wu(fe)?fe(o):fe,Ce),vn=(fe,Ce={})=>{const ge=dt(r,fe),Re=ge&&ge._f;if(Re){const Me=Re.refs?Re.refs[0]:Re.ref;Me.focus&&(Me.focus(),Ce.shouldSelect&&Wu(Me.select)&&Me.select())}},fn=fe=>{n={...n,...fe}},En={control:{register:Dt,unregister:xt,getFieldState:ie,handleSubmit:nt,setError:Ge,_subscribe:et,_runSchema:$,_getWatch:Ee,_getDirty:Q,_setValid:I,_setFieldArray:O,_setDisabledField:Et,_setErrors:V,_getFieldArray:he,_reset:Wt,_resetDefaultValues:()=>Wu(e.defaultValues)&&e.defaultValues().then(fe=>{Kt(fe,e.resetOptions),y.state.next({isLoading:!1})}),_removeUnmounted:K,_disableForm:an,_subjects:y,_proxyFormState:h,get _fields(){return r},get _formValues(){return o},get _state(){return a},set _state(fe){a=fe},get _defaultValues(){return i},get _names(){return l},set _names(fe){l=fe},get _formState(){return n},get _options(){return e},set _options(fe){e={...e,...fe}}},subscribe:_t,trigger:Ae,register:Dt,handleSubmit:nt,watch:ut,setValue:xe,getValues:Ne,reset:Kt,resetField:nn,clearErrors:lt,unregister:xt,setError:Ge,setFocus:vn,getFieldState:ie};return{...En,formControl:En}}var oh=()=>{const t=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const n=(Math.random()*16+t)%16|0;return(e=="x"?n:n&3|8).toString(16)})},PR=(t,e,n={})=>n.shouldFocus||Jr(n.shouldFocus)?n.focusName||`${t}.${Jr(n.focusIndex)?e:n.focusIndex}.`:"",NR=(t,e)=>[...t,...Hs(e)],LR=t=>Array.isArray(t)?t.map(()=>{}):void 0;function DR(t,e,n){return[...t.slice(0,e),...Hs(n),...t.slice(e)]}var MR=(t,e,n)=>Array.isArray(t)?(Jr(t[n])&&(t[n]=void 0),t.splice(n,0,t.splice(e,1)[0]),t):[],FR=(t,e)=>[...Hs(e),...Hs(t)];function jye(t,e){let n=0;const r=[...t];for(const i of e)r.splice(i-n,1),n++;return HE(r).length?r:[]}var UR=(t,e)=>Jr(e)?[]:jye(t,Hs(e).sort((n,r)=>n-r)),VR=(t,e,n)=>{[t[e],t[n]]=[t[n],t[e]]},b6=(t,e,n)=>(t[e]=n,t);function yG(t){const e=yu(),{control:n=e.control,name:r,keyName:i="id",shouldUnregister:o,rules:a}=t,[l,u]=Y.useState(n._getFieldArray(r)),f=Y.useRef(n._getFieldArray(r).map(oh)),h=Y.useRef(l),g=Y.useRef(r),y=Y.useRef(!1);g.current=r,h.current=l,n._names.array.add(r),a&&n.register(r,a),Y.useEffect(()=>n._subjects.array.subscribe({next:({values:D,name:P})=>{if(P===g.current||!P){const N=dt(D,g.current);Array.isArray(N)&&(u(N),f.current=N.map(oh))}}}).unsubscribe,[n]);const w=Y.useCallback(D=>{y.current=!0,n._setFieldArray(r,D)},[n,r]),T=(D,P)=>{const N=Hs(vi(D)),$=NR(n._getFieldArray(r),N);n._names.focus=PR(r,$.length-1,P),f.current=NR(f.current,N.map(oh)),w($),u($),n._setFieldArray(r,$,NR,{argA:LR(D)})},C=(D,P)=>{const N=Hs(vi(D)),$=FR(n._getFieldArray(r),N);n._names.focus=PR(r,0,P),f.current=FR(f.current,N.map(oh)),w($),u($),n._setFieldArray(r,$,FR,{argA:LR(D)})},R=D=>{const P=UR(n._getFieldArray(r),D);f.current=UR(f.current,D),w(P),u(P),!Array.isArray(dt(n._fields,r))&&yr(n._fields,r,void 0),n._setFieldArray(r,P,UR,{argA:D})},I=(D,P,N)=>{const $=Hs(vi(P)),q=DR(n._getFieldArray(r),D,$);n._names.focus=PR(r,D,N),f.current=DR(f.current,D,$.map(oh)),w(q),u(q),n._setFieldArray(r,q,DR,{argA:D,argB:LR(P)})},k=(D,P)=>{const N=n._getFieldArray(r);VR(N,D,P),VR(f.current,D,P),w(N),u(N),n._setFieldArray(r,N,VR,{argA:D,argB:P},!1)},O=(D,P)=>{const N=n._getFieldArray(r);MR(N,D,P),MR(f.current,D,P),w(N),u(N),n._setFieldArray(r,N,MR,{argA:D,argB:P},!1)},A=(D,P)=>{const N=vi(P),$=b6(n._getFieldArray(r),D,N);f.current=[...$].map((q,z)=>!q||z===D?oh():f.current[z]),w($),u([...$]),n._setFieldArray(r,$,b6,{argA:D,argB:N},!0,!1)},V=D=>{const P=Hs(vi(D));f.current=P.map(oh),w([...P]),u([...P]),n._setFieldArray(r,[...P],N=>N,{},!0,!1)};return Y.useEffect(()=>{if(n._state.action=!1,hL(r,n._names)&&n._subjects.state.next({...n._formState}),y.current&&(!Rv(n._options.mode).isOnSubmit||n._formState.isSubmitted)&&!Rv(n._options.reValidateMode).isOnSubmit)if(n._options.resolver)n._runSchema([r]).then(D=>{const P=dt(D.errors,r),N=dt(n._formState.errors,r);(N?!P&&N.type||P&&(N.type!==P.type||N.message!==P.message):P&&P.type)&&(P?yr(n._formState.errors,r,P):mo(n._formState.errors,r),n._subjects.state.next({errors:n._formState.errors}))});else{const D=dt(n._fields,r);D&&D._f&&!(Rv(n._options.reValidateMode).isOnSubmit&&Rv(n._options.mode).isOnSubmit)&&pL(D,n._names.disabled,n._formValues,n._options.criteriaMode===ou.all,n._options.shouldUseNativeValidation,!0).then(P=>!La(P)&&n._subjects.state.next({errors:vG(n._formState.errors,P,r)}))}n._subjects.state.next({name:r,values:vi(n._formValues)}),n._names.focus&&jv(n._fields,(D,P)=>{if(n._names.focus&&P.startsWith(n._names.focus)&&D.focus)return D.focus(),1}),n._names.focus="",n._setValid(),y.current=!1},[l,r,n]),Y.useEffect(()=>(!dt(n._formValues,r)&&n._setFieldArray(r),()=>{const D=(P,N)=>{const $=dt(n._fields,P);$&&$._f&&($._f.mount=N)};n._options.shouldUnregister||o?n.unregister(r):D(r,!1)}),[r,n,i,o]),{swap:Y.useCallback(k,[w,r,n]),move:Y.useCallback(O,[w,r,n]),prepend:Y.useCallback(C,[w,r,n]),append:Y.useCallback(T,[w,r,n]),remove:Y.useCallback(R,[w,r,n]),insert:Y.useCallback(I,[w,r,n]),update:Y.useCallback(A,[w,r,n]),replace:Y.useCallback(V,[w,r,n]),fields:Y.useMemo(()=>l.map((D,P)=>({...D,[i]:f.current[P]||oh()})),[l,i])}}const zye=typeof window<"u"?Y.useLayoutEffect:Y.useEffect;function b2(t={}){const e=Y.useRef(void 0),n=Y.useRef(void 0),[r,i]=Y.useState({isDirty:!1,isValidating:!1,isLoading:Wu(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Wu(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...t.formControl?t.formControl:Hye(t),formState:r},t.formControl&&t.defaultValues&&!Wu(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions));const o=e.current.control;return o._options=t,zye(()=>{const a=o._subscribe({formState:o._proxyFormState,callback:()=>i({...o._formState}),reRenderRoot:!0});return i(l=>({...l,isReady:!0})),o._formState.isReady=!0,a},[o]),Y.useEffect(()=>o._disableForm(t.disabled),[o,t.disabled]),Y.useEffect(()=>{t.mode&&(o._options.mode=t.mode),t.reValidateMode&&(o._options.reValidateMode=t.reValidateMode),t.errors&&!La(t.errors)&&o._setErrors(t.errors)},[o,t.errors,t.mode,t.reValidateMode]),Y.useEffect(()=>{t.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,t.shouldUnregister]),Y.useEffect(()=>{if(o._proxyFormState.isDirty){const a=o._getDirty();a!==r.isDirty&&o._subjects.state.next({isDirty:a})}},[o,r.isDirty]),Y.useEffect(()=>{t.values&&!ld(t.values,n.current)?(o._reset(t.values,o._options.resetOptions),n.current=t.values,i(a=>({...a}))):o._resetDefaultValues()},[o,t.values]),Y.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),e.current.formState=lG(r,o),e.current}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var mL=function(t,e){return mL=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},mL(t,e)};function Wye(t,e){mL(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var gL=function(){return gL=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},gL.apply(this,arguments)};/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var mb={CHECKED:"mdc-switch--checked",DISABLED:"mdc-switch--disabled"},E6={ARIA_CHECKED_ATTR:"aria-checked",NATIVE_CONTROL_SELECTOR:".mdc-switch__native-control",RIPPLE_SURFACE_SELECTOR:".mdc-switch__thumb-underlay"};/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var qye=function(t){Wye(e,t);function e(n){return t.call(this,gL({},e.defaultAdapter,n))||this}return Object.defineProperty(e,"strings",{get:function(){return E6},enumerable:!0,configurable:!0}),Object.defineProperty(e,"cssClasses",{get:function(){return mb},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},setNativeControlChecked:function(){},setNativeControlDisabled:function(){},setNativeControlAttr:function(){}}},enumerable:!0,configurable:!0}),e.prototype.setChecked=function(n){this.adapter_.setNativeControlChecked(n),this.updateAriaChecked_(n),this.updateCheckedStyling_(n)},e.prototype.setDisabled=function(n){this.adapter_.setNativeControlDisabled(n),n?this.adapter_.addClass(mb.DISABLED):this.adapter_.removeClass(mb.DISABLED)},e.prototype.handleChange=function(n){var r=n.target;this.updateAriaChecked_(r.checked),this.updateCheckedStyling_(r.checked)},e.prototype.updateCheckedStyling_=function(n){n?this.adapter_.addClass(mb.CHECKED):this.adapter_.removeClass(mb.CHECKED)},e.prototype.updateAriaChecked_=function(n){this.adapter_.setNativeControlAttr(E6.ARIA_CHECKED_ATTR,""+!!n)},e}(ui),Kye=function(t){var e=h2(t),n=e.renderToggle,r=e.toggleRootProps,i=e.id,o=li({props:t,elements:{rootEl:!0,checkboxEl:!0},foundation:function(h){var g=h.rootEl,y=h.checkboxEl;return new qye({addClass:function(w){return g.addClass(w)},removeClass:function(w){return g.removeClass(w)},setNativeControlChecked:function(w){return y.setProp("checked",w)},setNativeControlDisabled:function(w){return y.setProp("disabled",w)},setNativeControlAttr:function(w,T){return g.setProp(w,T)}})}}),a=o.foundation,l=Ke(o,["foundation"]),u=l.checkboxEl;B.useEffect(function(){u.ref&&a.updateCheckedStyling_(u.ref.checked),u.ref&&a.setDisabled(u.ref.disabled)},[u.ref,a]),B.useEffect(function(){t.checked!==void 0&&a.updateCheckedStyling_(t.checked)},[t.checked,a]),B.useEffect(function(){t.disabled!==void 0&&a.setDisabled(t.disabled)},[t.disabled,a]);var f=function(h){var g;a.handleChange(h),(g=t.onChange)===null||g===void 0||g.call(t,h)};return u.setProp("onChange",f,!0),ae({foundation:a,renderToggle:n,toggleRootProps:r,id:i},l)},Gye=ht(function(e,n){var r,i=Kye(e),o=i.renderToggle,a=i.id,l=i.toggleRootProps,u=i.rootEl,f=i.checkboxEl,h=St(l,["mdc-switch"]);e.children,e.className,e.label,e.style;var g=e.inputRef;e.foundationRef;var y=Ke(e,["children","className","label","style","inputRef","foundationRef"]),w=Y.createElement(kt,ae({},u.props(ae(ae({},l),{className:h})),{ref:n}),Y.createElement(Yye,null),Y.createElement(Jye,null,Y.createElement(Xye,null),Y.createElement("input",ae({},f.props(ae(ae({},y),{className:"mdc-switch__native-control"})),{type:"checkbox",id:a,ref:iy(f.setRef,g),role:"switch","aria-checked":(r=y.checked)!==null&&r!==void 0?r:y["aria-checked"]}))),Y.createElement(Qye,null));return o(w)}),Yye=Y.memo(function(){return Y.createElement("div",{className:"mdc-switch__track"})}),Qye=Y.memo(function(){return Y.createElement("div",{className:"mdc-switch__knob"})}),Xye=Y.memo(function(){return Y.createElement("div",{className:"mdc-switch__thumb"})}),Jye=cc({unbounded:!0,surface:!1})(function(e){var n=e.className,r=Ke(e,["className"]);return Y.createElement("div",ae({className:Lr(n,"mdc-switch__thumb-underlay")},r))});const ar=({fieldClassName:t,label:e,fullwidth:n,outlined:r,tip:i,error:o,key:a,...l})=>{const[u]=B.useState(uu("field")),[f]=B.useState(uu("field-subtext"));return ne("div",{className:Lr("Field",t),children:[b(Ue,{className:"Field-label",use:"body2",theme:"secondary",tag:"label",htmlFor:u,children:e}),b(VE,{outlined:!0,"aria-describedby":f,invalid:!!o,"aria-invalid":!!o,...l,tag:"div",id:u}),b("div",{className:"Field-subtext",id:f,children:o?b(Ue,{className:"Field-tip",role:"alert",use:"body2",theme:"error",children:o}):i&&b(Ue,{className:"Field-tip",use:"body2",theme:"secondary",children:i})})]})},Gy=({fieldClassName:t,label:e,outlined:n,tip:r,error:i,...o})=>{const[a]=B.useState(uu());return ne("div",{className:Lr("Field",t),children:[b(Ue,{className:"Field-label",use:"body2",theme:"secondary",tag:"label",htmlFor:a,children:e}),b(Y0,{outlined:!0,...o,id:a}),b("div",{className:"Field-subtext",children:i?b(Ue,{className:"Field-tip",use:"body2",theme:"error",children:i}):r&&b(Ue,{className:"Field-tip",use:"body2",theme:"secondary",children:r})})]})},_G=({fieldClassName:t,label:e,switchLabel:n,tip:r,error:i,...o})=>{const[a]=B.useState(uu()),[l]=B.useState(uu("field-subtext"));return ne("div",{className:Lr("Field",t),children:[b(Ue,{className:"Field-label",use:"body2",theme:"secondary",tag:"label",htmlFor:a,children:e}),b(Gye,{...o,id:a,label:n}),b("div",{className:"Field-subtext",id:l,children:i?b(Ue,{className:"Field-tip",role:"alert",use:"body2",theme:"error",children:i}):r&&b(Ue,{className:"Field-tip",use:"body2",theme:"secondary",children:r})})]})},Zye="_emailWrapper_omabb_46",e_e="_smsWrapper_omabb_58",t_e="_deleteButtonContainer_omabb_62",n_e="_switchField_omabb_78",r_e="_customAttributesWrapper_omabb_93",i_e="_signInWrapper_omabb_102",o_e="_sectionHeader_omabb_109",a_e="_sectionSubHeader_omabb_117",s_e="_showError_omabb_122",ls={emailWrapper:Zye,smsWrapper:e_e,deleteButtonContainer:t_e,switchField:n_e,customAttributesWrapper:r_e,signInWrapper:i_e,sectionHeader:o_e,sectionSubHeader:a_e,showError:s_e};function vL(t,e){if(!t)throw new Error(e)}const l_e=Error,u_e=1e3;function c_e(t=""){vL(t.length<=u_e,"CLAIMS_TOO_LARGE");let e;try{e=JSON.parse(t)}catch{throw new l_e("INVALID_CLAIMS")}d_e(e)}const f_e=["iss","aud","sub","iat","exp","nbf","jti","nonce","azp","acr","amr","cnf","auth_time","firebase","at_hash","c_hash"];function d_e(t){vL(typeof t=="object"&&t!=null&&!Array.isArray(t),"INVALID_CLAIMS");for(const e of f_e)vL(!(e in t),`FORBIDDEN_CLAIM : ${e}`)}function h_e(t){if(t==="")return!0;try{return c_e(t),!0}catch(e){if(e.message==="INVALID_CLAIMS")return"Custom claims must be a valid JSON object";if(e.message==="CLAIMS_TOO_LARGE")return"Custom claims length must not exceed 1000 characters";const n=e.message.match(/FORBIDDEN_CLAIM : (\w+)$/);if(n&&n[1])return"Custom claims must not have forbidden key: "+n[1]}}const p_e="customAttributes",m_e=({formState:{errors:t},register:e})=>{var o;const n=b("label",{children:b(Ue,{use:"subtitle2",tag:"div",theme:"textPrimaryOnBackground",children:"Custom claims (optional)"})}),{ref:r,...i}=e("customAttributes",{validate:h_e});return ne("div",{className:ls.customAttributesWrapper,children:[b(ar,{inputRef:r,error:(o=t[p_e])==null?void 0:o.message,label:n,textarea:!0,placeholder:'Enter valid json, e.g. {"role":"admin"}',...i}),ne(Ue,{use:"body2",children:["These custom key:value attributes can be used with Rules to implement various access control strategies (e.g. based on roles)."," ",b("a",{target:"_blank",rel:"noopener noreferrer",href:"https://firebase.google.com/docs/auth/admin/custom-claims",title:"Learn more about custom key value attributes.",children:"Learn more"})]})]})},g_e=/^[^@]+@[^@]+$/;function w6(t){var e;if(t.email){if(t.email.type==="pattern")return"Invalid email";if(t.email.type==="unique")return"User with this email already exists"}if(((e=t.emailVerified)==null?void 0:e.type)==="emailPresent")return"Email required for verification"}const v_e=({register:t,formState:{errors:e},allTakenEmails:n,watch:r,setError:i,clearErrors:o})=>{const a=r("email"),l=r("emailVerified"),{ref:u,...f}=t("email",{validate:{unique:y=>!n.has(y)},pattern:g_e}),{ref:h,...g}=t("emailVerified");return B.useEffect(()=>{l&&!a?i("emailVerified",{type:"emailPresent"}):o("emailVerified")},[l,a,i,o]),b(Rt,{children:ne("div",{className:Lr(ls.emailWrapper,w6(e)&&ls.showError),children:[b(ar,{placeholder:"Enter email (optional)",label:"Email (optional)",type:"text",inputRef:u,error:w6(e),...f}),b(_G,{label:"Verified email?",switchLabel:l?"Verified":"Not Verified",defaultChecked:!1,inputRef:h,className:ls.switchField,fieldClassName:ls.switch,...g})]})})},y_e=vu({allTakenEmails:age}),b_e=Ys(y_e)(v_e),E_e="_image_jn6hy_16",C6={image:E_e},w_e=({register:t,watch:e,trigger:n,formState:{errors:r},ImageConstructor:i})=>{var w;i=i||Image;const[o,a]=B.useState(""),l=B.useRef(new i),u=B.useRef(""),f=B.useRef("NONE"),h=e("photoUrl")||"";B.useEffect(()=>{const T=l.current;return T.onload=()=>{f.current==="LOADING"&&(f.current="LOADED",a(u.current),n("photoUrl"))},T.onerror=()=>{f.current==="LOADING"&&(f.current="ERROR",a(""),n("photoUrl"))},()=>{T.onload=null,T.onerror=null}},[n]),B.useEffect(()=>{h.trim()!==""?(f.current="LOADING",u.current=h,l.current.src=h):f.current="NONE",n("photoUrl")},[h,n]);const{ref:g,...y}=t("photoUrl",{validate:{loading:()=>f.current!=="LOADING"||"Loading image",errorLoading:()=>f.current!=="ERROR"||"Error loading image"}});return ne(Rt,{children:[b(ar,{label:"User photo URL (optional)",placeholder:"Enter URL",error:((w=r.photoUrl)==null?void 0:w.type)==="errorLoading"&&r.photoUrl.message,type:"text",inputRef:g,...y}),f.current==="LOADED"&&b("img",{className:C6.image,src:o,alt:"Profile preview"}),f.current==="LOADING"&&b("div",{className:C6.imageWrapper,"aria-busy":"true","aria-live":"polite","data-testid":"spinner",children:b(tK,{size:"large"})})]})},C_e=/^\+/;function S6(t){return t({phoneInfo:""})}const S_e=t=>{var O;const{control:e,formState:{errors:n},user:r,register:i,getValues:o,watch:a,setError:l,clearErrors:u}=t,{fields:f,append:h,remove:g}=yG({control:e,name:"mfaPhoneInfo"}),[y,w]=B.useState(!(r!=null&&r.mfaInfo&&(r==null?void 0:r.mfaInfo.length)>0)),{ref:T,...C}=i("mfaEnabled",{onChange:A=>{o("mfaEnabled")&&f.length===0&&S6(h),w(!1)}}),R=a("mfaEnabled"),I=a("emailVerified");B.useEffect(()=>{R?I?u("mfaEnabled"):l("mfaEnabled",{type:"verified"}):u("mfaPhoneInfo")},[R,I,l,u]);const k=f.length===0||!f.some(A=>A.phoneInfo!=="");return ne("div",{className:ls.signInWrapper,children:[b(Ky,{tag:"div"}),b("div",{className:ls.sectionHeader,children:b(Ue,{use:"headline3",theme:"textPrimaryOnBackground",children:"Multi-factor Authentication"})}),b(_G,{label:"",switchLabel:R?"Enabled":"Disabled",defaultChecked:!1,inputRef:T,...C}),k||R?null:b(ji,{aside:!0,type:"warning",children:"Disabling multi-factor authentication will remove any phone numbers added for SMS multi-factor"}),((O=n.mfaEnabled)==null?void 0:O.type)==="verified"?b(Ue,{use:"body2",theme:"error",tag:"div",role:"alert",children:"Email needs to be verified to enroll in multi-factor authentication"}):null,(R||!y)&&ne(Rt,{children:[b(Ue,{use:"body1",tag:"div",className:ls.sectionSubHeader,theme:"textPrimaryOnBackground",children:"SMS Settings"}),b("div",{children:f.map((A,V)=>{const D=`mfaPhoneInfo.${V}.phoneInfo`,P=()=>{var z;const q=(z=n.mfaPhoneInfo)==null?void 0:z[V];if(q&&q.phoneInfo)return q.phoneInfo.type==="pattern"?'Phone number must be in international format and start with a "+"':q.phoneInfo.type==="required"?"Phone number is required":q.phoneInfo.message},{ref:N,...$}=i(D,{pattern:C_e,required:R});return ne("div",{className:Lr(ls.smsWrapper,P()&&ls.showError),children:[b(ar,{label:"Phone number",placeholder:"Enter phone number",type:"tel",error:P(),disabled:!R,inputRef:N,defaultValue:A.phoneInfo,...$}),b("div",{className:ls.deleteButtonContainer,children:b(bn,{type:"button",icon:"delete_outline",onClick:()=>g(V)})})]},A.id)})}),b(fr,{type:"button",outlined:!0,disabled:!R,onClick:()=>S6(h),children:"Add another phone number"})]})]})},bG=6;function T_e(t){var e,n;if(((e=t.emailpassword)==null?void 0:e.type)==="both")return"Email is required for password authentication";if(((n=t.password)==null?void 0:n.type)==="minLength")return`Password should be at least ${bG} characters`}const x_e=({register:t,formState:{errors:e},watch:n,setError:r,clearErrors:i})=>{const{ref:o,...a}=t("password",{minLength:bG}),l=n("email"),u=n("password");return B.useEffect(()=>{u!==""&&l===""?r("emailpassword",{type:"both"}):i("emailpassword")},[l,u,i,r]),ne(Rt,{children:[b(Ue,{use:"headline4",className:ls.sectionSubHeader,theme:"textPrimaryOnBackground",children:"Password authentication"}),b(ar,{type:"text",label:"Password",placeholder:"Enter password",inputRef:o,error:T_e(e),...a})]})},A_e=vu({isEditing:oge}),I_e=Ys(A_e)(x_e),k_e=/^\+/,R_e=({register:t,formState:{errors:e},allPhoneNumbers:n,editedUserPhoneNumber:r})=>{function i(u){return r===u||!n.has(u)}function o(){if(e.phoneNumber){if(e.phoneNumber.type==="pattern")return'Phone number must be in international format and start with a "+"';if(e.phoneNumber.type==="validate")return"User with this phone number already exists"}}const{ref:a,...l}=t("phoneNumber",{pattern:k_e,validate:i});return ne(Rt,{children:[b(Ue,{use:"headline4",className:ls.sectionSubHeader,theme:"textPrimaryOnBackground",children:"Phone authentication"}),b(ar,{label:"Phone",placeholder:"Enter phone number",type:"tel",error:o(),inputRef:a,...l})]})},O_e=vu({allPhoneNumbers:sge}),P_e=Ys(O_e)(R_e),BR="atLeastOneMethodRequired",N_e=t=>{const{watch:e,setError:n,clearErrors:r,formState:{errors:i,touchedFields:o},user:a}=t,l=e("password"),u=e("phoneNumber"),f=o.password||o.phoneNumber;B.useEffect(()=>{l!==""||!!u?r(BR):n(BR,{message:"at least"})},[l,r,n,u,i]);const h=BR in i&&Object.values(i).length===1;return ne("div",{className:ls.signInWrapper,children:[b(Ky,{tag:"div"}),ne("div",{className:ls.sectionHeader,children:[b(Ue,{use:"headline3",theme:"textPrimaryOnBackground",children:"Authentication method"}),f&&h?b(Ue,{use:"body2",theme:"error",tag:"div",role:"alert",children:"One method is required. Please enter either an email/password or phone number."}):b(Ue,{use:"body2",tag:"div",children:"Enter details for at least one of the following methods:"})]}),b(I_e,{...t}),b(P_e,{...t,editedUserPhoneNumber:a==null?void 0:a.phoneNumber})]})};function L_e(t){if(!t)return;let e=!1,n=[],r=!1;return t.mfaInfo&&t.mfaInfo.length>0&&(e=!0,n=t.mfaInfo.map(i=>({phoneInfo:i.phoneInfo}))),t.emailVerified&&(r=!0),{customAttributes:t.customAttributes,displayName:t.displayName,photoUrl:t.photoUrl,screenName:t.screenName,email:t.email,password:t.password,phoneNumber:t.phoneNumber,mfaInfo:t.mfaInfo,emailVerified:r,mfaEnabled:e,mfaPhoneInfo:n}}function D_e(t){let e;return t.mfaEnabled&&(e=t.mfaPhoneInfo.map(n=>{var i;return((i=t.mfaInfo)==null?void 0:i.find(o=>o.phoneInfo===n.phoneInfo))||{...n,enrolledAt:new Date().toISOString(),mfaEnrollmentId:"AUTH-EMULATOR-UI:"+Math.random().toString(36).substring(5)}})),{customAttributes:t.customAttributes,displayName:t.displayName,photoUrl:t.photoUrl,screenName:t.screenName,email:t.email,password:t.password,phoneNumber:t.phoneNumber,emailVerified:t.emailVerified,mfaInfo:e}}const M_e=({authUserDialogData:t,clearAuthUserDialogData:e,updateUser:n,createUser:r,user:i})=>{const o=!!i,a=i==null?void 0:i.localId,l=L_e(i),u=b2({defaultValues:l,mode:"onChange"}),f=B.useCallback((k,O)=>{const A=D_e(k);k.mfaEnabled||(A.mfaInfo=[]),o?n({user:A,localId:a}):r({user:A,keepDialogOpen:O})},[o,n,r,a]),{register:h,handleSubmit:g,formState:{errors:y},reset:w}=u,T=!(t!=null&&t.loading)&&Object.values(y).length===0,C=B.useCallback(k=>{Object.values(y).length===0&&f(k)},[y,f]),{ref:R,...I}=h("displayName");return ne(hc,{renderToPortal:!0,open:!0,onClose:e,children:[b(pc,{children:i?`Edit User ${i.displayName}`:"Add a user"}),ne("form",{onSubmit:g(C),"data-testid":"user-form",children:[ne(mc,{children:[b(ar,{label:"Display name (optional)",type:"text",placeholder:"Enter display name",error:(y==null?void 0:y.displayName)&&"Display name is required",inputRef:R,...I}),b(b_e,{...u}),b(w_e,{...u}),b(m_e,{...u}),b(N_e,{...u,user:i}),b(S_e,{...u,user:i}),PK(t==null?void 0:t.result)&&b(ji,{type:"warning",children:ne(Rt,{children:["Error: ",t==null?void 0:t.result.error]})})]}),ne(Ef,{children:[b($n,{action:"close",type:"button",theme:"secondary",children:"Cancel"}),!o&&b(fr,{onClick:g(k=>{f(k,!0),w(l)}),disabled:!T,type:"button",children:"Save and create another"}),b($n,{onClick:g(k=>{f(k,!1)}),disabled:!T,type:"submit",unelevated:!0,children:"Save"})]})]})]})},F_e=vu({authUserDialogData:u2,user:c2}),U_e=t=>({clearAuthUserDialogData:()=>t(yI()),updateUser:e=>t(kq(e)),createUser:e=>t(Aq(e))}),V_e=Ys(F_e,U_e)(M_e),jE=({className:t,children:e})=>b(rc,{options:{surface:qy},className:Lr("CardActionBar",t),children:b(ao,{use:["surface"],className:"CardActionBar-container",tag:"div",children:e})}),EG=({children:t})=>ne(Rt,{children:[b("span",{style:{flex:"1 auto"}}),b("div",{className:"CardActionBar-actions",children:t})]});var yL={exports:{}};(function(t,e){function n(u){if(u&&typeof u=="object"){var f=u.which||u.keyCode||u.charCode;f&&(u=f)}if(typeof u=="number")return a[u];var h=String(u),g=r[h.toLowerCase()];if(g)return g;var g=i[h.toLowerCase()];if(g)return g;if(h.length===1)return h.charCodeAt(0)}n.isEventKey=function(f,h){if(f&&typeof f=="object"){var g=f.which||f.keyCode||f.charCode;if(g==null)return!1;if(typeof h=="string"){var y=r[h.toLowerCase()];if(y)return y===g;var y=i[h.toLowerCase()];if(y)return y===g}else if(typeof h=="number")return h===g;return!1}},e=t.exports=n;var r=e.code=e.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},i=e.aliases={windows:91,"":16,"":18,"":17,"":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};/*!
 * Programatically add the following
 */for(o=97;o<123;o++)r[String.fromCharCode(o)]=o-32;for(var o=48;o<58;o++)r[o-48]=o;for(o=1;o<13;o++)r["f"+o]=o+111;for(o=0;o<10;o++)r["numpad "+o]=o+96;var a=e.names=e.title={};for(o in r)a[r[o]]=o;for(var l in i)r[l]=i[l]})(yL,yL.exports);var B_e=yL.exports;const _L=ra(B_e),$_e="_filterForm_1xx1s_16",T6={filterForm:$_e},H_e=({filter:t,updateFilter:e})=>{const n=()=>e({filter:""}),r=B.useRef(null);return B.useLayoutEffect(()=>{var i;t===""&&((i=r.current)==null||i.focus())},[t]),b(Rt,{children:b("form",{role:"search",className:T6.filterForm,onSubmit:i=>{i.preventDefault()},children:b(VE,{onChange:i=>{e({filter:i.target.value})},placeholder:"Search by user UID, email address, phone number, or display name",value:t,"aria-label":"filter",fullwidth:!0,type:"text",inputRef:r,outlined:!1,ripple:!1,icon:"search",className:T6.filterTextField,trailingIcon:t&&{icon:"close",role:"button","aria-label":"clear",onClick:n,onKeyDown:i=>{(i.keyCode===_L("spacebar")||i.keyCode===_L("enter"))&&(n(),i.preventDefault())}}})})})},j_e=vu({filter:FK}),z_e=t=>({updateFilter:e=>t(Dq(e))}),W_e=Ys(j_e,z_e)(H_e),q_e="_barActions_3cv7j_16",K_e="_addUserButton_3cv7j_21",x6={barActions:q_e,addUserButton:K_e},G_e=({refresh:t})=>b(bn,{onClick:t,icon:"refresh",label:"Refresh",theme:"secondary"}),Y_e=t=>({refresh:()=>t(IN())}),Q_e=Ys(null,Y_e)(G_e),X_e=({onOpenNewUserDialog:t})=>b(Rt,{children:ne(jE,{children:[b(W_e,{}),b("div",{className:x6.barActions,children:ne(EG,{children:[b(Q_e,{}),b(fr,{className:x6.addUserButton,unelevated:!0,onClick:()=>t(),children:"Add user"})]})})]})});var zE=ht(function(e,n){var r=e.stickyColumns,i=e.stickyRows,o=Ke(e,["stickyColumns","stickyRows"]),a=St(e,["mdc-data-table",{"rmwc-data-table--sticky-columns":!!r,"rmwc-data-table--sticky-columns-1":!!r,"rmwc-data-table--sticky-rows":!!i,"rmwc-data-table--sticky-rows-1":!!i}]);return b(x5.Provider,{value:!0,children:b(kt,{...ae({},o,{ref:n,className:a})})})}),WE=ht(function(e,n){var r=St(e,["mdc-data-table__table"]);return b(kt,{...ae({tag:"table"},e,{ref:n,className:r})})}),Q0=ht(function(e,n){var r=St(e,["rmwc-data-table__head"]);return b(kM.Provider,{value:!0,children:b(kt,{...ae({tag:"thead"},e,{ref:n,className:r})})})}),qE=ht(function(e,n){var r=St(e,["mdc-data-table__content"]);return b(kt,{...ae({tag:"tbody"},e,{ref:n,className:r})})}),lf=ht(function(e,n){var r=B.useContext(kM);e.activated,e.selected;var i=Ke(e,["activated","selected"]),o=St(e,["rmwc-data-table__row",{"mdc-data-table__header-row":r,"mdc-data-table__row":!r,"mdc-data-table__row--selected":e.selected||e.activated,"rmwc-data-table__row--activated":e.activated}]);return b(kt,{...ae({tag:"tr"},i,{ref:n,className:o})})}),J_e=Y.memo(function(){return b(Mn,{className:"rmwc-data-table__sort-icon",icon:b("svg",{width:"18",height:"18",viewBox:"0 0 24 24",children:b("path",{fill:"currentColor",d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"})})})}),us=ht(function(e,n){var r=e.alignStart,i=e.alignMiddle,o=e.alignEnd,a=e.isNumeric,l=e.sort,u=e.onSortChange,f=e.onClick,h=e.children,g=e.hasFormControl,y=Ke(e,["alignStart","alignMiddle","alignEnd","isNumeric","sort","onSortChange","onClick","children","hasFormControl"]),w=St(e,["rmwc-data-table__cell","mdc-data-table__header-cell",{"rmwc-data-table__head-cell--sortable":l!==void 0,"rmwc-data-table__head-cell--sorted":!!l,"rmwc-data-table__head-cell--sorted-ascending":l===1,"rmwc-data-table__head-cell--sorted-descending":l===-1,"mdc-data-table__header-cell--checkbox":g,"mdc-data-table__header-cell--numeric":a,"rmwc-data-table__cell--align-start":r,"rmwc-data-table__cell--align-middle":i,"rmwc-data-table__cell--align-end":o}]),T=l!==void 0?{onClick:function(C){u&&u(l===null?1:l===1?-1:null),f&&f(C)}}:{};return ne(kt,{...ae({tag:"th"},y,T,{className:w,ref:n,role:"columnheader",scope:"col"}),children:[l!==void 0&&b(J_e,{}),h]})}),bi=ht(function(e,n){e.alignStart,e.alignMiddle,e.alignEnd;var r=e.isNumeric,i=e.hasFormControl,o=Ke(e,["alignStart","alignMiddle","alignEnd","isNumeric","hasFormControl"]),a=St(e,["mdc-data-table__cell","rmwc-data-table__cell",{"mdc-data-table__cell--numeric":r,"mdc-data-table__cell--checkbox":i,"rmwc-data-table__cell--align-start":e.alignStart,"rmwc-data-table__cell--align-middle":e.alignMiddle,"rmwc-data-table__cell--align-end":e.alignEnd}]);return b(kt,{...ae({tag:"td"},o,{ref:n,className:a})})});const Z_e="_noResultsWrapper_axjjk_46",ebe="_tableWrapper_axjjk_53",tbe="_disabled_axjjk_58",SI={noResultsWrapper:Z_e,tableWrapper:ebe,disabled:tbe},nbe=()=>b(Ue,{use:"body2",className:SI.noResultsWrapper,theme:"textSecondaryOnBackground",children:"No users for this project yet"}),rbe=t=>pp({title:"Delete user",body:b("div",{className:"Firestore--dialog-body",children:ne(ji,{aside:!0,type:"warning",children:["This will delete user with uid ",t.localId]})}),acceptLabel:null,cancelLabel:null,footer:ne(Rt,{children:[b($n,{action:"close",type:"button",theme:"secondary",children:"Cancel"}),b($n,{unelevated:!0,action:"accept",isDefaultAction:!0,danger:!0,children:"Delete"})]})}),ibe=()=>b(Ue,{use:"body2","aria-live":"polite",theme:"textSecondaryOnBackground",className:SI.noResultsWrapper,children:"No results"}),A6={"gc.apple.com":"assets/provider-icons/auth_service_game_center.svg","apple.com":"assets/provider-icons/auth_service_apple.svg","facebook.com":"assets/provider-icons/auth_service_facebook.svg","github.com":"assets/provider-icons/auth_service_github.svg","google.com":"assets/provider-icons/auth_service_google.svg","microsoft.com":"assets/provider-icons/auth_service_mslive.svg","playgames.google.com":"assets/provider-icons/auth_service_play_games.svg","twitter.com":"assets/provider-icons/auth_service_twitter.svg","yahoo.com":"assets/provider-icons/auth_service_yahoo.svg",phone:"assets/provider-icons/auth_service_phone.svg",password:"assets/provider-icons/auth_service_email.svg",oidc:"assets/provider-icons/auth_service_oidc.svg",saml:"assets/provider-icons/auth_service_saml.svg"},obe="_iconWrapper_1fj02_46",abe={iconWrapper:obe},sbe=({user:t})=>b(ao,{use:"secondary",children:b("div",{className:abe.iconWrapper,children:t.providerUserInfo.map(e=>{let n=e.providerId;return n.match(/^saml\./)?n="saml":n.match(/^oidc\./)&&(n="oidc"),A6[n]&&b(Mn,{icon:`${window.location.origin}/${A6[n]}`,"aria-label":e.providerId},e.providerId)})})}),lbe="_visuallyHidden_1rz8a_16",ube={visuallyHidden:lbe},cbe=({alertText:t})=>b("div",{className:ube.visuallyHidden,role:"alert",children:t}),fbe=vu({alertText:fge}),dbe=Ys(fbe)(cbe),hbe=({user:t,onEditUser:e,toggleUserDisabled:n,onDeleteUser:r})=>{const[i,o]=B.useState(!1),a=new Date(Number(t.createdAt)).toLocaleDateString(),l=t.lastLoginAt&&new Date(Number(t.lastLoginAt)).toLocaleDateString();return ne(lf,{className:t.disabled?SI.disabled:"",children:[b(bi,{children:t.displayName||t.email||t.phoneNumber}),b(bi,{children:b(sbe,{user:t})}),b(bi,{children:a}),b(bi,{children:l}),b(bi,{children:t.localId}),b(bi,{style:{width:"20px"},children:ne(BE,{open:i,onOpen:()=>o(!0),onClose:()=>o(!1),handle:b(bn,{theme:"secondary",icon:"more_vert","aria-label":`Open menu for user ${t.displayName||t.email||"with phone number "+t.phoneNumber}`,role:"menu"}),renderToPortal:!0,children:[b(sf,{onClick:()=>{o(!1),e()},children:"Edit user"}),b(sf,{onClick:()=>{o(!1),n()},children:t.disabled?"Enable user":"Disable user"}),b(sf,{onClick:()=>{o(!1),r()},children:"Delete user"})]})})]})},pbe=({filteredUsers:t,setUserDisabled:e,deleteUser:n,shouldShowTable:r,openAuthUserDialog:i,shouldShowZeroResults:o,shouldShowZeroState:a})=>ne(Rt,{children:[b(zE,{className:SI.tableWrapper,children:ne(WE,{children:[b(Q0,{children:ne(lf,{children:[b(us,{children:"Identifier"}),b(us,{children:"Provider"}),b(us,{children:"Created"}),b(us,{children:"Signed In"}),b(us,{children:"User UID"})]})}),b(qE,{children:r&&t.map(l=>b(hbe,{user:l,onEditUser:()=>{i(NK(l))},toggleUserDisabled:()=>{e({localId:l.localId,disabled:!l.disabled})},onDeleteUser:async()=>{await rbe(l)&&n(l)}},l.localId))})]})}),b(dbe,{}),o&&b(ibe,{}),a&&b(nbe,{})]}),mbe=vu({shouldShowTable:dge,shouldShowZeroResults:cge,shouldShowZeroState:uge,filteredUsers:f2}),gbe=t=>({setUserDisabled:e=>t(Oq(e)),deleteUser:e=>t(Nq(e)),openAuthUserDialog:e=>t(jF(e))}),vbe=Ys(mbe,gbe)(pbe),ybe=({openAuthUserDialog:t,authUserDialogData:e})=>ne(xa,{children:[b(X_e,{onOpenNewUserDialog:()=>t(NK(void 0))}),b(vbe,{}),e&&b(V_e,{})]}),_be=vu({authUserDialogData:u2}),bbe=t=>({openAuthUserDialog:e=>t(jF(e))}),Ebe=Ys(_be,bbe)(ybe),wG="/auth/",wbe=()=>b(B.Suspense,{fallback:b(Tbe,{}),children:b(dp,{children:b(ms,{path:wG+":tenantId*",children:b(Sbe,{})})})}),Cbe=({updateAuthConfig:t})=>{const e=za("auth"),{projectId:n}=jy(),[r]=tG();return B.useEffect(()=>{t({auth:e,projectId:n,tenantId:r})},[e,n,t,r]),ne(_r,{span:12,className:"Auth",children:[ne(Fm,{className:yhe.topActions,children:[b(_r,{span:2,children:b(Sye,{})}),b(_r,{span:8}),b(_r,{span:2,children:b(Kve,{})})]}),b(hu,{z:"2",wrap:!0,children:b(Ebe,{})}),b(hu,{z:"2",wrap:!0,children:b(Sve,{})})]})},Sbe=Ys(null,{updateAuthConfig:xq})(Cbe),Tbe=()=>rg("auth")?b(UE,{productName:"Auth"}):b(ja,{span:12,message:"Auth Emulator Loading..."}),xbe=()=>{};var I6={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CG={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const at=function(t,e){if(!t)throw Yy(e)},Yy=function(t){return new Error("Firebase Database ("+CG.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SG=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Abe=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],a=t[n++],l=t[n++],u=((i&7)<<18|(o&63)<<12|(a&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const o=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},E2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],a=i+1<t.length,l=a?t[i+1]:0,u=i+2<t.length,f=u?t[i+2]:0,h=o>>2,g=(o&3)<<4|l>>4;let y=(l&15)<<2|f>>6,w=f&63;u||(w=64,a||(y=64)),r.push(n[h],n[g],n[y],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(SG(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Abe(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||l==null||f==null||g==null)throw new Ibe;const y=o<<2|l>>4;if(r.push(y),f!==64){const w=l<<4&240|f>>2;if(r.push(w),g!==64){const T=f<<6&192|g;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Ibe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const TG=function(t){const e=SG(t);return E2.encodeByteArray(e,!0)},_x=function(t){return TG(t).replace(/\./g,"")},bx=function(t){try{return E2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kbe(t){return xG(void 0,t)}function xG(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!Rbe(n)||(t[n]=xG(t[n],e[n]));return t}function Rbe(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Obe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pbe=()=>Obe().__FIREBASE_DEFAULTS__,Nbe=()=>{if(typeof process>"u"||typeof I6>"u")return;const t=I6.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Lbe=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&bx(t[1]);return e&&JSON.parse(e)},TI=()=>{try{return xbe()||Pbe()||Nbe()||Lbe()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Dbe=t=>{var e,n;return(n=(e=TI())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},w2=t=>{const e=Dbe(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},AG=()=>{var t;return(t=TI())===null||t===void 0?void 0:t.config},Mbe=t=>{var e;return(e=TI())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[_x(JSON.stringify(n)),_x(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oc(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function S2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(oc())}function Fbe(){var t;const e=(t=TI())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Ube(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Vbe(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function IG(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Bbe(){return CG.NODE_ADMIN===!0}function $be(){return!Fbe()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function kG(){try{return typeof indexedDB=="object"}catch{return!1}}function Hbe(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jbe="FirebaseError";class gc extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=jbe,Object.setPrototypeOf(this,gc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ag.prototype.create)}}class ag{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],a=o?zbe(o,r):"Error",l=`${this.serviceName}: ${a} (${i}).`;return new gc(i,l,r)}}function zbe(t,e){return t.replace(Wbe,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Wbe=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X0(t){return JSON.parse(t)}function No(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RG=function(t){let e={},n={},r={},i="";try{const o=t.split(".");e=X0(bx(o[0])||""),n=X0(bx(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},qbe=function(t){const e=RG(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},Kbe=function(t){const e=RG(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cf(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function my(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function k6(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ex(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function J0(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],a=e[i];if(R6(o)&&R6(a)){if(!J0(o,a))return!1}else if(o!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function R6(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T2(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gbe{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let g=0;g<16;g++)r[g]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let g=0;g<16;g++)r[g]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let g=16;g<80;g++){const y=r[g-3]^r[g-8]^r[g-14]^r[g-16];r[g]=(y<<1|y>>>31)&4294967295}let i=this.chain_[0],o=this.chain_[1],a=this.chain_[2],l=this.chain_[3],u=this.chain_[4],f,h;for(let g=0;g<80;g++){g<40?g<20?(f=l^o&(a^l),h=1518500249):(f=o^a^l,h=1859775393):g<60?(f=o&a|l&(o|a),h=2400959708):(f=o^a^l,h=3395469782);const y=(i<<5|i>>>27)+f+u+h+r[g]&4294967295;u=l,l=a,a=(o<<30|o>>>2)&4294967295,o=i,i=y}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const o=this.buf_;let a=this.inbuf_;for(;i<n;){if(a===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(o[a]=e.charCodeAt(i),++a,++i,a===this.blockSize){this.compress_(o),a=0;break}}else for(;i<n;)if(o[a]=e[i],++a,++i,a===this.blockSize){this.compress_(o),a=0;break}}this.inbuf_=a,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)e[r]=this.chain_[i]>>o&255,++r;return e}}function Ybe(t,e){const n=new Qbe(t,e);return n.subscribe.bind(n)}class Qbe{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Xbe(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=$R),i.error===void 0&&(i.error=$R),i.complete===void 0&&(i.complete=$R);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Xbe(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function $R(){}function xI(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jbe=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const o=i-55296;r++,at(r<t.length,"Surrogate pair missing trail surrogate.");const a=t.charCodeAt(r)-56320;i=65536+(o<<10)+a}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},AI=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zbe=1e3,e0e=2,t0e=4*60*60*1e3,n0e=.5;function r0e(t,e=Zbe,n=e0e){const r=e*Math.pow(n,t),i=Math.round(n0e*r*(Math.random()-.5)*2);return Math.min(t0e,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(t){return t&&t._delegate?t._delegate:t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sg(t){return t.endsWith(".cloudworkstations.dev")}async function x2(t){return(await fetch(t,{credentials:"include"})).ok}let wx=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0e{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new KE;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(a0e(e))try{this.getOrInitializeService({instanceIdentifier:tm})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=tm){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=tm){return this.instances.has(e)}getOptions(e=tm){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(o);r===l&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const a=this.instances.get(i);return a&&e(a,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:o0e(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=tm){return this.component?this.component.multipleInstances?e:tm:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function o0e(t){return t===tm?void 0:t}function a0e(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0e{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new i0e(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var In;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(In||(In={}));const l0e={debug:In.DEBUG,verbose:In.VERBOSE,info:In.INFO,warn:In.WARN,error:In.ERROR,silent:In.SILENT},u0e=In.INFO,c0e={[In.DEBUG]:"log",[In.VERBOSE]:"log",[In.INFO]:"info",[In.WARN]:"warn",[In.ERROR]:"error"},f0e=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=c0e[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class GE{constructor(e){this.name=e,this._logLevel=u0e,this._logHandler=f0e,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in In))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?l0e[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,In.DEBUG,...e),this._logHandler(this,In.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,In.VERBOSE,...e),this._logHandler(this,In.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,In.INFO,...e),this._logHandler(this,In.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,In.WARN,...e),this._logHandler(this,In.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,In.ERROR,...e),this._logHandler(this,In.ERROR,...e)}}const d0e=(t,e)=>e.some(n=>t instanceof n);let O6,P6;function h0e(){return O6||(O6=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function p0e(){return P6||(P6=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const OG=new WeakMap,bL=new WeakMap,PG=new WeakMap,HR=new WeakMap,A2=new WeakMap;function m0e(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(Nh(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&OG.set(n,t)}).catch(()=>{}),A2.set(e,t),e}function g0e(t){if(bL.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});bL.set(t,e)}let EL={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return bL.get(t);if(e==="objectStoreNames")return t.objectStoreNames||PG.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Nh(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function v0e(t){EL=t(EL)}function y0e(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(jR(this),e,...n);return PG.set(r,e.sort?e.sort():[e]),Nh(r)}:p0e().includes(t)?function(...e){return t.apply(jR(this),e),Nh(OG.get(this))}:function(...e){return Nh(t.apply(jR(this),e))}}function _0e(t){return typeof t=="function"?y0e(t):(t instanceof IDBTransaction&&g0e(t),d0e(t,h0e())?new Proxy(t,EL):t)}function Nh(t){if(t instanceof IDBRequest)return m0e(t);if(HR.has(t))return HR.get(t);const e=_0e(t);return e!==t&&(HR.set(t,e),A2.set(e,t)),e}const jR=t=>A2.get(t);function NG(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(t,e),l=Nh(a);return r&&a.addEventListener("upgradeneeded",u=>{r(Nh(a.result),u.oldVersion,u.newVersion,Nh(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),l}const b0e=["get","getKey","getAll","getAllKeys","count"],E0e=["put","add","delete","clear"],zR=new Map;function N6(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(zR.get(e))return zR.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=E0e.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||b0e.includes(n)))return;const o=async function(a,...l){const u=this.transaction(a,i?"readwrite":"readonly");let f=u.store;return r&&(f=f.index(l.shift())),(await Promise.all([f[n](...l),i&&u.done]))[0]};return zR.set(e,o),o}v0e(t=>({...t,get:(e,n,r)=>N6(e,n)||t.get(e,n,r),has:(e,n)=>!!N6(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0e{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(C0e(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function C0e(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const wL="@firebase/app",L6="0.12.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ed=new GE("@firebase/app"),S0e="@firebase/app-compat",T0e="@firebase/analytics-compat",x0e="@firebase/analytics",A0e="@firebase/app-check-compat",I0e="@firebase/app-check",k0e="@firebase/auth",R0e="@firebase/auth-compat",O0e="@firebase/database",P0e="@firebase/data-connect",N0e="@firebase/database-compat",L0e="@firebase/functions",D0e="@firebase/functions-compat",M0e="@firebase/installations",F0e="@firebase/installations-compat",U0e="@firebase/messaging",V0e="@firebase/messaging-compat",B0e="@firebase/performance",$0e="@firebase/performance-compat",H0e="@firebase/remote-config",j0e="@firebase/remote-config-compat",z0e="@firebase/storage",W0e="@firebase/storage-compat",q0e="@firebase/firestore",K0e="@firebase/vertexai",G0e="@firebase/firestore-compat",Y0e="firebase",Q0e="11.7.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CL="[DEFAULT]",X0e={[wL]:"fire-core",[S0e]:"fire-core-compat",[x0e]:"fire-analytics",[T0e]:"fire-analytics-compat",[I0e]:"fire-app-check",[A0e]:"fire-app-check-compat",[k0e]:"fire-auth",[R0e]:"fire-auth-compat",[O0e]:"fire-rtdb",[P0e]:"fire-data-connect",[N0e]:"fire-rtdb-compat",[L0e]:"fire-fn",[D0e]:"fire-fn-compat",[M0e]:"fire-iid",[F0e]:"fire-iid-compat",[U0e]:"fire-fcm",[V0e]:"fire-fcm-compat",[B0e]:"fire-perf",[$0e]:"fire-perf-compat",[H0e]:"fire-rc",[j0e]:"fire-rc-compat",[z0e]:"fire-gcs",[W0e]:"fire-gcs-compat",[q0e]:"fire-fst",[G0e]:"fire-fst-compat",[K0e]:"fire-vertex","fire-js":"fire-js",[Y0e]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vm=new Map,SL=new Map,TL=new Map;function D6(t,e){try{t.container.addComponent(e)}catch(n){Ed.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function pu(t){const e=t.name;if(TL.has(e))return Ed.debug(`There were multiple attempts to register component ${e}.`),!1;TL.set(e,t);for(const n of Vm.values())D6(n,t);for(const n of SL.values())D6(n,t);return!0}function YE(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Wc(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0e={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Lh=new ag("app","Firebase",J0e);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0e{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new wx("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Lh.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lg=Q0e;function I2(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:CL,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Lh.create("bad-app-name",{appName:String(i)});if(n||(n=AG()),!n)throw Lh.create("no-options");const o=Vm.get(i);if(o){if(J0(n,o.options)&&J0(r,o.config))return o;throw Lh.create("duplicate-app",{appName:i})}const a=new s0e(i);for(const u of TL.values())a.addComponent(u);const l=new Z0e(n,r,a);return Vm.set(i,l),l}function k2(t=CL){const e=Vm.get(t);if(!e&&t===CL&&AG())return I2();if(!e)throw Lh.create("no-app",{appName:t});return e}function eEe(){return Array.from(Vm.values())}async function tEe(t){let e=!1;const n=t.name;Vm.has(n)?(e=!0,Vm.delete(n)):SL.has(n)&&t.decRefCount()<=0&&(SL.delete(n),e=!0),e&&(await Promise.all(t.container.getProviders().map(r=>r.delete())),t.isDeleted=!0)}function Eo(t,e,n){var r;let i=(r=X0e[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const l=[`Unable to register library "${i}" with version "${e}":`];o&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ed.warn(l.join(" "));return}pu(new wx(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nEe="firebase-heartbeat-database",rEe=1,Z0="firebase-heartbeat-store";let WR=null;function LG(){return WR||(WR=NG(nEe,rEe,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Z0)}catch(n){console.warn(n)}}}}).catch(t=>{throw Lh.create("idb-open",{originalErrorMessage:t.message})})),WR}async function iEe(t){try{const n=(await LG()).transaction(Z0),r=await n.objectStore(Z0).get(DG(t));return await n.done,r}catch(e){if(e instanceof gc)Ed.warn(e.message);else{const n=Lh.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ed.warn(n.message)}}}async function M6(t,e){try{const r=(await LG()).transaction(Z0,"readwrite");await r.objectStore(Z0).put(e,DG(t)),await r.done}catch(n){if(n instanceof gc)Ed.warn(n.message);else{const r=Lh.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ed.warn(r.message)}}}function DG(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oEe=1024,aEe=30;class sEe{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new uEe(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=F6();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>aEe){const a=cEe(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ed.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=F6(),{heartbeatsToSend:r,unsentEntries:i}=lEe(this._heartbeatsCache.heartbeats),o=_x(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Ed.warn(n),""}}}function F6(){return new Date().toISOString().substring(0,10)}function lEe(t,e=oEe){const n=[];let r=t.slice();for(const i of t){const o=n.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),U6(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),U6(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class uEe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kG()?Hbe().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await iEe(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return M6(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return M6(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function U6(t){return _x(JSON.stringify({version:2,heartbeats:t})).length}function cEe(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fEe(t){pu(new wx("platform-logger",e=>new w0e(e),"PRIVATE")),pu(new wx("heartbeat",e=>new sEe(e),"PRIVATE")),Eo(wL,L6,t),Eo(wL,L6,"esm2017"),Eo("fire-js","")}fEe("");let dEe=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var V6={};const B6="@firebase/database",$6="1.0.15";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let MG="";function hEe(t){MG=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pEe{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),No(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:X0(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mEe{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Cf(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FG=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new pEe(e)}}catch{}return new mEe},vm=FG("localStorage"),gEe=FG("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv=new GE("@firebase/database"),vEe=function(){let t=1;return function(){return t++}}(),UG=function(t){const e=Jbe(t),n=new Gbe;n.update(e);const r=n.digest();return E2.encodeByteArray(r)},QE=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=QE.apply(null,r):typeof r=="object"?e+=No(r):e+=r,e+=" "}return e};let o0=null,H6=!0;const yEe=function(t,e){at(!0,"Can't turn on custom loggers persistently."),zv.logLevel=In.VERBOSE,o0=zv.log.bind(zv)},_a=function(...t){if(H6===!0&&(H6=!1,o0===null&&gEe.get("logging_enabled")===!0&&yEe()),o0){const e=QE.apply(null,t);o0(e)}},XE=function(t){return function(...e){_a(t,...e)}},xL=function(...t){const e="FIREBASE INTERNAL ERROR: "+QE(...t);zv.error(e)},wd=function(...t){const e=`FIREBASE FATAL ERROR: ${QE(...t)}`;throw zv.error(e),new Error(e)},ps=function(...t){const e="FIREBASE WARNING: "+QE(...t);zv.warn(e)},_Ee=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ps("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},R2=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},bEe=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Bm="[MIN_NAME]",Gh="[MAX_NAME]",ug=function(t,e){if(t===e)return 0;if(t===Bm||e===Gh)return-1;if(e===Bm||t===Gh)return 1;{const n=j6(t),r=j6(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},EEe=function(t,e){return t===e?0:t<e?-1:1},gb=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+No(e))},O2=function(t){if(typeof t!="object"||t===null)return No(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=No(e[r]),n+=":",n+=O2(t[e[r]]);return n+="}",n},VG=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Sa(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const BG=function(t){at(!R2(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,o,a,l,u;t===0?(o=0,a=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=l+r,a=Math.round(t*Math.pow(2,n-l)-Math.pow(2,n))):(o=0,a=Math.round(t/Math.pow(2,1-r-n))));const f=[];for(u=n;u;u-=1)f.push(a%2?1:0),a=Math.floor(a/2);for(u=e;u;u-=1)f.push(o%2?1:0),o=Math.floor(o/2);f.push(i?1:0),f.reverse();const h=f.join("");let g="";for(u=0;u<64;u+=8){let y=parseInt(h.substr(u,8),2).toString(16);y.length===1&&(y="0"+y),g=g+y}return g.toLowerCase()},wEe=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},CEe=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function SEe(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const TEe=new RegExp("^-?(0*)\\d{1,10}$"),xEe=-2147483648,AEe=2147483647,j6=function(t){if(TEe.test(t)){const e=Number(t);if(e>=xEe&&e<=AEe)return e}return null},Qy=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw ps("Exception was thrown by user callback.",n),e},Math.floor(0))}},IEe=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},a0=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kEe{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,Wc(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){ps(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class REe{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(_a("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ps(e)}}class iT{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}iT.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2="5",$G="v",HG="s",jG="r",zG="f",WG=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,qG="ls",KG="p",AL="ac",GG="websocket",YG="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QG{constructor(e,n,r,i,o=!1,a="",l=!1,u=!1,f=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=a,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=u,this.emulatorOptions=f,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=vm.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&vm.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function OEe(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function XG(t,e,n){at(typeof e=="string","typeof type must == string"),at(typeof n=="object","typeof params must == object");let r;if(e===GG)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===YG)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);OEe(t)&&(n.ns=t.namespace);const i=[];return Sa(n,(o,a)=>{i.push(o+"="+a)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PEe{constructor(){this.counters_={}}incrementCounter(e,n=1){Cf(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return kbe(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR={},KR={};function N2(t){const e=t.toString();return qR[e]||(qR[e]=new PEe),qR[e]}function NEe(t,e){const n=t.toString();return KR[n]||(KR[n]=e()),KR[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LEe{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Qy(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z6="start",DEe="close",MEe="pLPCommand",FEe="pRTLPCB",JG="id",ZG="pw",eY="ser",UEe="cb",VEe="seg",BEe="ts",$Ee="d",HEe="dframe",tY=1870,nY=30,jEe=tY-nY,zEe=25e3,WEe=3e4;class Ov{constructor(e,n,r,i,o,a,l){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=a,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=XE(e),this.stats_=N2(n),this.urlFn=u=>(this.appCheckToken&&(u[AL]=this.appCheckToken),XG(n,YG,u))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new LEe(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(WEe)),bEe(()=>{if(this.isClosed_)return;this.scriptTagHolder=new L2((...o)=>{const[a,l,u,f,h]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,a===z6)this.id=l,this.password=u;else if(a===DEe)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+a)},(...o)=>{const[a,l]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(a,l)},()=>{this.onClosed_()},this.urlFn);const r={};r[z6]="t",r[eY]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[UEe]=this.scriptTagHolder.uniqueCallbackIdentifier),r[$G]=P2,this.transportSessionId&&(r[HG]=this.transportSessionId),this.lastSessionId&&(r[qG]=this.lastSessionId),this.applicationId&&(r[KG]=this.applicationId),this.appCheckToken&&(r[AL]=this.appCheckToken),typeof location<"u"&&location.hostname&&WG.test(location.hostname)&&(r[jG]=zG);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ov.forceAllow_=!0}static forceDisallow(){Ov.forceDisallow_=!0}static isAvailable(){return Ov.forceAllow_?!0:!Ov.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!wEe()&&!CEe()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=No(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=TG(n),i=VG(r,jEe);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[HEe]="t",r[JG]=e,r[ZG]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=No(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class L2{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=vEe(),window[MEe+this.uniqueCallbackIdentifier]=e,window[FEe+this.uniqueCallbackIdentifier]=n,this.myIFrame=L2.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const a="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(l){_a("frame writing exception"),l.stack&&_a(l.stack),_a(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||_a("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[JG]=this.myID,e[ZG]=this.myPW,e[eY]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+nY+r.length<=tY;){const a=this.pendingSegs.shift();r=r+"&"+VEe+i+"="+a.seg+"&"+BEe+i+"="+a.ts+"&"+$Ee+i+"="+a.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(zEe)),o=()=>{clearTimeout(i),r()};this.addTag(e,o)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{_a("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qEe=16384,KEe=45e3;let Cx=null;typeof MozWebSocket<"u"?Cx=MozWebSocket:typeof WebSocket<"u"&&(Cx=WebSocket);class qu{constructor(e,n,r,i,o,a,l){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=XE(this.connId),this.stats_=N2(n),this.connURL=qu.connectionURL_(n,a,l,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,o){const a={};return a[$G]=P2,typeof location<"u"&&location.hostname&&WG.test(location.hostname)&&(a[jG]=zG),n&&(a[HG]=n),r&&(a[qG]=r),i&&(a[AL]=i),o&&(a[KG]=o),XG(e,GG,a)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,vm.set("previous_websocket_failure",!0);try{let r;Bbe(),this.mySock=new Cx(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){qu.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Cx!==null&&!qu.forceDisallow_}static previouslyFailed(){return vm.isInMemoryStorage||vm.get("previous_websocket_failure")===!0}markConnectionHealthy(){vm.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=X0(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(at(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=No(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=VG(n,qEe);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(KEe))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}qu.responsesRequiredToBeHealthy=2;qu.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{static get ALL_TRANSPORTS(){return[Ov,qu]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=qu&&qu.isAvailable();let r=n&&!qu.previouslyFailed();if(e.webSocketOnly&&(n||ps("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[qu];else{const i=this.transports_=[];for(const o of eE.ALL_TRANSPORTS)o&&o.isAvailable()&&i.push(o);eE.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}eE.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GEe=6e4,YEe=5e3,QEe=10*1024,XEe=100*1024,GR="t",W6="d",JEe="s",q6="r",ZEe="e",K6="o",G6="a",Y6="n",Q6="p",ewe="h";class twe{constructor(e,n,r,i,o,a,l,u,f,h){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=a,this.onReady_=l,this.onDisconnect_=u,this.onKill_=f,this.lastSessionId=h,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=XE("c:"+this.id+":"),this.transportManager_=new eE(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=a0(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>XEe?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>QEe?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(GR in e){const n=e[GR];n===G6?this.upgradeIfSecondaryHealthy_():n===q6?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===K6&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=gb("t",e),r=gb("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Q6,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:G6,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Y6,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=gb("t",e),r=gb("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=gb(GR,e);if(W6 in e){const r=e[W6];if(n===ewe){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===Y6){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===JEe?this.onConnectionShutdown_(r):n===q6?this.onReset_(r):n===ZEe?xL("Server Error: "+r):n===K6?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):xL("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),P2!==r&&ps("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),a0(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(GEe))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):a0(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(YEe))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Q6,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(vm.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rY{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iY{constructor(e){this.allowedEvents_=e,this.listeners_={},at(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(e){at(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx extends iY{static getInstance(){return new Sx}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!S2()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return at(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X6=32,J6=768;class Er{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function or(){return new Er("")}function kn(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Yh(t){return t.pieces_.length-t.pieceNum_}function Hr(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Er(t.pieces_,e)}function D2(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function nwe(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function tE(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function oY(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Er(e,0)}function Hi(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Er)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Er(n,0)}function Rn(t){return t.pieceNum_>=t.pieces_.length}function fs(t,e){const n=kn(t),r=kn(e);if(n===null)return e;if(n===r)return fs(Hr(t),Hr(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function rwe(t,e){const n=tE(t,0),r=tE(e,0);for(let i=0;i<n.length&&i<r.length;i++){const o=ug(n[i],r[i]);if(o!==0)return o}return n.length===r.length?0:n.length<r.length?-1:1}function M2(t,e){if(Yh(t)!==Yh(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function su(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Yh(t)>Yh(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class iwe{constructor(e,n){this.errorPrefix_=n,this.parts_=tE(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=AI(this.parts_[r]);aY(this)}}function owe(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=AI(e),aY(t)}function awe(t){const e=t.parts_.pop();t.byteLength_-=AI(e),t.parts_.length>0&&(t.byteLength_-=1)}function aY(t){if(t.byteLength_>J6)throw new Error(t.errorPrefix_+"has a key path longer than "+J6+" bytes ("+t.byteLength_+").");if(t.parts_.length>X6)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+X6+") or object contains a cycle "+nm(t))}function nm(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2 extends iY{static getInstance(){return new F2}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return at(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb=1e3,swe=60*5*1e3,Z6=30*1e3,lwe=1.3,uwe=3e4,cwe="server_kill",e9=3;class gd extends rY{constructor(e,n,r,i,o,a,l,u){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=u,this.id=gd.nextPersistentConnectionId_++,this.log_=XE("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=vb,this.maxReconnectDelay_=swe,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,u)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");F2.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Sx.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,o={r:i,a:e,b:n};this.log_(No(o)),at(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new KE,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:a=>{const l=a.d;a.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),n.promise}listen(e,n,r,i){this.initConnection_();const o=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),at(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),at(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");const l={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(a).set(o,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const o={p:r},a="q";e.tag&&(o.q=n._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest(a,o,l=>{const u=l.d,f=l.s;gd.warnOnListenWarnings_(u,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",l),f!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(f,u))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Cf(e,"w")){const r=my(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',o=n._path.toString();ps(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||Kbe(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Z6)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=qbe(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const o=i.s,a=i.d||"error";this.authToken_===e&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),at(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const o={p:e},a="n";i&&(o.q=r,o.t=i),this.sendRequest(a,o)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const o={p:n,d:r};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,a=>{i&&setTimeout(()=>{i(a.s,a.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,o){this.initConnection_();const a={p:n,d:r};o!==void 0&&(a.h=o),this.outstandingPuts_.push({action:e,request:a,onComplete:i}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,o=>{this.log_(n+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(o.s,o.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const o=r.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+No(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):xL("Unrecognized action received from server: "+No(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){at(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=vb,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=vb,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>uwe&&(this.reconnectDelay_=vb),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*lwe)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+gd.nextConnectionId_++,o=this.lastSessionId;let a=!1,l=null;const u=function(){l?l.close():(a=!0,r())},f=function(g){at(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(g)};this.realtime_={close:u,sendRequest:f};const h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[g,y]=await Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)]);a?_a("getToken() completed but was canceled"):(_a("getToken() completed. Creating connection."),this.authToken_=g&&g.accessToken,this.appCheckToken_=y&&y.token,l=new twe(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,w=>{ps(w+" ("+this.repoInfo_.toString()+")"),this.interrupt(cwe)},o))}catch(g){this.log_("Failed to get token: "+g),a||(this.repoInfo_.nodeAdmin&&ps(g),u())}}}interrupt(e){_a("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){_a("Resuming connection for reason: "+e),delete this.interruptReasons_[e],k6(this.interruptReasons_)&&(this.reconnectDelay_=vb,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(o=>O2(o)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new Er(e).toString();let i;if(this.listens.has(r)){const o=this.listens.get(r);i=o.get(n),o.delete(n),o.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){_a("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=e9&&(this.reconnectDelay_=Z6,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){_a("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=e9&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+MG.replace(/\./g,"-")]=1,S2()?e["framework.cordova"]=1:IG()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Sx.getInstance().currentlyOnline();return k6(this.interruptReasons_)&&e}}gd.nextPersistentConnectionId_=0;gd.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new On(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new On(Bm,e),i=new On(Bm,n);return this.compare(r,i)!==0}minPost(){return On.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iS;class sY extends II{static get __EMPTY_NODE(){return iS}static set __EMPTY_NODE(e){iS=e}compare(e,n){return ug(e.name,n.name)}isDefinedOn(e){throw Yy("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return On.MIN}maxPost(){return new On(Gh,iS)}makePost(e,n){return at(typeof e=="string","KeyIndex indexValue must always be a string."),new On(e,iS)}toString(){return".key"}}const Sm=new sY;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oS=class{constructor(e,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let a=1;for(;!e.isEmpty();)if(e=e,a=n?r(e.key,n):1,i&&(a*=-1),a<0)this.isReverse_?e=e.left:e=e.right;else if(a===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},bl=class Mb{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Mb.RED,this.left=i??Qc.EMPTY_NODE,this.right=o??Qc.EMPTY_NODE}copy(e,n,r,i,o){return new Mb(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return o<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Qc.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Qc.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Mb.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Mb.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}};bl.RED=!0;bl.BLACK=!1;class fwe{copy(e,n,r,i,o){return this}insert(e,n,r){return new bl(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}let Qc=class oT{constructor(e,n=oT.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new oT(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,bl.BLACK,null,null))}remove(e){return new oT(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,bl.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new oS(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new oS(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new oS(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new oS(this.root_,null,this.comparator_,!0,e)}};Qc.EMPTY_NODE=new fwe;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dwe(t,e){return ug(t.name,e.name)}function U2(t,e){return ug(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let IL;function hwe(t){IL=t}const lY=function(t){return typeof t=="number"?"number:"+BG(t):"string:"+t},uY=function(t){if(t.isLeafNode()){const e=t.val();at(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Cf(e,".sv"),"Priority must be a string or number.")}else at(t===IL||t.isEmpty(),"priority of unexpected type.");at(t===IL||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let t9;class Qo{static set __childrenNodeConstructor(e){t9=e}static get __childrenNodeConstructor(){return t9}constructor(e,n=Qo.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,at(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),uY(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Qo(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Qo.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Rn(e)?this:kn(e)===".priority"?this.priorityNode_:Qo.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Qo.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=kn(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(at(r!==".priority"||Yh(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Qo.__childrenNodeConstructor.EMPTY_NODE.updateChild(Hr(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+lY(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=BG(this.value_):e+=this.value_,this.lazyHash_=UG(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Qo.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Qo.__childrenNodeConstructor?-1:(at(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=Qo.VALUE_TYPE_ORDER.indexOf(n),o=Qo.VALUE_TYPE_ORDER.indexOf(r);return at(i>=0,"Unknown leaf type: "+n),at(o>=0,"Unknown leaf type: "+r),i===o?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Qo.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cY,fY;function pwe(t){cY=t}function mwe(t){fY=t}class gwe extends II{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return o===0?ug(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return On.MIN}maxPost(){return new On(Gh,new Qo("[PRIORITY-POST]",fY))}makePost(e,n){const r=cY(e);return new On(n,new Qo("[PRIORITY-POST]",r))}toString(){return".priority"}}const wi=new gwe;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vwe=Math.log(2);class ywe{constructor(e){const n=o=>parseInt(Math.log(o)/vwe,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Tx=function(t,e,n,r){t.sort(e);const i=function(u,f){const h=f-u;let g,y;if(h===0)return null;if(h===1)return g=t[u],y=n?n(g):g,new bl(y,g.node,bl.BLACK,null,null);{const w=parseInt(h/2,10)+u,T=i(u,w),C=i(w+1,f);return g=t[w],y=n?n(g):g,new bl(y,g.node,bl.BLACK,T,C)}},o=function(u){let f=null,h=null,g=t.length;const y=function(T,C){const R=g-T,I=g;g-=T;const k=i(R+1,I),O=t[R],A=n?n(O):O;w(new bl(A,O.node,C,null,k))},w=function(T){f?(f.left=T,f=T):(h=T,f=T)};for(let T=0;T<u.count;++T){const C=u.nextBitIsOne(),R=Math.pow(2,u.count-(T+1));C?y(R,bl.BLACK):(y(R,bl.BLACK),y(R,bl.RED))}return h},a=new ywe(t.length),l=o(a);return new Qc(r||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let YR;const iv={};class hd{static get Default(){return at(iv&&wi,"ChildrenNode.ts has not been loaded"),YR=YR||new hd({".priority":iv},{".priority":wi}),YR}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=my(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Qc?n:null}hasIndex(e){return Cf(this.indexSet_,e.toString())}addIndex(e,n){at(e!==Sm,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const o=n.getIterator(On.Wrap);let a=o.getNext();for(;a;)i=i||e.isDefinedOn(a.node),r.push(a),a=o.getNext();let l;i?l=Tx(r,e.getCompare()):l=iv;const u=e.toString(),f=Object.assign({},this.indexSet_);f[u]=e;const h=Object.assign({},this.indexes_);return h[u]=l,new hd(h,f)}addToIndexes(e,n){const r=Ex(this.indexes_,(i,o)=>{const a=my(this.indexSet_,o);if(at(a,"Missing index implementation for "+o),i===iv)if(a.isDefinedOn(e.node)){const l=[],u=n.getIterator(On.Wrap);let f=u.getNext();for(;f;)f.name!==e.name&&l.push(f),f=u.getNext();return l.push(e),Tx(l,a.getCompare())}else return iv;else{const l=n.get(e.name);let u=i;return l&&(u=u.remove(new On(e.name,l))),u.insert(e,e.node)}});return new hd(r,this.indexSet_)}removeFromIndexes(e,n){const r=Ex(this.indexes_,i=>{if(i===iv)return i;{const o=n.get(e.name);return o?i.remove(new On(e.name,o)):i}});return new hd(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yb;class Jt{static get EMPTY_NODE(){return yb||(yb=new Jt(new Qc(U2),null,hd.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&uY(this.priorityNode_),this.children_.isEmpty()&&at(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||yb}updatePriority(e){return this.children_.isEmpty()?this:new Jt(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?yb:n}}getChild(e){const n=kn(e);return n===null?this:this.getImmediateChild(n).getChild(Hr(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(at(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new On(e,n);let i,o;n.isEmpty()?(i=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(r,this.children_));const a=i.isEmpty()?yb:this.priorityNode_;return new Jt(i,a,o)}}updateChild(e,n){const r=kn(e);if(r===null)return n;{at(kn(e)!==".priority"||Yh(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(Hr(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,o=!0;if(this.forEachChild(wi,(a,l)=>{n[a]=l.val(e),r++,o&&Jt.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1}),!e&&o&&i<2*r){const a=[];for(const l in n)a[l]=n[l];return a}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+lY(this.getPriority().val())+":"),this.forEachChild(wi,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":UG(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const o=i.getPredecessorKey(new On(e,n));return o?o.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new On(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new On(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,On.Wrap);let o=i.peek();for(;o!=null&&n.compare(o,e)<0;)i.getNext(),o=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,On.Wrap);let o=i.peek();for(;o!=null&&n.compare(o,e)>0;)i.getNext(),o=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===JE?-1:0}withIndex(e){if(e===Sm||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Jt(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Sm||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(wi),i=n.getIterator(wi);let o=r.getNext(),a=i.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=r.getNext(),a=i.getNext()}return o===null&&a===null}else return!1;else return!1}}resolveIndex_(e){return e===Sm?null:this.indexMap_.get(e.toString())}}Jt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class _we extends Jt{constructor(){super(new Qc(U2),Jt.EMPTY_NODE,hd.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Jt.EMPTY_NODE}isEmpty(){return!1}}const JE=new _we;Object.defineProperties(On,{MIN:{value:new On(Bm,Jt.EMPTY_NODE)},MAX:{value:new On(Gh,JE)}});sY.__EMPTY_NODE=Jt.EMPTY_NODE;Qo.__childrenNodeConstructor=Jt;hwe(JE);mwe(JE);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bwe=!0;function Po(t,e=null){if(t===null)return Jt.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),at(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Qo(n,Po(e))}if(!(t instanceof Array)&&bwe){const n=[];let r=!1;if(Sa(t,(a,l)=>{if(a.substring(0,1)!=="."){const u=Po(l);u.isEmpty()||(r=r||!u.getPriority().isEmpty(),n.push(new On(a,u)))}}),n.length===0)return Jt.EMPTY_NODE;const o=Tx(n,dwe,a=>a.name,U2);if(r){const a=Tx(n,wi.getCompare());return new Jt(o,Po(e),new hd({".priority":a},{".priority":wi}))}else return new Jt(o,Po(e),hd.Default)}else{let n=Jt.EMPTY_NODE;return Sa(t,(r,i)=>{if(Cf(t,r)&&r.substring(0,1)!=="."){const o=Po(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(Po(e))}}pwe(Po);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2 extends II{constructor(e){super(),this.indexPath_=e,at(!Rn(e)&&kn(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),o=r.compareTo(i);return o===0?ug(e.name,n.name):o}makePost(e,n){const r=Po(e),i=Jt.EMPTY_NODE.updateChild(this.indexPath_,r);return new On(n,i)}maxPost(){const e=Jt.EMPTY_NODE.updateChild(this.indexPath_,JE);return new On(Gh,e)}toString(){return tE(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ewe extends II{compare(e,n){const r=e.node.compareTo(n.node);return r===0?ug(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return On.MIN}maxPost(){return On.MAX}makePost(e,n){const r=Po(e);return new On(n,r)}toString(){return".value"}}const dY=new Ewe;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hY(t){return{type:"value",snapshotNode:t}}function gy(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function nE(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function rE(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function wwe(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e){this.index_=e}updateChild(e,n,r,i,o,a){at(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=e.getImmediateChild(n);return l.getChild(i).equals(r.getChild(i))&&l.isEmpty()===r.isEmpty()||(a!=null&&(r.isEmpty()?e.hasChild(n)?a.trackChildChange(nE(n,l)):at(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?a.trackChildChange(gy(n,r)):a.trackChildChange(rE(n,r,l))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(wi,(i,o)=>{n.hasChild(i)||r.trackChildChange(nE(i,o))}),n.isLeafNode()||n.forEachChild(wi,(i,o)=>{if(e.hasChild(i)){const a=e.getImmediateChild(i);a.equals(o)||r.trackChildChange(rE(i,o,a))}else r.trackChildChange(gy(i,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Jt.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(e){this.indexedFilter_=new B2(e.getIndex()),this.index_=e.getIndex(),this.startPost_=iE.getStartPost_(e),this.endPost_=iE.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,o,a){return this.matches(new On(n,r))||(r=Jt.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,o,a)}updateFullNode(e,n,r){n.isLeafNode()&&(n=Jt.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(Jt.EMPTY_NODE);const o=this;return n.forEachChild(wi,(a,l)=>{o.matches(new On(a,l))||(i=i.updateImmediateChild(a,Jt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cwe{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new iE(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,o,a){return this.rangedFilter_.matches(new On(n,r))||(r=Jt.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,o,a):this.fullLimitUpdateChild_(e,n,r,o,a)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=Jt.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=Jt.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let a=0;for(;o.hasNext()&&a<this.limit_;){const l=o.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))i=i.updateImmediateChild(l.name,l.node),a++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(Jt.EMPTY_NODE);let o;this.reverse_?o=i.getReverseIterator(this.index_):o=i.getIterator(this.index_);let a=0;for(;o.hasNext();){const l=o.getNext();a<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?a++:i=i.updateImmediateChild(l.name,Jt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,o){let a;if(this.reverse_){const g=this.index_.getCompare();a=(y,w)=>g(w,y)}else a=this.index_.getCompare();const l=e;at(l.numChildren()===this.limit_,"");const u=new On(n,r),f=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),h=this.rangedFilter_.matches(u);if(l.hasChild(n)){const g=l.getImmediateChild(n);let y=i.getChildAfterChild(this.index_,f,this.reverse_);for(;y!=null&&(y.name===n||l.hasChild(y.name));)y=i.getChildAfterChild(this.index_,y,this.reverse_);const w=y==null?1:a(y,u);if(h&&!r.isEmpty()&&w>=0)return o!=null&&o.trackChildChange(rE(n,r,g)),l.updateImmediateChild(n,r);{o!=null&&o.trackChildChange(nE(n,g));const C=l.updateImmediateChild(n,Jt.EMPTY_NODE);return y!=null&&this.rangedFilter_.matches(y)?(o!=null&&o.trackChildChange(gy(y.name,y.node)),C.updateImmediateChild(y.name,y.node)):C}}else return r.isEmpty()?e:h&&a(f,u)>=0?(o!=null&&(o.trackChildChange(nE(f.name,f.node)),o.trackChildChange(gy(n,r))),l.updateImmediateChild(n,r).updateImmediateChild(f.name,Jt.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=wi}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return at(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return at(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Bm}hasEnd(){return this.endSet_}getIndexEndValue(){return at(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return at(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Gh}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return at(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===wi}copy(){const e=new $2;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Swe(t){return t.loadsAllData()?new B2(t.getIndex()):t.hasLimit()?new Cwe(t):new iE(t)}function Twe(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="l",n}function xwe(t,e,n){const r=t.copy();return r.startSet_=!0,e===void 0&&(e=null),r.indexStartValue_=e,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function Awe(t,e,n){const r=t.copy();return r.endSet_=!0,e===void 0&&(e=null),r.indexEndValue_=e,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function Iwe(t,e){const n=t.copy();return n.index_=e,n}function n9(t){const e={};if(t.isDefault())return e;let n;if(t.index_===wi?n="$priority":t.index_===dY?n="$value":t.index_===Sm?n="$key":(at(t.index_ instanceof V2,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=No(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=No(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+No(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=No(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+No(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function r9(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==wi&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx extends rY{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(at(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=XE("p:rest:"),this.listens_={}}listen(e,n,r,i){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const a=xx.getListenId_(e,r),l={};this.listens_[a]=l;const u=n9(e._queryParams);this.restRequest_(o+".json",u,(f,h)=>{let g=h;if(f===404&&(g=null,f=null),f===null&&this.onDataUpdate_(o,g,!1,r),my(this.listens_,a)===l){let y;f?f===401?y="permission_denied":y="rest_error:"+f:y="ok",i(y,null)}})}unlisten(e,n){const r=xx.getListenId_(e,n);delete this.listens_[r]}get(e){const n=n9(e._queryParams),r=e._path.toString(),i=new KE;return this.restRequest_(r+".json",n,(o,a)=>{let l=a;o===404&&(l=null,o=null),o===null?(this.onDataUpdate_(r,l,!1,null),i.resolve(l)):i.reject(new Error(l))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+T2(n);this.log_("Sending REST request for "+a);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&l.readyState===4){this.log_("REST Response for "+a+" received. status:",l.status,"response:",l.responseText);let u=null;if(l.status>=200&&l.status<300){try{u=X0(l.responseText)}catch{ps("Failed to parse JSON response for "+a+": "+l.responseText)}r(null,u)}else l.status!==401&&l.status!==404&&ps("Got unsuccessful REST response for "+a+" Status: "+l.status),r(l.status);r=null}},l.open("GET",a,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kwe{constructor(){this.rootNode_=Jt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ax(){return{value:null,children:new Map}}function pY(t,e,n){if(Rn(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=kn(e);t.children.has(r)||t.children.set(r,Ax());const i=t.children.get(r);e=Hr(e),pY(i,e,n)}}function kL(t,e,n){t.value!==null?n(e,t.value):Rwe(t,(r,i)=>{const o=new Er(e.toString()+"/"+r);kL(i,o,n)})}function Rwe(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Owe{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Sa(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i9=10*1e3,Pwe=30*1e3,Nwe=5*60*1e3;class Lwe{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Owe(e);const r=i9+(Pwe-i9)*Math.random();a0(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Sa(e,(i,o)=>{o>0&&Cf(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),a0(this.reportStats_.bind(this),Math.floor(Math.random()*2*Nwe))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gu;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Gu||(Gu={}));function H2(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function j2(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function z2(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Gu.ACK_USER_WRITE,this.source=H2()}operationForChild(e){if(Rn(this.path)){if(this.affectedTree.value!=null)return at(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Er(e));return new Ix(or(),n,this.revert)}}else return at(kn(this.path)===e,"operationForChild called for unrelated child."),new Ix(Hr(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(e,n){this.source=e,this.path=n,this.type=Gu.LISTEN_COMPLETE}operationForChild(e){return Rn(this.path)?new oE(this.source,or()):new oE(this.source,Hr(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Gu.OVERWRITE}operationForChild(e){return Rn(this.path)?new $m(this.source,or(),this.snap.getImmediateChild(e)):new $m(this.source,Hr(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Gu.MERGE}operationForChild(e){if(Rn(this.path)){const n=this.children.subtree(new Er(e));return n.isEmpty()?null:n.value?new $m(this.source,or(),n.value):new vy(this.source,or(),n)}else return at(kn(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new vy(this.source,Hr(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Rn(e))return this.isFullyInitialized()&&!this.filtered_;const n=kn(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dwe{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Mwe(t,e,n,r){const i=[],o=[];return e.forEach(a=>{a.type==="child_changed"&&t.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&o.push(wwe(a.childName,a.snapshotNode))}),_b(t,i,"child_removed",e,r,n),_b(t,i,"child_added",e,r,n),_b(t,i,"child_moved",o,r,n),_b(t,i,"child_changed",e,r,n),_b(t,i,"value",e,r,n),i}function _b(t,e,n,r,i,o){const a=r.filter(l=>l.type===n);a.sort((l,u)=>Uwe(t,l,u)),a.forEach(l=>{const u=Fwe(t,l,o);i.forEach(f=>{f.respondsTo(l.type)&&e.push(f.createEvent(u,t.query_))})})}function Fwe(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function Uwe(t,e,n){if(e.childName==null||n.childName==null)throw Yy("Should only compare child_ events.");const r=new On(e.childName,e.snapshotNode),i=new On(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kI(t,e){return{eventCache:t,serverCache:e}}function s0(t,e,n,r){return kI(new Qh(e,n,r),t.serverCache)}function mY(t,e,n,r){return kI(t.eventCache,new Qh(e,n,r))}function kx(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Hm(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let QR;const Vwe=()=>(QR||(QR=new Qc(EEe)),QR);class $r{static fromObject(e){let n=new $r(null);return Sa(e,(r,i)=>{n=n.set(new Er(r),i)}),n}constructor(e,n=Vwe()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:or(),value:this.value};if(Rn(e))return null;{const r=kn(e),i=this.children.get(r);if(i!==null){const o=i.findRootMostMatchingPathAndValue(Hr(e),n);return o!=null?{path:Hi(new Er(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Rn(e))return this;{const n=kn(e),r=this.children.get(n);return r!==null?r.subtree(Hr(e)):new $r(null)}}set(e,n){if(Rn(e))return new $r(n,this.children);{const r=kn(e),o=(this.children.get(r)||new $r(null)).set(Hr(e),n),a=this.children.insert(r,o);return new $r(this.value,a)}}remove(e){if(Rn(e))return this.children.isEmpty()?new $r(null):new $r(null,this.children);{const n=kn(e),r=this.children.get(n);if(r){const i=r.remove(Hr(e));let o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new $r(null):new $r(this.value,o)}else return this}}get(e){if(Rn(e))return this.value;{const n=kn(e),r=this.children.get(n);return r?r.get(Hr(e)):null}}setTree(e,n){if(Rn(e))return n;{const r=kn(e),o=(this.children.get(r)||new $r(null)).setTree(Hr(e),n);let a;return o.isEmpty()?a=this.children.remove(r):a=this.children.insert(r,o),new $r(this.value,a)}}fold(e){return this.fold_(or(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(Hi(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,or(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(Rn(e))return null;{const o=kn(e),a=this.children.get(o);return a?a.findOnPath_(Hr(e),Hi(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,or(),n)}foreachOnPath_(e,n,r){if(Rn(e))return this;{this.value&&r(n,this.value);const i=kn(e),o=this.children.get(i);return o?o.foreachOnPath_(Hr(e),Hi(n,i),r):new $r(null)}}foreach(e){this.foreach_(or(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Hi(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e){this.writeTree_=e}static empty(){return new Zu(new $r(null))}}function l0(t,e,n){if(Rn(e))return new Zu(new $r(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let o=r.value;const a=fs(i,e);return o=o.updateChild(a,n),new Zu(t.writeTree_.set(i,o))}else{const i=new $r(n),o=t.writeTree_.setTree(e,i);return new Zu(o)}}}function RL(t,e,n){let r=t;return Sa(n,(i,o)=>{r=l0(r,Hi(e,i),o)}),r}function o9(t,e){if(Rn(e))return Zu.empty();{const n=t.writeTree_.setTree(e,new $r(null));return new Zu(n)}}function OL(t,e){return cg(t,e)!=null}function cg(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(fs(n.path,e)):null}function a9(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(wi,(r,i)=>{e.push(new On(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new On(r,i.value))}),e}function Dh(t,e){if(Rn(e))return t;{const n=cg(t,e);return n!=null?new Zu(new $r(n)):new Zu(t.writeTree_.subtree(e))}}function PL(t){return t.writeTree_.isEmpty()}function yy(t,e){return gY(or(),t.writeTree_,e)}function gY(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{i===".priority"?(at(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=gY(Hi(t,i),o,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Hi(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RI(t,e){return bY(e,t)}function Bwe(t,e,n,r,i){at(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=l0(t.visibleWrites,e,n)),t.lastWriteId=r}function $we(t,e,n,r){at(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=RL(t.visibleWrites,e,n),t.lastWriteId=r}function Hwe(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function jwe(t,e){const n=t.allWrites.findIndex(l=>l.writeId===e);at(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,o=!1,a=t.allWrites.length-1;for(;i&&a>=0;){const l=t.allWrites[a];l.visible&&(a>=n&&zwe(l,r.path)?i=!1:su(r.path,l.path)&&(o=!0)),a--}if(i){if(o)return Wwe(t),!0;if(r.snap)t.visibleWrites=o9(t.visibleWrites,r.path);else{const l=r.children;Sa(l,u=>{t.visibleWrites=o9(t.visibleWrites,Hi(r.path,u))})}return!0}else return!1}function zwe(t,e){if(t.snap)return su(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&su(Hi(t.path,n),e))return!0;return!1}function Wwe(t){t.visibleWrites=vY(t.allWrites,qwe,or()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function qwe(t){return t.visible}function vY(t,e,n){let r=Zu.empty();for(let i=0;i<t.length;++i){const o=t[i];if(e(o)){const a=o.path;let l;if(o.snap)su(n,a)?(l=fs(n,a),r=l0(r,l,o.snap)):su(a,n)&&(l=fs(a,n),r=l0(r,or(),o.snap.getChild(l)));else if(o.children){if(su(n,a))l=fs(n,a),r=RL(r,l,o.children);else if(su(a,n))if(l=fs(a,n),Rn(l))r=RL(r,or(),o.children);else{const u=my(o.children,kn(l));if(u){const f=u.getChild(Hr(l));r=l0(r,or(),f)}}}else throw Yy("WriteRecord should have .snap or .children")}}return r}function yY(t,e,n,r,i){if(!r&&!i){const o=cg(t.visibleWrites,e);if(o!=null)return o;{const a=Dh(t.visibleWrites,e);if(PL(a))return n;if(n==null&&!OL(a,or()))return null;{const l=n||Jt.EMPTY_NODE;return yy(a,l)}}}else{const o=Dh(t.visibleWrites,e);if(!i&&PL(o))return n;if(!i&&n==null&&!OL(o,or()))return null;{const a=function(f){return(f.visible||i)&&(!r||!~r.indexOf(f.writeId))&&(su(f.path,e)||su(e,f.path))},l=vY(t.allWrites,a,e),u=n||Jt.EMPTY_NODE;return yy(l,u)}}}function Kwe(t,e,n){let r=Jt.EMPTY_NODE;const i=cg(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(wi,(o,a)=>{r=r.updateImmediateChild(o,a)}),r;if(n){const o=Dh(t.visibleWrites,e);return n.forEachChild(wi,(a,l)=>{const u=yy(Dh(o,new Er(a)),l);r=r.updateImmediateChild(a,u)}),a9(o).forEach(a=>{r=r.updateImmediateChild(a.name,a.node)}),r}else{const o=Dh(t.visibleWrites,e);return a9(o).forEach(a=>{r=r.updateImmediateChild(a.name,a.node)}),r}}function Gwe(t,e,n,r,i){at(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=Hi(e,n);if(OL(t.visibleWrites,o))return null;{const a=Dh(t.visibleWrites,o);return PL(a)?i.getChild(n):yy(a,i.getChild(n))}}function Ywe(t,e,n,r){const i=Hi(e,n),o=cg(t.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){const a=Dh(t.visibleWrites,i);return yy(a,r.getNode().getImmediateChild(n))}else return null}function Qwe(t,e){return cg(t.visibleWrites,e)}function Xwe(t,e,n,r,i,o,a){let l;const u=Dh(t.visibleWrites,e),f=cg(u,or());if(f!=null)l=f;else if(n!=null)l=yy(u,n);else return[];if(l=l.withIndex(a),!l.isEmpty()&&!l.isLeafNode()){const h=[],g=a.getCompare(),y=o?l.getReverseIteratorFrom(r,a):l.getIteratorFrom(r,a);let w=y.getNext();for(;w&&h.length<i;)g(w,r)!==0&&h.push(w),w=y.getNext();return h}else return[]}function Jwe(){return{visibleWrites:Zu.empty(),allWrites:[],lastWriteId:-1}}function Rx(t,e,n,r){return yY(t.writeTree,t.treePath,e,n,r)}function W2(t,e){return Kwe(t.writeTree,t.treePath,e)}function s9(t,e,n,r){return Gwe(t.writeTree,t.treePath,e,n,r)}function Ox(t,e){return Qwe(t.writeTree,Hi(t.treePath,e))}function Zwe(t,e,n,r,i,o){return Xwe(t.writeTree,t.treePath,e,n,r,i,o)}function q2(t,e,n){return Ywe(t.writeTree,t.treePath,e,n)}function _Y(t,e){return bY(Hi(t.treePath,e),t.writeTree)}function bY(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eCe{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;at(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),at(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,rE(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,nE(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,gy(r,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,rE(r,e.snapshotNode,i.oldSnap));else throw Yy("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tCe{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const EY=new tCe;class K2{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Qh(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return q2(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Hm(this.viewCache_),o=Zwe(this.writes_,i,n,1,r,e);return o.length===0?null:o[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nCe(t){return{filter:t}}function rCe(t,e){at(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),at(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function iCe(t,e,n,r,i){const o=new eCe;let a,l;if(n.type===Gu.OVERWRITE){const f=n;f.source.fromUser?a=NL(t,e,f.path,f.snap,r,i,o):(at(f.source.fromServer,"Unknown source."),l=f.source.tagged||e.serverCache.isFiltered()&&!Rn(f.path),a=Px(t,e,f.path,f.snap,r,i,l,o))}else if(n.type===Gu.MERGE){const f=n;f.source.fromUser?a=aCe(t,e,f.path,f.children,r,i,o):(at(f.source.fromServer,"Unknown source."),l=f.source.tagged||e.serverCache.isFiltered(),a=LL(t,e,f.path,f.children,r,i,l,o))}else if(n.type===Gu.ACK_USER_WRITE){const f=n;f.revert?a=uCe(t,e,f.path,r,i,o):a=sCe(t,e,f.path,f.affectedTree,r,i,o)}else if(n.type===Gu.LISTEN_COMPLETE)a=lCe(t,e,n.path,r,o);else throw Yy("Unknown operation type: "+n.type);const u=o.getChanges();return oCe(e,a,u),{viewCache:a,changes:u}}function oCe(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=kx(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(hY(kx(e)))}}function wY(t,e,n,r,i,o){const a=e.eventCache;if(Ox(r,n)!=null)return e;{let l,u;if(Rn(n))if(at(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const f=Hm(e),h=f instanceof Jt?f:Jt.EMPTY_NODE,g=W2(r,h);l=t.filter.updateFullNode(e.eventCache.getNode(),g,o)}else{const f=Rx(r,Hm(e));l=t.filter.updateFullNode(e.eventCache.getNode(),f,o)}else{const f=kn(n);if(f===".priority"){at(Yh(n)===1,"Can't have a priority with additional path components");const h=a.getNode();u=e.serverCache.getNode();const g=s9(r,n,h,u);g!=null?l=t.filter.updatePriority(h,g):l=a.getNode()}else{const h=Hr(n);let g;if(a.isCompleteForChild(f)){u=e.serverCache.getNode();const y=s9(r,n,a.getNode(),u);y!=null?g=a.getNode().getImmediateChild(f).updateChild(h,y):g=a.getNode().getImmediateChild(f)}else g=q2(r,f,e.serverCache);g!=null?l=t.filter.updateChild(a.getNode(),f,g,h,i,o):l=a.getNode()}}return s0(e,l,a.isFullyInitialized()||Rn(n),t.filter.filtersNodes())}}function Px(t,e,n,r,i,o,a,l){const u=e.serverCache;let f;const h=a?t.filter:t.filter.getIndexedFilter();if(Rn(n))f=h.updateFullNode(u.getNode(),r,null);else if(h.filtersNodes()&&!u.isFiltered()){const w=u.getNode().updateChild(n,r);f=h.updateFullNode(u.getNode(),w,null)}else{const w=kn(n);if(!u.isCompleteForPath(n)&&Yh(n)>1)return e;const T=Hr(n),R=u.getNode().getImmediateChild(w).updateChild(T,r);w===".priority"?f=h.updatePriority(u.getNode(),R):f=h.updateChild(u.getNode(),w,R,T,EY,null)}const g=mY(e,f,u.isFullyInitialized()||Rn(n),h.filtersNodes()),y=new K2(i,g,o);return wY(t,g,n,i,y,l)}function NL(t,e,n,r,i,o,a){const l=e.eventCache;let u,f;const h=new K2(i,e,o);if(Rn(n))f=t.filter.updateFullNode(e.eventCache.getNode(),r,a),u=s0(e,f,!0,t.filter.filtersNodes());else{const g=kn(n);if(g===".priority")f=t.filter.updatePriority(e.eventCache.getNode(),r),u=s0(e,f,l.isFullyInitialized(),l.isFiltered());else{const y=Hr(n),w=l.getNode().getImmediateChild(g);let T;if(Rn(y))T=r;else{const C=h.getCompleteChild(g);C!=null?D2(y)===".priority"&&C.getChild(oY(y)).isEmpty()?T=C:T=C.updateChild(y,r):T=Jt.EMPTY_NODE}if(w.equals(T))u=e;else{const C=t.filter.updateChild(l.getNode(),g,T,y,h,a);u=s0(e,C,l.isFullyInitialized(),t.filter.filtersNodes())}}}return u}function l9(t,e){return t.eventCache.isCompleteForChild(e)}function aCe(t,e,n,r,i,o,a){let l=e;return r.foreach((u,f)=>{const h=Hi(n,u);l9(e,kn(h))&&(l=NL(t,l,h,f,i,o,a))}),r.foreach((u,f)=>{const h=Hi(n,u);l9(e,kn(h))||(l=NL(t,l,h,f,i,o,a))}),l}function u9(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function LL(t,e,n,r,i,o,a,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let u=e,f;Rn(n)?f=r:f=new $r(null).setTree(n,r);const h=e.serverCache.getNode();return f.children.inorderTraversal((g,y)=>{if(h.hasChild(g)){const w=e.serverCache.getNode().getImmediateChild(g),T=u9(t,w,y);u=Px(t,u,new Er(g),T,i,o,a,l)}}),f.children.inorderTraversal((g,y)=>{const w=!e.serverCache.isCompleteForChild(g)&&y.value===null;if(!h.hasChild(g)&&!w){const T=e.serverCache.getNode().getImmediateChild(g),C=u9(t,T,y);u=Px(t,u,new Er(g),C,i,o,a,l)}}),u}function sCe(t,e,n,r,i,o,a){if(Ox(i,n)!=null)return e;const l=e.serverCache.isFiltered(),u=e.serverCache;if(r.value!=null){if(Rn(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Px(t,e,n,u.getNode().getChild(n),i,o,l,a);if(Rn(n)){let f=new $r(null);return u.getNode().forEachChild(Sm,(h,g)=>{f=f.set(new Er(h),g)}),LL(t,e,n,f,i,o,l,a)}else return e}else{let f=new $r(null);return r.foreach((h,g)=>{const y=Hi(n,h);u.isCompleteForPath(y)&&(f=f.set(h,u.getNode().getChild(y)))}),LL(t,e,n,f,i,o,l,a)}}function lCe(t,e,n,r,i){const o=e.serverCache,a=mY(e,o.getNode(),o.isFullyInitialized()||Rn(n),o.isFiltered());return wY(t,a,n,r,EY,i)}function uCe(t,e,n,r,i,o){let a;if(Ox(r,n)!=null)return e;{const l=new K2(r,e,i),u=e.eventCache.getNode();let f;if(Rn(n)||kn(n)===".priority"){let h;if(e.serverCache.isFullyInitialized())h=Rx(r,Hm(e));else{const g=e.serverCache.getNode();at(g instanceof Jt,"serverChildren would be complete if leaf node"),h=W2(r,g)}h=h,f=t.filter.updateFullNode(u,h,o)}else{const h=kn(n);let g=q2(r,h,e.serverCache);g==null&&e.serverCache.isCompleteForChild(h)&&(g=u.getImmediateChild(h)),g!=null?f=t.filter.updateChild(u,h,g,Hr(n),l,o):e.eventCache.getNode().hasChild(h)?f=t.filter.updateChild(u,h,Jt.EMPTY_NODE,Hr(n),l,o):f=u,f.isEmpty()&&e.serverCache.isFullyInitialized()&&(a=Rx(r,Hm(e)),a.isLeafNode()&&(f=t.filter.updateFullNode(f,a,o)))}return a=e.serverCache.isFullyInitialized()||Ox(r,or())!=null,s0(e,f,a,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cCe{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new B2(r.getIndex()),o=Swe(r);this.processor_=nCe(o);const a=n.serverCache,l=n.eventCache,u=i.updateFullNode(Jt.EMPTY_NODE,a.getNode(),null),f=o.updateFullNode(Jt.EMPTY_NODE,l.getNode(),null),h=new Qh(u,a.isFullyInitialized(),i.filtersNodes()),g=new Qh(f,l.isFullyInitialized(),o.filtersNodes());this.viewCache_=kI(g,h),this.eventGenerator_=new Dwe(this.query_)}get query(){return this.query_}}function fCe(t){return t.viewCache_.serverCache.getNode()}function dCe(t){return kx(t.viewCache_)}function hCe(t,e){const n=Hm(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Rn(e)&&!n.getImmediateChild(kn(e)).isEmpty())?n.getChild(e):null}function c9(t){return t.eventRegistrations_.length===0}function pCe(t,e){t.eventRegistrations_.push(e)}function f9(t,e,n){const r=[];if(n){at(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(o=>{const a=o.createCancelEvent(n,i);a&&r.push(a)})}if(e){let i=[];for(let o=0;o<t.eventRegistrations_.length;++o){const a=t.eventRegistrations_[o];if(!a.matches(e))i.push(a);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(o+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function d9(t,e,n,r){e.type===Gu.MERGE&&e.source.queryId!==null&&(at(Hm(t.viewCache_),"We should always have a full cache before handling merges"),at(kx(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,o=iCe(t.processor_,i,e,n,r);return rCe(t.processor_,o.viewCache),at(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,CY(t,o.changes,o.viewCache.eventCache.getNode(),null)}function mCe(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(wi,(o,a)=>{r.push(gy(o,a))}),n.isFullyInitialized()&&r.push(hY(n.getNode())),CY(t,r,n.getNode(),e)}function CY(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return Mwe(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nx;class SY{constructor(){this.views=new Map}}function gCe(t){at(!Nx,"__referenceConstructor has already been defined"),Nx=t}function vCe(){return at(Nx,"Reference.ts has not been loaded"),Nx}function yCe(t){return t.views.size===0}function G2(t,e,n,r){const i=e.source.queryId;if(i!==null){const o=t.views.get(i);return at(o!=null,"SyncTree gave us an op for an invalid query."),d9(o,e,n,r)}else{let o=[];for(const a of t.views.values())o=o.concat(d9(a,e,n,r));return o}}function TY(t,e,n,r,i){const o=e._queryIdentifier,a=t.views.get(o);if(!a){let l=Rx(n,i?r:null),u=!1;l?u=!0:r instanceof Jt?(l=W2(n,r),u=!1):(l=Jt.EMPTY_NODE,u=!1);const f=kI(new Qh(l,u,!1),new Qh(r,i,!1));return new cCe(e,f)}return a}function _Ce(t,e,n,r,i,o){const a=TY(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,a),pCe(a,n),mCe(a,n)}function bCe(t,e,n,r){const i=e._queryIdentifier,o=[];let a=[];const l=Xh(t);if(i==="default")for(const[u,f]of t.views.entries())a=a.concat(f9(f,n,r)),c9(f)&&(t.views.delete(u),f.query._queryParams.loadsAllData()||o.push(f.query));else{const u=t.views.get(i);u&&(a=a.concat(f9(u,n,r)),c9(u)&&(t.views.delete(i),u.query._queryParams.loadsAllData()||o.push(u.query)))}return l&&!Xh(t)&&o.push(new(vCe())(e._repo,e._path)),{removed:o,events:a}}function xY(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Mh(t,e){let n=null;for(const r of t.views.values())n=n||hCe(r,e);return n}function AY(t,e){if(e._queryParams.loadsAllData())return OI(t);{const r=e._queryIdentifier;return t.views.get(r)}}function IY(t,e){return AY(t,e)!=null}function Xh(t){return OI(t)!=null}function OI(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lx;function ECe(t){at(!Lx,"__referenceConstructor has already been defined"),Lx=t}function wCe(){return at(Lx,"Reference.ts has not been loaded"),Lx}let CCe=1;class h9{constructor(e){this.listenProvider_=e,this.syncPointTree_=new $r(null),this.pendingWriteTree_=Jwe(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function kY(t,e,n,r,i){return Bwe(t.pendingWriteTree_,e,n,r,i),i?Xy(t,new $m(H2(),e,n)):[]}function SCe(t,e,n,r){$we(t.pendingWriteTree_,e,n,r);const i=$r.fromObject(n);return Xy(t,new vy(H2(),e,i))}function Eh(t,e,n=!1){const r=Hwe(t.pendingWriteTree_,e);if(jwe(t.pendingWriteTree_,e)){let o=new $r(null);return r.snap!=null?o=o.set(or(),!0):Sa(r.children,a=>{o=o.set(new Er(a),!0)}),Xy(t,new Ix(r.path,o,n))}else return[]}function ZE(t,e,n){return Xy(t,new $m(j2(),e,n))}function TCe(t,e,n){const r=$r.fromObject(n);return Xy(t,new vy(j2(),e,r))}function xCe(t,e){return Xy(t,new oE(j2(),e))}function ACe(t,e,n){const r=Q2(t,n);if(r){const i=X2(r),o=i.path,a=i.queryId,l=fs(o,e),u=new oE(z2(a),l);return J2(t,o,u)}else return[]}function Dx(t,e,n,r,i=!1){const o=e._path,a=t.syncPointTree_.get(o);let l=[];if(a&&(e._queryIdentifier==="default"||IY(a,e))){const u=bCe(a,e,n,r);yCe(a)&&(t.syncPointTree_=t.syncPointTree_.remove(o));const f=u.removed;if(l=u.events,!i){const h=f.findIndex(y=>y._queryParams.loadsAllData())!==-1,g=t.syncPointTree_.findOnPath(o,(y,w)=>Xh(w));if(h&&!g){const y=t.syncPointTree_.subtree(o);if(!y.isEmpty()){const w=RCe(y);for(let T=0;T<w.length;++T){const C=w[T],R=C.query,I=NY(t,C);t.listenProvider_.startListening(u0(R),aE(t,R),I.hashFn,I.onComplete)}}}!g&&f.length>0&&!r&&(h?t.listenProvider_.stopListening(u0(e),null):f.forEach(y=>{const w=t.queryToTagMap.get(PI(y));t.listenProvider_.stopListening(u0(y),w)}))}OCe(t,f)}return l}function RY(t,e,n,r){const i=Q2(t,r);if(i!=null){const o=X2(i),a=o.path,l=o.queryId,u=fs(a,e),f=new $m(z2(l),u,n);return J2(t,a,f)}else return[]}function ICe(t,e,n,r){const i=Q2(t,r);if(i){const o=X2(i),a=o.path,l=o.queryId,u=fs(a,e),f=$r.fromObject(n),h=new vy(z2(l),u,f);return J2(t,a,h)}else return[]}function DL(t,e,n,r=!1){const i=e._path;let o=null,a=!1;t.syncPointTree_.foreachOnPath(i,(y,w)=>{const T=fs(y,i);o=o||Mh(w,T),a=a||Xh(w)});let l=t.syncPointTree_.get(i);l?(a=a||Xh(l),o=o||Mh(l,or())):(l=new SY,t.syncPointTree_=t.syncPointTree_.set(i,l));let u;o!=null?u=!0:(u=!1,o=Jt.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((w,T)=>{const C=Mh(T,or());C&&(o=o.updateImmediateChild(w,C))}));const f=IY(l,e);if(!f&&!e._queryParams.loadsAllData()){const y=PI(e);at(!t.queryToTagMap.has(y),"View does not exist, but we have a tag");const w=PCe();t.queryToTagMap.set(y,w),t.tagToQueryMap.set(w,y)}const h=RI(t.pendingWriteTree_,i);let g=_Ce(l,e,n,h,o,u);if(!f&&!a&&!r){const y=AY(l,e);g=g.concat(NCe(t,e,y))}return g}function Y2(t,e,n){const i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(a,l)=>{const u=fs(a,e),f=Mh(l,u);if(f)return f});return yY(i,e,o,n,!0)}function kCe(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(f,h)=>{const g=fs(f,n);r=r||Mh(h,g)});let i=t.syncPointTree_.get(n);i?r=r||Mh(i,or()):(i=new SY,t.syncPointTree_=t.syncPointTree_.set(n,i));const o=r!=null,a=o?new Qh(r,!0,!1):null,l=RI(t.pendingWriteTree_,e._path),u=TY(i,e,l,o?a.getNode():Jt.EMPTY_NODE,o);return dCe(u)}function Xy(t,e){return OY(e,t.syncPointTree_,null,RI(t.pendingWriteTree_,or()))}function OY(t,e,n,r){if(Rn(t.path))return PY(t,e,n,r);{const i=e.get(or());n==null&&i!=null&&(n=Mh(i,or()));let o=[];const a=kn(t.path),l=t.operationForChild(a),u=e.children.get(a);if(u&&l){const f=n?n.getImmediateChild(a):null,h=_Y(r,a);o=o.concat(OY(l,u,f,h))}return i&&(o=o.concat(G2(i,t,r,n))),o}}function PY(t,e,n,r){const i=e.get(or());n==null&&i!=null&&(n=Mh(i,or()));let o=[];return e.children.inorderTraversal((a,l)=>{const u=n?n.getImmediateChild(a):null,f=_Y(r,a),h=t.operationForChild(a);h&&(o=o.concat(PY(h,l,u,f)))}),i&&(o=o.concat(G2(i,t,r,n))),o}function NY(t,e){const n=e.query,r=aE(t,n);return{hashFn:()=>(fCe(e)||Jt.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?ACe(t,n._path,r):xCe(t,n._path);{const o=SEe(i,n);return Dx(t,n,null,o)}}}}function aE(t,e){const n=PI(e);return t.queryToTagMap.get(n)}function PI(t){return t._path.toString()+"$"+t._queryIdentifier}function Q2(t,e){return t.tagToQueryMap.get(e)}function X2(t){const e=t.indexOf("$");return at(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Er(t.substr(0,e))}}function J2(t,e,n){const r=t.syncPointTree_.get(e);at(r,"Missing sync point for query tag that we're tracking");const i=RI(t.pendingWriteTree_,e);return G2(r,n,i,null)}function RCe(t){return t.fold((e,n,r)=>{if(n&&Xh(n))return[OI(n)];{let i=[];return n&&(i=xY(n)),Sa(r,(o,a)=>{i=i.concat(a)}),i}})}function u0(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(wCe())(t._repo,t._path):t}function OCe(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=PI(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}function PCe(){return CCe++}function NCe(t,e,n){const r=e._path,i=aE(t,e),o=NY(t,n),a=t.listenProvider_.startListening(u0(e),i,o.hashFn,o.onComplete),l=t.syncPointTree_.subtree(r);if(i)at(!Xh(l.value),"If we're adding a query, it shouldn't be shadowed");else{const u=l.fold((f,h,g)=>{if(!Rn(f)&&h&&Xh(h))return[OI(h).query];{let y=[];return h&&(y=y.concat(xY(h).map(w=>w.query))),Sa(g,(w,T)=>{y=y.concat(T)}),y}});for(let f=0;f<u.length;++f){const h=u[f];t.listenProvider_.stopListening(u0(h),aE(t,h))}}return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Z2(n)}node(){return this.node_}}class eU{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Hi(this.path_,e);return new eU(this.syncTree_,n)}node(){return Y2(this.syncTree_,this.path_)}}const LCe=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},p9=function(t,e,n){if(!t||typeof t!="object")return t;if(at(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return DCe(t[".sv"],e,n);if(typeof t[".sv"]=="object")return MCe(t[".sv"],e);at(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},DCe=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:at(!1,"Unexpected server value: "+t)}},MCe=function(t,e,n){t.hasOwnProperty("increment")||at(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&at(!1,"Unexpected increment value: "+r);const i=e.node();if(at(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const a=i.getValue();return typeof a!="number"?r:a+r},LY=function(t,e,n,r){return tU(e,new eU(n,t),r)},DY=function(t,e,n){return tU(t,new Z2(e),n)};function tU(t,e,n){const r=t.getPriority().val(),i=p9(r,e.getImmediateChild(".priority"),n);let o;if(t.isLeafNode()){const a=t,l=p9(a.getValue(),e,n);return l!==a.getValue()||i!==a.getPriority().val()?new Qo(l,Po(i)):t}else{const a=t;return o=a,i!==a.getPriority().val()&&(o=o.updatePriority(new Qo(i))),a.forEachChild(wi,(l,u)=>{const f=tU(u,e.getImmediateChild(l),n);f!==u&&(o=o.updateImmediateChild(l,f))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function rU(t,e){let n=e instanceof Er?e:new Er(e),r=t,i=kn(n);for(;i!==null;){const o=my(r.node.children,i)||{children:{},childCount:0};r=new nU(i,r,o),n=Hr(n),i=kn(n)}return r}function Jy(t){return t.node.value}function MY(t,e){t.node.value=e,ML(t)}function FY(t){return t.node.childCount>0}function FCe(t){return Jy(t)===void 0&&!FY(t)}function NI(t,e){Sa(t.node.children,(n,r)=>{e(new nU(n,t,r))})}function UY(t,e,n,r){n&&e(t),NI(t,i=>{UY(i,e,!0)})}function UCe(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function ew(t){return new Er(t.parent===null?t.name:ew(t.parent)+"/"+t.name)}function ML(t){t.parent!==null&&VCe(t.parent,t.name,t)}function VCe(t,e,n){const r=FCe(n),i=Cf(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,ML(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,ML(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BCe=/[\[\].#$\/\u0000-\u001F\u007F]/,$Ce=/[\[\].#$\u0000-\u001F\u007F]/,XR=10*1024*1024,iU=function(t){return typeof t=="string"&&t.length!==0&&!BCe.test(t)},VY=function(t){return typeof t=="string"&&t.length!==0&&!$Ce.test(t)},HCe=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),VY(t)},FL=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!R2(t)||t&&typeof t=="object"&&Cf(t,".sv")},tw=function(t,e,n,r){r&&e===void 0||LI(xI(t,"value"),e,n)},LI=function(t,e,n){const r=n instanceof Er?new iwe(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+nm(r));if(typeof e=="function")throw new Error(t+"contains a function "+nm(r)+" with contents = "+e.toString());if(R2(e))throw new Error(t+"contains "+e.toString()+" "+nm(r));if(typeof e=="string"&&e.length>XR/3&&AI(e)>XR)throw new Error(t+"contains a string greater than "+XR+" utf8 bytes "+nm(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,o=!1;if(Sa(e,(a,l)=>{if(a===".value")i=!0;else if(a!==".priority"&&a!==".sv"&&(o=!0,!iU(a)))throw new Error(t+" contains an invalid key ("+a+") "+nm(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);owe(r,a),LI(t,l,r),awe(r)}),i&&o)throw new Error(t+' contains ".value" child '+nm(r)+" in addition to actual children.")}},jCe=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const o=tE(r);for(let a=0;a<o.length;a++)if(!(o[a]===".priority"&&a===o.length-1)){if(!iU(o[a]))throw new Error(t+"contains an invalid key ("+o[a]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(rwe);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&su(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},zCe=function(t,e,n,r){const i=xI(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const o=[];Sa(e,(a,l)=>{const u=new Er(a);if(LI(i,l,Hi(n,u)),D2(u)===".priority"&&!FL(l))throw new Error(i+"contains an invalid value for '"+u.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(u)}),jCe(i,o)},oU=function(t,e,n,r){if(!VY(n))throw new Error(xI(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},WCe=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),oU(t,e,n)},aU=function(t,e){if(kn(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},qCe=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!iU(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!HCe(n))throw new Error(xI(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KCe{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function DI(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],o=i.getPath();n!==null&&!M2(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function BY(t,e,n){DI(t,n),$Y(t,r=>M2(r,e))}function mu(t,e,n){DI(t,n),$Y(t,r=>su(r,e)||su(e,r))}function $Y(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const o=i.path;e(o)?(GCe(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function GCe(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();o0&&_a("event: "+n.toString()),Qy(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YCe="repo_interrupt",QCe=25;class XCe{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new KCe,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ax(),this.transactionQueueTree_=new nU,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function JCe(t,e,n){if(t.stats_=N2(t.repoInfo_),t.forceRestClient_||IEe())t.server_=new xx(t.repoInfo_,(r,i,o,a)=>{m9(t,r,i,o,a)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>g9(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{No(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new gd(t.repoInfo_,e,(r,i,o,a)=>{m9(t,r,i,o,a)},r=>{g9(t,r)},r=>{ZCe(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=NEe(t.repoInfo_,()=>new Lwe(t.stats_,t.server_)),t.infoData_=new kwe,t.infoSyncTree_=new h9({startListening:(r,i,o,a)=>{let l=[];const u=t.infoData_.getNode(r._path);return u.isEmpty()||(l=ZE(t.infoSyncTree_,r._path,u),setTimeout(()=>{a("ok")},0)),l},stopListening:()=>{}}),sU(t,"connected",!1),t.serverSyncTree_=new h9({startListening:(r,i,o,a)=>(t.server_.listen(r,o,i,(l,u)=>{const f=a(l,u);mu(t.eventQueue_,r._path,f)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function HY(t){const n=t.infoData_.getNode(new Er(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function MI(t){return LCe({timestamp:HY(t)})}function m9(t,e,n,r,i){t.dataUpdateCount++;const o=new Er(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let a=[];if(i)if(r){const u=Ex(n,f=>Po(f));a=ICe(t.serverSyncTree_,o,u,i)}else{const u=Po(n);a=RY(t.serverSyncTree_,o,u,i)}else if(r){const u=Ex(n,f=>Po(f));a=TCe(t.serverSyncTree_,o,u)}else{const u=Po(n);a=ZE(t.serverSyncTree_,o,u)}let l=o;a.length>0&&(l=_y(t,o)),mu(t.eventQueue_,l,a)}function g9(t,e){sU(t,"connected",e),e===!1&&rSe(t)}function ZCe(t,e){Sa(e,(n,r)=>{sU(t,n,r)})}function sU(t,e,n){const r=new Er("/.info/"+e),i=Po(n);t.infoData_.updateSnapshot(r,i);const o=ZE(t.infoSyncTree_,r,i);mu(t.eventQueue_,r,o)}function lU(t){return t.nextWriteId_++}function eSe(t,e,n){const r=kCe(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{const o=Po(i).withIndex(e._queryParams.getIndex());DL(t.serverSyncTree_,e,n,!0);let a;if(e._queryParams.loadsAllData())a=ZE(t.serverSyncTree_,e._path,o);else{const l=aE(t.serverSyncTree_,e);a=RY(t.serverSyncTree_,e._path,o,l)}return mu(t.eventQueue_,e._path,a),Dx(t.serverSyncTree_,e,n,null,!0),o},i=>(nw(t,"get for query "+No(e)+" failed: "+i),Promise.reject(new Error(i))))}function tSe(t,e,n,r,i){nw(t,"set",{path:e.toString(),value:n,priority:r});const o=MI(t),a=Po(n,r),l=Y2(t.serverSyncTree_,e),u=DY(a,l,o),f=lU(t),h=kY(t.serverSyncTree_,e,u,f,!0);DI(t.eventQueue_,h),t.server_.put(e.toString(),a.val(!0),(y,w)=>{const T=y==="ok";T||ps("set at "+e+" failed: "+y);const C=Eh(t.serverSyncTree_,f,!T);mu(t.eventQueue_,e,C),VL(t,i,y,w)});const g=cU(t,e);_y(t,g),mu(t.eventQueue_,g,[])}function nSe(t,e,n,r){nw(t,"update",{path:e.toString(),value:n});let i=!0;const o=MI(t),a={};if(Sa(n,(l,u)=>{i=!1,a[l]=LY(Hi(e,l),Po(u),t.serverSyncTree_,o)}),i)_a("update() called with empty data.  Don't do anything."),VL(t,r,"ok",void 0);else{const l=lU(t),u=SCe(t.serverSyncTree_,e,a,l);DI(t.eventQueue_,u),t.server_.merge(e.toString(),n,(f,h)=>{const g=f==="ok";g||ps("update at "+e+" failed: "+f);const y=Eh(t.serverSyncTree_,l,!g),w=y.length>0?_y(t,e):e;mu(t.eventQueue_,w,y),VL(t,r,f,h)}),Sa(n,f=>{const h=cU(t,Hi(e,f));_y(t,h)}),mu(t.eventQueue_,e,[])}}function rSe(t){nw(t,"onDisconnectEvents");const e=MI(t),n=Ax();kL(t.onDisconnect_,or(),(i,o)=>{const a=LY(i,o,t.serverSyncTree_,e);pY(n,i,a)});let r=[];kL(n,or(),(i,o)=>{r=r.concat(ZE(t.serverSyncTree_,i,o));const a=cU(t,i);_y(t,a)}),t.onDisconnect_=Ax(),mu(t.eventQueue_,or(),r)}function iSe(t,e,n){let r;kn(e._path)===".info"?r=DL(t.infoSyncTree_,e,n):r=DL(t.serverSyncTree_,e,n),BY(t.eventQueue_,e._path,r)}function UL(t,e,n){let r;kn(e._path)===".info"?r=Dx(t.infoSyncTree_,e,n):r=Dx(t.serverSyncTree_,e,n),BY(t.eventQueue_,e._path,r)}function oSe(t){t.persistentConnection_&&t.persistentConnection_.interrupt(YCe)}function nw(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),_a(n,...e)}function VL(t,e,n,r){e&&Qy(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let o=i;r&&(o+=": "+r);const a=new Error(o);a.code=i,e(a)}})}function jY(t,e,n){return Y2(t.serverSyncTree_,e,n)||Jt.EMPTY_NODE}function uU(t,e=t.transactionQueueTree_){if(e||FI(t,e),Jy(e)){const n=WY(t,e);at(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&aSe(t,ew(e),n)}else FY(e)&&NI(e,n=>{uU(t,n)})}function aSe(t,e,n){const r=n.map(f=>f.currentWriteId),i=jY(t,e,r);let o=i;const a=i.hash();for(let f=0;f<n.length;f++){const h=n[f];at(h.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),h.status=1,h.retryCount++;const g=fs(e,h.path);o=o.updateChild(g,h.currentOutputSnapshotRaw)}const l=o.val(!0),u=e;t.server_.put(u.toString(),l,f=>{nw(t,"transaction put response",{path:u.toString(),status:f});let h=[];if(f==="ok"){const g=[];for(let y=0;y<n.length;y++)n[y].status=2,h=h.concat(Eh(t.serverSyncTree_,n[y].currentWriteId)),n[y].onComplete&&g.push(()=>n[y].onComplete(null,!0,n[y].currentOutputSnapshotResolved)),n[y].unwatcher();FI(t,rU(t.transactionQueueTree_,e)),uU(t,t.transactionQueueTree_),mu(t.eventQueue_,e,h);for(let y=0;y<g.length;y++)Qy(g[y])}else{if(f==="datastale")for(let g=0;g<n.length;g++)n[g].status===3?n[g].status=4:n[g].status=0;else{ps("transaction at "+u.toString()+" failed: "+f);for(let g=0;g<n.length;g++)n[g].status=4,n[g].abortReason=f}_y(t,e)}},a)}function _y(t,e){const n=zY(t,e),r=ew(n),i=WY(t,n);return sSe(t,i,r),r}function sSe(t,e,n){if(e.length===0)return;const r=[];let i=[];const a=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const u=e[l],f=fs(n,u.path);let h=!1,g;if(at(f!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),u.status===4)h=!0,g=u.abortReason,i=i.concat(Eh(t.serverSyncTree_,u.currentWriteId,!0));else if(u.status===0)if(u.retryCount>=QCe)h=!0,g="maxretry",i=i.concat(Eh(t.serverSyncTree_,u.currentWriteId,!0));else{const y=jY(t,u.path,a);u.currentInputSnapshot=y;const w=e[l].update(y.val());if(w!==void 0){LI("transaction failed: Data returned ",w,u.path);let T=Po(w);typeof w=="object"&&w!=null&&Cf(w,".priority")||(T=T.updatePriority(y.getPriority()));const R=u.currentWriteId,I=MI(t),k=DY(T,y,I);u.currentOutputSnapshotRaw=T,u.currentOutputSnapshotResolved=k,u.currentWriteId=lU(t),a.splice(a.indexOf(R),1),i=i.concat(kY(t.serverSyncTree_,u.path,k,u.currentWriteId,u.applyLocally)),i=i.concat(Eh(t.serverSyncTree_,R,!0))}else h=!0,g="nodata",i=i.concat(Eh(t.serverSyncTree_,u.currentWriteId,!0))}mu(t.eventQueue_,n,i),i=[],h&&(e[l].status=2,function(y){setTimeout(y,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(g==="nodata"?r.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):r.push(()=>e[l].onComplete(new Error(g),!1,null))))}FI(t,t.transactionQueueTree_);for(let l=0;l<r.length;l++)Qy(r[l]);uU(t,t.transactionQueueTree_)}function zY(t,e){let n,r=t.transactionQueueTree_;for(n=kn(e);n!==null&&Jy(r)===void 0;)r=rU(r,n),e=Hr(e),n=kn(e);return r}function WY(t,e){const n=[];return qY(t,e,n),n.sort((r,i)=>r.order-i.order),n}function qY(t,e,n){const r=Jy(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);NI(e,i=>{qY(t,i,n)})}function FI(t,e){const n=Jy(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,MY(e,n.length>0?n:void 0)}NI(e,r=>{FI(t,r)})}function cU(t,e){const n=ew(zY(t,e)),r=rU(t.transactionQueueTree_,e);return UCe(r,i=>{JR(t,i)}),JR(t,r),UY(r,i=>{JR(t,i)}),n}function JR(t,e){const n=Jy(e);if(n){const r=[];let i=[],o=-1;for(let a=0;a<n.length;a++)n[a].status===3||(n[a].status===1?(at(o===a-1,"All SENT items should be at beginning of queue."),o=a,n[a].status=3,n[a].abortReason="set"):(at(n[a].status===0,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(Eh(t.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));o===-1?MY(e,void 0):n.length=o+1,mu(t.eventQueue_,ew(e),i);for(let a=0;a<r.length;a++)Qy(r[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lSe(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function uSe(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):ps(`Invalid query segment '${n}' in query '${t}'`)}return e}const v9=function(t,e){const n=cSe(t),r=n.namespace;n.domain==="firebase.com"&&wd(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&wd("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||_Ee();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new QG(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new Er(n.pathString)}},cSe=function(t){let e="",n="",r="",i="",o="",a=!0,l="https",u=443;if(typeof t=="string"){let f=t.indexOf("//");f>=0&&(l=t.substring(0,f-1),t=t.substring(f+2));let h=t.indexOf("/");h===-1&&(h=t.length);let g=t.indexOf("?");g===-1&&(g=t.length),e=t.substring(0,Math.min(h,g)),h<g&&(i=lSe(t.substring(h,g)));const y=uSe(t.substring(Math.min(t.length,g)));f=e.indexOf(":"),f>=0?(a=l==="https"||l==="wss",u=parseInt(e.substring(f+1),10)):f=e.length;const w=e.slice(0,f);if(w.toLowerCase()==="localhost")n="localhost";else if(w.split(".").length<=2)n=w;else{const T=e.indexOf(".");r=e.substring(0,T).toLowerCase(),n=e.substring(T+1),o=r}"ns"in y&&(o=y.ns)}return{host:e,port:u,domain:n,subdomain:r,secure:a,scheme:l,pathString:i,namespace:o}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y9="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",fSe=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let i;const o=new Array(8);for(i=7;i>=0;i--)o[i]=y9.charAt(n%64),n=Math.floor(n/64);at(n===0,"Cannot push at time == 0");let a=o.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)a+=y9.charAt(e[i]);return at(a.length===20,"nextPushId: Length should be 20."),a}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KY{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+No(this.snapshot.exportVal())}}class GY{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YY{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return at(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Rn(this._path)?null:D2(this._path)}get ref(){return new Sf(this._repo,this._path)}get _queryIdentifier(){const e=r9(this._queryParams),n=O2(e);return n==="{}"?"default":n}get _queryObject(){return r9(this._queryParams)}isEqual(e){if(e=sr(e),!(e instanceof fg))return!1;const n=this._repo===e._repo,r=M2(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+nwe(this._path)}}function dSe(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function fU(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Sm){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==Bm)throw new Error(r);if(typeof e!="string")throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==Gh)throw new Error(r);if(typeof n!="string")throw new Error(i)}}else if(t.getIndex()===wi){if(e!=null&&!FL(e)||n!=null&&!FL(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(at(t.getIndex()instanceof V2||t.getIndex()===dY,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function QY(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Sf extends fg{constructor(e,n){super(e,n,new $2,!1)}get parent(){const e=oY(this._path);return e===null?null:new Sf(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class by{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Er(e),r=ac(this.ref,e);return new by(this._node.getChild(n),r,wi)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new by(i,ac(this.ref,r),wi)))}hasChild(e){const n=new Er(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function hSe(t,e){return t=sr(t),t._checkNotDeleted("ref"),e!==void 0?ac(t._root,e):t._root}function ac(t,e){return t=sr(t),kn(t._path)===null?WCe("child","path",e):oU("child","path",e),new Sf(t._repo,Hi(t._path,e))}function dU(t,e){t=sr(t),aU("push",t._path),tw("push",e,t._path,!0);const n=HY(t._repo),r=fSe(n),i=ac(t,r),o=ac(t,r);let a;return a=Promise.resolve(o),i.then=a.then.bind(a),i.catch=a.then.bind(a,void 0),i}function XY(t){return aU("remove",t._path),sE(t,null)}function sE(t,e){t=sr(t),aU("set",t._path),tw("set",e,t._path,!1);const n=new KE;return tSe(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function pSe(t,e){zCe("update",e,t._path);const n=new KE;return nSe(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function lE(t){t=sr(t);const e=new YY(()=>{}),n=new UI(e);return eSe(t._repo,t,n).then(r=>new by(r,new Sf(t._repo,t._path),t._queryParams.getIndex()))}class UI{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new KY("value",this,new by(e.snapshotNode,new Sf(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new GY(this,e,n):null}matches(e){return e instanceof UI?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class hU{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new GY(this,e,n):null}createEvent(e,n){at(e.childName!=null,"Child events should have a childName.");const r=ac(new Sf(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new KY(e.type,this,new by(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof hU?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function rw(t,e,n,r,i){let o;if(typeof r=="object"&&(o=void 0,i=r),typeof r=="function"&&(o=r),i&&i.onlyOnce){const u=n,f=(h,g)=>{UL(t._repo,t,l),u(h,g)};f.userCallback=n.userCallback,f.context=n.context,n=f}const a=new YY(n,o||void 0),l=e==="value"?new UI(a):new hU(e,a);return iSe(t._repo,t,l),()=>UL(t._repo,t,l)}function JY(t,e,n,r){return rw(t,"value",e,n,r)}function mSe(t,e,n,r){return rw(t,"child_added",e,n,r)}function gSe(t,e,n,r){return rw(t,"child_changed",e,n,r)}function vSe(t,e,n,r){return rw(t,"child_moved",e,n,r)}function ySe(t,e,n,r){return rw(t,"child_removed",e,n,r)}function _Se(t,e,n){UL(t._repo,t,null)}let iw=class{};class ZY extends iw{constructor(e,n){super(),this._value=e,this._key=n,this.type="endAt"}_apply(e){tw("endAt",this._value,e._path,!0);const n=Awe(e._queryParams,this._value,this._key);if(QY(n),fU(n),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new fg(e._repo,e._path,n,e._orderByCalled)}}function bSe(t,e){return new ZY(t,e)}class eQ extends iw{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAt"}_apply(e){tw("startAt",this._value,e._path,!0);const n=xwe(e._queryParams,this._value,this._key);if(QY(n),fU(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new fg(e._repo,e._path,n,e._orderByCalled)}}function ESe(t=null,e){return new eQ(t,e)}class wSe extends iw{constructor(e){super(),this._limit=e,this.type="limitToFirst"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new fg(e._repo,e._path,Twe(e._queryParams,this._limit),e._orderByCalled)}}function _9(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new wSe(t)}class CSe extends iw{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){dSe(e,"orderByChild");const n=new Er(this._path);if(Rn(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new V2(n),i=Iwe(e._queryParams,r);return fU(i),new fg(e._repo,e._path,i,!0)}}function SSe(t){if(t==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(t==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(t==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return oU("orderByChild","path",t),new CSe(t)}class TSe extends iw{constructor(e,n){super(),this._value=e,this._key=n,this.type="equalTo"}_apply(e){if(tw("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new ZY(this._value,this._key)._apply(new eQ(this._value,this._key)._apply(e))}}function xSe(t,e){return new TSe(t,e)}function bb(t,...e){let n=sr(t);for(const r of e)n=r._apply(n);return n}gCe(Sf);ECe(Sf);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ASe="FIREBASE_DATABASE_EMULATOR_HOST",BL={};let ISe=!1;function kSe(t,e,n,r){const i=e.lastIndexOf(":"),o=e.substring(0,i),a=sg(o);t.repoInfo_=new QG(e,a,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function RSe(t,e,n,r,i){let o=r||t.options.databaseURL;o===void 0&&(t.options.projectId||wd("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),_a("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let a=v9(o,i),l=a.repoInfo,u;typeof process<"u"&&V6&&(u=V6[ASe]),u?(o=`http://${u}?ns=${l.namespace}`,a=v9(o,i),l=a.repoInfo):a.repoInfo.secure;const f=new REe(t.name,t.options,e);qCe("Invalid Firebase Database URL",a),Rn(a.path)||wd("Database URL must point to the root of a Firebase Database (not including a child path).");const h=PSe(l,t,f,new kEe(t,n));return new NSe(h,t)}function OSe(t,e){const n=BL[e];(!n||n[t.key]!==t)&&wd(`Database ${e}(${t.repoInfo_}) has already been deleted.`),oSe(t),delete n[t.key]}function PSe(t,e,n,r){let i=BL[e.name];i||(i={},BL[e.name]=i);let o=i[t.toURLString()];return o&&wd("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new XCe(t,ISe,n,r),i[t.toURLString()]=o,o}let NSe=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(JCe(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Sf(this._repo,or())),this._rootInternal}_delete(){return this._rootInternal!==null&&(OSe(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&wd("Cannot call "+e+" on a deleted database.")}};function LSe(t=k2(),e){const n=YE(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=w2("database");r&&tQ(n,...r)}return n}function tQ(t,e,n,r={}){t=sr(t),t._checkNotDeleted("useEmulator");const i=`${e}:${n}`,o=t._repoInternal;if(t._instanceStarted){if(i===t._repoInternal.repoInfo_.host&&J0(r,o.repoInfo_.emulatorOptions))return;wd("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let a;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&wd('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new iT(iT.OWNER);else if(r.mockUserToken){const l=typeof r.mockUserToken=="string"?r.mockUserToken:C2(r.mockUserToken,t.app.options.projectId);a=new iT(l)}sg(e)&&x2(e),kSe(o,i,r,a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DSe(t){hEe(lg),pu(new dEe("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return RSe(r,i,o,n)},"PUBLIC").setMultipleInstances(!0)),Eo(B6,$6,t),Eo(B6,$6,"esm2017")}gd.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};gd.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};DSe();const MSe=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Ey(t,e,n){const r=FSe(t),{webkitRelativePath:i}=t,o=typeof e=="string"?e:typeof i=="string"&&i.length>0?i:`./${t.name}`;return typeof r.path!="string"&&b9(r,"path",o),b9(r,"relativePath",o),r}function FSe(t){const{name:e}=t;if(e&&e.lastIndexOf(".")!==-1&&!t.type){const r=e.split(".").pop().toLowerCase(),i=MSe.get(r);i&&Object.defineProperty(t,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return t}function b9(t,e,n){Object.defineProperty(t,e,{value:n,writable:!1,configurable:!1,enumerable:!0})}const USe=[".DS_Store","Thumbs.db"];function VSe(t){return sp(this,void 0,void 0,function*(){return Mx(t)&&BSe(t.dataTransfer)?zSe(t.dataTransfer,t.type):$Se(t)?HSe(t):Array.isArray(t)&&t.every(e=>"getFile"in e&&typeof e.getFile=="function")?jSe(t):[]})}function BSe(t){return Mx(t)}function $Se(t){return Mx(t)&&Mx(t.target)}function Mx(t){return typeof t=="object"&&t!==null}function HSe(t){return $L(t.target.files).map(e=>Ey(e))}function jSe(t){return sp(this,void 0,void 0,function*(){return(yield Promise.all(t.map(n=>n.getFile()))).map(n=>Ey(n))})}function zSe(t,e){return sp(this,void 0,void 0,function*(){if(t.items){const n=$L(t.items).filter(i=>i.kind==="file");if(e!=="drop")return n;const r=yield Promise.all(n.map(WSe));return E9(nQ(r))}return E9($L(t.files).map(n=>Ey(n)))})}function E9(t){return t.filter(e=>USe.indexOf(e.name)===-1)}function $L(t){if(t===null)return[];const e=[];for(let n=0;n<t.length;n++){const r=t[n];e.push(r)}return e}function WSe(t){if(typeof t.webkitGetAsEntry!="function")return w9(t);const e=t.webkitGetAsEntry();return e&&e.isDirectory?rQ(e):w9(t,e)}function nQ(t){return t.reduce((e,n)=>[...e,...Array.isArray(n)?nQ(n):[n]],[])}function w9(t,e){return sp(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof t.getAsFileSystemHandle=="function"){const o=yield t.getAsFileSystemHandle();if(o===null)throw new Error(`${t} is not a File`);if(o!==void 0){const a=yield o.getFile();return a.handle=o,Ey(a)}}const r=t.getAsFile();if(!r)throw new Error(`${t} is not a File`);return Ey(r,(n=e==null?void 0:e.fullPath)!==null&&n!==void 0?n:void 0)})}function qSe(t){return sp(this,void 0,void 0,function*(){return t.isDirectory?rQ(t):KSe(t)})}function rQ(t){const e=t.createReader();return new Promise((n,r)=>{const i=[];function o(){e.readEntries(a=>sp(this,void 0,void 0,function*(){if(a.length){const l=Promise.all(a.map(qSe));i.push(l),o()}else try{const l=yield Promise.all(i);n(l)}catch(l){r(l)}}),a=>{r(a)})}o()})}function KSe(t){return sp(this,void 0,void 0,function*(){return new Promise((e,n)=>{t.file(r=>{const i=Ey(r,t.fullPath);e(i)},r=>{n(r)})})})}var ZR=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(",");if(n.length===0)return!0;var r=t.name||"",i=(t.type||"").toLowerCase(),o=i.replace(/\/.*$/,"");return n.some(function(a){var l=a.trim().toLowerCase();return l.charAt(0)==="."?r.toLowerCase().endsWith(l):l.endsWith("/*")?o===l.replace(/\/.*$/,""):i===l})}return!0};function C9(t){return QSe(t)||YSe(t)||oQ(t)||GSe()}function GSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function QSe(t){if(Array.isArray(t))return HL(t)}function S9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function T9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?S9(Object(n),!0).forEach(function(r){iQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iQ(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uE(t,e){return ZSe(t)||JSe(t,e)||oQ(t,e)||XSe()}function XSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oQ(t,e){if(t){if(typeof t=="string")return HL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HL(t,e)}}function HL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function JSe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,a,l;try{for(n=n.call(t);!(i=(a=n.next()).done)&&(r.push(a.value),!(e&&r.length===e));i=!0);}catch(u){o=!0,l=u}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw l}}return r}}function ZSe(t){if(Array.isArray(t))return t}var eTe=typeof ZR=="function"?ZR:ZR.default,tTe="file-invalid-type",nTe="file-too-large",rTe="file-too-small",iTe="too-many-files",oTe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=e.split(","),r=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:tTe,message:"File type must be ".concat(r)}},x9=function(e){return{code:nTe,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},A9=function(e){return{code:rTe,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},aTe={code:iTe,message:"Too many files"};function aQ(t,e){var n=t.type==="application/x-moz-file"||eTe(t,e);return[n,n?null:oTe(e)]}function sQ(t,e,n){if(am(t.size))if(am(e)&&am(n)){if(t.size>n)return[!1,x9(n)];if(t.size<e)return[!1,A9(e)]}else{if(am(e)&&t.size<e)return[!1,A9(e)];if(am(n)&&t.size>n)return[!1,x9(n)]}return[!0,null]}function am(t){return t!=null}function sTe(t){var e=t.files,n=t.accept,r=t.minSize,i=t.maxSize,o=t.multiple,a=t.maxFiles,l=t.validator;return!o&&e.length>1||o&&a>=1&&e.length>a?!1:e.every(function(u){var f=aQ(u,n),h=uE(f,1),g=h[0],y=sQ(u,r,i),w=uE(y,1),T=w[0],C=l?l(u):null;return g&&T&&!C})}function Fx(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function aS(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!t.target&&!!t.target.files}function I9(t){t.preventDefault()}function lTe(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function uTe(t){return t.indexOf("Edge/")!==-1}function cTe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return lTe(t)||uTe(t)}function Vc(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];return e.some(function(l){return!Fx(r)&&l&&l.apply(void 0,[r].concat(o)),Fx(r)})}}function fTe(){return"showOpenFilePicker"in window}function dTe(t){if(am(t)){var e=Object.entries(t).filter(function(n){var r=uE(n,2),i=r[0],o=r[1],a=!0;return lQ(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),a=!1),(!Array.isArray(o)||!o.every(uQ))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),a=!1),a}).reduce(function(n,r){var i=uE(r,2),o=i[0],a=i[1];return T9(T9({},n),{},iQ({},o,a))},{});return[{description:"Files",accept:e}]}return t}function hTe(t){if(am(t))return Object.entries(t).reduce(function(e,n){var r=uE(n,2),i=r[0],o=r[1];return[].concat(C9(e),[i],C9(o))},[]).filter(function(e){return lQ(e)||uQ(e)}).join(",")}function pTe(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function mTe(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}function lQ(t){return t==="audio/*"||t==="video/*"||t==="image/*"||t==="text/*"||t==="application/*"||/\w+\/[-+.\w]+/g.test(t)}function uQ(t){return/^.*\.[\w]+$/.test(t)}var gTe=["children"],vTe=["open"],yTe=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],_Te=["refKey","onChange","onClick"];function bTe(t){return CTe(t)||wTe(t)||cQ(t)||ETe()}function ETe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wTe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function CTe(t){if(Array.isArray(t))return jL(t)}function eO(t,e){return xTe(t)||TTe(t,e)||cQ(t,e)||STe()}function STe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cQ(t,e){if(t){if(typeof t=="string")return jL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jL(t,e)}}function jL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function TTe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,a,l;try{for(n=n.call(t);!(i=(a=n.next()).done)&&(r.push(a.value),!(e&&r.length===e));i=!0);}catch(u){o=!0,l=u}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw l}}return r}}function xTe(t){if(Array.isArray(t))return t}function k9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k9(Object(n),!0).forEach(function(r){zL(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zL(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ux(t,e){if(t==null)return{};var n=ATe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ATe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var pU=B.forwardRef(function(t,e){var n=t.children,r=Ux(t,gTe),i=Zy(r),o=i.open,a=Ux(i,vTe);return B.useImperativeHandle(e,function(){return{open:o}},[o]),b(Rt,{children:n(yi(yi({},a),{},{open:o}))})});pU.displayName="Dropzone";var fQ={disabled:!1,getFilesFromEvent:VSe,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};pU.defaultProps=fQ;pU.propTypes={children:de.func,accept:de.objectOf(de.arrayOf(de.string)),multiple:de.bool,preventDropOnDocument:de.bool,noClick:de.bool,noKeyboard:de.bool,noDrag:de.bool,noDragEventsBubbling:de.bool,minSize:de.number,maxSize:de.number,maxFiles:de.number,disabled:de.bool,getFilesFromEvent:de.func,onFileDialogCancel:de.func,onFileDialogOpen:de.func,useFsAccessApi:de.bool,autoFocus:de.bool,onDragEnter:de.func,onDragLeave:de.func,onDragOver:de.func,onDrop:de.func,onDropAccepted:de.func,onDropRejected:de.func,onError:de.func,validator:de.func};var WL={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function Zy(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=yi(yi({},fQ),t),n=e.accept,r=e.disabled,i=e.getFilesFromEvent,o=e.maxSize,a=e.minSize,l=e.multiple,u=e.maxFiles,f=e.onDragEnter,h=e.onDragLeave,g=e.onDragOver,y=e.onDrop,w=e.onDropAccepted,T=e.onDropRejected,C=e.onFileDialogCancel,R=e.onFileDialogOpen,I=e.useFsAccessApi,k=e.autoFocus,O=e.preventDropOnDocument,A=e.noClick,V=e.noKeyboard,D=e.noDrag,P=e.noDragEventsBubbling,N=e.onError,$=e.validator,q=B.useMemo(function(){return hTe(n)},[n]),z=B.useMemo(function(){return dTe(n)},[n]),K=B.useMemo(function(){return typeof R=="function"?R:R9},[R]),Q=B.useMemo(function(){return typeof C=="function"?C:R9},[C]),Ee=B.useRef(null),he=B.useRef(null),Je=B.useReducer(ITe,WL),He=eO(Je,2),xe=He[0],Te=He[1],J=xe.isFocused,Ae=xe.isFileDialogActive,Ne=B.useRef(typeof window<"u"&&window.isSecureContext&&I&&fTe()),ie=function(){!Ne.current&&Ae&&setTimeout(function(){if(he.current){var Re=he.current.files;Re.length||(Te({type:"closeDialog"}),Q())}},300)};B.useEffect(function(){return window.addEventListener("focus",ie,!1),function(){window.removeEventListener("focus",ie,!1)}},[he,Ae,Q,Ne]);var lt=B.useRef([]),Ge=function(Re){Ee.current&&Ee.current.contains(Re.target)||(Re.preventDefault(),lt.current=[])};B.useEffect(function(){return O&&(document.addEventListener("dragover",I9,!1),document.addEventListener("drop",Ge,!1)),function(){O&&(document.removeEventListener("dragover",I9),document.removeEventListener("drop",Ge))}},[Ee,O]),B.useEffect(function(){return!r&&k&&Ee.current&&Ee.current.focus(),function(){}},[Ee,k,r]);var ut=B.useCallback(function(ge){N?N(ge):console.error(ge)},[N]),et=B.useCallback(function(ge){ge.preventDefault(),ge.persist(),Ot(ge),lt.current=[].concat(bTe(lt.current),[ge.target]),aS(ge)&&Promise.resolve(i(ge)).then(function(Re){if(!(Fx(ge)&&!P)){var Me=Re.length,se=Me>0&&sTe({files:Re,accept:q,minSize:a,maxSize:o,multiple:l,maxFiles:u,validator:$}),pe=Me>0&&!se;Te({isDragAccept:se,isDragReject:pe,isDragActive:!0,type:"setDraggedFiles"}),f&&f(ge)}}).catch(function(Re){return ut(Re)})},[i,f,ut,P,q,a,o,l,u,$]),_t=B.useCallback(function(ge){ge.preventDefault(),ge.persist(),Ot(ge);var Re=aS(ge);if(Re&&ge.dataTransfer)try{ge.dataTransfer.dropEffect="copy"}catch{}return Re&&g&&g(ge),!1},[g,P]),xt=B.useCallback(function(ge){ge.preventDefault(),ge.persist(),Ot(ge);var Re=lt.current.filter(function(se){return Ee.current&&Ee.current.contains(se)}),Me=Re.indexOf(ge.target);Me!==-1&&Re.splice(Me,1),lt.current=Re,!(Re.length>0)&&(Te({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),aS(ge)&&h&&h(ge))},[Ee,h,P]),Et=B.useCallback(function(ge,Re){var Me=[],se=[];ge.forEach(function(pe){var qe=aQ(pe,q),De=eO(qe,2),Ze=De[0],Tt=De[1],hn=sQ(pe,a,o),pn=eO(hn,2),rr=pn[0],Dr=pn[1],Qt=$?$(pe):null;if(Ze&&rr&&!Qt)Me.push(pe);else{var ci=[Tt,Dr];Qt&&(ci=ci.concat(Qt)),se.push({file:pe,errors:ci.filter(function(ft){return ft})})}}),(!l&&Me.length>1||l&&u>=1&&Me.length>u)&&(Me.forEach(function(pe){se.push({file:pe,errors:[aTe]})}),Me.splice(0)),Te({acceptedFiles:Me,fileRejections:se,isDragReject:se.length>0,type:"setFiles"}),y&&y(Me,se,Re),se.length>0&&T&&T(se,Re),Me.length>0&&w&&w(Me,Re)},[Te,l,q,a,o,u,y,w,T,$]),Dt=B.useCallback(function(ge){ge.preventDefault(),ge.persist(),Ot(ge),lt.current=[],aS(ge)&&Promise.resolve(i(ge)).then(function(Re){Fx(ge)&&!P||Et(Re,ge)}).catch(function(Re){return ut(Re)}),Te({type:"reset"})},[i,Et,ut,P]),Ut=B.useCallback(function(){if(Ne.current){Te({type:"openDialog"}),K();var ge={multiple:l,types:z};window.showOpenFilePicker(ge).then(function(Re){return i(Re)}).then(function(Re){Et(Re,null),Te({type:"closeDialog"})}).catch(function(Re){pTe(Re)?(Q(Re),Te({type:"closeDialog"})):mTe(Re)?(Ne.current=!1,he.current?(he.current.value=null,he.current.click()):ut(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):ut(Re)});return}he.current&&(Te({type:"openDialog"}),K(),he.current.value=null,he.current.click())},[Te,K,Q,I,Et,ut,z,l]),an=B.useCallback(function(ge){!Ee.current||!Ee.current.isEqualNode(ge.target)||(ge.key===" "||ge.key==="Enter"||ge.keyCode===32||ge.keyCode===13)&&(ge.preventDefault(),Ut())},[Ee,Ut]),nt=B.useCallback(function(){Te({type:"focus"})},[]),nn=B.useCallback(function(){Te({type:"blur"})},[]),Wt=B.useCallback(function(){A||(cTe()?setTimeout(Ut,0):Ut())},[A,Ut]),Kt=function(Re){return r?null:Re},vn=function(Re){return V?null:Kt(Re)},fn=function(Re){return D?null:Kt(Re)},Ot=function(Re){P&&Re.stopPropagation()},En=B.useMemo(function(){return function(){var ge=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Re=ge.refKey,Me=Re===void 0?"ref":Re,se=ge.role,pe=ge.onKeyDown,qe=ge.onFocus,De=ge.onBlur,Ze=ge.onClick,Tt=ge.onDragEnter,hn=ge.onDragOver,pn=ge.onDragLeave,rr=ge.onDrop,Dr=Ux(ge,yTe);return yi(yi(zL({onKeyDown:vn(Vc(pe,an)),onFocus:vn(Vc(qe,nt)),onBlur:vn(Vc(De,nn)),onClick:Kt(Vc(Ze,Wt)),onDragEnter:fn(Vc(Tt,et)),onDragOver:fn(Vc(hn,_t)),onDragLeave:fn(Vc(pn,xt)),onDrop:fn(Vc(rr,Dt)),role:typeof se=="string"&&se!==""?se:"presentation"},Me,Ee),!r&&!V?{tabIndex:0}:{}),Dr)}},[Ee,an,nt,nn,Wt,et,_t,xt,Dt,V,D,r]),fe=B.useCallback(function(ge){ge.stopPropagation()},[]),Ce=B.useMemo(function(){return function(){var ge=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Re=ge.refKey,Me=Re===void 0?"ref":Re,se=ge.onChange,pe=ge.onClick,qe=Ux(ge,_Te),De=zL({accept:q,multiple:l,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:Kt(Vc(se,Dt)),onClick:Kt(Vc(pe,fe)),tabIndex:-1},Me,he);return yi(yi({},De),qe)}},[he,n,l,Dt,r]);return yi(yi({},xe),{},{isFocused:J&&!r,getRootProps:En,getInputProps:Ce,rootRef:Ee,inputRef:he,open:Kt(Ut)})}function ITe(t,e){switch(e.type){case"focus":return yi(yi({},t),{},{isFocused:!0});case"blur":return yi(yi({},t),{},{isFocused:!1});case"openDialog":return yi(yi({},WL),{},{isFileDialogActive:!0});case"closeDialog":return yi(yi({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":return yi(yi({},t),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return yi(yi({},t),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections,isDragReject:e.isDragReject});case"reset":return yi({},WL);default:return t}}function R9(){}let O9=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};function dQ(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const kTe=dQ,hQ=new ag("auth","Firebase",dQ());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx=new GE("@firebase/auth");function RTe(t,...e){Vx.logLevel<=In.WARN&&Vx.warn(`Auth (${lg}): ${t}`,...e)}function aT(t,...e){Vx.logLevel<=In.ERROR&&Vx.error(`Auth (${lg}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P9(t,...e){throw mU(t,...e)}function pQ(t,...e){return mU(t,...e)}function mQ(t,e,n){const r=Object.assign(Object.assign({},kTe()),{[e]:n});return new ag("auth","Firebase",r).create(e,{appName:t.name})}function sT(t){return mQ(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mU(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return hQ.create(t,...e)}function ur(t,e,...n){if(!t)throw mU(e,...n)}function c0(t){const e="INTERNAL ASSERTION FAILED: "+t;throw aT(e),new Error(e)}function Bx(t,e){t||c0(e)}function OTe(){return N9()==="http:"||N9()==="https:"}function N9(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PTe(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(OTe()||Vbe()||"connection"in navigator)?navigator.onLine:!0}function NTe(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e,n){this.shortDelay=e,this.longDelay=n,Bx(n>e,"Short delay should be less than long delay!"),this.isMobile=S2()||IG()}get(){return PTe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LTe(t,e){Bx(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gQ{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;c0("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;c0("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;c0("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DTe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MTe=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],FTe=new ow(3e4,6e4);function vQ(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function VI(t,e,n,r,i={}){return yQ(t,i,async()=>{let o={},a={};r&&(e==="GET"?a=r:o={body:JSON.stringify(r)});const l=T2(Object.assign({key:t.config.apiKey},a)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const f=Object.assign({method:e,headers:u},o);return Ube()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&sg(t.emulatorConfig.host)&&(f.credentials="include"),gQ.fetch()(await _Q(t,t.config.apiHost,n,l),f)})}async function yQ(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},DTe),e);try{const i=new UTe(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw sS(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const l=o.ok?a.errorMessage:a.error.message,[u,f]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw sS(t,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw sS(t,"email-already-in-use",a);if(u==="USER_DISABLED")throw sS(t,"user-disabled",a);const h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw mQ(t,h,f);P9(t,h)}}catch(i){if(i instanceof gc)throw i;P9(t,"network-request-failed",{message:String(i)})}}async function _Q(t,e,n,r){const i=`${e}${n}?${r}`,o=t,a=o.config.emulator?LTe(t.config,i):`${t.config.apiScheme}://${i}`;return MTe.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(a).toString():a}class UTe{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(pQ(this.auth,"network-request-failed")),FTe.get())})}}function sS(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=pQ(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VTe(t,e){return VI(t,"POST","/v1/accounts:delete",e)}async function $x(t,e){return VI(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f0(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function BTe(t,e=!1){const n=sr(t),r=await n.getIdToken(e),i=bQ(r);ur(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,a=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:f0(tO(i.auth_time)),issuedAtTime:f0(tO(i.iat)),expirationTime:f0(tO(i.exp)),signInProvider:a||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function tO(t){return Number(t)*1e3}function bQ(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return aT("JWT malformed, contained fewer than 3 sections"),null;try{const i=bx(n);return i?JSON.parse(i):(aT("Failed to decode base64 JWT payload"),null)}catch(i){return aT("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function L9(t){const e=bQ(t);return ur(e,"internal-error"),ur(typeof e.exp<"u","internal-error"),ur(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qL(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof gc&&$Te(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function $Te({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HTe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=f0(this.lastLoginAt),this.creationTime=f0(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hx(t){var e;const n=t.auth,r=await t.getIdToken(),i=await qL(t,$x(n,{idToken:r}));ur(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const a=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?EQ(o.providerUserInfo):[],l=zTe(t.providerData,a),u=t.isAnonymous,f=!(t.email&&o.passwordHash)&&!(l!=null&&l.length),h=u?f:!1,g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new KL(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,g)}async function jTe(t){const e=sr(t);await Hx(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function zTe(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function EQ(t){return t.map(e=>{var{providerId:n}=e,r=Ke(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WTe(t,e){const n=await yQ(t,{},async()=>{const r=T2({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,a=await _Q(t,i,"/v1/token",`key=${o}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",gQ.fetch()(a,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function qTe(t,e){return VI(t,"POST","/v2/accounts:revokeToken",vQ(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ur(e.idToken,"internal-error"),ur(typeof e.idToken<"u","internal-error"),ur(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):L9(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ur(e.length!==0,"internal-error");const n=L9(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ur(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await WTe(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,a=new Wv;return r&&(ur(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(ur(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),o&&(ur(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Wv,this.toJSON())}_performRefresh(){return c0("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ah(t,e){ur(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Xc{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Ke(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new HTe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new KL(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await qL(this,this.stsTokenManager.getToken(this.auth,e));return ur(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return BTe(this,e)}reload(){return jTe(this)}_assign(e){this!==e&&(ur(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Xc(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ur(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Hx(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Wc(this.auth.app))return Promise.reject(sT(this.auth));const e=await this.getIdToken();return await qL(this,VTe(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,a,l,u,f,h;const g=(r=n.displayName)!==null&&r!==void 0?r:void 0,y=(i=n.email)!==null&&i!==void 0?i:void 0,w=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,T=(a=n.photoURL)!==null&&a!==void 0?a:void 0,C=(l=n.tenantId)!==null&&l!==void 0?l:void 0,R=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,I=(f=n.createdAt)!==null&&f!==void 0?f:void 0,k=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:O,emailVerified:A,isAnonymous:V,providerData:D,stsTokenManager:P}=n;ur(O&&P,e,"internal-error");const N=Wv.fromJSON(this.name,P);ur(typeof O=="string",e,"internal-error"),ah(g,e.name),ah(y,e.name),ur(typeof A=="boolean",e,"internal-error"),ur(typeof V=="boolean",e,"internal-error"),ah(w,e.name),ah(T,e.name),ah(C,e.name),ah(R,e.name),ah(I,e.name),ah(k,e.name);const $=new Xc({uid:O,auth:e,email:y,emailVerified:A,displayName:g,isAnonymous:V,photoURL:T,phoneNumber:w,tenantId:C,stsTokenManager:N,createdAt:I,lastLoginAt:k});return D&&Array.isArray(D)&&($.providerData=D.map(q=>Object.assign({},q))),R&&($._redirectEventId=R),$}static async _fromIdTokenResponse(e,n,r=!1){const i=new Wv;i.updateFromServerResponse(n);const o=new Xc({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Hx(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ur(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?EQ(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),l=new Wv;l.updateFromIdToken(r);const u=new Xc({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:a}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new KL(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(u,f),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D9=new Map;function ym(t){Bx(t instanceof Function,"Expected a class definition");let e=D9.get(t);return e?(Bx(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,D9.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wQ{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}wQ.type="NONE";const M9=wQ;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nO(t,e,n){return`firebase:${t}:${e}:${n}`}class qv{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=nO(this.userKey,i.apiKey,o),this.fullPersistenceKey=nO("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await $x(this.auth,{idToken:e}).catch(()=>{});return n?Xc._fromGetAccountInfoResponse(this.auth,n,e):null}return Xc._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new qv(ym(M9),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=i[0]||ym(M9);const a=nO(r,e.config.apiKey,e.name);let l=null;for(const f of n)try{const h=await f._get(a);if(h){let g;if(typeof h=="string"){const y=await $x(e,{idToken:h}).catch(()=>{});if(!y)break;g=await Xc._fromGetAccountInfoResponse(e,y,h)}else g=Xc._fromJSON(e,h);f!==o&&(l=g),o=f;break}}catch{}const u=i.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new qv(o,e,r):(o=u[0],l&&await o._set(a,l.toJSON()),await Promise.all(n.map(async f=>{if(f!==o)try{await f._remove(a)}catch{}})),new qv(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F9(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(QTe(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(KTe(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(JTe(e))return"Blackberry";if(ZTe(e))return"Webos";if(GTe(e))return"Safari";if((e.includes("chrome/")||YTe(e))&&!e.includes("edge/"))return"Chrome";if(XTe(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function KTe(t=oc()){return/firefox\//i.test(t)}function GTe(t=oc()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function YTe(t=oc()){return/crios\//i.test(t)}function QTe(t=oc()){return/iemobile/i.test(t)}function XTe(t=oc()){return/android/i.test(t)}function JTe(t=oc()){return/blackberry/i.test(t)}function ZTe(t=oc()){return/webos/i.test(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CQ(t,e=[]){let n;switch(t){case"Browser":n=F9(oc());break;case"Worker":n=`${F9(oc())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${lg}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class exe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((a,l)=>{try{const u=e(o);a(u)}catch(u){l(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function txe(t,e={}){return VI(t,"GET","/v2/passwordPolicy",vQ(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nxe=6;class rxe{constructor(e){var n,r,i,o;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:nxe,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,a,l;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNumericCharacter)!==null&&a!==void 0?a:!0),u.isValid&&(u.isValid=(l=u.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ixe{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new U9(this),this.idTokenSubscription=new U9(this),this.beforeStateQueue=new exe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hQ,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ym(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await qv.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await $x(this,{idToken:e}),r=await Xc._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Wc(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!a||a===l)&&(u!=null&&u.user)&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ur(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Hx(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=NTe()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Wc(this.app))return Promise.reject(sT(this));const n=e?sr(e):null;return n&&ur(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ur(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Wc(this.app)?Promise.reject(sT(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Wc(this.app)?Promise.reject(sT(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ym(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await txe(this),n=new rxe(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ag("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await qTe(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ym(e)||this._popupRedirectResolver;ur(n,this,"argument-error"),this.redirectPersistenceManager=await qv.create(this,[ym(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(ur(l,this,"internal-error"),l.then(()=>{a||o(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{a=!0,u()}}else{const u=e.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ur(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=CQ(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(Wc(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&RTe(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function oxe(t){return sr(t)}let U9=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=Ybe(n=>this.observer=n)}get next(){return ur(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};function axe(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ym);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}new ow(3e4,6e4);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new ow(2e3,1e4);/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new ow(3e4,6e4);/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new ow(5e3,15e3);var V9="@firebase/auth",B9="1.10.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sxe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ur(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lxe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function uxe(t){pu(new O9("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=r.options;ur(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:CQ(t)},f=new ixe(r,i,o,u);return axe(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),pu(new O9("auth-internal",e=>{const n=oxe(e.getProvider("auth").getImmediate());return(r=>new sxe(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Eo(V9,B9,lxe(t)),Eo(V9,B9,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cxe=5*60;Mbe("authIdTokenMaxAge");uxe("Browser");var fxe="firebase",dxe="11.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Eo(fxe,dxe,"app");let hxe=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var $9=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Fh,SQ;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,N){function $(){}$.prototype=N.prototype,P.D=N.prototype,P.prototype=new $,P.prototype.constructor=P,P.C=function(q,z,K){for(var Q=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)Q[Ee-2]=arguments[Ee];return N.prototype[z].apply(q,Q)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(P,N,$){$||($=0);var q=Array(16);if(typeof N=="string")for(var z=0;16>z;++z)q[z]=N.charCodeAt($++)|N.charCodeAt($++)<<8|N.charCodeAt($++)<<16|N.charCodeAt($++)<<24;else for(z=0;16>z;++z)q[z]=N[$++]|N[$++]<<8|N[$++]<<16|N[$++]<<24;N=P.g[0],$=P.g[1],z=P.g[2];var K=P.g[3],Q=N+(K^$&(z^K))+q[0]+3614090360&4294967295;N=$+(Q<<7&4294967295|Q>>>25),Q=K+(z^N&($^z))+q[1]+3905402710&4294967295,K=N+(Q<<12&4294967295|Q>>>20),Q=z+($^K&(N^$))+q[2]+606105819&4294967295,z=K+(Q<<17&4294967295|Q>>>15),Q=$+(N^z&(K^N))+q[3]+3250441966&4294967295,$=z+(Q<<22&4294967295|Q>>>10),Q=N+(K^$&(z^K))+q[4]+4118548399&4294967295,N=$+(Q<<7&4294967295|Q>>>25),Q=K+(z^N&($^z))+q[5]+1200080426&4294967295,K=N+(Q<<12&4294967295|Q>>>20),Q=z+($^K&(N^$))+q[6]+2821735955&4294967295,z=K+(Q<<17&4294967295|Q>>>15),Q=$+(N^z&(K^N))+q[7]+4249261313&4294967295,$=z+(Q<<22&4294967295|Q>>>10),Q=N+(K^$&(z^K))+q[8]+1770035416&4294967295,N=$+(Q<<7&4294967295|Q>>>25),Q=K+(z^N&($^z))+q[9]+2336552879&4294967295,K=N+(Q<<12&4294967295|Q>>>20),Q=z+($^K&(N^$))+q[10]+4294925233&4294967295,z=K+(Q<<17&4294967295|Q>>>15),Q=$+(N^z&(K^N))+q[11]+2304563134&4294967295,$=z+(Q<<22&4294967295|Q>>>10),Q=N+(K^$&(z^K))+q[12]+1804603682&4294967295,N=$+(Q<<7&4294967295|Q>>>25),Q=K+(z^N&($^z))+q[13]+4254626195&4294967295,K=N+(Q<<12&4294967295|Q>>>20),Q=z+($^K&(N^$))+q[14]+2792965006&4294967295,z=K+(Q<<17&4294967295|Q>>>15),Q=$+(N^z&(K^N))+q[15]+1236535329&4294967295,$=z+(Q<<22&4294967295|Q>>>10),Q=N+(z^K&($^z))+q[1]+4129170786&4294967295,N=$+(Q<<5&4294967295|Q>>>27),Q=K+($^z&(N^$))+q[6]+3225465664&4294967295,K=N+(Q<<9&4294967295|Q>>>23),Q=z+(N^$&(K^N))+q[11]+643717713&4294967295,z=K+(Q<<14&4294967295|Q>>>18),Q=$+(K^N&(z^K))+q[0]+3921069994&4294967295,$=z+(Q<<20&4294967295|Q>>>12),Q=N+(z^K&($^z))+q[5]+3593408605&4294967295,N=$+(Q<<5&4294967295|Q>>>27),Q=K+($^z&(N^$))+q[10]+38016083&4294967295,K=N+(Q<<9&4294967295|Q>>>23),Q=z+(N^$&(K^N))+q[15]+3634488961&4294967295,z=K+(Q<<14&4294967295|Q>>>18),Q=$+(K^N&(z^K))+q[4]+3889429448&4294967295,$=z+(Q<<20&4294967295|Q>>>12),Q=N+(z^K&($^z))+q[9]+568446438&4294967295,N=$+(Q<<5&4294967295|Q>>>27),Q=K+($^z&(N^$))+q[14]+3275163606&4294967295,K=N+(Q<<9&4294967295|Q>>>23),Q=z+(N^$&(K^N))+q[3]+4107603335&4294967295,z=K+(Q<<14&4294967295|Q>>>18),Q=$+(K^N&(z^K))+q[8]+1163531501&4294967295,$=z+(Q<<20&4294967295|Q>>>12),Q=N+(z^K&($^z))+q[13]+2850285829&4294967295,N=$+(Q<<5&4294967295|Q>>>27),Q=K+($^z&(N^$))+q[2]+4243563512&4294967295,K=N+(Q<<9&4294967295|Q>>>23),Q=z+(N^$&(K^N))+q[7]+1735328473&4294967295,z=K+(Q<<14&4294967295|Q>>>18),Q=$+(K^N&(z^K))+q[12]+2368359562&4294967295,$=z+(Q<<20&4294967295|Q>>>12),Q=N+($^z^K)+q[5]+4294588738&4294967295,N=$+(Q<<4&4294967295|Q>>>28),Q=K+(N^$^z)+q[8]+2272392833&4294967295,K=N+(Q<<11&4294967295|Q>>>21),Q=z+(K^N^$)+q[11]+1839030562&4294967295,z=K+(Q<<16&4294967295|Q>>>16),Q=$+(z^K^N)+q[14]+4259657740&4294967295,$=z+(Q<<23&4294967295|Q>>>9),Q=N+($^z^K)+q[1]+2763975236&4294967295,N=$+(Q<<4&4294967295|Q>>>28),Q=K+(N^$^z)+q[4]+1272893353&4294967295,K=N+(Q<<11&4294967295|Q>>>21),Q=z+(K^N^$)+q[7]+4139469664&4294967295,z=K+(Q<<16&4294967295|Q>>>16),Q=$+(z^K^N)+q[10]+3200236656&4294967295,$=z+(Q<<23&4294967295|Q>>>9),Q=N+($^z^K)+q[13]+681279174&4294967295,N=$+(Q<<4&4294967295|Q>>>28),Q=K+(N^$^z)+q[0]+3936430074&4294967295,K=N+(Q<<11&4294967295|Q>>>21),Q=z+(K^N^$)+q[3]+3572445317&4294967295,z=K+(Q<<16&4294967295|Q>>>16),Q=$+(z^K^N)+q[6]+76029189&4294967295,$=z+(Q<<23&4294967295|Q>>>9),Q=N+($^z^K)+q[9]+3654602809&4294967295,N=$+(Q<<4&4294967295|Q>>>28),Q=K+(N^$^z)+q[12]+3873151461&4294967295,K=N+(Q<<11&4294967295|Q>>>21),Q=z+(K^N^$)+q[15]+530742520&4294967295,z=K+(Q<<16&4294967295|Q>>>16),Q=$+(z^K^N)+q[2]+3299628645&4294967295,$=z+(Q<<23&4294967295|Q>>>9),Q=N+(z^($|~K))+q[0]+4096336452&4294967295,N=$+(Q<<6&4294967295|Q>>>26),Q=K+($^(N|~z))+q[7]+1126891415&4294967295,K=N+(Q<<10&4294967295|Q>>>22),Q=z+(N^(K|~$))+q[14]+2878612391&4294967295,z=K+(Q<<15&4294967295|Q>>>17),Q=$+(K^(z|~N))+q[5]+4237533241&4294967295,$=z+(Q<<21&4294967295|Q>>>11),Q=N+(z^($|~K))+q[12]+1700485571&4294967295,N=$+(Q<<6&4294967295|Q>>>26),Q=K+($^(N|~z))+q[3]+2399980690&4294967295,K=N+(Q<<10&4294967295|Q>>>22),Q=z+(N^(K|~$))+q[10]+4293915773&4294967295,z=K+(Q<<15&4294967295|Q>>>17),Q=$+(K^(z|~N))+q[1]+2240044497&4294967295,$=z+(Q<<21&4294967295|Q>>>11),Q=N+(z^($|~K))+q[8]+1873313359&4294967295,N=$+(Q<<6&4294967295|Q>>>26),Q=K+($^(N|~z))+q[15]+4264355552&4294967295,K=N+(Q<<10&4294967295|Q>>>22),Q=z+(N^(K|~$))+q[6]+2734768916&4294967295,z=K+(Q<<15&4294967295|Q>>>17),Q=$+(K^(z|~N))+q[13]+1309151649&4294967295,$=z+(Q<<21&4294967295|Q>>>11),Q=N+(z^($|~K))+q[4]+4149444226&4294967295,N=$+(Q<<6&4294967295|Q>>>26),Q=K+($^(N|~z))+q[11]+3174756917&4294967295,K=N+(Q<<10&4294967295|Q>>>22),Q=z+(N^(K|~$))+q[2]+718787259&4294967295,z=K+(Q<<15&4294967295|Q>>>17),Q=$+(K^(z|~N))+q[9]+3951481745&4294967295,P.g[0]=P.g[0]+N&4294967295,P.g[1]=P.g[1]+(z+(Q<<21&4294967295|Q>>>11))&4294967295,P.g[2]=P.g[2]+z&4294967295,P.g[3]=P.g[3]+K&4294967295}r.prototype.u=function(P,N){N===void 0&&(N=P.length);for(var $=N-this.blockSize,q=this.B,z=this.h,K=0;K<N;){if(z==0)for(;K<=$;)i(this,P,K),K+=this.blockSize;if(typeof P=="string"){for(;K<N;)if(q[z++]=P.charCodeAt(K++),z==this.blockSize){i(this,q),z=0;break}}else for(;K<N;)if(q[z++]=P[K++],z==this.blockSize){i(this,q),z=0;break}}this.h=z,this.o+=N},r.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var N=1;N<P.length-8;++N)P[N]=0;var $=8*this.o;for(N=P.length-8;N<P.length;++N)P[N]=$&255,$/=256;for(this.u(P),P=Array(16),N=$=0;4>N;++N)for(var q=0;32>q;q+=8)P[$++]=this.g[N]>>>q&255;return P};function o(P,N){var $=l;return Object.prototype.hasOwnProperty.call($,P)?$[P]:$[P]=N(P)}function a(P,N){this.h=N;for(var $=[],q=!0,z=P.length-1;0<=z;z--){var K=P[z]|0;q&&K==N||($[z]=K,q=!1)}this.g=$}var l={};function u(P){return-128<=P&&128>P?o(P,function(N){return new a([N|0],0>N?-1:0)}):new a([P|0],0>P?-1:0)}function f(P){if(isNaN(P)||!isFinite(P))return g;if(0>P)return R(f(-P));for(var N=[],$=1,q=0;P>=$;q++)N[q]=P/$|0,$*=4294967296;return new a(N,0)}function h(P,N){if(P.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(P.charAt(0)=="-")return R(h(P.substring(1),N));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var $=f(Math.pow(N,8)),q=g,z=0;z<P.length;z+=8){var K=Math.min(8,P.length-z),Q=parseInt(P.substring(z,z+K),N);8>K?(K=f(Math.pow(N,K)),q=q.j(K).add(f(Q))):(q=q.j($),q=q.add(f(Q)))}return q}var g=u(0),y=u(1),w=u(16777216);t=a.prototype,t.m=function(){if(C(this))return-R(this).m();for(var P=0,N=1,$=0;$<this.g.length;$++){var q=this.i($);P+=(0<=q?q:4294967296+q)*N,N*=4294967296}return P},t.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(T(this))return"0";if(C(this))return"-"+R(this).toString(P);for(var N=f(Math.pow(P,6)),$=this,q="";;){var z=A($,N).g;$=I($,z.j(N));var K=((0<$.g.length?$.g[0]:$.h)>>>0).toString(P);if($=z,T($))return K+q;for(;6>K.length;)K="0"+K;q=K+q}},t.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function T(P){if(P.h!=0)return!1;for(var N=0;N<P.g.length;N++)if(P.g[N]!=0)return!1;return!0}function C(P){return P.h==-1}t.l=function(P){return P=I(this,P),C(P)?-1:T(P)?0:1};function R(P){for(var N=P.g.length,$=[],q=0;q<N;q++)$[q]=~P.g[q];return new a($,~P.h).add(y)}t.abs=function(){return C(this)?R(this):this},t.add=function(P){for(var N=Math.max(this.g.length,P.g.length),$=[],q=0,z=0;z<=N;z++){var K=q+(this.i(z)&65535)+(P.i(z)&65535),Q=(K>>>16)+(this.i(z)>>>16)+(P.i(z)>>>16);q=Q>>>16,K&=65535,Q&=65535,$[z]=Q<<16|K}return new a($,$[$.length-1]&-2147483648?-1:0)};function I(P,N){return P.add(R(N))}t.j=function(P){if(T(this)||T(P))return g;if(C(this))return C(P)?R(this).j(R(P)):R(R(this).j(P));if(C(P))return R(this.j(R(P)));if(0>this.l(w)&&0>P.l(w))return f(this.m()*P.m());for(var N=this.g.length+P.g.length,$=[],q=0;q<2*N;q++)$[q]=0;for(q=0;q<this.g.length;q++)for(var z=0;z<P.g.length;z++){var K=this.i(q)>>>16,Q=this.i(q)&65535,Ee=P.i(z)>>>16,he=P.i(z)&65535;$[2*q+2*z]+=Q*he,k($,2*q+2*z),$[2*q+2*z+1]+=K*he,k($,2*q+2*z+1),$[2*q+2*z+1]+=Q*Ee,k($,2*q+2*z+1),$[2*q+2*z+2]+=K*Ee,k($,2*q+2*z+2)}for(q=0;q<N;q++)$[q]=$[2*q+1]<<16|$[2*q];for(q=N;q<2*N;q++)$[q]=0;return new a($,0)};function k(P,N){for(;(P[N]&65535)!=P[N];)P[N+1]+=P[N]>>>16,P[N]&=65535,N++}function O(P,N){this.g=P,this.h=N}function A(P,N){if(T(N))throw Error("division by zero");if(T(P))return new O(g,g);if(C(P))return N=A(R(P),N),new O(R(N.g),R(N.h));if(C(N))return N=A(P,R(N)),new O(R(N.g),N.h);if(30<P.g.length){if(C(P)||C(N))throw Error("slowDivide_ only works with positive integers.");for(var $=y,q=N;0>=q.l(P);)$=V($),q=V(q);var z=D($,1),K=D(q,1);for(q=D(q,2),$=D($,2);!T(q);){var Q=K.add(q);0>=Q.l(P)&&(z=z.add($),K=Q),q=D(q,1),$=D($,1)}return N=I(P,z.j(N)),new O(z,N)}for(z=g;0<=P.l(N);){for($=Math.max(1,Math.floor(P.m()/N.m())),q=Math.ceil(Math.log($)/Math.LN2),q=48>=q?1:Math.pow(2,q-48),K=f($),Q=K.j(N);C(Q)||0<Q.l(P);)$-=q,K=f($),Q=K.j(N);T(K)&&(K=y),z=z.add(K),P=I(P,Q)}return new O(z,P)}t.A=function(P){return A(this,P).h},t.and=function(P){for(var N=Math.max(this.g.length,P.g.length),$=[],q=0;q<N;q++)$[q]=this.i(q)&P.i(q);return new a($,this.h&P.h)},t.or=function(P){for(var N=Math.max(this.g.length,P.g.length),$=[],q=0;q<N;q++)$[q]=this.i(q)|P.i(q);return new a($,this.h|P.h)},t.xor=function(P){for(var N=Math.max(this.g.length,P.g.length),$=[],q=0;q<N;q++)$[q]=this.i(q)^P.i(q);return new a($,this.h^P.h)};function V(P){for(var N=P.g.length+1,$=[],q=0;q<N;q++)$[q]=P.i(q)<<1|P.i(q-1)>>>31;return new a($,P.h)}function D(P,N){var $=N>>5;N%=32;for(var q=P.g.length-$,z=[],K=0;K<q;K++)z[K]=0<N?P.i(K+$)>>>N|P.i(K+$+1)<<32-N:P.i(K+$);return new a(z,P.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,SQ=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=f,a.fromString=h,Fh=a}).apply(typeof $9<"u"?$9:typeof self<"u"?self:typeof window<"u"?window:{});var lS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var TQ,Fb,xQ,lT,GL,AQ,IQ,kQ;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(E,M,j){return E==Array.prototype||E==Object.prototype||(E[M]=j.value),E};function n(E){E=[typeof globalThis=="object"&&globalThis,E,typeof window=="object"&&window,typeof self=="object"&&self,typeof lS=="object"&&lS];for(var M=0;M<E.length;++M){var j=E[M];if(j&&j.Math==Math)return j}throw Error("Cannot find global object")}var r=n(this);function i(E,M){if(M)e:{var j=r;E=E.split(".");for(var ee=0;ee<E.length-1;ee++){var Se=E[ee];if(!(Se in j))break e;j=j[Se]}E=E[E.length-1],ee=j[E],M=M(ee),M!=ee&&M!=null&&e(j,E,{configurable:!0,writable:!0,value:M})}}function o(E,M){E instanceof String&&(E+="");var j=0,ee=!1,Se={next:function(){if(!ee&&j<E.length){var Pe=j++;return{value:M(Pe,E[Pe]),done:!1}}return ee=!0,{done:!0,value:void 0}}};return Se[Symbol.iterator]=function(){return Se},Se}i("Array.prototype.values",function(E){return E||function(){return o(this,function(M,j){return j})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function u(E){var M=typeof E;return M=M!="object"?M:E?Array.isArray(E)?"array":M:"null",M=="array"||M=="object"&&typeof E.length=="number"}function f(E){var M=typeof E;return M=="object"&&E!=null||M=="function"}function h(E,M,j){return E.call.apply(E.bind,arguments)}function g(E,M,j){if(!E)throw Error();if(2<arguments.length){var ee=Array.prototype.slice.call(arguments,2);return function(){var Se=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Se,ee),E.apply(M,Se)}}return function(){return E.apply(M,arguments)}}function y(E,M,j){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:g,y.apply(null,arguments)}function w(E,M){var j=Array.prototype.slice.call(arguments,1);return function(){var ee=j.slice();return ee.push.apply(ee,arguments),E.apply(this,ee)}}function T(E,M){function j(){}j.prototype=M.prototype,E.aa=M.prototype,E.prototype=new j,E.prototype.constructor=E,E.Qb=function(ee,Se,Pe){for(var st=Array(arguments.length-2),Zn=2;Zn<arguments.length;Zn++)st[Zn-2]=arguments[Zn];return M.prototype[Se].apply(ee,st)}}function C(E){const M=E.length;if(0<M){const j=Array(M);for(let ee=0;ee<M;ee++)j[ee]=E[ee];return j}return[]}function R(E,M){for(let j=1;j<arguments.length;j++){const ee=arguments[j];if(u(ee)){const Se=E.length||0,Pe=ee.length||0;E.length=Se+Pe;for(let st=0;st<Pe;st++)E[Se+st]=ee[st]}else E.push(ee)}}class I{constructor(M,j){this.i=M,this.j=j,this.h=0,this.g=null}get(){let M;return 0<this.h?(this.h--,M=this.g,this.g=M.next,M.next=null):M=this.i(),M}}function k(E){return/^[\s\xa0]*$/.test(E)}function O(){var E=l.navigator;return E&&(E=E.userAgent)?E:""}function A(E){return A[" "](E),E}A[" "]=function(){};var V=O().indexOf("Gecko")!=-1&&!(O().toLowerCase().indexOf("webkit")!=-1&&O().indexOf("Edge")==-1)&&!(O().indexOf("Trident")!=-1||O().indexOf("MSIE")!=-1)&&O().indexOf("Edge")==-1;function D(E,M,j){for(const ee in E)M.call(j,E[ee],ee,E)}function P(E,M){for(const j in E)M.call(void 0,E[j],j,E)}function N(E){const M={};for(const j in E)M[j]=E[j];return M}const $="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function q(E,M){let j,ee;for(let Se=1;Se<arguments.length;Se++){ee=arguments[Se];for(j in ee)E[j]=ee[j];for(let Pe=0;Pe<$.length;Pe++)j=$[Pe],Object.prototype.hasOwnProperty.call(ee,j)&&(E[j]=ee[j])}}function z(E){var M=1;E=E.split(":");const j=[];for(;0<M&&E.length;)j.push(E.shift()),M--;return E.length&&j.push(E.join(":")),j}function K(E){l.setTimeout(()=>{throw E},0)}function Q(){var E=Te;let M=null;return E.g&&(M=E.g,E.g=E.g.next,E.g||(E.h=null),M.next=null),M}class Ee{constructor(){this.h=this.g=null}add(M,j){const ee=he.get();ee.set(M,j),this.h?this.h.next=ee:this.g=ee,this.h=ee}}var he=new I(()=>new Je,E=>E.reset());class Je{constructor(){this.next=this.g=this.h=null}set(M,j){this.h=M,this.g=j,this.next=null}reset(){this.next=this.g=this.h=null}}let He,xe=!1,Te=new Ee,J=()=>{const E=l.Promise.resolve(void 0);He=()=>{E.then(Ae)}};var Ae=()=>{for(var E;E=Q();){try{E.h.call(E.g)}catch(j){K(j)}var M=he;M.j(E),100>M.h&&(M.h++,E.next=M.g,M.g=E)}xe=!1};function Ne(){this.s=this.s,this.C=this.C}Ne.prototype.s=!1,Ne.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ne.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ie(E,M){this.type=E,this.g=this.target=M,this.defaultPrevented=!1}ie.prototype.h=function(){this.defaultPrevented=!0};var lt=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var E=!1,M=Object.defineProperty({},"passive",{get:function(){E=!0}});try{const j=()=>{};l.addEventListener("test",j,M),l.removeEventListener("test",j,M)}catch{}return E}();function Ge(E,M){if(ie.call(this,E?E.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,E){var j=this.type=E.type,ee=E.changedTouches&&E.changedTouches.length?E.changedTouches[0]:null;if(this.target=E.target||E.srcElement,this.g=M,M=E.relatedTarget){if(V){e:{try{A(M.nodeName);var Se=!0;break e}catch{}Se=!1}Se||(M=null)}}else j=="mouseover"?M=E.fromElement:j=="mouseout"&&(M=E.toElement);this.relatedTarget=M,ee?(this.clientX=ee.clientX!==void 0?ee.clientX:ee.pageX,this.clientY=ee.clientY!==void 0?ee.clientY:ee.pageY,this.screenX=ee.screenX||0,this.screenY=ee.screenY||0):(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0),this.button=E.button,this.key=E.key||"",this.ctrlKey=E.ctrlKey,this.altKey=E.altKey,this.shiftKey=E.shiftKey,this.metaKey=E.metaKey,this.pointerId=E.pointerId||0,this.pointerType=typeof E.pointerType=="string"?E.pointerType:ut[E.pointerType]||"",this.state=E.state,this.i=E,E.defaultPrevented&&Ge.aa.h.call(this)}}T(Ge,ie);var ut={2:"touch",3:"pen",4:"mouse"};Ge.prototype.h=function(){Ge.aa.h.call(this);var E=this.i;E.preventDefault?E.preventDefault():E.returnValue=!1};var et="closure_listenable_"+(1e6*Math.random()|0),_t=0;function xt(E,M,j,ee,Se){this.listener=E,this.proxy=null,this.src=M,this.type=j,this.capture=!!ee,this.ha=Se,this.key=++_t,this.da=this.fa=!1}function Et(E){E.da=!0,E.listener=null,E.proxy=null,E.src=null,E.ha=null}function Dt(E){this.src=E,this.g={},this.h=0}Dt.prototype.add=function(E,M,j,ee,Se){var Pe=E.toString();E=this.g[Pe],E||(E=this.g[Pe]=[],this.h++);var st=an(E,M,ee,Se);return-1<st?(M=E[st],j||(M.fa=!1)):(M=new xt(M,this.src,Pe,!!ee,Se),M.fa=j,E.push(M)),M};function Ut(E,M){var j=M.type;if(j in E.g){var ee=E.g[j],Se=Array.prototype.indexOf.call(ee,M,void 0),Pe;(Pe=0<=Se)&&Array.prototype.splice.call(ee,Se,1),Pe&&(Et(M),E.g[j].length==0&&(delete E.g[j],E.h--))}}function an(E,M,j,ee){for(var Se=0;Se<E.length;++Se){var Pe=E[Se];if(!Pe.da&&Pe.listener==M&&Pe.capture==!!j&&Pe.ha==ee)return Se}return-1}var nt="closure_lm_"+(1e6*Math.random()|0),nn={};function Wt(E,M,j,ee,Se){if(Array.isArray(M)){for(var Pe=0;Pe<M.length;Pe++)Wt(E,M[Pe],j,ee,Se);return null}return j=Re(j),E&&E[et]?E.K(M,j,f(ee)?!!ee.capture:!1,Se):Kt(E,M,j,!1,ee,Se)}function Kt(E,M,j,ee,Se,Pe){if(!M)throw Error("Invalid event type");var st=f(Se)?!!Se.capture:!!Se,Zn=Ce(E);if(Zn||(E[nt]=Zn=new Dt(E)),j=Zn.add(M,j,ee,st,Pe),j.proxy)return j;if(ee=vn(),j.proxy=ee,ee.src=E,ee.listener=j,E.addEventListener)lt||(Se=st),Se===void 0&&(Se=!1),E.addEventListener(M.toString(),ee,Se);else if(E.attachEvent)E.attachEvent(En(M.toString()),ee);else if(E.addListener&&E.removeListener)E.addListener(ee);else throw Error("addEventListener and attachEvent are unavailable.");return j}function vn(){function E(j){return M.call(E.src,E.listener,j)}const M=fe;return E}function fn(E,M,j,ee,Se){if(Array.isArray(M))for(var Pe=0;Pe<M.length;Pe++)fn(E,M[Pe],j,ee,Se);else ee=f(ee)?!!ee.capture:!!ee,j=Re(j),E&&E[et]?(E=E.i,M=String(M).toString(),M in E.g&&(Pe=E.g[M],j=an(Pe,j,ee,Se),-1<j&&(Et(Pe[j]),Array.prototype.splice.call(Pe,j,1),Pe.length==0&&(delete E.g[M],E.h--)))):E&&(E=Ce(E))&&(M=E.g[M.toString()],E=-1,M&&(E=an(M,j,ee,Se)),(j=-1<E?M[E]:null)&&Ot(j))}function Ot(E){if(typeof E!="number"&&E&&!E.da){var M=E.src;if(M&&M[et])Ut(M.i,E);else{var j=E.type,ee=E.proxy;M.removeEventListener?M.removeEventListener(j,ee,E.capture):M.detachEvent?M.detachEvent(En(j),ee):M.addListener&&M.removeListener&&M.removeListener(ee),(j=Ce(M))?(Ut(j,E),j.h==0&&(j.src=null,M[nt]=null)):Et(E)}}}function En(E){return E in nn?nn[E]:nn[E]="on"+E}function fe(E,M){if(E.da)E=!0;else{M=new Ge(M,this);var j=E.listener,ee=E.ha||E.src;E.fa&&Ot(E),E=j.call(ee,M)}return E}function Ce(E){return E=E[nt],E instanceof Dt?E:null}var ge="__closure_events_fn_"+(1e9*Math.random()>>>0);function Re(E){return typeof E=="function"?E:(E[ge]||(E[ge]=function(M){return E.handleEvent(M)}),E[ge])}function Me(){Ne.call(this),this.i=new Dt(this),this.M=this,this.F=null}T(Me,Ne),Me.prototype[et]=!0,Me.prototype.removeEventListener=function(E,M,j,ee){fn(this,E,M,j,ee)};function se(E,M){var j,ee=E.F;if(ee)for(j=[];ee;ee=ee.F)j.push(ee);if(E=E.M,ee=M.type||M,typeof M=="string")M=new ie(M,E);else if(M instanceof ie)M.target=M.target||E;else{var Se=M;M=new ie(ee,E),q(M,Se)}if(Se=!0,j)for(var Pe=j.length-1;0<=Pe;Pe--){var st=M.g=j[Pe];Se=pe(st,ee,!0,M)&&Se}if(st=M.g=E,Se=pe(st,ee,!0,M)&&Se,Se=pe(st,ee,!1,M)&&Se,j)for(Pe=0;Pe<j.length;Pe++)st=M.g=j[Pe],Se=pe(st,ee,!1,M)&&Se}Me.prototype.N=function(){if(Me.aa.N.call(this),this.i){var E=this.i,M;for(M in E.g){for(var j=E.g[M],ee=0;ee<j.length;ee++)Et(j[ee]);delete E.g[M],E.h--}}this.F=null},Me.prototype.K=function(E,M,j,ee){return this.i.add(String(E),M,!1,j,ee)},Me.prototype.L=function(E,M,j,ee){return this.i.add(String(E),M,!0,j,ee)};function pe(E,M,j,ee){if(M=E.i.g[String(M)],!M)return!0;M=M.concat();for(var Se=!0,Pe=0;Pe<M.length;++Pe){var st=M[Pe];if(st&&!st.da&&st.capture==j){var Zn=st.listener,Qi=st.ha||st.src;st.fa&&Ut(E.i,st),Se=Zn.call(Qi,ee)!==!1&&Se}}return Se&&!ee.defaultPrevented}function qe(E,M,j){if(typeof E=="function")j&&(E=y(E,j));else if(E&&typeof E.handleEvent=="function")E=y(E.handleEvent,E);else throw Error("Invalid listener argument");return 2147483647<Number(M)?-1:l.setTimeout(E,M||0)}function De(E){E.g=qe(()=>{E.g=null,E.i&&(E.i=!1,De(E))},E.l);const M=E.h;E.h=null,E.m.apply(null,M)}class Ze extends Ne{constructor(M,j){super(),this.m=M,this.l=j,this.h=null,this.i=!1,this.g=null}j(M){this.h=arguments,this.g?this.i=!0:De(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Tt(E){Ne.call(this),this.h=E,this.g={}}T(Tt,Ne);var hn=[];function pn(E){D(E.g,function(M,j){this.g.hasOwnProperty(j)&&Ot(M)},E),E.g={}}Tt.prototype.N=function(){Tt.aa.N.call(this),pn(this)},Tt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var rr=l.JSON.stringify,Dr=l.JSON.parse,Qt=class{stringify(E){return l.JSON.stringify(E,void 0)}parse(E){return l.JSON.parse(E,void 0)}};function ci(){}ci.prototype.h=null;function ft(E){return E.h||(E.h=E.i())}function Qs(){}var Tr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Un(){ie.call(this,"d")}T(Un,ie);function Jn(){ie.call(this,"c")}T(Jn,ie);var Ai={},Wr=null;function fi(){return Wr=Wr||new Me}Ai.La="serverreachability";function Ar(E){ie.call(this,Ai.La,E)}T(Ar,ie);function Uo(E){const M=fi();se(M,new Ar(M))}Ai.STAT_EVENT="statevent";function Ml(E,M){ie.call(this,Ai.STAT_EVENT,E),this.stat=M}T(Ml,ie);function Ir(E){const M=fi();se(M,new Ml(M,E))}Ai.Ma="timingevent";function ys(E,M){ie.call(this,Ai.Ma,E),this.size=M}T(ys,ie);function aa(E,M){if(typeof E!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){E()},M)}function sa(){this.g=!0}sa.prototype.xa=function(){this.g=!1};function Xs(E,M,j,ee,Se,Pe){E.info(function(){if(E.g)if(Pe)for(var st="",Zn=Pe.split("&"),Qi=0;Qi<Zn.length;Qi++){var An=Zn[Qi].split("=");if(1<An.length){var er=An[0];An=An[1];var Li=er.split("_");st=2<=Li.length&&Li[1]=="type"?st+(er+"="+An+"&"):st+(er+"=redacted&")}}else st=null;else st=Pe;return"XMLHTTP REQ ("+ee+") [attempt "+Se+"]: "+M+`
`+j+`
`+st})}function la(E,M,j,ee,Se,Pe,st){E.info(function(){return"XMLHTTP RESP ("+ee+") [ attempt "+Se+"]: "+M+`
`+j+`
`+Pe+" "+st})}function Ii(E,M,j,ee){E.info(function(){return"XMLHTTP TEXT ("+M+"): "+wu(E,j)+(ee?" "+ee:"")})}function If(E,M){E.info(function(){return"TIMEOUT: "+M})}sa.prototype.info=function(){};function wu(E,M){if(!E.g)return M;if(!M)return null;try{var j=JSON.parse(M);if(j){for(E=0;E<j.length;E++)if(Array.isArray(j[E])){var ee=j[E];if(!(2>ee.length)){var Se=ee[1];if(Array.isArray(Se)&&!(1>Se.length)){var Pe=Se[0];if(Pe!="noop"&&Pe!="stop"&&Pe!="close")for(var st=1;st<Se.length;st++)Se[st]=""}}}}return rr(j)}catch{return M}}var Fl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},yc={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},qi;function Ki(){}T(Ki,ci),Ki.prototype.g=function(){return new XMLHttpRequest},Ki.prototype.i=function(){return{}},qi=new Ki;function Vo(E,M,j,ee){this.j=E,this.i=M,this.l=j,this.R=ee||1,this.U=new Tt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Wa}function Wa(){this.i=null,this.g="",this.h=!1}var _c={},Cu={};function ki(E,M,j){E.L=1,E.v=Ia(uo(M)),E.m=j,E.P=!0,Bo(E,null)}function Bo(E,M){E.F=Date.now(),Gi(E),E.A=uo(E.v);var j=E.A,ee=E.R;Array.isArray(ee)||(ee=[String(ee)]),ws(j.i,"t",ee),E.C=0,j=E.j.J,E.h=new Wa,E.g=Rr(E.j,j?M:null,!E.m),0<E.O&&(E.M=new Ze(y(E.Y,E,E.g),E.O)),M=E.U,j=E.g,ee=E.ca;var Se="readystatechange";Array.isArray(Se)||(Se&&(hn[0]=Se.toString()),Se=hn);for(var Pe=0;Pe<Se.length;Pe++){var st=Wt(j,Se[Pe],ee||M.handleEvent,!1,M.h||M);if(!st)break;M.g[st.key]=st}M=E.H?N(E.H):{},E.m?(E.u||(E.u="POST"),M["Content-Type"]="application/x-www-form-urlencoded",E.g.ea(E.A,E.u,E.m,M)):(E.u="GET",E.g.ea(E.A,E.u,null,M)),Uo(),Xs(E.i,E.u,E.A,E.l,E.R,E.m)}Vo.prototype.ca=function(E){E=E.target;const M=this.M;M&&Pn(E)==3?M.j():this.Y(E)},Vo.prototype.Y=function(E){try{if(E==this.g)e:{const Li=Pn(this.g);var M=this.g.Ba();const Wo=this.g.Z();if(!(3>Li)&&(Li!=3||this.g&&(this.h.h||this.g.oa()||Fr(this.g)))){this.J||Li!=4||M==7||(M==8||0>=Wo?Uo(3):Uo(2)),qa(this);var j=this.g.Z();this.X=j;t:if($o(this)){var ee=Fr(this.g);E="";var Se=ee.length,Pe=Pn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){mt(this),Vn(this);var st="";break t}this.h.i=new l.TextDecoder}for(M=0;M<Se;M++)this.h.h=!0,E+=this.h.i.decode(ee[M],{stream:!(Pe&&M==Se-1)});ee.length=0,this.h.g+=E,this.C=0,st=this.h.g}else st=this.g.oa();if(this.o=j==200,la(this.i,this.u,this.A,this.l,this.R,Li,j),this.o){if(this.T&&!this.K){t:{if(this.g){var Zn,Qi=this.g;if((Zn=Qi.g?Qi.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(Zn)){var An=Zn;break t}}An=null}if(j=An)Ii(this.i,this.l,j,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Mr(this,j);else{this.o=!1,this.s=3,Ir(12),mt(this),Vn(this);break e}}if(this.P){j=!0;let ii;for(;!this.J&&this.C<st.length;)if(ii=kf(this,st),ii==Cu){Li==4&&(this.s=4,Ir(14),j=!1),Ii(this.i,this.l,null,"[Incomplete Response]");break}else if(ii==_c){this.s=4,Ir(15),Ii(this.i,this.l,st,"[Invalid Chunk]"),j=!1;break}else Ii(this.i,this.l,ii,null),Mr(this,ii);if($o(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Li!=4||st.length!=0||this.h.h||(this.s=1,Ir(16),j=!1),this.o=this.o&&j,!j)Ii(this.i,this.l,st,"[Invalid Chunked Response]"),mt(this),Vn(this);else if(0<st.length&&!this.W){this.W=!0;var er=this.j;er.g==this&&er.ba&&!er.M&&(er.j.info("Great, no buffering proxy detected. Bytes received: "+st.length),At(er),er.M=!0,Ir(11))}}else Ii(this.i,this.l,st,null),Mr(this,st);Li==4&&mt(this),this.o&&!this.J&&(Li==4?Xt(this.j,this):(this.o=!1,Gi(this)))}else hr(this.g),j==400&&0<st.indexOf("Unknown SID")?(this.s=3,Ir(12)):(this.s=0,Ir(13)),mt(this),Vn(this)}}}catch{}finally{}};function $o(E){return E.g?E.u=="GET"&&E.L!=2&&E.j.Ca:!1}function kf(E,M){var j=E.C,ee=M.indexOf(`
`,j);return ee==-1?Cu:(j=Number(M.substring(j,ee)),isNaN(j)?_c:(ee+=1,ee+j>M.length?Cu:(M=M.slice(ee,ee+j),E.C=ee+j,M)))}Vo.prototype.cancel=function(){this.J=!0,mt(this)};function Gi(E){E.S=Date.now()+E.I,Ul(E,E.I)}function Ul(E,M){if(E.B!=null)throw Error("WatchDog timer not null");E.B=aa(y(E.ba,E),M)}function qa(E){E.B&&(l.clearTimeout(E.B),E.B=null)}Vo.prototype.ba=function(){this.B=null;const E=Date.now();0<=E-this.S?(If(this.i,this.A),this.L!=2&&(Uo(),Ir(17)),mt(this),this.s=2,Vn(this)):Ul(this,this.S-E)};function Vn(E){E.j.G==0||E.J||Xt(E.j,E)}function mt(E){qa(E);var M=E.M;M&&typeof M.ma=="function"&&M.ma(),E.M=null,pn(E.U),E.g&&(M=E.g,E.g=null,M.abort(),M.ma())}function Mr(E,M){try{var j=E.j;if(j.G!=0&&(j.g==E||Ka(j.h,E))){if(!E.K&&Ka(j.h,E)&&j.G==3){try{var ee=j.Da.g.parse(M)}catch{ee=null}if(Array.isArray(ee)&&ee.length==3){var Se=ee;if(Se[0]==0){e:if(!j.u){if(j.g)if(j.g.F+3e3<E.F)Vt(j),ri(j);else break e;Qe(j),Ir(18)}}else j.za=Se[1],0<j.za-j.T&&37500>Se[2]&&j.F&&j.v==0&&!j.C&&(j.C=aa(y(j.Za,j),6e3));if(1>=Aa(j.h)&&j.ca){try{j.ca()}catch{}j.ca=void 0}}else pr(j,11)}else if((E.K||j.g==E)&&Vt(j),!k(M))for(Se=j.Da.g.parse(M),M=0;M<Se.length;M++){let An=Se[M];if(j.T=An[0],An=An[1],j.G==2)if(An[0]=="c"){j.K=An[1],j.ia=An[2];const er=An[3];er!=null&&(j.la=er,j.j.info("VER="+j.la));const Li=An[4];Li!=null&&(j.Aa=Li,j.j.info("SVER="+j.Aa));const Wo=An[5];Wo!=null&&typeof Wo=="number"&&0<Wo&&(ee=1.5*Wo,j.L=ee,j.j.info("backChannelRequestTimeoutMs_="+ee)),ee=j;const ii=E.g;if(ii){const Bl=ii.g?ii.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bl){var Pe=ee.h;Pe.g||Bl.indexOf("spdy")==-1&&Bl.indexOf("quic")==-1&&Bl.indexOf("h2")==-1||(Pe.j=Pe.l,Pe.g=new Set,Pe.h&&(_s(Pe,Pe.h),Pe.h=null))}if(ee.D){const Of=ii.g?ii.g.getResponseHeader("X-HTTP-Session-Id"):null;Of&&(ee.ya=Of,jn(ee.I,ee.D,Of))}}j.G=3,j.l&&j.l.ua(),j.ba&&(j.R=Date.now()-E.F,j.j.info("Handshake RTT: "+j.R+"ms")),ee=j;var st=E;if(ee.qa=Ur(ee,ee.J?ee.ia:null,ee.W),st.K){Be(ee.h,st);var Zn=st,Qi=ee.L;Qi&&(Zn.I=Qi),Zn.B&&(qa(Zn),Gi(Zn)),ee.g=st}else ke(ee);0<j.i.length&&Pi(j)}else An[0]!="stop"&&An[0]!="close"||pr(j,7);else j.G==3&&(An[0]=="stop"||An[0]=="close"?An[0]=="stop"?pr(j,7):kr(j):An[0]!="noop"&&j.l&&j.l.ta(An),j.v=0)}}Uo(4)}catch{}}var Co=class{constructor(E,M){this.g=E,this.map=M}};function So(E){this.l=E||10,l.PerformanceNavigationTiming?(E=l.performance.getEntriesByType("navigation"),E=0<E.length&&(E[0].nextHopProtocol=="hq"||E[0].nextHopProtocol=="h2")):E=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=E?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function wn(E){return E.h?!0:E.g?E.g.size>=E.j:!1}function Aa(E){return E.h?1:E.g?E.g.size:0}function Ka(E,M){return E.h?E.h==M:E.g?E.g.has(M):!1}function _s(E,M){E.g?E.g.add(M):E.h=M}function Be(E,M){E.h&&E.h==M?E.h=null:E.g&&E.g.has(M)&&E.g.delete(M)}So.prototype.cancel=function(){if(this.i=Mt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const E of this.g.values())E.cancel();this.g.clear()}};function Mt(E){if(E.h!=null)return E.i.concat(E.h.D);if(E.g!=null&&E.g.size!==0){let M=E.i;for(const j of E.g.values())M=M.concat(j.D);return M}return C(E.i)}function Js(E){if(E.V&&typeof E.V=="function")return E.V();if(typeof Map<"u"&&E instanceof Map||typeof Set<"u"&&E instanceof Set)return Array.from(E.values());if(typeof E=="string")return E.split("");if(u(E)){for(var M=[],j=E.length,ee=0;ee<j;ee++)M.push(E[ee]);return M}M=[],j=0;for(ee in E)M[j++]=E[ee];return M}function Ga(E){if(E.na&&typeof E.na=="function")return E.na();if(!E.V||typeof E.V!="function"){if(typeof Map<"u"&&E instanceof Map)return Array.from(E.keys());if(!(typeof Set<"u"&&E instanceof Set)){if(u(E)||typeof E=="string"){var M=[];E=E.length;for(var j=0;j<E;j++)M.push(j);return M}M=[],j=0;for(const ee in E)M[j++]=ee;return M}}}function Ya(E,M){if(E.forEach&&typeof E.forEach=="function")E.forEach(M,void 0);else if(u(E)||typeof E=="string")Array.prototype.forEach.call(E,M,void 0);else for(var j=Ga(E),ee=Js(E),Se=ee.length,Pe=0;Pe<Se;Pe++)M.call(void 0,ee[Pe],j&&j[Pe],E)}var Ho=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Su(E,M){if(E){E=E.split("&");for(var j=0;j<E.length;j++){var ee=E[j].indexOf("="),Se=null;if(0<=ee){var Pe=E[j].substring(0,ee);Se=E[j].substring(ee+1)}else Pe=E[j];M(Pe,Se?decodeURIComponent(Se.replace(/\+/g," ")):"")}}}function Lt(E){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,E instanceof Lt){this.h=E.h,bs(this,E.j),this.o=E.o,this.g=E.g,jo(this,E.s),this.l=E.l;var M=E.i,j=new Es;j.i=M.i,M.g&&(j.g=new Map(M.g),j.h=M.h),To(this,j),this.m=E.m}else E&&(M=String(E).match(Ho))?(this.h=!1,bs(this,M[1]||"",!0),this.o=Ri(M[2]||""),this.g=Ri(M[3]||"",!0),jo(this,M[4]),this.l=Ri(M[5]||"",!0),To(this,M[6]||"",!0),this.m=Ri(M[7]||"")):(this.h=!1,this.i=new Es(null,this.h))}Lt.prototype.toString=function(){var E=[],M=this.j;M&&E.push(qr(M,Zs,!0),":");var j=this.g;return(j||M=="file")&&(E.push("//"),(M=this.o)&&E.push(qr(M,Zs,!0),"@"),E.push(encodeURIComponent(String(j)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),j=this.s,j!=null&&E.push(":",String(j))),(j=this.l)&&(this.g&&j.charAt(0)!="/"&&E.push("/"),E.push(qr(j,j.charAt(0)=="/"?Vl:ua,!0))),(j=this.i.toString())&&E.push("?",j),(j=this.m)&&E.push("#",qr(j,Au)),E.join("")};function uo(E){return new Lt(E)}function bs(E,M,j){E.j=j?Ri(M,!0):M,E.j&&(E.j=E.j.replace(/:$/,""))}function jo(E,M){if(M){if(M=Number(M),isNaN(M)||0>M)throw Error("Bad port number "+M);E.s=M}else E.s=null}function To(E,M,j){M instanceof Es?(E.i=M,ha(E.i,E.h)):(j||(M=qr(M,xu)),E.i=new Es(M,E.h))}function jn(E,M,j){E.i.set(M,j)}function Ia(E){return jn(E,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),E}function Ri(E,M){return E?M?decodeURI(E.replace(/%25/g,"%2525")):decodeURIComponent(E):""}function qr(E,M,j){return typeof E=="string"?(E=encodeURI(E).replace(M,Tu),j&&(E=E.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E):null}function Tu(E){return E=E.charCodeAt(0),"%"+(E>>4&15).toString(16)+(E&15).toString(16)}var Zs=/[#\/\?@]/g,ua=/[#\?:]/g,Vl=/[#\?]/g,xu=/[#\?@]/g,Au=/#/g;function Es(E,M){this.h=this.g=null,this.i=E||null,this.j=!!M}function ca(E){E.g||(E.g=new Map,E.h=0,E.i&&Su(E.i,function(M,j){E.add(decodeURIComponent(M.replace(/\+/g," ")),j)}))}t=Es.prototype,t.add=function(E,M){ca(this),this.i=null,E=da(this,E);var j=this.g.get(E);return j||this.g.set(E,j=[]),j.push(M),this.h+=1,this};function fa(E,M){ca(E),M=da(E,M),E.g.has(M)&&(E.i=null,E.h-=E.g.get(M).length,E.g.delete(M))}function xo(E,M){return ca(E),M=da(E,M),E.g.has(M)}t.forEach=function(E,M){ca(this),this.g.forEach(function(j,ee){j.forEach(function(Se){E.call(M,Se,ee,this)},this)},this)},t.na=function(){ca(this);const E=Array.from(this.g.values()),M=Array.from(this.g.keys()),j=[];for(let ee=0;ee<M.length;ee++){const Se=E[ee];for(let Pe=0;Pe<Se.length;Pe++)j.push(M[ee])}return j},t.V=function(E){ca(this);let M=[];if(typeof E=="string")xo(this,E)&&(M=M.concat(this.g.get(da(this,E))));else{E=Array.from(this.g.values());for(let j=0;j<E.length;j++)M=M.concat(E[j])}return M},t.set=function(E,M){return ca(this),this.i=null,E=da(this,E),xo(this,E)&&(this.h-=this.g.get(E).length),this.g.set(E,[M]),this.h+=1,this},t.get=function(E,M){return E?(E=this.V(E),0<E.length?String(E[0]):M):M};function ws(E,M,j){fa(E,M),0<j.length&&(E.i=null,E.g.set(da(E,M),C(j)),E.h+=j.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const E=[],M=Array.from(this.g.keys());for(var j=0;j<M.length;j++){var ee=M[j];const Pe=encodeURIComponent(String(ee)),st=this.V(ee);for(ee=0;ee<st.length;ee++){var Se=Pe;st[ee]!==""&&(Se+="="+encodeURIComponent(String(st[ee]))),E.push(Se)}}return this.i=E.join("&")};function da(E,M){return M=String(M),E.j&&(M=M.toLowerCase()),M}function ha(E,M){M&&!E.j&&(ca(E),E.i=null,E.g.forEach(function(j,ee){var Se=ee.toLowerCase();ee!=Se&&(fa(this,ee),ws(this,Se,j))},E)),E.j=M}function Oi(E,M){const j=new sa;if(l.Image){const ee=new Image;ee.onload=w(co,j,"TestLoadImage: loaded",!0,M,ee),ee.onerror=w(co,j,"TestLoadImage: error",!1,M,ee),ee.onabort=w(co,j,"TestLoadImage: abort",!1,M,ee),ee.ontimeout=w(co,j,"TestLoadImage: timeout",!1,M,ee),l.setTimeout(function(){ee.ontimeout&&ee.ontimeout()},1e4),ee.src=E}else M(!1)}function Rf(E,M){const j=new sa,ee=new AbortController,Se=setTimeout(()=>{ee.abort(),co(j,"TestPingServer: timeout",!1,M)},1e4);fetch(E,{signal:ee.signal}).then(Pe=>{clearTimeout(Se),Pe.ok?co(j,"TestPingServer: ok",!0,M):co(j,"TestPingServer: server error",!1,M)}).catch(()=>{clearTimeout(Se),co(j,"TestPingServer: error",!1,M)})}function co(E,M,j,ee,Se){try{Se&&(Se.onload=null,Se.onerror=null,Se.onabort=null,Se.ontimeout=null),ee(j)}catch{}}function el(){this.g=new Qt}function bc(E,M,j){const ee=j||"";try{Ya(E,function(Se,Pe){let st=Se;f(Se)&&(st=rr(Se)),M.push(ee+Pe+"="+encodeURIComponent(st))})}catch(Se){throw M.push(ee+"type="+encodeURIComponent("_badmap")),Se}}function zo(E){this.l=E.Ub||null,this.j=E.eb||!1}T(zo,ci),zo.prototype.g=function(){return new Cs(this.l,this.j)},zo.prototype.i=function(E){return function(){return E}}({});function Cs(E,M){Me.call(this),this.D=E,this.o=M,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(Cs,Me),t=Cs.prototype,t.open=function(E,M){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=E,this.A=M,this.readyState=1,Sn(this)},t.send=function(E){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const M={headers:this.u,method:this.B,credentials:this.m,cache:void 0};E&&(M.body=E),(this.D||l).fetch(new Request(this.A,M)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Cn(this)),this.readyState=0},t.Sa=function(E){if(this.g&&(this.l=E,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=E.headers,this.readyState=2,Sn(this)),this.g&&(this.readyState=3,Sn(this),this.g)))if(this.responseType==="arraybuffer")E.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in E){if(this.j=E.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Iu(this)}else E.text().then(this.Ra.bind(this),this.ga.bind(this))};function Iu(E){E.j.read().then(E.Pa.bind(E)).catch(E.ga.bind(E))}t.Pa=function(E){if(this.g){if(this.o&&E.value)this.response.push(E.value);else if(!this.o){var M=E.value?E.value:new Uint8Array(0);(M=this.v.decode(M,{stream:!E.done}))&&(this.response=this.responseText+=M)}E.done?Cn(this):Sn(this),this.readyState==3&&Iu(this)}},t.Ra=function(E){this.g&&(this.response=this.responseText=E,Cn(this))},t.Qa=function(E){this.g&&(this.response=E,Cn(this))},t.ga=function(){this.g&&Cn(this)};function Cn(E){E.readyState=4,E.l=null,E.j=null,E.v=null,Sn(E)}t.setRequestHeader=function(E,M){this.u.append(E,M)},t.getResponseHeader=function(E){return this.h&&this.h.get(E.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const E=[],M=this.h.entries();for(var j=M.next();!j.done;)j=j.value,E.push(j[0]+": "+j[1]),j=M.next();return E.join(`\r
`)};function Sn(E){E.onreadystatechange&&E.onreadystatechange.call(E)}Object.defineProperty(Cs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(E){this.m=E?"include":"same-origin"}});function oe(E){let M="";return D(E,function(j,ee){M+=ee,M+=":",M+=j,M+=`\r
`}),M}function ye(E,M,j){e:{for(ee in j){var ee=!1;break e}ee=!0}ee||(j=oe(j),typeof E=="string"?j!=null&&encodeURIComponent(String(j)):jn(E,M,j))}function Le(E){Me.call(this),this.headers=new Map,this.o=E||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(Le,Me);var pt=/^https?$/i,zn=["POST","PUT"];t=Le.prototype,t.Ha=function(E){this.J=E},t.ea=function(E,M,j,ee){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+E);M=M?M.toUpperCase():"GET",this.D=E,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():qi.g(),this.v=this.o?ft(this.o):ft(qi),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(M,String(E),!0),this.B=!1}catch(Pe){$t(this,Pe);return}if(E=j||"",j=new Map(this.headers),ee)if(Object.getPrototypeOf(ee)===Object.prototype)for(var Se in ee)j.set(Se,ee[Se]);else if(typeof ee.keys=="function"&&typeof ee.get=="function")for(const Pe of ee.keys())j.set(Pe,ee.get(Pe));else throw Error("Unknown input type for opt_headers: "+String(ee));ee=Array.from(j.keys()).find(Pe=>Pe.toLowerCase()=="content-type"),Se=l.FormData&&E instanceof l.FormData,!(0<=Array.prototype.indexOf.call(zn,M,void 0))||ee||Se||j.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Pe,st]of j)this.g.setRequestHeader(Pe,st);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Wn(this),this.u=!0,this.g.send(E),this.u=!1}catch(Pe){$t(this,Pe)}};function $t(E,M){E.h=!1,E.g&&(E.j=!0,E.g.abort(),E.j=!1),E.l=M,E.m=5,Tn(E),Ht(E)}function Tn(E){E.A||(E.A=!0,se(E,"complete"),se(E,"error"))}t.abort=function(E){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=E||7,se(this,"complete"),se(this,"abort"),Ht(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ht(this,!0)),Le.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?dr(this):this.bb())},t.bb=function(){dr(this)};function dr(E){if(E.h&&typeof a<"u"&&(!E.v[1]||Pn(E)!=4||E.Z()!=2)){if(E.u&&Pn(E)==4)qe(E.Ea,0,E);else if(se(E,"readystatechange"),Pn(E)==4){E.h=!1;try{const st=E.Z();e:switch(st){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var M=!0;break e;default:M=!1}var j;if(!(j=M)){var ee;if(ee=st===0){var Se=String(E.D).match(Ho)[1]||null;!Se&&l.self&&l.self.location&&(Se=l.self.location.protocol.slice(0,-1)),ee=!pt.test(Se?Se.toLowerCase():"")}j=ee}if(j)se(E,"complete"),se(E,"success");else{E.m=6;try{var Pe=2<Pn(E)?E.g.statusText:""}catch{Pe=""}E.l=Pe+" ["+E.Z()+"]",Tn(E)}}finally{Ht(E)}}}}function Ht(E,M){if(E.g){Wn(E);const j=E.g,ee=E.v[0]?()=>{}:null;E.g=null,E.v=null,M||se(E,"ready");try{j.onreadystatechange=ee}catch{}}}function Wn(E){E.I&&(l.clearTimeout(E.I),E.I=null)}t.isActive=function(){return!!this.g};function Pn(E){return E.g?E.g.readyState:0}t.Z=function(){try{return 2<Pn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(E){if(this.g){var M=this.g.responseText;return E&&M.indexOf(E)==0&&(M=M.substring(E.length)),Dr(M)}};function Fr(E){try{if(!E.g)return null;if("response"in E.g)return E.g.response;switch(E.H){case"":case"text":return E.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in E.g)return E.g.mozResponseArrayBuffer}return null}catch{return null}}function hr(E){const M={};E=(E.g&&2<=Pn(E)&&E.g.getAllResponseHeaders()||"").split(`\r
`);for(let ee=0;ee<E.length;ee++){if(k(E[ee]))continue;var j=z(E[ee]);const Se=j[0];if(j=j[1],typeof j!="string")continue;j=j.trim();const Pe=M[Se]||[];M[Se]=Pe,Pe.push(j)}P(M,function(ee){return ee.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function sn(E,M,j){return j&&j.internalChannelParams&&j.internalChannelParams[E]||M}function ni(E){this.Aa=0,this.i=[],this.j=new sa,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=sn("failFast",!1,E),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=sn("baseRetryDelayMs",5e3,E),this.cb=sn("retryDelaySeedMs",1e4,E),this.Wa=sn("forwardChannelMaxRetries",2,E),this.wa=sn("forwardChannelRequestTimeoutMs",2e4,E),this.pa=E&&E.xmlHttpFactory||void 0,this.Xa=E&&E.Tb||void 0,this.Ca=E&&E.useFetchStreams||!1,this.L=void 0,this.J=E&&E.supportsCrossDomainXhr||!1,this.K="",this.h=new So(E&&E.concurrentRequestLimit),this.Da=new el,this.P=E&&E.fastHandshake||!1,this.O=E&&E.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=E&&E.Rb||!1,E&&E.xa&&this.j.xa(),E&&E.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&E&&E.detectBufferingProxy||!1,this.ja=void 0,E&&E.longPollingTimeout&&0<E.longPollingTimeout&&(this.ja=E.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ni.prototype,t.la=8,t.G=1,t.connect=function(E,M,j,ee){Ir(0),this.W=E,this.H=M||{},j&&ee!==void 0&&(this.H.OSID=j,this.H.OAID=ee),this.F=this.X,this.I=Ur(this,null,this.W),Pi(this)};function kr(E){if(Ao(E),E.G==3){var M=E.U++,j=uo(E.I);if(jn(j,"SID",E.K),jn(j,"RID",M),jn(j,"TYPE","terminate"),X(E,j),M=new Vo(E,E.j,M),M.L=2,M.v=Ia(uo(j)),j=!1,l.navigator&&l.navigator.sendBeacon)try{j=l.navigator.sendBeacon(M.v.toString(),"")}catch{}!j&&l.Image&&(new Image().src=M.v,j=!0),j||(M.g=Rr(M.j,null),M.g.ea(M.v)),M.F=Date.now(),Gi(M)}Ni(E)}function ri(E){E.g&&(At(E),E.g.cancel(),E.g=null)}function Ao(E){ri(E),E.u&&(l.clearTimeout(E.u),E.u=null),Vt(E),E.h.cancel(),E.s&&(typeof E.s=="number"&&l.clearTimeout(E.s),E.s=null)}function Pi(E){if(!wn(E.h)&&!E.s){E.s=!0;var M=E.Ga;He||J(),xe||(He(),xe=!0),Te.add(M,E),E.B=0}}function tl(E,M){return Aa(E.h)>=E.h.j-(E.s?1:0)?!1:E.s?(E.i=M.D.concat(E.i),!0):E.G==1||E.G==2||E.B>=(E.Va?0:E.Wa)?!1:(E.s=aa(y(E.Ga,E,M),Nn(E,E.B)),E.B++,!0)}t.Ga=function(E){if(this.s)if(this.s=null,this.G==1){if(!E){this.U=Math.floor(1e5*Math.random()),E=this.U++;const Se=new Vo(this,this.j,E);let Pe=this.o;if(this.S&&(Pe?(Pe=N(Pe),q(Pe,this.S)):Pe=this.S),this.m!==null||this.O||(Se.H=Pe,Pe=null),this.P)e:{for(var M=0,j=0;j<this.i.length;j++){t:{var ee=this.i[j];if("__data__"in ee.map&&(ee=ee.map.__data__,typeof ee=="string")){ee=ee.length;break t}ee=void 0}if(ee===void 0)break;if(M+=ee,4096<M){M=j;break e}if(M===4096||j===this.i.length-1){M=j+1;break e}}M=1e3}else M=1e3;M=ue(this,Se,M),j=uo(this.I),jn(j,"RID",E),jn(j,"CVER",22),this.D&&jn(j,"X-HTTP-Session-Id",this.D),X(this,j),Pe&&(this.O?M="headers="+encodeURIComponent(String(oe(Pe)))+"&"+M:this.m&&ye(j,this.m,Pe)),_s(this.h,Se),this.Ua&&jn(j,"TYPE","init"),this.P?(jn(j,"$req",M),jn(j,"SID","null"),Se.T=!0,ki(Se,j,null)):ki(Se,j,M),this.G=2}}else this.G==3&&(E?Kr(this,E):this.i.length==0||wn(this.h)||Kr(this))};function Kr(E,M){var j;M?j=M.l:j=E.U++;const ee=uo(E.I);jn(ee,"SID",E.K),jn(ee,"RID",j),jn(ee,"AID",E.T),X(E,ee),E.m&&E.o&&ye(ee,E.m,E.o),j=new Vo(E,E.j,j,E.B+1),E.m===null&&(j.H=E.o),M&&(E.i=M.D.concat(E.i)),M=ue(E,j,1e3),j.I=Math.round(.5*E.wa)+Math.round(.5*E.wa*Math.random()),_s(E.h,j),ki(j,ee,M)}function X(E,M){E.H&&D(E.H,function(j,ee){jn(M,ee,j)}),E.l&&Ya({},function(j,ee){jn(M,ee,j)})}function ue(E,M,j){j=Math.min(E.i.length,j);var ee=E.l?y(E.l.Na,E.l,E):null;e:{var Se=E.i;let Pe=-1;for(;;){const st=["count="+j];Pe==-1?0<j?(Pe=Se[0].g,st.push("ofs="+Pe)):Pe=0:st.push("ofs="+Pe);let Zn=!0;for(let Qi=0;Qi<j;Qi++){let An=Se[Qi].g;const er=Se[Qi].map;if(An-=Pe,0>An)Pe=Math.max(0,Se[Qi].g-100),Zn=!1;else try{bc(er,st,"req"+An+"_")}catch{ee&&ee(er)}}if(Zn){ee=st.join("&");break e}}}return E=E.i.splice(0,j),M.D=E,ee}function ke(E){if(!E.g&&!E.u){E.Y=1;var M=E.Fa;He||J(),xe||(He(),xe=!0),Te.add(M,E),E.v=0}}function Qe(E){return E.g||E.u||3<=E.v?!1:(E.Y++,E.u=aa(y(E.Fa,E),Nn(E,E.v)),E.v++,!0)}t.Fa=function(){if(this.u=null,vt(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var E=2*this.R;this.j.info("BP detection timer enabled: "+E),this.A=aa(y(this.ab,this),E)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ir(10),ri(this),vt(this))};function At(E){E.A!=null&&(l.clearTimeout(E.A),E.A=null)}function vt(E){E.g=new Vo(E,E.j,"rpc",E.Y),E.m===null&&(E.g.H=E.o),E.g.O=0;var M=uo(E.qa);jn(M,"RID","rpc"),jn(M,"SID",E.K),jn(M,"AID",E.T),jn(M,"CI",E.F?"0":"1"),!E.F&&E.ja&&jn(M,"TO",E.ja),jn(M,"TYPE","xmlhttp"),X(E,M),E.m&&E.o&&ye(M,E.m,E.o),E.L&&(E.g.I=E.L);var j=E.g;E=E.ia,j.L=1,j.v=Ia(uo(M)),j.m=null,j.P=!0,Bo(j,E)}t.Za=function(){this.C!=null&&(this.C=null,ri(this),Qe(this),Ir(19))};function Vt(E){E.C!=null&&(l.clearTimeout(E.C),E.C=null)}function Xt(E,M){var j=null;if(E.g==M){Vt(E),At(E),E.g=null;var ee=2}else if(Ka(E.h,M))j=M.D,Be(E.h,M),ee=1;else return;if(E.G!=0){if(M.o)if(ee==1){j=M.m?M.m.length:0,M=Date.now()-M.F;var Se=E.B;ee=fi(),se(ee,new ys(ee,j)),Pi(E)}else ke(E);else if(Se=M.s,Se==3||Se==0&&0<M.X||!(ee==1&&tl(E,M)||ee==2&&Qe(E)))switch(j&&0<j.length&&(M=E.h,M.i=M.i.concat(j)),Se){case 1:pr(E,5);break;case 4:pr(E,10);break;case 3:pr(E,6);break;default:pr(E,2)}}}function Nn(E,M){let j=E.Ta+Math.floor(Math.random()*E.cb);return E.isActive()||(j*=2),j*M}function pr(E,M){if(E.j.info("Error code "+M),M==2){var j=y(E.fb,E),ee=E.Xa;const Se=!ee;ee=new Lt(ee||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||bs(ee,"https"),Ia(ee),Se?Oi(ee.toString(),j):Rf(ee.toString(),j)}else Ir(2);E.G=0,E.l&&E.l.sa(M),Ni(E),Ao(E)}t.fb=function(E){E?(this.j.info("Successfully pinged google.com"),Ir(2)):(this.j.info("Failed to ping google.com"),Ir(1))};function Ni(E){if(E.G=0,E.ka=[],E.l){const M=Mt(E.h);(M.length!=0||E.i.length!=0)&&(R(E.ka,M),R(E.ka,E.i),E.h.i.length=0,C(E.i),E.i.length=0),E.l.ra()}}function Ur(E,M,j){var ee=j instanceof Lt?uo(j):new Lt(j);if(ee.g!="")M&&(ee.g=M+"."+ee.g),jo(ee,ee.s);else{var Se=l.location;ee=Se.protocol,M=M?M+"."+Se.hostname:Se.hostname,Se=+Se.port;var Pe=new Lt(null);ee&&bs(Pe,ee),M&&(Pe.g=M),Se&&jo(Pe,Se),j&&(Pe.l=j),ee=Pe}return j=E.D,M=E.ya,j&&M&&jn(ee,j,M),jn(ee,"VER",E.la),X(E,ee),ee}function Rr(E,M,j){if(M&&!E.J)throw Error("Can't create secondary domain capable XhrIo object.");return M=E.Ca&&!E.pa?new Le(new zo({eb:j})):new Le(E.pa),M.Ha(E.J),M}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Io(){}t=Io.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Yi(){}Yi.prototype.g=function(E,M){return new Or(E,M)};function Or(E,M){Me.call(this),this.g=new ni(M),this.l=E,this.h=M&&M.messageUrlParams||null,E=M&&M.messageHeaders||null,M&&M.clientProtocolHeaderRequired&&(E?E["X-Client-Protocol"]="webchannel":E={"X-Client-Protocol":"webchannel"}),this.g.o=E,E=M&&M.initMessageHeaders||null,M&&M.messageContentType&&(E?E["X-WebChannel-Content-Type"]=M.messageContentType:E={"X-WebChannel-Content-Type":M.messageContentType}),M&&M.va&&(E?E["X-WebChannel-Client-Profile"]=M.va:E={"X-WebChannel-Client-Profile":M.va}),this.g.S=E,(E=M&&M.Sb)&&!k(E)&&(this.g.m=E),this.v=M&&M.supportsCrossDomainXhr||!1,this.u=M&&M.sendRawJson||!1,(M=M&&M.httpSessionIdParam)&&!k(M)&&(this.g.D=M,E=this.h,E!==null&&M in E&&(E=this.h,M in E&&delete E[M])),this.j=new nl(this)}T(Or,Me),Or.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Or.prototype.close=function(){kr(this.g)},Or.prototype.o=function(E){var M=this.g;if(typeof E=="string"){var j={};j.__data__=E,E=j}else this.u&&(j={},j.__data__=rr(E),E=j);M.i.push(new Co(M.Ya++,E)),M.G==3&&Pi(M)},Or.prototype.N=function(){this.g.l=null,delete this.j,kr(this.g),delete this.g,Or.aa.N.call(this)};function di(E){Un.call(this),E.__headers__&&(this.headers=E.__headers__,this.statusCode=E.__status__,delete E.__headers__,delete E.__status__);var M=E.__sm__;if(M){e:{for(const j in M){E=j;break e}E=void 0}(this.i=E)&&(E=this.i,M=M!==null&&E in M?M[E]:void 0),this.data=M}else this.data=E}T(di,Un);function Ln(){Jn.call(this),this.status=1}T(Ln,Jn);function nl(E){this.g=E}T(nl,Io),nl.prototype.ua=function(){se(this.g,"a")},nl.prototype.ta=function(E){se(this.g,new di(E))},nl.prototype.sa=function(E){se(this.g,new Ln)},nl.prototype.ra=function(){se(this.g,"b")},Yi.prototype.createWebChannel=Yi.prototype.g,Or.prototype.send=Or.prototype.o,Or.prototype.open=Or.prototype.m,Or.prototype.close=Or.prototype.close,kQ=function(){return new Yi},IQ=function(){return fi()},AQ=Ai,GL={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Fl.NO_ERROR=0,Fl.TIMEOUT=8,Fl.HTTP_ERROR=6,lT=Fl,yc.COMPLETE="complete",xQ=yc,Qs.EventType=Tr,Tr.OPEN="a",Tr.CLOSE="b",Tr.ERROR="c",Tr.MESSAGE="d",Me.prototype.listen=Me.prototype.K,Fb=Qs,Le.prototype.listenOnce=Le.prototype.L,Le.prototype.getLastError=Le.prototype.Ka,Le.prototype.getLastErrorCode=Le.prototype.Ba,Le.prototype.getStatus=Le.prototype.Z,Le.prototype.getResponseJson=Le.prototype.Oa,Le.prototype.getResponseText=Le.prototype.oa,Le.prototype.send=Le.prototype.ea,Le.prototype.setWithCredentials=Le.prototype.Ha,TQ=Le}).apply(typeof lS<"u"?lS:typeof self<"u"?self:typeof window<"u"?window:{});const H9="@firebase/firestore",j9="4.7.12";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Da.UNAUTHENTICATED=new Da(null),Da.GOOGLE_CREDENTIALS=new Da("google-credentials-uid"),Da.FIRST_PARTY=new Da("first-party-uid"),Da.MOCK_USER=new Da("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let e_="11.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jm=new GE("@firebase/firestore");function uv(){return jm.logLevel}function wt(t,...e){if(jm.logLevel<=In.DEBUG){const n=e.map(gU);jm.debug(`Firestore (${e_}): ${t}`,...n)}}function Cd(t,...e){if(jm.logLevel<=In.ERROR){const n=e.map(gU);jm.error(`Firestore (${e_}): ${t}`,...n)}}function wy(t,...e){if(jm.logLevel<=In.WARN){const n=e.map(gU);jm.warn(`Firestore (${e_}): ${t}`,...n)}}function gU(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,RQ(t,r,n)}function RQ(t,e,n){let r=`FIRESTORE (${e_}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Cd(r),new Error(r)}function vr(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||RQ(e,i,r)}function un(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ze={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ct extends gc{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OQ{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class pxe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Da.UNAUTHENTICATED))}shutdown(){}}class mxe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class gxe{constructor(e){this.t=e,this.currentUser=Da.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){vr(this.o===void 0,42304);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let o=new Uh;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Uh,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const u=o;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},l=u=>{wt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(wt("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Uh)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(wt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(vr(typeof r.accessToken=="string",31837,{l:r}),new OQ(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return vr(e===null||typeof e=="string",2055,{h:e}),new Da(e)}}class vxe{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Da.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class yxe{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new vxe(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Da.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class z9{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _xe{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Wc(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){vr(this.o===void 0,3512);const r=o=>{o.error!=null&&wt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.m;return this.m=o.token,wt("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{wt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):wt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new z9(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(vr(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new z9(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bxe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PQ(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NQ{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=bxe(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function xn(t,e){return t<e?-1:t>e?1:0}function YL(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return xn(r,i);{const o=PQ(),a=Exe(o.encode(W9(t,n)),o.encode(W9(e,n)));return a!==0?a:xn(r,i)}}n+=r>65535?2:1}return xn(t.length,e.length)}function W9(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function Exe(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return xn(t[n],e[n]);return xn(t.length,e.length)}function Cy(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q9=-62135596800,K9=1e6;class Si{static now(){return Si.fromMillis(Date.now())}static fromDate(e){return Si.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*K9);return new Si(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ct(ze.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ct(ze.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<q9)throw new Ct(ze.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ct(ze.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/K9}_compareTo(e){return this.seconds===e.seconds?xn(this.nanoseconds,e.nanoseconds):xn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-q9;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{static fromTimestamp(e){return new on(e)}static min(){return new on(new Si(0,0))}static max(){return new on(new Si(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G9="__name__";class jc{constructor(e,n,r){n===void 0?n=0:n>e.length&&Zt(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Zt(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return jc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof jc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=jc.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return xn(e.length,n.length)}static compareSegments(e,n){const r=jc.isNumericId(e),i=jc.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?jc.extractNumericId(e).compare(jc.extractNumericId(n)):YL(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Fh.fromString(e.substring(4,e.length-2))}}class Zr extends jc{construct(e,n,r){return new Zr(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ct(ze.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Zr(n)}static emptyPath(){return new Zr([])}}const wxe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ba extends jc{construct(e,n,r){return new ba(e,n,r)}static isValidIdentifier(e){return wxe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ba.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===G9}static keyField(){return new ba([G9])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Ct(ze.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new Ct(ze.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Ct(ze.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else l==="`"?(a=!a,i++):l!=="."||a?(r+=l,i++):(o(),i++)}if(o(),a)throw new Ct(ze.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ba(n)}static emptyPath(){return new ba([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.path=e}static fromPath(e){return new jt(Zr.fromString(e))}static fromName(e){return new jt(Zr.fromString(e).popFirst(5))}static empty(){return new jt(Zr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Zr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Zr.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new jt(new Zr(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE=-1;function Cxe(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=on.fromTimestamp(r===1e9?new Si(n+1,0):new Si(n,r));return new Jh(i,jt.empty(),e)}function Sxe(t){return new Jh(t.readTime,t.key,cE)}class Jh{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Jh(on.min(),jt.empty(),cE)}static max(){return new Jh(on.max(),jt.empty(),cE)}}function Txe(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=jt.comparator(t.documentKey,e.documentKey),n!==0?n:xn(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xxe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Axe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t_(t){if(t.code!==ze.FAILED_PRECONDITION||t.message!==xxe)throw t;wt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Zt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new We((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof We?n:We.resolve(n)}catch(n){return We.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):We.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):We.reject(n)}static resolve(e){return new We((n,r)=>{n(e)})}static reject(e){return new We((n,r)=>{r(e)})}static waitFor(e){return new We((n,r)=>{let i=0,o=0,a=!1;e.forEach(l=>{++i,l.next(()=>{++o,a&&o===i&&n()},u=>r(u))}),a=!0,o===i&&n()})}static or(e){let n=We.resolve(!1);for(const r of e)n=n.next(i=>i?We.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new We((r,i)=>{const o=e.length,a=new Array(o);let l=0;for(let u=0;u<o;u++){const f=u;n(e[f]).next(h=>{a[f]=h,++l,l===o&&r(a)},h=>i(h))}})}static doWhile(e,n){return new We((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function Ixe(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function n_(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}BI.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vU=-1;function $I(t){return t==null}function jx(t){return t===0&&1/t==-1/0}function kxe(t){return typeof t=="number"&&Number.isInteger(t)&&!jx(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LQ="";function Rxe(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Y9(e)),e=Oxe(t.get(n),e);return Y9(e)}function Oxe(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case LQ:n+="";break;default:n+=o}}return n}function Y9(t){return t+LQ+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q9(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function mp(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function DQ(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e,n){this.comparator=e,this.root=n||ya.EMPTY}insert(e,n){return new xi(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ya.BLACK,null,null))}remove(e){return new xi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ya.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new uS(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new uS(this.root,e,this.comparator,!1)}getReverseIterator(){return new uS(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new uS(this.root,e,this.comparator,!0)}}class uS{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ya{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??ya.RED,this.left=i??ya.EMPTY,this.right=o??ya.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new ya(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ya.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ya.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ya.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ya.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Zt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Zt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Zt(27949);return e+(this.isRed()?0:1)}}ya.EMPTY=null,ya.RED=!0,ya.BLACK=!1;ya.EMPTY=new class{constructor(){this.size=0}get key(){throw Zt(57766)}get value(){throw Zt(16141)}get color(){throw Zt(16727)}get left(){throw Zt(29726)}get right(){throw Zt(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new ya(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e){this.comparator=e,this.data=new xi(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new X9(this.data.getIterator())}getIteratorFrom(e){return new X9(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Mo)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Mo(this.comparator);return n.data=e,n}}class X9{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e){this.fields=e,e.sort(ba.comparator)}static empty(){return new Cl([])}unionWith(e){let n=new Mo(ba.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Cl(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Cy(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MQ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new MQ("Invalid base64 string: "+o):o}}(e);return new Ta(n)}static fromUint8Array(e){const n=function(i){let o="";for(let a=0;a<i.length;++a)o+=String.fromCharCode(i[a]);return o}(e);return new Ta(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ta.EMPTY_BYTE_STRING=new Ta("");const Pxe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zh(t){if(vr(!!t,39018),typeof t=="string"){let e=0;const n=Pxe.exec(t);if(vr(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:io(t.seconds),nanos:io(t.nanos)}}function io(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ep(t){return typeof t=="string"?Ta.fromBase64String(t):Ta.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FQ="server_timestamp",UQ="__type__",VQ="__previous_value__",BQ="__local_write_time__";function yU(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[UQ])===null||n===void 0?void 0:n.stringValue)===FQ}function HI(t){const e=t.mapValue.fields[VQ];return yU(e)?HI(e):e}function fE(t){const e=Zh(t.mapValue.fields[BQ].timestampValue);return new Si(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nxe{constructor(e,n,r,i,o,a,l,u,f,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=f,this.isUsingEmulator=h}}const zx="(default)";class dE{constructor(e,n){this.projectId=e,this.database=n||zx}static empty(){return new dE("","")}get isDefaultDatabase(){return this.database===zx}isEqual(e){return e instanceof dE&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $Q="__type__",Lxe="__max__",cS={mapValue:{}},HQ="__vector__",Wx="value";function tp(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?yU(t)?4:Mxe(t)?9007199254740991:Dxe(t)?10:11:Zt(28295,{value:t})}function mf(t,e){if(t===e)return!0;const n=tp(t);if(n!==tp(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return fE(t).isEqual(fE(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const a=Zh(i.timestampValue),l=Zh(o.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return ep(i.bytesValue).isEqual(ep(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return io(i.geoPointValue.latitude)===io(o.geoPointValue.latitude)&&io(i.geoPointValue.longitude)===io(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return io(i.integerValue)===io(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const a=io(i.doubleValue),l=io(o.doubleValue);return a===l?jx(a)===jx(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return Cy(t.arrayValue.values||[],e.arrayValue.values||[],mf);case 10:case 11:return function(i,o){const a=i.mapValue.fields||{},l=o.mapValue.fields||{};if(Q9(a)!==Q9(l))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(l[u]===void 0||!mf(a[u],l[u])))return!1;return!0}(t,e);default:return Zt(52216,{left:t})}}function hE(t,e){return(t.values||[]).find(n=>mf(n,e))!==void 0}function Sy(t,e){if(t===e)return 0;const n=tp(t),r=tp(e);if(n!==r)return xn(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return xn(t.booleanValue,e.booleanValue);case 2:return function(o,a){const l=io(o.integerValue||o.doubleValue),u=io(a.integerValue||a.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return J9(t.timestampValue,e.timestampValue);case 4:return J9(fE(t),fE(e));case 5:return YL(t.stringValue,e.stringValue);case 6:return function(o,a){const l=ep(o),u=ep(a);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,a){const l=o.split("/"),u=a.split("/");for(let f=0;f<l.length&&f<u.length;f++){const h=xn(l[f],u[f]);if(h!==0)return h}return xn(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,a){const l=xn(io(o.latitude),io(a.latitude));return l!==0?l:xn(io(o.longitude),io(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Z9(t.arrayValue,e.arrayValue);case 10:return function(o,a){var l,u,f,h;const g=o.fields||{},y=a.fields||{},w=(l=g[Wx])===null||l===void 0?void 0:l.arrayValue,T=(u=y[Wx])===null||u===void 0?void 0:u.arrayValue,C=xn(((f=w==null?void 0:w.values)===null||f===void 0?void 0:f.length)||0,((h=T==null?void 0:T.values)===null||h===void 0?void 0:h.length)||0);return C!==0?C:Z9(w,T)}(t.mapValue,e.mapValue);case 11:return function(o,a){if(o===cS.mapValue&&a===cS.mapValue)return 0;if(o===cS.mapValue)return 1;if(a===cS.mapValue)return-1;const l=o.fields||{},u=Object.keys(l),f=a.fields||{},h=Object.keys(f);u.sort(),h.sort();for(let g=0;g<u.length&&g<h.length;++g){const y=YL(u[g],h[g]);if(y!==0)return y;const w=Sy(l[u[g]],f[h[g]]);if(w!==0)return w}return xn(u.length,h.length)}(t.mapValue,e.mapValue);default:throw Zt(23264,{Pe:n})}}function J9(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return xn(t,e);const n=Zh(t),r=Zh(e),i=xn(n.seconds,r.seconds);return i!==0?i:xn(n.nanos,r.nanos)}function Z9(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Sy(n[i],r[i]);if(o)return o}return xn(n.length,r.length)}function Ty(t){return QL(t)}function QL(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Zh(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ep(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return jt.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=QL(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const a of r)o?o=!1:i+=",",i+=`${a}:${QL(n.fields[a])}`;return i+"}"}(t.mapValue):Zt(61005,{value:t})}function uT(t){switch(tp(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=HI(t);return e?16+uT(e):16;case 5:return 2*t.stringValue.length;case 6:return ep(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+uT(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return mp(r.fields,(o,a)=>{i+=o.length+uT(a)}),i}(t.mapValue);default:throw Zt(13486,{value:t})}}function eH(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function XL(t){return!!t&&"integerValue"in t}function _U(t){return!!t&&"arrayValue"in t}function tH(t){return!!t&&"nullValue"in t}function nH(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function cT(t){return!!t&&"mapValue"in t}function Dxe(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[$Q])===null||n===void 0?void 0:n.stringValue)===HQ}function d0(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return mp(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=d0(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=d0(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Mxe(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Lxe}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e){this.value=e}static empty(){return new Bs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!cT(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=d0(n)}setAll(e){let n=ba.emptyPath(),r={},i=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=l.popLast()}a?r[l.lastSegment()]=d0(a):i.push(l.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());cT(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return mf(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];cT(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){mp(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Bs(d0(this.value))}}function jQ(t){const e=[];return mp(t.fields,(n,r)=>{const i=new ba([n]);if(cT(r)){const o=jQ(r.mapValue).fields;if(o.length===0)e.push(i);else for(const a of o)e.push(i.child(a))}else e.push(i)}),new Cl(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(e,n,r,i,o,a,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=a,this.documentState=l}static newInvalidDocument(e){return new Ua(e,0,on.min(),on.min(),on.min(),Bs.empty(),0)}static newFoundDocument(e,n,r,i){return new Ua(e,1,n,on.min(),r,i,0)}static newNoDocument(e,n){return new Ua(e,2,n,on.min(),on.min(),Bs.empty(),0)}static newUnknownDocument(e,n){return new Ua(e,3,n,on.min(),on.min(),Bs.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(on.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=on.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ua&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ua(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(e,n){this.position=e,this.inclusive=n}}function rH(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],a=t.position[i];if(o.field.isKeyField()?r=jt.comparator(jt.fromName(a.referenceValue),n.key):r=Sy(a,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function iH(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!mf(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(e,n="asc"){this.field=e,this.dir=n}}function Fxe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zQ{}class bo extends zQ{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Vxe(e,n,r):n==="array-contains"?new Hxe(e,r):n==="in"?new jxe(e,r):n==="not-in"?new zxe(e,r):n==="array-contains-any"?new Wxe(e,r):new bo(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Bxe(e,r):new $xe(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Sy(n,this.value)):n!==null&&tp(this.value)===tp(n)&&this.matchesComparison(Sy(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Zt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class sc extends zQ{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new sc(e,n)}matches(e){return WQ(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function WQ(t){return t.op==="and"}function qQ(t){return Uxe(t)&&WQ(t)}function Uxe(t){for(const e of t.filters)if(e instanceof sc)return!1;return!0}function JL(t){if(t instanceof bo)return t.field.canonicalString()+t.op.toString()+Ty(t.value);if(qQ(t))return t.filters.map(e=>JL(e)).join(",");{const e=t.filters.map(n=>JL(n)).join(",");return`${t.op}(${e})`}}function KQ(t,e){return t instanceof bo?function(r,i){return i instanceof bo&&r.op===i.op&&r.field.isEqual(i.field)&&mf(r.value,i.value)}(t,e):t instanceof sc?function(r,i){return i instanceof sc&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,a,l)=>o&&KQ(a,i.filters[l]),!0):!1}(t,e):void Zt(19439)}function GQ(t){return t instanceof bo?function(n){return`${n.field.canonicalString()} ${n.op} ${Ty(n.value)}`}(t):t instanceof sc?function(n){return n.op.toString()+" {"+n.getFilters().map(GQ).join(" ,")+"}"}(t):"Filter"}class Vxe extends bo{constructor(e,n,r){super(e,n,r),this.key=jt.fromName(r.referenceValue)}matches(e){const n=jt.comparator(e.key,this.key);return this.matchesComparison(n)}}class Bxe extends bo{constructor(e,n){super(e,"in",n),this.keys=YQ("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class $xe extends bo{constructor(e,n){super(e,"not-in",n),this.keys=YQ("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function YQ(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>jt.fromName(r.referenceValue))}class Hxe extends bo{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return _U(n)&&hE(n.arrayValue,this.value)}}class jxe extends bo{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&hE(this.value.arrayValue,n)}}class zxe extends bo{constructor(e,n){super(e,"not-in",n)}matches(e){if(hE(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!hE(this.value.arrayValue,n)}}class Wxe extends bo{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!_U(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>hE(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qxe{constructor(e,n=null,r=[],i=[],o=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=a,this.endAt=l,this.Ie=null}}function oH(t,e=null,n=[],r=[],i=null,o=null,a=null){return new qxe(t,e,n,r,i,o,a)}function bU(t){const e=un(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>JL(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),$I(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ty(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ty(r)).join(",")),e.Ie=n}return e.Ie}function EU(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Fxe(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!KQ(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!iH(t.startAt,e.startAt)&&iH(t.endAt,e.endAt)}function ZL(t){return jt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{constructor(e,n=null,r=[],i=[],o=null,a="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=a,this.startAt=l,this.endAt=u,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Kxe(t,e,n,r,i,o,a,l){return new r_(t,e,n,r,i,o,a,l)}function jI(t){return new r_(t)}function aH(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function QQ(t){return t.collectionGroup!==null}function h0(t){const e=un(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ee.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new Mo(ba.comparator);return a.filters.forEach(u=>{u.getFlattenedFilters().forEach(f=>{f.isInequality()&&(l=l.add(f.field))})}),l})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new pE(o,r))}),n.has(ba.keyField().canonicalString())||e.Ee.push(new pE(ba.keyField(),r))}return e.Ee}function uf(t){const e=un(t);return e.de||(e.de=Gxe(e,h0(t))),e.de}function Gxe(t,e){if(t.limitType==="F")return oH(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new pE(i.field,o)});const n=t.endAt?new qx(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new qx(t.startAt.position,t.startAt.inclusive):null;return oH(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function eD(t,e){const n=t.filters.concat([e]);return new r_(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Kx(t,e,n){return new r_(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function aw(t,e){return EU(uf(t),uf(e))&&t.limitType===e.limitType}function XQ(t){return`${bU(uf(t))}|lt:${t.limitType}`}function cv(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>GQ(i)).join(", ")}]`),$I(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ty(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ty(i)).join(",")),`Target(${r})`}(uf(t))}; limitType=${t.limitType})`}function zI(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):jt.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of h0(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,l,u){const f=rH(a,l,u);return a.inclusive?f<=0:f<0}(r.startAt,h0(r),i)||r.endAt&&!function(a,l,u){const f=rH(a,l,u);return a.inclusive?f>=0:f>0}(r.endAt,h0(r),i))}(t,e)}function Yxe(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function JQ(t){return(e,n)=>{let r=!1;for(const i of h0(t)){const o=Qxe(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function Qxe(t,e,n){const r=t.field.isKeyField()?jt.comparator(e.key,n.key):function(o,a,l){const u=a.data.field(o),f=l.data.field(o);return u!==null&&f!==null?Sy(u,f):Zt(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Zt(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){mp(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return DQ(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xxe=new xi(jt.comparator);function Sd(){return Xxe}const ZQ=new xi(jt.comparator);function Ub(...t){let e=ZQ;for(const n of t)e=e.insert(n.key,n);return e}function eX(t){let e=ZQ;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function _m(){return p0()}function tX(){return p0()}function p0(){return new dg(t=>t.toString(),(t,e)=>t.isEqual(e))}const Jxe=new xi(jt.comparator),Zxe=new Mo(jt.comparator);function Bn(...t){let e=Zxe;for(const n of t)e=e.add(n);return e}const eAe=new Mo(xn);function tAe(){return eAe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wU(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jx(e)?"-0":e}}function nX(t){return{integerValue:""+t}}function nAe(t,e){return kxe(e)?nX(e):wU(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(){this._=void 0}}function rAe(t,e,n){return t instanceof Gx?function(i,o){const a={fields:{[UQ]:{stringValue:FQ},[BQ]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&yU(o)&&(o=HI(o)),o&&(a.fields[VQ]=o),{mapValue:a}}(n,e):t instanceof mE?iX(t,e):t instanceof gE?oX(t,e):function(i,o){const a=rX(i,o),l=sH(a)+sH(i.Re);return XL(a)&&XL(i.Re)?nX(l):wU(i.serializer,l)}(t,e)}function iAe(t,e,n){return t instanceof mE?iX(t,e):t instanceof gE?oX(t,e):n}function rX(t,e){return t instanceof Yx?function(r){return XL(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Gx extends WI{}class mE extends WI{constructor(e){super(),this.elements=e}}function iX(t,e){const n=aX(e);for(const r of t.elements)n.some(i=>mf(i,r))||n.push(r);return{arrayValue:{values:n}}}class gE extends WI{constructor(e){super(),this.elements=e}}function oX(t,e){let n=aX(e);for(const r of t.elements)n=n.filter(i=>!mf(i,r));return{arrayValue:{values:n}}}class Yx extends WI{constructor(e,n){super(),this.serializer=e,this.Re=n}}function sH(t){return io(t.integerValue||t.doubleValue)}function aX(t){return _U(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function oAe(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof mE&&i instanceof mE||r instanceof gE&&i instanceof gE?Cy(r.elements,i.elements,mf):r instanceof Yx&&i instanceof Yx?mf(r.Re,i.Re):r instanceof Gx&&i instanceof Gx}(t.transform,e.transform)}class aAe{constructor(e,n){this.version=e,this.transformResults=n}}class ec{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ec}static exists(e){return new ec(void 0,e)}static updateTime(e){return new ec(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fT(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class qI{}function sX(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new CU(t.key,ec.none()):new sw(t.key,t.data,ec.none());{const n=t.data,r=Bs.empty();let i=new Mo(ba.comparator);for(let o of e.fields)if(!i.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?r.delete(o):r.set(o,a),i=i.add(o)}return new gp(t.key,r,new Cl(i.toArray()),ec.none())}}function sAe(t,e,n){t instanceof sw?function(i,o,a){const l=i.value.clone(),u=uH(i.fieldTransforms,o,a.transformResults);l.setAll(u),o.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof gp?function(i,o,a){if(!fT(i.precondition,o))return void o.convertToUnknownDocument(a.version);const l=uH(i.fieldTransforms,o,a.transformResults),u=o.data;u.setAll(lX(i)),u.setAll(l),o.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function m0(t,e,n,r){return t instanceof sw?function(o,a,l,u){if(!fT(o.precondition,a))return l;const f=o.value.clone(),h=cH(o.fieldTransforms,u,a);return f.setAll(h),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),null}(t,e,n,r):t instanceof gp?function(o,a,l,u){if(!fT(o.precondition,a))return l;const f=cH(o.fieldTransforms,u,a),h=a.data;return h.setAll(lX(o)),h.setAll(f),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),l===null?null:l.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(g=>g.field))}(t,e,n,r):function(o,a,l){return fT(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function lAe(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=rX(r.transform,i||null);o!=null&&(n===null&&(n=Bs.empty()),n.set(r.field,o))}return n||null}function lH(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Cy(r,i,(o,a)=>oAe(o,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class sw extends qI{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class gp extends qI{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function lX(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function uH(t,e,n){const r=new Map;vr(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let i=0;i<n.length;i++){const o=t[i],a=o.transform,l=e.data.field(o.field);r.set(o.field,iAe(a,l,n[i]))}return r}function cH(t,e,n){const r=new Map;for(const i of t){const o=i.transform,a=n.data.field(i.field);r.set(i.field,rAe(o,a,e))}return r}class CU extends qI{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class uAe extends qI{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cAe{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&sAe(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=m0(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=m0(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=tX();return this.mutations.forEach(i=>{const o=e.get(i.key),a=o.overlayedDocument;let l=this.applyToLocalView(a,o.mutatedFields);l=n.has(i.key)?null:l;const u=sX(a,l);u!==null&&r.set(i.key,u),a.isValidDocument()||a.convertToNoDocument(on.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Bn())}isEqual(e){return this.batchId===e.batchId&&Cy(this.mutations,e.mutations,(n,r)=>lH(n,r))&&Cy(this.baseMutations,e.baseMutations,(n,r)=>lH(n,r))}}class SU{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){vr(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return Jxe}();const o=e.mutations;for(let a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new SU(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fAe{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dAe{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var go,Xn;function hAe(t){switch(t){case ze.OK:return Zt(64938);case ze.CANCELLED:case ze.UNKNOWN:case ze.DEADLINE_EXCEEDED:case ze.RESOURCE_EXHAUSTED:case ze.INTERNAL:case ze.UNAVAILABLE:case ze.UNAUTHENTICATED:return!1;case ze.INVALID_ARGUMENT:case ze.NOT_FOUND:case ze.ALREADY_EXISTS:case ze.PERMISSION_DENIED:case ze.FAILED_PRECONDITION:case ze.ABORTED:case ze.OUT_OF_RANGE:case ze.UNIMPLEMENTED:case ze.DATA_LOSS:return!0;default:return Zt(15467,{code:t})}}function uX(t){if(t===void 0)return Cd("GRPC error has no .code"),ze.UNKNOWN;switch(t){case go.OK:return ze.OK;case go.CANCELLED:return ze.CANCELLED;case go.UNKNOWN:return ze.UNKNOWN;case go.DEADLINE_EXCEEDED:return ze.DEADLINE_EXCEEDED;case go.RESOURCE_EXHAUSTED:return ze.RESOURCE_EXHAUSTED;case go.INTERNAL:return ze.INTERNAL;case go.UNAVAILABLE:return ze.UNAVAILABLE;case go.UNAUTHENTICATED:return ze.UNAUTHENTICATED;case go.INVALID_ARGUMENT:return ze.INVALID_ARGUMENT;case go.NOT_FOUND:return ze.NOT_FOUND;case go.ALREADY_EXISTS:return ze.ALREADY_EXISTS;case go.PERMISSION_DENIED:return ze.PERMISSION_DENIED;case go.FAILED_PRECONDITION:return ze.FAILED_PRECONDITION;case go.ABORTED:return ze.ABORTED;case go.OUT_OF_RANGE:return ze.OUT_OF_RANGE;case go.UNIMPLEMENTED:return ze.UNIMPLEMENTED;case go.DATA_LOSS:return ze.DATA_LOSS;default:return Zt(39323,{code:t})}}(Xn=go||(go={}))[Xn.OK=0]="OK",Xn[Xn.CANCELLED=1]="CANCELLED",Xn[Xn.UNKNOWN=2]="UNKNOWN",Xn[Xn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xn[Xn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xn[Xn.NOT_FOUND=5]="NOT_FOUND",Xn[Xn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xn[Xn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xn[Xn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xn[Xn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xn[Xn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xn[Xn.ABORTED=10]="ABORTED",Xn[Xn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xn[Xn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xn[Xn.INTERNAL=13]="INTERNAL",Xn[Xn.UNAVAILABLE=14]="UNAVAILABLE",Xn[Xn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pAe=new Fh([4294967295,4294967295],0);function fH(t){const e=PQ().encode(t),n=new SQ;return n.update(e),new Uint8Array(n.digest())}function dH(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Fh([n,r],0),new Fh([i,o],0)]}class TU{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Vb(`Invalid padding: ${n}`);if(r<0)throw new Vb(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Vb(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Vb(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Fh.fromNumber(this.pe)}we(e,n,r){let i=e.add(n.multiply(Fh.fromNumber(r)));return i.compare(pAe)===1&&(i=new Fh([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=fH(e),[r,i]=dH(n);for(let o=0;o<this.hashCount;o++){const a=this.we(r,i,o);if(!this.be(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new TU(o,i,n);return r.forEach(l=>a.insert(l)),a}insert(e){if(this.pe===0)return;const n=fH(e),[r,i]=dH(n);for(let o=0;o<this.hashCount;o++){const a=this.we(r,i,o);this.Se(a)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Vb extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,lw.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new KI(on.min(),i,new xi(xn),Sd(),Bn())}}class lw{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new lw(r,n,Bn(),Bn(),Bn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(e,n,r,i){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=i}}class cX{constructor(e,n){this.targetId=e,this.Ce=n}}class fX{constructor(e,n,r=Ta.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class hH{constructor(){this.Fe=0,this.Me=pH(),this.xe=Ta.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Bn(),n=Bn(),r=Bn();return this.Me.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Zt(38017,{changeType:o})}}),new lw(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=pH()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,vr(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class mAe{constructor(e){this.ze=e,this.je=new Map,this.He=Sd(),this.Je=fS(),this.Ye=fS(),this.Ze=new xi(xn)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:Zt(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,i)=>{this.it(i)&&n(i)})}ot(e){const n=e.targetId,r=e.Ce.count,i=this._t(n);if(i){const o=i.target;if(ZL(o))if(r===0){const a=new jt(o.path);this.tt(n,a,Ua.newNoDocument(a,on.min()))}else vr(r===1,20013,{expectedCount:r});else{const a=this.ut(n);if(a!==r){const l=this.ct(e),u=l?this.lt(l,e,a):1;if(u!==0){this.st(n);const f=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,f)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let a,l;try{a=ep(r).toUint8Array()}catch(u){if(u instanceof MQ)return wy("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new TU(a,i,o)}catch(u){return wy(u instanceof Vb?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.pe===0?null:l}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const a=this.ze.Pt(),l=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.mightContain(l)||(this.tt(n,o,null),i++)}),i}It(e){const n=new Map;this.je.forEach((o,a)=>{const l=this._t(a);if(l){if(o.current&&ZL(l.target)){const u=new jt(l.target.path);this.Et(u).has(a)||this.dt(a,u)||this.tt(a,u,Ua.newNoDocument(u,e))}o.Le&&(n.set(a,o.qe()),o.Qe())}});let r=Bn();this.Ye.forEach((o,a)=>{let l=!0;a.forEachWhile(u=>{const f=this._t(u);return!f||f.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(o))}),this.He.forEach((o,a)=>a.setReadTime(e));const i=new KI(e,n,this.Ze,this.He,r);return this.He=Sd(),this.Je=fS(),this.Ye=fS(),this.Ze=new xi(xn),i}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,n)?i.$e(n,1):i.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new hH,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Mo(xn),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Mo(xn),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||wt("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new hH),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function fS(){return new xi(jt.comparator)}function pH(){return new xi(jt.comparator)}const gAe={asc:"ASCENDING",desc:"DESCENDING"},vAe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yAe={and:"AND",or:"OR"};class _Ae{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function tD(t,e){return t.useProto3Json||$I(e)?e:{value:e}}function Qx(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function dX(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function bAe(t,e){return Qx(t,e.toTimestamp())}function cf(t){return vr(!!t,49232),on.fromTimestamp(function(n){const r=Zh(n);return new Si(r.seconds,r.nanos)}(t))}function xU(t,e){return nD(t,e).canonicalString()}function nD(t,e){const n=function(i){return new Zr(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function hX(t){const e=Zr.fromString(t);return vr(yX(e),10190,{key:e.toString()}),e}function rD(t,e){return xU(t.databaseId,e.path)}function rO(t,e){const n=hX(e);if(n.get(1)!==t.databaseId.projectId)throw new Ct(ze.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ct(ze.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new jt(mX(n))}function pX(t,e){return xU(t.databaseId,e)}function EAe(t){const e=hX(t);return e.length===4?Zr.emptyPath():mX(e)}function iD(t){return new Zr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function mX(t){return vr(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function mH(t,e,n){return{name:rD(t,e),fields:n.value.mapValue.fields}}function wAe(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Zt(39313,{state:f})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(f,h){return f.useProto3Json?(vr(h===void 0||typeof h=="string",58123),Ta.fromBase64String(h||"")):(vr(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Ta.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(f){const h=f.code===void 0?ze.UNKNOWN:uX(f.code);return new Ct(h,f.message||"")}(a);n=new fX(r,i,o,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=rO(t,r.document.name),o=cf(r.document.updateTime),a=r.document.createTime?cf(r.document.createTime):on.min(),l=new Bs({mapValue:{fields:r.document.fields}}),u=Ua.newFoundDocument(i,o,a,l),f=r.targetIds||[],h=r.removedTargetIds||[];n=new dT(f,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=rO(t,r.document),o=r.readTime?cf(r.readTime):on.min(),a=Ua.newNoDocument(i,o),l=r.removedTargetIds||[];n=new dT([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=rO(t,r.document),o=r.removedTargetIds||[];n=new dT([],o,i,null)}else{if(!("filter"in e))return Zt(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,a=new dAe(i,o),l=r.targetId;n=new cX(l,a)}}return n}function CAe(t,e){let n;if(e instanceof sw)n={update:mH(t,e.key,e.value)};else if(e instanceof CU)n={delete:rD(t,e.key)};else if(e instanceof gp)n={update:mH(t,e.key,e.data),updateMask:PAe(e.fieldMask)};else{if(!(e instanceof uAe))return Zt(16599,{ft:e.type});n={verify:rD(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,a){const l=a.transform;if(l instanceof Gx)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof mE)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof gE)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Yx)return{fieldPath:a.field.canonicalString(),increment:l.Re};throw Zt(20930,{transform:a.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:bAe(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Zt(27497)}(t,e.precondition)),n}function SAe(t,e){return t&&t.length>0?(vr(e!==void 0,14353),t.map(n=>function(i,o){let a=i.updateTime?cf(i.updateTime):cf(o);return a.isEqual(on.min())&&(a=cf(o)),new aAe(a,i.transformResults||[])}(n,e))):[]}function TAe(t,e){return{documents:[pX(t,e.path)]}}function xAe(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=pX(t,i);const o=function(f){if(f.length!==0)return vX(sc.create(f,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const a=function(f){if(f.length!==0)return f.map(h=>function(y){return{field:fv(y.field),direction:kAe(y.dir)}}(h))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=tD(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{gt:n,parent:i}}function AAe(t){let e=EAe(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){vr(r===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(g){const y=gX(g);return y instanceof sc&&qQ(y)?y.getFilters():[y]}(n.where));let a=[];n.orderBy&&(a=function(g){return g.map(y=>function(T){return new pE(dv(T.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(y))}(n.orderBy));let l=null;n.limit&&(l=function(g){let y;return y=typeof g=="object"?g.value:g,$I(y)?null:y}(n.limit));let u=null;n.startAt&&(u=function(g){const y=!!g.before,w=g.values||[];return new qx(w,y)}(n.startAt));let f=null;return n.endAt&&(f=function(g){const y=!g.before,w=g.values||[];return new qx(w,y)}(n.endAt)),Kxe(e,i,a,o,l,"F",u,f)}function IAe(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Zt(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function gX(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=dv(n.unaryFilter.field);return bo.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=dv(n.unaryFilter.field);return bo.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=dv(n.unaryFilter.field);return bo.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=dv(n.unaryFilter.field);return bo.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Zt(61313);default:return Zt(60726)}}(t):t.fieldFilter!==void 0?function(n){return bo.create(dv(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Zt(58110);default:return Zt(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return sc.create(n.compositeFilter.filters.map(r=>gX(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Zt(1026)}}(n.compositeFilter.op))}(t):Zt(30097,{filter:t})}function kAe(t){return gAe[t]}function RAe(t){return vAe[t]}function OAe(t){return yAe[t]}function fv(t){return{fieldPath:t.canonicalString()}}function dv(t){return ba.fromServerFormat(t.fieldPath)}function vX(t){return t instanceof bo?function(n){if(n.op==="=="){if(nH(n.value))return{unaryFilter:{field:fv(n.field),op:"IS_NAN"}};if(tH(n.value))return{unaryFilter:{field:fv(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(nH(n.value))return{unaryFilter:{field:fv(n.field),op:"IS_NOT_NAN"}};if(tH(n.value))return{unaryFilter:{field:fv(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fv(n.field),op:RAe(n.op),value:n.value}}}(t):t instanceof sc?function(n){const r=n.getFilters().map(i=>vX(i));return r.length===1?r[0]:{compositeFilter:{op:OAe(n.op),filters:r}}}(t):Zt(54877,{filter:t})}function PAe(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function yX(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e,n,r,i,o=on.min(),a=on.min(),l=Ta.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new wh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new wh(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new wh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new wh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NAe{constructor(e){this.wt=e}}function LAe(t){const e=AAe({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Kx(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DAe{constructor(){this.yn=new MAe}addToCollectionParentIndex(e,n){return this.yn.add(n),We.resolve()}getCollectionParents(e,n){return We.resolve(this.yn.getEntries(n))}addFieldIndex(e,n){return We.resolve()}deleteFieldIndex(e,n){return We.resolve()}deleteAllFieldIndexes(e){return We.resolve()}createTargetIndexes(e,n){return We.resolve()}getDocumentsMatchingTarget(e,n){return We.resolve(null)}getIndexType(e,n){return We.resolve(0)}getFieldIndexes(e,n){return We.resolve([])}getNextCollectionGroupToUpdate(e){return We.resolve(null)}getMinOffset(e,n){return We.resolve(Jh.min())}getMinOffsetFromCollectionGroup(e,n){return We.resolve(Jh.min())}updateCollectionGroup(e,n,r){return We.resolve()}updateIndexEntries(e,n){return We.resolve()}}class MAe{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Mo(Zr.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Mo(Zr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gH={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_X=41943040;class Ds{static withCacheSize(e){return new Ds(e,Ds.DEFAULT_COLLECTION_PERCENTILE,Ds.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ds.DEFAULT_COLLECTION_PERCENTILE=10,Ds.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ds.DEFAULT=new Ds(_X,Ds.DEFAULT_COLLECTION_PERCENTILE,Ds.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ds.DISABLED=new Ds(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new xy(0)}static ir(){return new xy(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vH="LruGarbageCollector",FAe=1048576;function yH([t,e],[n,r]){const i=xn(t,n);return i===0?xn(e,r):i}class UAe{constructor(e){this.cr=e,this.buffer=new Mo(yH),this.lr=0}hr(){return++this.lr}Pr(e){const n=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();yH(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class VAe{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){wt(vH,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){n_(n)?wt(vH,"Ignoring IndexedDB error during garbage collection: ",n):await t_(n)}await this.Ir(3e5)})}}class BAe{constructor(e,n){this.Er=e,this.params=n}calculateTargetCount(e,n){return this.Er.dr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return We.resolve(BI.le);const r=new UAe(n);return this.Er.forEachTarget(e,i=>r.Pr(i.sequenceNumber)).next(()=>this.Er.Ar(e,i=>r.Pr(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Er.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Er.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(wt("LruGarbageCollector","Garbage collection skipped; disabled"),We.resolve(gH)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(wt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gH):this.Rr(e,n))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,n){let r,i,o,a,l,u,f;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(wt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,a=Date.now(),this.nthSequenceNumber(e,i))).next(g=>(r=g,l=Date.now(),this.removeTargets(e,r,n))).next(g=>(o=g,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(g=>(f=Date.now(),uv()<=In.DEBUG&&wt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-h}ms
	Determined least recently used ${i} in `+(l-a)+`ms
	Removed ${o} targets in `+(u-l)+`ms
	Removed ${g} documents in `+(f-u)+`ms
Total Duration: ${f-h}ms`),We.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:g})))}}function $Ae(t,e){return new BAe(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HAe{constructor(){this.changes=new dg(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ua.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?We.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jAe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zAe{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&m0(r.mutation,i,Cl.empty(),Si.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Bn()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Bn()){const i=_m();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let a=Ub();return o.forEach((l,u)=>{a=a.insert(l,u.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=_m();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Bn()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,r,i){let o=Sd();const a=p0(),l=function(){return p0()}();return n.forEach((u,f)=>{const h=r.get(f.key);i.has(f.key)&&(h===void 0||h.mutation instanceof gp)?o=o.insert(f.key,f):h!==void 0?(a.set(f.key,h.mutation.getFieldMask()),m0(h.mutation,f,h.mutation.getFieldMask(),Si.now())):a.set(f.key,Cl.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((f,h)=>a.set(f,h)),n.forEach((f,h)=>{var g;return l.set(f,new jAe(h,(g=a.get(f))!==null&&g!==void 0?g:null))}),l))}recalculateAndSaveOverlays(e,n){const r=p0();let i=new xi((a,l)=>a-l),o=Bn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const l of a)l.keys().forEach(u=>{const f=n.get(u);if(f===null)return;let h=r.get(u)||Cl.empty();h=l.applyToLocalView(f,h),r.set(u,h);const g=(i.get(l.batchId)||Bn()).add(u);i=i.insert(l.batchId,g)})}).next(()=>{const a=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),f=u.key,h=u.value,g=tX();h.forEach(y=>{if(!o.has(y)){const w=sX(n.get(y),r.get(y));w!==null&&g.set(y,w),o=o.add(y)}}),a.push(this.documentOverlayCache.saveOverlays(e,f,g))}return We.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return jt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):QQ(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const a=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):We.resolve(_m());let l=cE,u=o;return a.next(f=>We.forEach(f,(h,g)=>(l<g.largestBatchId&&(l=g.largestBatchId),o.get(h)?We.resolve():this.remoteDocumentCache.getEntry(e,h).next(y=>{u=u.insert(h,y)}))).next(()=>this.populateOverlays(e,f,o)).next(()=>this.computeViews(e,u,f,Bn())).next(h=>({batchId:l,changes:eX(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new jt(n)).next(r=>{let i=Ub();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let a=Ub();return this.indexManager.getCollectionParents(e,o).next(l=>We.forEach(l,u=>{const f=function(g,y){return new r_(y,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next(h=>{h.forEach((g,y)=>{a=a.insert(g,y)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(a=>{o.forEach((u,f)=>{const h=f.getKey();a.get(h)===null&&(a=a.insert(h,Ua.newInvalidDocument(h)))});let l=Ub();return a.forEach((u,f)=>{const h=o.get(u);h!==void 0&&m0(h.mutation,f,Cl.empty(),Si.now()),zI(n,f)&&(l=l.insert(u,f))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WAe{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,n){return We.resolve(this.Fr.get(n))}saveBundleMetadata(e,n){return this.Fr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:cf(i.createTime)}}(n)),We.resolve()}getNamedQuery(e,n){return We.resolve(this.Mr.get(n))}saveNamedQuery(e,n){return this.Mr.set(n.name,function(i){return{name:i.name,query:LAe(i.bundledQuery),readTime:cf(i.readTime)}}(n)),We.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qAe{constructor(){this.overlays=new xi(jt.comparator),this.Or=new Map}getOverlay(e,n){return We.resolve(this.overlays.get(n))}getOverlays(e,n){const r=_m();return We.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.St(e,n,o)}),We.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Or.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Or.delete(r)),We.resolve()}getOverlaysForCollection(e,n,r){const i=_m(),o=n.length+1,a=new jt(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const u=l.getNext().value,f=u.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return We.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new xi((f,h)=>f-h);const a=this.overlays.getIterator();for(;a.hasNext();){const f=a.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let h=o.get(f.largestBatchId);h===null&&(h=_m(),o=o.insert(f.largestBatchId,h)),h.set(f.getKey(),f)}}const l=_m(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((f,h)=>l.set(f,h)),!(l.size()>=i)););return We.resolve(l)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.Or.get(i.largestBatchId).delete(r.key);this.Or.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new fAe(n,r));let o=this.Or.get(n);o===void 0&&(o=Bn(),this.Or.set(n,o)),this.Or.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KAe{constructor(){this.sessionToken=Ta.EMPTY_BYTE_STRING}getSessionToken(e){return We.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,We.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AU{constructor(){this.Nr=new Mo(Xo.Br),this.Lr=new Mo(Xo.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,n){const r=new Xo(e,n);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Qr(new Xo(e,n))}$r(e,n){e.forEach(r=>this.removeReference(r,n))}Ur(e){const n=new jt(new Zr([])),r=new Xo(n,e),i=new Xo(n,e+1),o=[];return this.Lr.forEachInRange([r,i],a=>{this.Qr(a),o.push(a.key)}),o}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const n=new jt(new Zr([])),r=new Xo(n,e),i=new Xo(n,e+1);let o=Bn();return this.Lr.forEachInRange([r,i],a=>{o=o.add(a.key)}),o}containsKey(e){const n=new Xo(e,0),r=this.Nr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Xo{constructor(e,n){this.key=e,this.Gr=n}static Br(e,n){return jt.comparator(e.key,n.key)||xn(e.Gr,n.Gr)}static kr(e,n){return xn(e.Gr,n.Gr)||jt.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GAe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Jn=1,this.zr=new Mo(Xo.Br)}checkEmpty(e){return We.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new cAe(o,n,r,i);this.mutationQueue.push(a);for(const l of i)this.zr=this.zr.add(new Xo(l.key,o)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return We.resolve(a)}lookupMutationBatch(e,n){return We.resolve(this.jr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Hr(r),o=i<0?0:i;return We.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return We.resolve(this.mutationQueue.length===0?vU:this.Jn-1)}getAllMutationBatches(e){return We.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Xo(n,0),i=new Xo(n,Number.POSITIVE_INFINITY),o=[];return this.zr.forEachInRange([r,i],a=>{const l=this.jr(a.Gr);o.push(l)}),We.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Mo(xn);return n.forEach(i=>{const o=new Xo(i,0),a=new Xo(i,Number.POSITIVE_INFINITY);this.zr.forEachInRange([o,a],l=>{r=r.add(l.Gr)})}),We.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;jt.isDocumentKey(o)||(o=o.child(""));const a=new Xo(new jt(o),0);let l=new Mo(xn);return this.zr.forEachWhile(u=>{const f=u.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(l=l.add(u.Gr)),!0)},a),We.resolve(this.Jr(l))}Jr(e){const n=[];return e.forEach(r=>{const i=this.jr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){vr(this.Yr(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return We.forEach(n.mutations,i=>{const o=new Xo(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,n){const r=new Xo(n,0),i=this.zr.firstAfterOrEqual(r);return We.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,We.resolve()}Yr(e,n){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const n=this.Hr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YAe{constructor(e){this.Zr=e,this.docs=function(){return new xi(jt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,a=this.Zr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return We.resolve(r?r.document.mutableCopy():Ua.newInvalidDocument(n))}getEntries(e,n){let r=Sd();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Ua.newInvalidDocument(i))}),We.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Sd();const a=n.path,l=new jt(a.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:f,value:{document:h}}=u.getNext();if(!a.isPrefixOf(f.path))break;f.path.length>a.length+1||Txe(Sxe(h),r)<=0||(i.has(h.key)||zI(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return We.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Zt(9500)}Xr(e,n){return We.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new QAe(this)}getSize(e){return We.resolve(this.size)}}class QAe extends HAe{constructor(e){super(),this.vr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.vr.addEntry(e,i)):this.vr.removeEntry(r)}),We.waitFor(n)}getFromCache(e,n){return this.vr.getEntry(e,n)}getAllFromCache(e,n){return this.vr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XAe{constructor(e){this.persistence=e,this.ei=new dg(n=>bU(n),EU),this.lastRemoteSnapshotVersion=on.min(),this.highestTargetId=0,this.ti=0,this.ni=new AU,this.targetCount=0,this.ri=xy.rr()}forEachTarget(e,n){return this.ei.forEach((r,i)=>n(i)),We.resolve()}getLastRemoteSnapshotVersion(e){return We.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return We.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),We.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ti&&(this.ti=n),We.resolve()}ar(e){this.ei.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ri=new xy(n),this.highestTargetId=n),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,n){return this.ar(n),this.targetCount+=1,We.resolve()}updateTargetData(e,n){return this.ar(n),We.resolve()}removeTargetData(e,n){return this.ei.delete(n.target),this.ni.Ur(n.targetId),this.targetCount-=1,We.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.ei.forEach((a,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.ei.delete(a),o.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),We.waitFor(o).next(()=>i)}getTargetCount(e){return We.resolve(this.targetCount)}getTargetData(e,n){const r=this.ei.get(n)||null;return We.resolve(r)}addMatchingKeys(e,n,r){return this.ni.qr(n,r),We.resolve()}removeMatchingKeys(e,n,r){this.ni.$r(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(a=>{o.push(i.markPotentiallyOrphaned(e,a))}),We.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.ni.Ur(n),We.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ni.Wr(n);return We.resolve(r)}containsKey(e,n){return We.resolve(this.ni.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bX{constructor(e,n){this.ii={},this.overlays={},this.si=new BI(0),this.oi=!1,this.oi=!0,this._i=new KAe,this.referenceDelegate=e(this),this.ai=new XAe(this),this.indexManager=new DAe,this.remoteDocumentCache=function(i){return new YAe(i)}(r=>this.referenceDelegate.ui(r)),this.serializer=new NAe(n),this.ci=new WAe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new qAe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ii[e.toKey()];return r||(r=new GAe(n,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,n,r){wt("MemoryPersistence","Starting transaction:",e);const i=new JAe(this.si.next());return this.referenceDelegate.li(),r(i).next(o=>this.referenceDelegate.hi(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Pi(e,n){return We.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,n)))}}class JAe extends Axe{constructor(e){super(),this.currentSequenceNumber=e}}class IU{constructor(e){this.persistence=e,this.Ti=new AU,this.Ii=null}static Ei(e){return new IU(e)}get di(){if(this.Ii)return this.Ii;throw Zt(60996)}addReference(e,n,r){return this.Ti.addReference(r,n),this.di.delete(r.toString()),We.resolve()}removeReference(e,n,r){return this.Ti.removeReference(r,n),this.di.add(r.toString()),We.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),We.resolve()}removeTarget(e,n){this.Ti.Ur(n.targetId).forEach(i=>this.di.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.di.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}li(){this.Ii=new Set}hi(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return We.forEach(this.di,r=>{const i=jt.fromPath(r);return this.Ai(e,i).next(o=>{o||n.removeEntry(i,on.min())})}).next(()=>(this.Ii=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ai(e,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}ui(e){return 0}Ai(e,n){return We.or([()=>We.resolve(this.Ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Pi(e,n)])}}class Xx{constructor(e,n){this.persistence=e,this.Ri=new dg(r=>Rxe(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=$Ae(this,n)}static Ei(e,n){return new Xx(e,n)}li(){}hi(e){return We.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Vr(e){let n=0;return this.Ar(e,r=>{n++}).next(()=>n)}Ar(e,n){return We.forEach(this.Ri,(r,i)=>this.gr(e,r,i).next(o=>o?We.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.Xr(e,a=>this.gr(e,a,n).next(l=>{l||(r++,o.removeEntry(a,on.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.Ri.set(n,e.currentSequenceNumber),We.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.Ri.set(r,e.currentSequenceNumber),We.resolve()}removeReference(e,n,r){return this.Ri.set(r,e.currentSequenceNumber),We.resolve()}updateLimboDocument(e,n){return this.Ri.set(n,e.currentSequenceNumber),We.resolve()}ui(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=uT(e.data.value)),n}gr(e,n,r){return We.or([()=>this.persistence.Pi(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.Ri.get(n);return We.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kU{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ls=r,this.hs=i}static Ps(e,n){let r=Bn(),i=Bn();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new kU(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZAe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eIe{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return $be()?8:Ixe(oc())>0?6:4}()}initialize(e,n){this.As=e,this.indexManager=n,this.Ts=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Rs(e,n).next(a=>{o.result=a}).next(()=>{if(!o.result)return this.Vs(e,n,i,r).next(a=>{o.result=a})}).next(()=>{if(o.result)return;const a=new ZAe;return this.fs(e,n,a).next(l=>{if(o.result=l,this.Is)return this.gs(e,n,a,l.size)})}).next(()=>o.result)}gs(e,n,r,i){return r.documentReadCount<this.Es?(uv()<=In.DEBUG&&wt("QueryEngine","SDK will not create cache indexes for query:",cv(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),We.resolve()):(uv()<=In.DEBUG&&wt("QueryEngine","Query:",cv(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(uv()<=In.DEBUG&&wt("QueryEngine","The SDK decides to create cache indexes for query:",cv(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,uf(n))):We.resolve())}Rs(e,n){if(aH(n))return We.resolve(null);let r=uf(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Kx(n,null,"F"),r=uf(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const a=Bn(...o);return this.As.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,r).next(u=>{const f=this.ps(n,l);return this.ys(n,f,a,u.readTime)?this.Rs(e,Kx(n,null,"F")):this.ws(e,f,n,u)}))})))}Vs(e,n,r,i){return aH(n)||i.isEqual(on.min())?We.resolve(null):this.As.getDocuments(e,r).next(o=>{const a=this.ps(n,o);return this.ys(n,a,r,i)?We.resolve(null):(uv()<=In.DEBUG&&wt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),cv(n)),this.ws(e,a,n,Cxe(i,cE)).next(l=>l))})}ps(e,n){let r=new Mo(JQ(e));return n.forEach((i,o)=>{zI(e,o)&&(r=r.add(o))}),r}ys(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}fs(e,n,r){return uv()<=In.DEBUG&&wt("QueryEngine","Using full collection scan to execute query:",cv(n)),this.As.getDocumentsMatchingQuery(e,n,Jh.min(),r)}ws(e,n,r,i){return this.As.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(a=>{o=o.insert(a.key,a)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RU="LocalStore",tIe=3e8;class nIe{constructor(e,n,r,i){this.persistence=e,this.bs=n,this.serializer=i,this.Ss=new xi(xn),this.Ds=new dg(o=>bU(o),EU),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zAe(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ss))}}function rIe(t,e,n,r){return new nIe(t,e,n,r)}async function EX(t,e){const n=un(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Fs(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const a=[],l=[];let u=Bn();for(const f of i){a.push(f.batchId);for(const h of f.mutations)u=u.add(h.key)}for(const f of o){l.push(f.batchId);for(const h of f.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(f=>({Ms:f,removedBatchIds:a,addedBatchIds:l}))})})}function iIe(t,e){const n=un(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.Cs.newChangeBuffer({trackRemovals:!0});return function(l,u,f,h){const g=f.batch,y=g.keys();let w=We.resolve();return y.forEach(T=>{w=w.next(()=>h.getEntry(u,T)).next(C=>{const R=f.docVersions.get(T);vr(R!==null,48541),C.version.compareTo(R)<0&&(g.applyToRemoteDocument(C,f),C.isValidDocument()&&(C.setReadTime(f.commitVersion),h.addEntry(C)))})}),w.next(()=>l.mutationQueue.removeMutationBatch(u,g))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let u=Bn();for(let f=0;f<l.mutationResults.length;++f)l.mutationResults[f].transformResults.length>0&&(u=u.add(l.batch.mutations[f].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function wX(t){const e=un(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.ai.getLastRemoteSnapshotVersion(n))}function oIe(t,e){const n=un(t),r=e.snapshotVersion;let i=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const a=n.Cs.newChangeBuffer({trackRemovals:!0});i=n.Ss;const l=[];e.targetChanges.forEach((h,g)=>{const y=i.get(g);if(!y)return;l.push(n.ai.removeMatchingKeys(o,h.removedDocuments,g).next(()=>n.ai.addMatchingKeys(o,h.addedDocuments,g)));let w=y.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(g)!==null?w=w.withResumeToken(Ta.EMPTY_BYTE_STRING,on.min()).withLastLimboFreeSnapshotVersion(on.min()):h.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(h.resumeToken,r)),i=i.insert(g,w),function(C,R,I){return C.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=tIe?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0}(y,w,h)&&l.push(n.ai.updateTargetData(o,w))});let u=Sd(),f=Bn();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),l.push(aIe(o,a,e.documentUpdates).next(h=>{u=h.xs,f=h.Os})),!r.isEqual(on.min())){const h=n.ai.getLastRemoteSnapshotVersion(o).next(g=>n.ai.setTargetsMetadata(o,o.currentSequenceNumber,r));l.push(h)}return We.waitFor(l).next(()=>a.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,f)).next(()=>u)}).then(o=>(n.Ss=i,o))}function aIe(t,e,n){let r=Bn(),i=Bn();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let a=Sd();return n.forEach((l,u)=>{const f=o.get(l);u.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(l)),u.isNoDocument()&&u.version.isEqual(on.min())?(e.removeEntry(l,u.readTime),a=a.insert(l,u)):!f.isValidDocument()||u.version.compareTo(f.version)>0||u.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(u),a=a.insert(l,u)):wt(RU,"Ignoring outdated watch update for ",l,". Current version:",f.version," Watch version:",u.version)}),{xs:a,Os:i}})}function sIe(t,e){const n=un(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=vU),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function lIe(t,e){const n=un(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.ai.getTargetData(r,e).next(o=>o?(i=o,We.resolve(i)):n.ai.allocateTargetId(r).next(a=>(i=new wh(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.ai.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ss.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(r.targetId,r),n.Ds.set(e,r.targetId)),r})}async function oD(t,e,n){const r=un(t),i=r.Ss.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!n_(a))throw a;wt(RU,`Failed to update sequence numbers for target ${e}: ${a}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(i.target)}function _H(t,e,n){const r=un(t);let i=on.min(),o=Bn();return r.persistence.runTransaction("Execute query","readwrite",a=>function(u,f,h){const g=un(u),y=g.Ds.get(h);return y!==void 0?We.resolve(g.Ss.get(y)):g.ai.getTargetData(f,h)}(r,a,uf(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(a,l.targetId).next(u=>{o=u})}).next(()=>r.bs.getDocumentsMatchingQuery(a,e,n?i:on.min(),n?o:Bn())).next(l=>(uIe(r,Yxe(e),l),{documents:l,Ns:o})))}function uIe(t,e,n){let r=t.vs.get(e)||on.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.vs.set(e,r)}class bH{constructor(){this.activeTargetIds=tAe()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cIe{constructor(){this.So=new bH,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,n,r){this.Do[e]=n}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new bH,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fIe{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EH="ConnectivityMonitor";class wH{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){wt(EH,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){wt(EH,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dS=null;function aD(){return dS===null?dS=function(){return 268435456+Math.round(2147483648*Math.random())}():dS++,"0x"+dS.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO="RestConnection",dIe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class hIe{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Lo=n+"://"+e.host,this.ko=`projects/${r}/databases/${i}`,this.qo=this.databaseId.database===zx?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Qo(e,n,r,i,o){const a=aD(),l=this.$o(e,n.toUriEncodedString());wt(iO,`Sending RPC '${e}' ${a}:`,l,r);const u={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(u,i,o);const{host:f}=new URL(l),h=sg(f);return this.Ko(e,l,u,r,h).then(g=>(wt(iO,`Received RPC '${e}' ${a}: `,g),g),g=>{throw wy(iO,`RPC '${e}' ${a} failed with error: `,g,"url: ",l,"request:",r),g})}Wo(e,n,r,i,o,a){return this.Qo(e,n,r,i,o)}Uo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+e_}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}$o(e,n){const r=dIe[e];return`${this.Lo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pIe{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pa="WebChannelConnection";class mIe extends hIe{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,n,r,i,o){const a=aD();return new Promise((l,u)=>{const f=new TQ;f.setWithCredentials(!0),f.listenOnce(xQ.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case lT.NO_ERROR:const g=f.getResponseJson();wt(Pa,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(g)),l(g);break;case lT.TIMEOUT:wt(Pa,`RPC '${e}' ${a} timed out`),u(new Ct(ze.DEADLINE_EXCEEDED,"Request time out"));break;case lT.HTTP_ERROR:const y=f.getStatus();if(wt(Pa,`RPC '${e}' ${a} failed with status:`,y,"response text:",f.getResponseText()),y>0){let w=f.getResponseJson();Array.isArray(w)&&(w=w[0]);const T=w==null?void 0:w.error;if(T&&T.status&&T.message){const C=function(I){const k=I.toLowerCase().replace(/_/g,"-");return Object.values(ze).indexOf(k)>=0?k:ze.UNKNOWN}(T.status);u(new Ct(C,T.message))}else u(new Ct(ze.UNKNOWN,"Server responded with status "+f.getStatus()))}else u(new Ct(ze.UNAVAILABLE,"Connection failed."));break;default:Zt(9055,{s_:e,streamId:a,o_:f.getLastErrorCode(),__:f.getLastError()})}}finally{wt(Pa,`RPC '${e}' ${a} completed.`)}});const h=JSON.stringify(i);wt(Pa,`RPC '${e}' ${a} sending request:`,i),f.send(n,"POST",h,r,15)})}a_(e,n,r){const i=aD(),o=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=kQ(),l=IQ(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(u.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Uo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const h=o.join("");wt(Pa,`Creating RPC '${e}' stream ${i}: ${h}`,u);const g=a.createWebChannel(h,u);let y=!1,w=!1;const T=new pIe({Go:R=>{w?wt(Pa,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(y||(wt(Pa,`Opening RPC '${e}' stream ${i} transport.`),g.open(),y=!0),wt(Pa,`RPC '${e}' stream ${i} sending:`,R),g.send(R))},zo:()=>g.close()}),C=(R,I,k)=>{R.listen(I,O=>{try{k(O)}catch(A){setTimeout(()=>{throw A},0)}})};return C(g,Fb.EventType.OPEN,()=>{w||(wt(Pa,`RPC '${e}' stream ${i} transport opened.`),T.t_())}),C(g,Fb.EventType.CLOSE,()=>{w||(w=!0,wt(Pa,`RPC '${e}' stream ${i} transport closed`),T.r_())}),C(g,Fb.EventType.ERROR,R=>{w||(w=!0,wy(Pa,`RPC '${e}' stream ${i} transport errored. Name:`,R.name,"Message:",R.message),T.r_(new Ct(ze.UNAVAILABLE,"The operation could not be completed")))}),C(g,Fb.EventType.MESSAGE,R=>{var I;if(!w){const k=R.data[0];vr(!!k,16349);const O=k,A=(O==null?void 0:O.error)||((I=O[0])===null||I===void 0?void 0:I.error);if(A){wt(Pa,`RPC '${e}' stream ${i} received error:`,A);const V=A.status;let D=function($){const q=go[$];if(q!==void 0)return uX(q)}(V),P=A.message;D===void 0&&(D=ze.INTERNAL,P="Unknown error status: "+V+" with message "+A.message),w=!0,T.r_(new Ct(D,P)),g.close()}else wt(Pa,`RPC '${e}' stream ${i} received:`,k),T.i_(k)}}),C(l,AQ.STAT_EVENT,R=>{R.stat===GL.PROXY?wt(Pa,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===GL.NOPROXY&&wt(Pa,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{T.n_()},0),T}}function oO(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GI(t){return new _Ae(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CX{constructor(e,n,r=1e3,i=1.5,o=6e4){this.bi=e,this.timerId=n,this.u_=r,this.c_=i,this.l_=o,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const n=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),i=Math.max(0,n-r);i>0&&wt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,i,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CH="PersistentStream";class SX{constructor(e,n,r,i,o,a,l,u){this.bi=e,this.R_=r,this.V_=i,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new CX(e,n)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,n){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():n&&n.code===ze.RESOURCE_EXHAUSTED?(Cd(n.toString()),Cd("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):n&&n.code===ze.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(n)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),n=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.m_===n&&this.B_(r,i)},r=>{e(()=>{const i=new Ct(ze.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(i)})})}B_(e,n){const r=this.N_(this.m_);this.stream=this.k_(e,n),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(i=>{r(()=>this.L_(i))}),this.stream.onMessage(i=>{r(()=>++this.p_==1?this.q_(i):this.onNext(i))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return wt(CH,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return n=>{this.bi.enqueueAndForget(()=>this.m_===e?n():(wt(CH,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class gIe extends SX{constructor(e,n,r,i,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}k_(e,n){return this.connection.a_("Listen",e,n)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const n=wAe(this.serializer,e),r=function(o){if(!("targetChange"in o))return on.min();const a=o.targetChange;return a.targetIds&&a.targetIds.length?on.min():a.readTime?cf(a.readTime):on.min()}(e);return this.listener.Q_(n,r)}U_(e){const n={};n.database=iD(this.serializer),n.addTarget=function(o,a){let l;const u=a.target;if(l=ZL(u)?{documents:TAe(o,u)}:{query:xAe(o,u).gt},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=dX(o,a.resumeToken);const f=tD(o,a.expectedCount);f!==null&&(l.expectedCount=f)}else if(a.snapshotVersion.compareTo(on.min())>0){l.readTime=Qx(o,a.snapshotVersion.toTimestamp());const f=tD(o,a.expectedCount);f!==null&&(l.expectedCount=f)}return l}(this.serializer,e);const r=IAe(this.serializer,e);r&&(n.labels=r),this.F_(n)}K_(e){const n={};n.database=iD(this.serializer),n.removeTarget=e,this.F_(n)}}class vIe extends SX{constructor(e,n,r,i,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,n){return this.connection.a_("Write",e,n)}q_(e){return vr(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,vr(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){vr(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const n=SAe(e.writeResults,e.commitTime),r=cf(e.commitTime);return this.listener.j_(r,n)}H_(){const e={};e.database=iD(this.serializer),this.F_(e)}G_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>CAe(this.serializer,r))};this.F_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yIe{}class _Ie extends yIe{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.J_=!1}Y_(){if(this.J_)throw new Ct(ze.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,n,r,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Qo(e,nD(n,r),i,o,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ze.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ct(ze.UNKNOWN,o.toString())})}Wo(e,n,r,i,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Wo(e,nD(n,r),i,a,l,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ze.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ct(ze.UNKNOWN,a.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class bIe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Cd(n),this.ea=!1):wt("OnlineStateTracker",n)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zm="RemoteStore";class EIe{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=o,this.ca.vo(a=>{r.enqueueAndForget(async()=>{hg(this)&&(wt(zm,"Restarting streams for network reachability change."),await async function(u){const f=un(u);f.aa.add(4),await uw(f),f.la.set("Unknown"),f.aa.delete(4),await YI(f)}(this))})}),this.la=new bIe(r,i)}}async function YI(t){if(hg(t))for(const e of t.ua)await e(!0)}async function uw(t){for(const e of t.ua)await e(!1)}function TX(t,e){const n=un(t);n._a.has(e.targetId)||(n._a.set(e.targetId,e),LU(n)?NU(n):i_(n).b_()&&PU(n,e))}function OU(t,e){const n=un(t),r=i_(n);n._a.delete(e),r.b_()&&xX(n,e),n._a.size===0&&(r.b_()?r.v_():hg(n)&&n.la.set("Unknown"))}function PU(t,e){if(t.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(on.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}i_(t).U_(e)}function xX(t,e){t.ha.Ke(e),i_(t).K_(e)}function NU(t){t.ha=new mAe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t._a.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),i_(t).start(),t.la.ta()}function LU(t){return hg(t)&&!i_(t).w_()&&t._a.size>0}function hg(t){return un(t).aa.size===0}function AX(t){t.ha=void 0}async function wIe(t){t.la.set("Online")}async function CIe(t){t._a.forEach((e,n)=>{PU(t,e)})}async function SIe(t,e){AX(t),LU(t)?(t.la.ia(e),NU(t)):t.la.set("Unknown")}async function TIe(t,e,n){if(t.la.set("Online"),e instanceof fX&&e.state===2&&e.cause)try{await async function(i,o){const a=o.cause;for(const l of o.targetIds)i._a.has(l)&&(await i.remoteSyncer.rejectListen(l,a),i._a.delete(l),i.ha.removeTarget(l))}(t,e)}catch(r){wt(zm,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Jx(t,r)}else if(e instanceof dT?t.ha.Xe(e):e instanceof cX?t.ha.ot(e):t.ha.nt(e),!n.isEqual(on.min()))try{const r=await wX(t.localStore);n.compareTo(r)>=0&&await function(o,a){const l=o.ha.It(a);return l.targetChanges.forEach((u,f)=>{if(u.resumeToken.approximateByteSize()>0){const h=o._a.get(f);h&&o._a.set(f,h.withResumeToken(u.resumeToken,a))}}),l.targetMismatches.forEach((u,f)=>{const h=o._a.get(u);if(!h)return;o._a.set(u,h.withResumeToken(Ta.EMPTY_BYTE_STRING,h.snapshotVersion)),xX(o,u);const g=new wh(h.target,u,f,h.sequenceNumber);PU(o,g)}),o.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){wt(zm,"Failed to raise snapshot:",r),await Jx(t,r)}}async function Jx(t,e,n){if(!n_(e))throw e;t.aa.add(1),await uw(t),t.la.set("Offline"),n||(n=()=>wX(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{wt(zm,"Retrying IndexedDB access"),await n(),t.aa.delete(1),await YI(t)})}function IX(t,e){return e().catch(n=>Jx(t,n,e))}async function QI(t){const e=un(t),n=np(e);let r=e.oa.length>0?e.oa[e.oa.length-1].batchId:vU;for(;xIe(e);)try{const i=await sIe(e.localStore,r);if(i===null){e.oa.length===0&&n.v_();break}r=i.batchId,AIe(e,i)}catch(i){await Jx(e,i)}kX(e)&&RX(e)}function xIe(t){return hg(t)&&t.oa.length<10}function AIe(t,e){t.oa.push(e);const n=np(t);n.b_()&&n.W_&&n.G_(e.mutations)}function kX(t){return hg(t)&&!np(t).w_()&&t.oa.length>0}function RX(t){np(t).start()}async function IIe(t){np(t).H_()}async function kIe(t){const e=np(t);for(const n of t.oa)e.G_(n.mutations)}async function RIe(t,e,n){const r=t.oa.shift(),i=SU.from(r,e,n);await IX(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await QI(t)}async function OIe(t,e){e&&np(t).W_&&await async function(r,i){if(function(a){return hAe(a)&&a!==ze.ABORTED}(i.code)){const o=r.oa.shift();np(r).D_(),await IX(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await QI(r)}}(t,e),kX(t)&&RX(t)}async function SH(t,e){const n=un(t);n.asyncQueue.verifyOperationInProgress(),wt(zm,"RemoteStore received new credentials");const r=hg(n);n.aa.add(3),await uw(n),r&&n.la.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.aa.delete(3),await YI(n)}async function PIe(t,e){const n=un(t);e?(n.aa.delete(2),await YI(n)):e||(n.aa.add(2),await uw(n),n.la.set("Unknown"))}function i_(t){return t.Pa||(t.Pa=function(n,r,i){const o=un(n);return o.Y_(),new gIe(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{jo:wIe.bind(null,t),Jo:CIe.bind(null,t),Zo:SIe.bind(null,t),Q_:TIe.bind(null,t)}),t.ua.push(async e=>{e?(t.Pa.D_(),LU(t)?NU(t):t.la.set("Unknown")):(await t.Pa.stop(),AX(t))})),t.Pa}function np(t){return t.Ta||(t.Ta=function(n,r,i){const o=un(n);return o.Y_(),new vIe(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{jo:()=>Promise.resolve(),Jo:IIe.bind(null,t),Zo:OIe.bind(null,t),z_:kIe.bind(null,t),j_:RIe.bind(null,t)}),t.ua.push(async e=>{e?(t.Ta.D_(),await QI(t)):(await t.Ta.stop(),t.oa.length>0&&(wt(zm,`Stopping write stream with ${t.oa.length} pending writes`),t.oa=[]))})),t.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DU{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Uh,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const a=Date.now()+r,l=new DU(e,n,a,i,o);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ct(ze.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function MU(t,e){if(Cd("AsyncQueue",`${e}: ${t}`),n_(t))return new Ct(ze.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{static emptySet(e){return new Kv(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||jt.comparator(n.key,r.key):(n,r)=>jt.comparator(n.key,r.key),this.keyedMap=Ub(),this.sortedSet=new xi(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Kv)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Kv;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TH{constructor(){this.Ia=new xi(jt.comparator)}track(e){const n=e.doc.key,r=this.Ia.get(n);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(n,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(n):e.type===1&&r.type===2?this.Ia=this.Ia.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):Zt(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(n,e)}da(){const e=[];return this.Ia.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ay{constructor(e,n,r,i,o,a,l,u,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,i,o){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new Ay(e,n,Kv.emptySet(n),a,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&aw(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NIe{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class LIe{constructor(){this.queries=xH(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(n,r){const i=un(n),o=i.queries;i.queries=xH(),o.forEach((a,l)=>{for(const u of l.Ra)u.onError(r)})})(this,new Ct(ze.ABORTED,"Firestore shutting down"))}}function xH(){return new dg(t=>XQ(t),aw)}async function OX(t,e){const n=un(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.Va()&&e.ma()&&(r=2):(o=new NIe,r=e.ma()?0:1);try{switch(r){case 0:o.Aa=await n.onListen(i,!0);break;case 1:o.Aa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const l=MU(a,`Initialization of query '${cv(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,o),o.Ra.push(e),e.ga(n.onlineState),o.Aa&&e.pa(o.Aa)&&FU(n)}async function PX(t,e){const n=un(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const a=o.Ra.indexOf(e);a>=0&&(o.Ra.splice(a,1),o.Ra.length===0?i=e.ma()?0:1:!o.Va()&&e.ma()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function DIe(t,e){const n=un(t);let r=!1;for(const i of e){const o=i.query,a=n.queries.get(o);if(a){for(const l of a.Ra)l.pa(i)&&(r=!0);a.Aa=i}}r&&FU(n)}function MIe(t,e,n){const r=un(t),i=r.queries.get(e);if(i)for(const o of i.Ra)o.onError(n);r.queries.delete(e)}function FU(t){t.fa.forEach(e=>{e.next()})}var sD,AH;(AH=sD||(sD={})).ya="default",AH.Cache="cache";class NX{constructor(e,n,r){this.query=e,this.wa=n,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ay(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ba?this.Da(e)&&(this.wa.next(e),n=!0):this.va(e,this.onlineState)&&(this.Ca(e),n=!0),this.Sa=e,n}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let n=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),n=!0),n}va(e,n){if(!e.fromCache||!this.ma())return!0;const r=n!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const n=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ca(e){e=Ay.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==sD.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LX{constructor(e){this.key=e}}class DX{constructor(e){this.key=e}}class FIe{constructor(e,n){this.query=e,this.qa=n,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Bn(),this.mutatedKeys=Bn(),this.Ua=JQ(e),this.Ka=new Kv(this.Ua)}get Wa(){return this.qa}Ga(e,n){const r=n?n.za:new TH,i=n?n.Ka:this.Ka;let o=n?n.mutatedKeys:this.mutatedKeys,a=i,l=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,g)=>{const y=i.get(h),w=zI(this.query,g)?g:null,T=!!y&&this.mutatedKeys.has(y.key),C=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let R=!1;y&&w?y.data.isEqual(w.data)?T!==C&&(r.track({type:3,doc:w}),R=!0):this.ja(y,w)||(r.track({type:2,doc:w}),R=!0,(u&&this.Ua(w,u)>0||f&&this.Ua(w,f)<0)&&(l=!0)):!y&&w?(r.track({type:0,doc:w}),R=!0):y&&!w&&(r.track({type:1,doc:y}),R=!0,(u||f)&&(l=!0)),R&&(w?(a=a.add(w),o=C?o.add(h):o.delete(h)):(a=a.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const h=this.query.limitType==="F"?a.last():a.first();a=a.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ka:a,za:r,ys:l,mutatedKeys:o}}ja(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const a=e.za.da();a.sort((h,g)=>function(w,T){const C=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Zt(20277,{Vt:R})}};return C(w)-C(T)}(h.type,g.type)||this.Ua(h.doc,g.doc)),this.Ha(r),i=i!=null&&i;const l=n&&!i?this.Ja():[],u=this.$a.size===0&&this.current&&!i?1:0,f=u!==this.Qa;return this.Qa=u,a.length!==0||f?{snapshot:new Ay(this.query,e.Ka,o,a,e.mutatedKeys,u===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:l}:{Ya:l}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new TH,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(n=>this.qa=this.qa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qa=this.qa.delete(n)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=Bn(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});const n=[];return e.forEach(r=>{this.$a.has(r)||n.push(new DX(r))}),this.$a.forEach(r=>{e.has(r)||n.push(new LX(r))}),n}Xa(e){this.qa=e.Ns,this.$a=Bn();const n=this.Ga(e.documents);return this.applyChanges(n,!0)}eu(){return Ay.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const UU="SyncEngine";class UIe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class VIe{constructor(e){this.key=e,this.tu=!1}}class BIe{constructor(e,n,r,i,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.nu={},this.ru=new dg(l=>XQ(l),aw),this.iu=new Map,this.su=new Set,this.ou=new xi(jt.comparator),this._u=new Map,this.au=new AU,this.uu={},this.cu=new Map,this.lu=xy.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function $Ie(t,e,n=!0){const r=$X(t);let i;const o=r.ru.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.eu()):i=await MX(r,e,n,!0),i}async function HIe(t,e){const n=$X(t);await MX(n,e,!0,!1)}async function MX(t,e,n,r){const i=await lIe(t.localStore,uf(e)),o=i.targetId,a=t.sharedClientState.addLocalQueryTarget(o,n);let l;return r&&(l=await jIe(t,e,o,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&TX(t.remoteStore,i),l}async function jIe(t,e,n,r,i){t.Pu=(g,y,w)=>async function(C,R,I,k){let O=R.view.Ga(I);O.ys&&(O=await _H(C.localStore,R.query,!1).then(({documents:P})=>R.view.Ga(P,O)));const A=k&&k.targetChanges.get(R.targetId),V=k&&k.targetMismatches.get(R.targetId)!=null,D=R.view.applyChanges(O,C.isPrimaryClient,A,V);return kH(C,R.targetId,D.Ya),D.snapshot}(t,g,y,w);const o=await _H(t.localStore,e,!0),a=new FIe(e,o.Ns),l=a.Ga(o.documents),u=lw.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),f=a.applyChanges(l,t.isPrimaryClient,u);kH(t,n,f.Ya);const h=new UIe(e,n,a);return t.ru.set(e,h),t.iu.has(n)?t.iu.get(n).push(e):t.iu.set(n,[e]),f.snapshot}async function zIe(t,e,n){const r=un(t),i=r.ru.get(e),o=r.iu.get(i.targetId);if(o.length>1)return r.iu.set(i.targetId,o.filter(a=>!aw(a,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await oD(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&OU(r.remoteStore,i.targetId),lD(r,i.targetId)}).catch(t_)):(lD(r,i.targetId),await oD(r.localStore,i.targetId,!0))}async function WIe(t,e){const n=un(t),r=n.ru.get(e),i=n.iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),OU(n.remoteStore,r.targetId))}async function qIe(t,e,n){const r=ZIe(t);try{const i=await function(a,l){const u=un(a),f=Si.now(),h=l.reduce((w,T)=>w.add(T.key),Bn());let g,y;return u.persistence.runTransaction("Locally write mutations","readwrite",w=>{let T=Sd(),C=Bn();return u.Cs.getEntries(w,h).next(R=>{T=R,T.forEach((I,k)=>{k.isValidDocument()||(C=C.add(I))})}).next(()=>u.localDocuments.getOverlayedDocuments(w,T)).next(R=>{g=R;const I=[];for(const k of l){const O=lAe(k,g.get(k.key).overlayedDocument);O!=null&&I.push(new gp(k.key,O,jQ(O.value.mapValue),ec.exists(!0)))}return u.mutationQueue.addMutationBatch(w,f,I,l)}).next(R=>{y=R;const I=R.applyToLocalDocumentSet(g,C);return u.documentOverlayCache.saveOverlays(w,R.batchId,I)})}).then(()=>({batchId:y.batchId,changes:eX(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,l,u){let f=a.uu[a.currentUser.toKey()];f||(f=new xi(xn)),f=f.insert(l,u),a.uu[a.currentUser.toKey()]=f}(r,i.batchId,n),await cw(r,i.changes),await QI(r.remoteStore)}catch(i){const o=MU(i,"Failed to persist write");n.reject(o)}}async function FX(t,e){const n=un(t);try{const r=await oIe(n.localStore,e);e.targetChanges.forEach((i,o)=>{const a=n._u.get(o);a&&(vr(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.tu=!0:i.modifiedDocuments.size>0?vr(a.tu,14607):i.removedDocuments.size>0&&(vr(a.tu,42227),a.tu=!1))}),await cw(n,r,e)}catch(r){await t_(r)}}function IH(t,e,n){const r=un(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ru.forEach((o,a)=>{const l=a.view.ga(e);l.snapshot&&i.push(l.snapshot)}),function(a,l){const u=un(a);u.onlineState=l;let f=!1;u.queries.forEach((h,g)=>{for(const y of g.Ra)y.ga(l)&&(f=!0)}),f&&FU(u)}(r.eventManager,e),i.length&&r.nu.Q_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function KIe(t,e,n){const r=un(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r._u.get(e),o=i&&i.key;if(o){let a=new xi(jt.comparator);a=a.insert(o,Ua.newNoDocument(o,on.min()));const l=Bn().add(o),u=new KI(on.min(),new Map,new xi(xn),a,l);await FX(r,u),r.ou=r.ou.remove(o),r._u.delete(e),VU(r)}else await oD(r.localStore,e,!1).then(()=>lD(r,e,n)).catch(t_)}async function GIe(t,e){const n=un(t),r=e.batch.batchId;try{const i=await iIe(n.localStore,e);VX(n,r,null),UX(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await cw(n,i)}catch(i){await t_(i)}}async function YIe(t,e,n){const r=un(t);try{const i=await function(a,l){const u=un(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let h;return u.mutationQueue.lookupMutationBatch(f,l).next(g=>(vr(g!==null,37113),h=g.keys(),u.mutationQueue.removeMutationBatch(f,g))).next(()=>u.mutationQueue.performConsistencyCheck(f)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(f,h,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,h)).next(()=>u.localDocuments.getDocuments(f,h))})}(r.localStore,e);VX(r,e,n),UX(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await cw(r,i)}catch(i){await t_(i)}}function UX(t,e){(t.cu.get(e)||[]).forEach(n=>{n.resolve()}),t.cu.delete(e)}function VX(t,e,n){const r=un(t);let i=r.uu[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.uu[r.currentUser.toKey()]=i}}function lD(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.iu.get(e))t.ru.delete(r),n&&t.nu.Tu(r,n);t.iu.delete(e),t.isPrimaryClient&&t.au.Ur(e).forEach(r=>{t.au.containsKey(r)||BX(t,r)})}function BX(t,e){t.su.delete(e.path.canonicalString());const n=t.ou.get(e);n!==null&&(OU(t.remoteStore,n),t.ou=t.ou.remove(e),t._u.delete(n),VU(t))}function kH(t,e,n){for(const r of n)r instanceof LX?(t.au.addReference(r.key,e),QIe(t,r)):r instanceof DX?(wt(UU,"Document no longer in limbo: "+r.key),t.au.removeReference(r.key,e),t.au.containsKey(r.key)||BX(t,r.key)):Zt(19791,{Iu:r})}function QIe(t,e){const n=e.key,r=n.path.canonicalString();t.ou.get(n)||t.su.has(r)||(wt(UU,"New document in limbo: "+n),t.su.add(r),VU(t))}function VU(t){for(;t.su.size>0&&t.ou.size<t.maxConcurrentLimboResolutions;){const e=t.su.values().next().value;t.su.delete(e);const n=new jt(Zr.fromString(e)),r=t.lu.next();t._u.set(r,new VIe(n)),t.ou=t.ou.insert(n,r),TX(t.remoteStore,new wh(uf(jI(n.path)),r,"TargetPurposeLimboResolution",BI.le))}}async function cw(t,e,n){const r=un(t),i=[],o=[],a=[];r.ru.isEmpty()||(r.ru.forEach((l,u)=>{a.push(r.Pu(u,e,n).then(f=>{var h;if((f||n)&&r.isPrimaryClient){const g=f?!f.fromCache:(h=n==null?void 0:n.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(f){i.push(f);const g=kU.Ps(u.targetId,f);o.push(g)}}))}),await Promise.all(a),r.nu.Q_(i),await async function(u,f){const h=un(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>We.forEach(f,y=>We.forEach(y.ls,w=>h.persistence.referenceDelegate.addReference(g,y.targetId,w)).next(()=>We.forEach(y.hs,w=>h.persistence.referenceDelegate.removeReference(g,y.targetId,w)))))}catch(g){if(!n_(g))throw g;wt(RU,"Failed to update sequence numbers: "+g)}for(const g of f){const y=g.targetId;if(!g.fromCache){const w=h.Ss.get(y),T=w.snapshotVersion,C=w.withLastLimboFreeSnapshotVersion(T);h.Ss=h.Ss.insert(y,C)}}}(r.localStore,o))}async function XIe(t,e){const n=un(t);if(!n.currentUser.isEqual(e)){wt(UU,"User change. New user:",e.toKey());const r=await EX(n.localStore,e);n.currentUser=e,function(o,a){o.cu.forEach(l=>{l.forEach(u=>{u.reject(new Ct(ze.CANCELLED,a))})}),o.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await cw(n,r.Ms)}}function JIe(t,e){const n=un(t),r=n._u.get(e);if(r&&r.tu)return Bn().add(r.key);{let i=Bn();const o=n.iu.get(e);if(!o)return i;for(const a of o){const l=n.ru.get(a);i=i.unionWith(l.view.Wa)}return i}}function $X(t){const e=un(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=FX.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=JIe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=KIe.bind(null,e),e.nu.Q_=DIe.bind(null,e.eventManager),e.nu.Tu=MIe.bind(null,e.eventManager),e}function ZIe(t){const e=un(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=GIe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=YIe.bind(null,e),e}class Zx{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=GI(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,n){return null}fu(e,n){return null}Vu(e){return rIe(this.persistence,new eIe,e.initialUser,this.serializer)}Ru(e){return new bX(IU.Ei,this.serializer)}Au(e){return new cIe}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Zx.provider={build:()=>new Zx};class e1e extends Zx{constructor(e){super(),this.cacheSizeBytes=e}mu(e,n){vr(this.persistence.referenceDelegate instanceof Xx,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new VAe(r,e.asyncQueue,n)}Ru(e){const n=this.cacheSizeBytes!==void 0?Ds.withCacheSize(this.cacheSizeBytes):Ds.DEFAULT;return new bX(r=>Xx.Ei(r,n),this.serializer)}}class uD{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>IH(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=XIe.bind(null,this.syncEngine),await PIe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new LIe}()}createDatastore(e){const n=GI(e.databaseInfo.databaseId),r=function(o){return new mIe(o)}(e.databaseInfo);return function(o,a,l,u){return new _Ie(o,a,l,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,a,l){return new EIe(r,i,o,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>IH(this.syncEngine,n,0),function(){return wH.C()?new wH:new fIe}())}createSyncEngine(e,n){return function(i,o,a,l,u,f,h){const g=new BIe(i,o,a,l,u,f);return h&&(g.hu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=un(i);wt(zm,"RemoteStore shutting down."),o.aa.add(5),await uw(o),o.ca.shutdown(),o.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}uD.provider={build:()=>new uD};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HX{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):Cd("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rp="FirestoreClient";class t1e{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Da.UNAUTHENTICATED,this.clientId=NQ.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async a=>{wt(rp,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(wt(rp,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Uh;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=MU(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function aO(t,e){t.asyncQueue.verifyOperationInProgress(),wt(rp,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await EX(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function RH(t,e){t.asyncQueue.verifyOperationInProgress();const n=await n1e(t);wt(rp,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>SH(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>SH(e.remoteStore,i)),t._onlineComponents=e}async function n1e(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){wt(rp,"Using user provided OfflineComponentProvider");try{await aO(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===ze.FAILED_PRECONDITION||i.code===ze.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;wy("Error using user provided cache. Falling back to memory cache: "+n),await aO(t,new Zx)}}else wt(rp,"Using default OfflineComponentProvider"),await aO(t,new e1e(void 0));return t._offlineComponents}async function jX(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(wt(rp,"Using user provided OnlineComponentProvider"),await RH(t,t._uninitializedComponentsProvider._online)):(wt(rp,"Using default OnlineComponentProvider"),await RH(t,new uD))),t._onlineComponents}function r1e(t){return jX(t).then(e=>e.syncEngine)}async function cD(t){const e=await jX(t),n=e.eventManager;return n.onListen=$Ie.bind(null,e.syncEngine),n.onUnlisten=zIe.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=HIe.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=WIe.bind(null,e.syncEngine),n}function i1e(t,e,n={}){const r=new Uh;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,l,u,f){const h=new HX({next:y=>{h.yu(),a.enqueueAndForget(()=>PX(o,g));const w=y.docs.has(l);!w&&y.fromCache?f.reject(new Ct(ze.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&y.fromCache&&u&&u.source==="server"?f.reject(new Ct(ze.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(y)},error:y=>f.reject(y)}),g=new NX(jI(l.path),h,{includeMetadataChanges:!0,Fa:!0});return OX(o,g)}(await cD(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zX(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OH=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WX(t,e,n){if(!n)throw new Ct(ze.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function o1e(t,e,n,r){if(e===!0&&r===!0)throw new Ct(ze.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function PH(t){if(!jt.isDocumentKey(t))throw new Ct(ze.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function NH(t){if(jt.isDocumentKey(t))throw new Ct(ze.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function XI(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Zt(12329,{type:typeof t})}function tc(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ct(ze.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=XI(t);throw new Ct(ze.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function a1e(t,e){if(e<=0)throw new Ct(ze.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qX="firestore.googleapis.com",LH=!0;class DH{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ct(ze.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=qX,this.ssl=LH}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:LH;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=_X;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<FAe)throw new Ct(ze.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}o1e("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zX((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Ct(ze.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Ct(ze.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Ct(ze.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class JI{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new DH({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ct(ze.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ct(ze.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new DH(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new pxe;switch(r.type){case"firstParty":return new yxe(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ct(ze.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=OH.get(n);r&&(wt("ComponentProvider","Removing Datastore"),OH.delete(n),r.terminate())}(this),Promise.resolve()}}function KX(t,e,n,r={}){var i;t=tc(t,JI);const o=sg(e),a=t._getSettings(),l=Object.assign(Object.assign({},a),{emulatorOptions:t._getEmulatorOptions()}),u=`${e}:${n}`;o&&x2(`https://${u}`),a.host!==qX&&a.host!==u&&wy("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},a),{host:u,ssl:o,emulatorOptions:r});if(!J0(f,l)&&(t._setSettings(f),r.mockUserToken)){let h,g;if(typeof r.mockUserToken=="string")h=r.mockUserToken,g=Da.MOCK_USER;else{h=C2(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new Ct(ze.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Da(y)}t._authCredentials=new mxe(new OQ(h,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new gf(this.firestore,e,this._query)}}class na{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vh(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new na(this.firestore,e,this._key)}}class Vh extends gf{constructor(e,n,r){super(e,n,jI(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new na(this.firestore,null,new jt(e))}withConverter(e){return new Vh(this.firestore,e,this._path)}}function ip(t,e,...n){if(t=sr(t),WX("collection","path",e),t instanceof JI){const r=Zr.fromString(e,...n);return NH(r),new Vh(t,null,r)}{if(!(t instanceof na||t instanceof Vh))throw new Ct(ze.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Zr.fromString(e,...n));return NH(r),new Vh(t.firestore,null,r)}}function o_(t,e,...n){if(t=sr(t),arguments.length===1&&(e=NQ.newId()),WX("doc","path",e),t instanceof JI){const r=Zr.fromString(e,...n);return PH(r),new na(t,null,new jt(r))}{if(!(t instanceof na||t instanceof Vh))throw new Ct(ze.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Zr.fromString(e,...n));return PH(r),new na(t.firestore,t instanceof Vh?t.converter:null,new jt(r))}}function s1e(t,e){return t=sr(t),e=sr(e),t instanceof gf&&e instanceof gf&&t.firestore===e.firestore&&aw(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MH="AsyncQueue";class FH{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new CX(this,"async_queue_retry"),this.ju=()=>{const r=oO();r&&wt(MH,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;const n=oO();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const n=oO();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const n=new Uh;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!n_(e))throw e;wt(MH,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const n=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,Cd("INTERNAL UNHANDLED ERROR: ",UH(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=n,n}enqueueAfterDelay(e,n,r){this.Ju(),this.zu.indexOf(e)>-1&&(n=0);const i=DU.createAndSchedule(this,e,n,r,o=>this.Xu(o));return this.Uu.push(i),i}Ju(){this.Ku&&Zt(47125,{ec:UH(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const n of this.Uu)if(n.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Uu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const n=this.Uu.indexOf(e);this.Uu.splice(n,1)}}function UH(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VH(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}let Wm=class extends JI{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new FH,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new FH(e),this._firestoreClient=void 0,await e}}};function GX(t,e){const n=typeof t=="object"?t:k2(),r=typeof t=="string"?t:e||zx,i=YE(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=w2("firestore");o&&KX(i,...o)}return i}function BU(t){if(t._terminated)throw new Ct(ze.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||l1e(t),t._firestoreClient}function l1e(t){var e,n,r;const i=t._freezeSettings(),o=function(l,u,f,h){return new Nxe(l,u,f,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,zX(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new t1e(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(e){this._byteString=e}static fromBase64String(e){try{return new op(Ta.fromBase64String(e))}catch(n){throw new Ct(ze.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new op(Ta.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ct(ze.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ba(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $U{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ct(ze.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ct(ze.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return xn(this._lat,e._lat)||xn(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HU{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1e=/^__.*__$/;class c1e{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new gp(e,this.data,this.fieldMask,n,this.fieldTransforms):new sw(e,this.data,n,this.fieldTransforms)}}class YX{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new gp(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function QX(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Zt(40011,{oc:t})}}class jU{constructor(e,n,r,i,o,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this._c(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new jU(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ac({path:r,cc:!1});return i.lc(e),i}hc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ac({path:r,cc:!1});return i._c(),i}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return eA(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(QX(this.oc)&&u1e.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class f1e{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||GI(e)}dc(e,n,r,i=!1){return new jU({oc:e,methodName:n,Ec:r,path:ba.emptyPath(),cc:!1,Ic:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zU(t){const e=t._freezeSettings(),n=GI(t._databaseId);return new f1e(t._databaseId,!!e.ignoreUndefinedProperties,n)}function d1e(t,e,n,r,i,o={}){const a=t.dc(o.merge||o.mergeFields?2:0,e,n,i);WU("Data must be an object, but it was:",a,r);const l=XX(r,a);let u,f;if(o.merge)u=new Cl(a.fieldMask),f=a.fieldTransforms;else if(o.mergeFields){const h=[];for(const g of o.mergeFields){const y=fD(e,g,n);if(!a.contains(y))throw new Ct(ze.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);ZX(h,y)||h.push(y)}u=new Cl(h),f=a.fieldTransforms.filter(g=>u.covers(g.field))}else u=null,f=a.fieldTransforms;return new c1e(new Bs(l),u,f)}class fw extends $U{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof fw}}function h1e(t,e,n,r){const i=t.dc(1,e,n);WU("Data must be an object, but it was:",i,r);const o=[],a=Bs.empty();mp(r,(u,f)=>{const h=qU(e,u,n);f=sr(f);const g=i.hc(h);if(f instanceof fw)o.push(h);else{const y=dw(f,g);y!=null&&(o.push(h),a.set(h,y))}});const l=new Cl(o);return new YX(a,l,i.fieldTransforms)}function p1e(t,e,n,r,i,o){const a=t.dc(1,e,n),l=[fD(e,r,n)],u=[i];if(o.length%2!=0)throw new Ct(ze.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<o.length;y+=2)l.push(fD(e,o[y])),u.push(o[y+1]);const f=[],h=Bs.empty();for(let y=l.length-1;y>=0;--y)if(!ZX(f,l[y])){const w=l[y];let T=u[y];T=sr(T);const C=a.hc(w);if(T instanceof fw)f.push(w);else{const R=dw(T,C);R!=null&&(f.push(w),h.set(w,R))}}const g=new Cl(f);return new YX(h,g,a.fieldTransforms)}function m1e(t,e,n,r=!1){return dw(n,t.dc(r?4:3,e))}function dw(t,e){if(JX(t=sr(t)))return WU("Unsupported field value:",e,t),XX(t,e);if(t instanceof $U)return function(r,i){if(!QX(i.oc))throw i.Tc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Tc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,i){const o=[];let a=0;for(const l of r){let u=dw(l,i.Pc(a));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),a++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=sr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return nAe(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Si.fromDate(r);return{timestampValue:Qx(i.serializer,o)}}if(r instanceof Si){const o=new Si(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Qx(i.serializer,o)}}if(r instanceof pg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof op)return{bytesValue:dX(i.serializer,r._byteString)};if(r instanceof na){const o=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(o))throw i.Tc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:xU(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof HU)return function(a,l){return{mapValue:{fields:{[$Q]:{stringValue:HQ},[Wx]:{arrayValue:{values:a.toArray().map(f=>{if(typeof f!="number")throw l.Tc("VectorValues must only contain numeric values.");return wU(l.serializer,f)})}}}}}}(r,i);throw i.Tc(`Unsupported field value: ${XI(r)}`)}(t,e)}function XX(t,e){const n={};return DQ(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):mp(t,(r,i)=>{const o=dw(i,e.uc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function JX(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Si||t instanceof pg||t instanceof op||t instanceof na||t instanceof $U||t instanceof HU)}function WU(t,e,n){if(!JX(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=XI(n);throw r==="an object"?e.Tc(t+" a custom object"):e.Tc(t+" "+r)}}function fD(t,e,n){if((e=sr(e))instanceof Iy)return e._internalPath;if(typeof e=="string")return qU(t,e);throw eA("Field path arguments must be of type string or ",t,!1,void 0,n)}const g1e=new RegExp("[~\\*/\\[\\]]");function qU(t,e,n){if(e.search(g1e)>=0)throw eA(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Iy(...e.split("."))._internalPath}catch{throw eA(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function eA(t,e,n,r,i){const o=r&&!r.isEmpty(),a=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(o||a)&&(u+=" (found",o&&(u+=` in field ${r}`),a&&(u+=` in document ${i}`),u+=")"),new Ct(ze.INVALID_ARGUMENT,l+t+u)}function ZX(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eJ{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new na(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new v1e(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ZI("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class v1e extends eJ{data(){return super.data()}}function ZI(t,e){return typeof e=="string"?qU(t,e):e instanceof Iy?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1e(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ct(ze.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class KU{}class GU extends KU{}function hS(t,e,...n){let r=[];e instanceof KU&&r.push(e),r=r.concat(n),function(o){const a=o.filter(u=>u instanceof YU).length,l=o.filter(u=>u instanceof e1).length;if(a>1||a>0&&l>0)throw new Ct(ze.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class e1 extends GU{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new e1(e,n,r)}_apply(e){const n=this._parse(e);return tJ(e._query,n),new gf(e.firestore,e.converter,eD(e._query,n))}_parse(e){const n=zU(e.firestore);return function(o,a,l,u,f,h,g){let y;if(f.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new Ct(ze.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){HH(g,h);const T=[];for(const C of g)T.push($H(u,o,C));y={arrayValue:{values:T}}}else y=$H(u,o,g)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||HH(g,h),y=m1e(l,a,g,h==="in"||h==="not-in");return bo.create(f,h,y)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function BH(t,e,n){const r=e,i=ZI("where",t);return e1._create(i,r,n)}class YU extends KU{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new YU(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:sc.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let a=i;const l=o.getFlattenedFilters();for(const u of l)tJ(a,u),a=eD(a,u)}(e._query,n),new gf(e.firestore,e.converter,eD(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class QU extends GU{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new QU(e,n)}_apply(e){const n=function(i,o,a){if(i.startAt!==null)throw new Ct(ze.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Ct(ze.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new pE(o,a)}(e._query,this._field,this._direction);return new gf(e.firestore,e.converter,function(i,o){const a=i.explicitOrderBy.concat([o]);return new r_(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function _1e(t,e="asc"){const n=e,r=ZI("orderBy",t);return QU._create(r,n)}class XU extends GU{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new XU(e,n,r)}_apply(e){return new gf(e.firestore,e.converter,Kx(e._query,this._limit,this._limitType))}}function b1e(t){return a1e("limit",t),XU._create("limit",t,"F")}function $H(t,e,n){if(typeof(n=sr(n))=="string"){if(n==="")throw new Ct(ze.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!QQ(e)&&n.indexOf("/")!==-1)throw new Ct(ze.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Zr.fromString(n));if(!jt.isDocumentKey(r))throw new Ct(ze.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return eH(t,new jt(r))}if(n instanceof na)return eH(t,n._key);throw new Ct(ze.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${XI(n)}.`)}function HH(t,e){if(!Array.isArray(t)||t.length===0)throw new Ct(ze.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function tJ(t,e){const n=function(i,o){for(const a of i)for(const l of a.getFlattenedFilters())if(o.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Ct(ze.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ct(ze.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class E1e{convertValue(e,n="none"){switch(tp(e)){case 0:return null;case 1:return e.booleanValue;case 2:return io(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ep(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Zt(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return mp(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[Wx].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(a=>io(a.doubleValue));return new HU(o)}convertGeoPoint(e){return new pg(io(e.latitude),io(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=HI(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(fE(e));default:return null}}convertTimestamp(e){const n=Zh(e);return new Si(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Zr.fromString(e);vr(yX(r),9688,{name:e});const i=new dE(r.get(1),r.get(3)),o=new jt(r.popFirst(5));return i.isEqual(n)||Cd(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w1e(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class nJ extends eJ{constructor(e,n,r,i,o,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new hT(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(ZI("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class hT extends nJ{data(e={}){return super.data(e)}}class C1e{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Bb(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new hT(this._firestore,this._userDataWriter,r.key,r,new Bb(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ct(ze.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(l=>{const u=new hT(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Bb(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>o||l.type!==3).map(l=>{const u=new hT(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Bb(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,h=-1;return l.type!==0&&(f=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),h=a.indexOf(l.doc.key)),{type:S1e(l.type),doc:u,oldIndex:f,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function S1e(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Zt(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T1e(t){t=tc(t,na);const e=tc(t.firestore,Wm);return i1e(BU(e),t._key).then(n=>oJ(e,t,n))}class rJ extends E1e{constructor(e){super(),this.firestore=e}convertBytes(e){return new op(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new na(this.firestore,null,n)}}function t1(t,e,n){t=tc(t,na);const r=tc(t.firestore,Wm),i=w1e(t.converter,e);return JU(r,[d1e(zU(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ec.none())])}function iJ(t,e,n,...r){t=tc(t,na);const i=tc(t.firestore,Wm),o=zU(i);let a;return a=typeof(e=sr(e))=="string"||e instanceof Iy?p1e(o,"updateDoc",t._key,e,n,r):h1e(o,"updateDoc",t._key,e),JU(i,[a.toMutation(t._key,ec.exists(!0))])}function x1e(t){return JU(tc(t.firestore,Wm),[new CU(t._key,ec.none())])}function A1e(t,...e){var n,r,i;t=sr(t);let o={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||VH(e[a])||(o=e[a],a++);const l={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(VH(e[a])){const g=e[a];e[a]=(n=g.next)===null||n===void 0?void 0:n.bind(g),e[a+1]=(r=g.error)===null||r===void 0?void 0:r.bind(g),e[a+2]=(i=g.complete)===null||i===void 0?void 0:i.bind(g)}let u,f,h;if(t instanceof na)f=tc(t.firestore,Wm),h=jI(t._key.path),u={next:g=>{e[a]&&e[a](oJ(f,t,g))},error:e[a+1],complete:e[a+2]};else{const g=tc(t,gf);f=tc(g.firestore,Wm),h=g._query;const y=new rJ(f);u={next:w=>{e[a]&&e[a](new C1e(f,y,g,w))},error:e[a+1],complete:e[a+2]},y1e(t._query)}return function(y,w,T,C){const R=new HX(C),I=new NX(w,R,T);return y.asyncQueue.enqueueAndForget(async()=>OX(await cD(y),I)),()=>{R.yu(),y.asyncQueue.enqueueAndForget(async()=>PX(await cD(y),I))}}(BU(f),h,l,u)}function JU(t,e){return function(r,i){const o=new Uh;return r.asyncQueue.enqueueAndForget(async()=>qIe(await r1e(r),i,o)),o.promise}(BU(t),e)}function oJ(t,e,n){const r=n.docs.get(e._key),i=new rJ(t);return new nJ(t,i,e._key,r,new Bb(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1e(){return new fw("deleteField")}(function(e,n=!0){(function(i){e_=i})(lg),pu(new hxe("firestore",(r,{instanceIdentifier:i,options:o})=>{const a=r.getProvider("app").getImmediate(),l=new Wm(new gxe(r.getProvider("auth-internal")),new _xe(a,r.getProvider("app-check-internal")),function(f,h){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Ct(ze.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new dE(f.options.projectId,h)}(a,i),a);return o=Object.assign({useFetchStreams:n},o),l._setSettings(o),l},"PUBLIC").setMultipleInstances(!0)),Eo(H9,j9,e),Eo(H9,j9,"esm2017")})();let k1e=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1e="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1e{constructor(e,n,r,i){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,Wc(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||n.get().then(o=>this.auth=o,()=>{}),this.messaging||r.get().then(o=>this.messaging=o,()=>{}),this.appCheck||i==null||i.get().then(o=>this.appCheck=o,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),i=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:i}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jH="us-central1";class P1e{constructor(e,n,r,i,o=jH,a=(...l)=>fetch(...l)){this.app=e,this.fetchImpl=a,this.emulatorOrigin=null,this.contextProvider=new O1e(e,n,r,i),this.cancelAllRequests=new Promise(l=>{this.deleteService=()=>Promise.resolve(l())});try{const l=new URL(o);this.customDomain=l.origin+(l.pathname==="/"?"":l.pathname),this.region=jH}catch{this.customDomain=null,this.region=o}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}const zH="@firebase/functions",WH="0.12.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1e="auth-internal",L1e="app-check-internal",D1e="messaging-internal";function M1e(t){const e=(n,{instanceIdentifier:r})=>{const i=n.getProvider("app").getImmediate(),o=n.getProvider(N1e),a=n.getProvider(D1e),l=n.getProvider(L1e);return new P1e(i,o,a,l,r)};pu(new k1e(R1e,e,"PUBLIC").setMultipleInstances(!0)),Eo(zH,WH,t),Eo(zH,WH,"esm2017")}M1e();let F1e=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aJ="firebasestorage.googleapis.com",sJ="storageBucket",U1e=2*60*1e3,V1e=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends gc{constructor(e,n,r=0){super(sO(e),`Firebase Storage: ${n} (${sO(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Wi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return sO(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var zi;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(zi||(zi={}));function sO(t){return"storage/"+t}function ZU(){const t="An unknown error occurred, please check the error payload for server response.";return new Wi(zi.UNKNOWN,t)}function B1e(t){return new Wi(zi.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function $1e(t){return new Wi(zi.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function H1e(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Wi(zi.UNAUTHENTICATED,t)}function j1e(){return new Wi(zi.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function z1e(t){return new Wi(zi.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function W1e(){return new Wi(zi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function q1e(){return new Wi(zi.CANCELED,"User canceled the upload/download.")}function K1e(t){return new Wi(zi.INVALID_URL,"Invalid URL '"+t+"'.")}function G1e(t){return new Wi(zi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Y1e(){return new Wi(zi.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+sJ+"' property when initializing the app?")}function Q1e(){return new Wi(zi.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function X1e(){return new Wi(zi.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function J1e(t){return new Wi(zi.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function dD(t){return new Wi(zi.INVALID_ARGUMENT,t)}function lJ(){return new Wi(zi.APP_DELETED,"The Firebase app was deleted.")}function Z1e(t){return new Wi(zi.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function g0(t,e){return new Wi(zi.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Eb(t){throw new Wi(zi.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=ds.makeFromUrl(e,n)}catch{return new ds(e,"")}if(r.path==="")return r;throw G1e(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(A){A.path.charAt(A.path.length-1)==="/"&&(A.path_=A.path_.slice(0,-1))}const a="(/(.*))?$",l=new RegExp("^gs://"+i+a,"i"),u={bucket:1,path:3};function f(A){A.path_=decodeURIComponent(A.path)}const h="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",w=new RegExp(`^https?://${g}/${h}/b/${i}/o${y}`,"i"),T={bucket:1,path:3},C=n===aJ?"(?:storage.googleapis.com|storage.cloud.google.com)":n,R="([^?#]*)",I=new RegExp(`^https?://${C}/${i}/${R}`,"i"),O=[{regex:l,indices:u,postModify:o},{regex:w,indices:T,postModify:f},{regex:I,indices:{bucket:1,path:2},postModify:f}];for(let A=0;A<O.length;A++){const V=O[A],D=V.regex.exec(e);if(D){const P=D[V.indices.bucket];let N=D[V.indices.path];N||(N=""),r=new ds(P,N),V.postModify(r);break}}if(r==null)throw K1e(e);return r}}class eke{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tke(t,e,n){let r=1,i=null,o=null,a=!1,l=0;function u(){return l===2}let f=!1;function h(...R){f||(f=!0,e.apply(null,R))}function g(R){i=setTimeout(()=>{i=null,t(w,u())},R)}function y(){o&&clearTimeout(o)}function w(R,...I){if(f){y();return}if(R){y(),h.call(null,R,...I);return}if(u()||a){y(),h.call(null,R,...I);return}r<64&&(r*=2);let O;l===1?(l=2,O=0):O=(r+Math.random())*1e3,g(O)}let T=!1;function C(R){T||(T=!0,y(),!f&&(i!==null?(R||(l=2),clearTimeout(i),g(0)):R||(l=1)))}return g(0),o=setTimeout(()=>{a=!0,C(!0)},n),C}function nke(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rke(t){return t!==void 0}function ike(t){return typeof t=="object"&&!Array.isArray(t)}function eV(t){return typeof t=="string"||t instanceof String}function qH(t){return tV()&&t instanceof Blob}function tV(){return typeof Blob<"u"}function hD(t,e,n,r){if(r<e)throw dD(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw dD(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a_(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function uJ(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Tm;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Tm||(Tm={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oke(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ake{constructor(e,n,r,i,o,a,l,u,f,h,g,y=!0,w=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=a,this.callback_=l,this.errorCallback_=u,this.timeout_=f,this.progressCallback_=h,this.connectionFactory_=g,this.retry=y,this.isUsingEmulator=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((T,C)=>{this.resolve_=T,this.reject_=C,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new pS(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const a=l=>{const u=l.loaded,f=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,f)};this.progressCallback_!==null&&o.addUploadProgressListener(a),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(a),this.pendingConnection_=null;const l=o.getErrorCode()===Tm.NO_ERROR,u=o.getStatus();if(!l||oke(u,this.additionalRetryCodes_)&&this.retry){const h=o.getErrorCode()===Tm.ABORT;r(!1,new pS(!1,null,h));return}const f=this.successCodes_.indexOf(u)!==-1;r(!0,new pS(f,o))})},n=(r,i)=>{const o=this.resolve_,a=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(l,l.getResponse());rke(u)?o(u):o()}catch(u){a(u)}else if(l!==null){const u=ZU();u.serverResponse=l.getErrorText(),this.errorCallback_?a(this.errorCallback_(l,u)):a(u)}else if(i.canceled){const u=this.appDelete_?lJ():q1e();a(u)}else{const u=W1e();a(u)}};this.canceled_?n(!1,new pS(!1,null,!0)):this.backoffId_=tke(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&nke(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class pS{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function ske(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function lke(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function uke(t,e){e&&(t["X-Firebase-GMPID"]=e)}function cke(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function fke(t,e,n,r,i,o,a=!0,l=!1){const u=uJ(t.urlParams),f=t.url+u,h=Object.assign({},t.headers);return uke(h,e),ske(h,n),lke(h,o),cke(h,r),new ake(f,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,a,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dke(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function hke(...t){const e=dke();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(tV())return new Blob(t);throw new Wi(zi.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function pke(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mke(t){if(typeof atob>"u")throw J1e("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jc={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class lO{constructor(e,n){this.data=e,this.contentType=n||null}}function gke(t,e){switch(t){case Jc.RAW:return new lO(cJ(e));case Jc.BASE64:case Jc.BASE64URL:return new lO(fJ(t,e));case Jc.DATA_URL:return new lO(yke(e),_ke(e))}throw ZU()}function cJ(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,a=t.charCodeAt(++n);r=65536|(o&1023)<<10|a&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function vke(t){let e;try{e=decodeURIComponent(t)}catch{throw g0(Jc.DATA_URL,"Malformed data URL.")}return cJ(e)}function fJ(t,e){switch(t){case Jc.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw g0(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Jc.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw g0(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=mke(e)}catch(i){throw i.message.includes("polyfill")?i:g0(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class dJ{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw g0(Jc.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=bke(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function yke(t){const e=new dJ(t);return e.base64?fJ(Jc.BASE64,e.rest):vke(e.rest)}function _ke(t){return new dJ(t).contentType}function bke(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,n){let r=0,i="";qH(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(qH(this.data_)){const r=this.data_,i=pke(r,e,n);return i===null?null:new vh(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new vh(r,!0)}}static getBlob(...e){if(tV()){const n=e.map(r=>r instanceof vh?r.data_:r);return new vh(hke.apply(null,n))}else{const n=e.map(a=>eV(a)?gke(Jc.RAW,a).data:a.data_);let r=0;n.forEach(a=>{r+=a.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(a=>{for(let l=0;l<a.length;l++)i[o++]=a[l]}),new vh(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nV(t){let e;try{e=JSON.parse(t)}catch{return null}return ike(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eke(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function wke(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function hJ(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cke(t,e){return e}class ns{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||Cke}}let mS=null;function Ske(t){return!eV(t)||t.length<2?t:hJ(t)}function rV(){if(mS)return mS;const t=[];t.push(new ns("bucket")),t.push(new ns("generation")),t.push(new ns("metageneration")),t.push(new ns("name","fullPath",!0));function e(o,a){return Ske(a)}const n=new ns("name");n.xform=e,t.push(n);function r(o,a){return a!==void 0?Number(a):a}const i=new ns("size");return i.xform=r,t.push(i),t.push(new ns("timeCreated")),t.push(new ns("updated")),t.push(new ns("md5Hash",null,!0)),t.push(new ns("cacheControl",null,!0)),t.push(new ns("contentDisposition",null,!0)),t.push(new ns("contentEncoding",null,!0)),t.push(new ns("contentLanguage",null,!0)),t.push(new ns("contentType",null,!0)),t.push(new ns("metadata","customMetadata",!0)),mS=t,mS}function Tke(t,e){function n(){const r=t.bucket,i=t.fullPath,o=new ds(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function xke(t,e,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const a=n[o];r[a.local]=a.xform(r,e[a.server])}return Tke(r,t),r}function pJ(t,e,n){const r=nV(e);return r===null?null:xke(t,r,n)}function Ake(t,e,n,r){const i=nV(e);if(i===null||!eV(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const a=encodeURIComponent;return o.split(",").map(f=>{const h=t.bucket,g=t.fullPath,y="/b/"+a(h)+"/o/"+a(g),w=a_(y,n,r),T=uJ({alt:"media",token:f});return w+T})[0]}function Ike(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KH="prefixes",GH="items";function kke(t,e,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[KH])for(const i of n[KH]){const o=i.replace(/\/$/,""),a=t._makeStorageReference(new ds(e,o));r.prefixes.push(a)}if(n[GH])for(const i of n[GH]){const o=t._makeStorageReference(new ds(e,i.name));r.items.push(o)}return r}function Rke(t,e,n){const r=nV(n);return r===null?null:kke(t,e,r)}class hw{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iV(t){if(!t)throw ZU()}function mJ(t,e){function n(r,i){const o=pJ(t,i,e);return iV(o!==null),o}return n}function Oke(t,e){function n(r,i){const o=Rke(t,e,i);return iV(o!==null),o}return n}function Pke(t,e){function n(r,i){const o=pJ(t,i,e);return iV(o!==null),Ake(o,i,t.host,t._protocol)}return n}function oV(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=j1e():i=H1e():n.getStatus()===402?i=$1e(t.bucket):n.getStatus()===403?i=z1e(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function aV(t){const e=oV(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=B1e(t.path)),o.serverResponse=i.serverResponse,o}return n}function Nke(t,e,n){const r=e.fullServerUrl(),i=a_(r,t.host,t._protocol),o="GET",a=t.maxOperationRetryTime,l=new hw(i,o,mJ(t,n),a);return l.errorHandler=aV(e),l}function Lke(t,e,n,r,i){const o={};e.isRoot?o.prefix="":o.prefix=e.path+"/",n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);const a=e.bucketOnlyServerUrl(),l=a_(a,t.host,t._protocol),u="GET",f=t.maxOperationRetryTime,h=new hw(l,u,Oke(t,e.bucket),f);return h.urlParams=o,h.errorHandler=oV(e),h}function Dke(t,e,n){const r=e.fullServerUrl(),i=a_(r,t.host,t._protocol),o="GET",a=t.maxOperationRetryTime,l=new hw(i,o,Pke(t,n),a);return l.errorHandler=aV(e),l}function Mke(t,e){const n=e.fullServerUrl(),r=a_(n,t.host,t._protocol),i="DELETE",o=t.maxOperationRetryTime;function a(u,f){}const l=new hw(r,i,a,o);return l.successCodes=[200,204],l.errorHandler=aV(e),l}function Fke(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Uke(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=Fke(null,e)),r}function Vke(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function l(){let O="";for(let A=0;A<2;A++)O=O+Math.random().toString().slice(2);return O}const u=l();a["Content-Type"]="multipart/related; boundary="+u;const f=Uke(e,r,i),h=Ike(f,n),g="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+u+`\r
Content-Type: `+f.contentType+`\r
\r
`,y=`\r
--`+u+"--",w=vh.getBlob(g,r,y);if(w===null)throw Q1e();const T={name:f.fullPath},C=a_(o,t.host,t._protocol),R="POST",I=t.maxUploadRetryTime,k=new hw(C,R,mJ(t,n),I);return k.urlParams=T,k.headers=a,k.body=w.uploadData(),k.errorHandler=oV(e),k}class Bke{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Tm.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Tm.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Tm.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,o){if(this.sent_)throw Eb("cannot .send() more than once");if(sg(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),o!==void 0)for(const a in o)o.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,o[a].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Eb("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Eb("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Eb("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Eb("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class $ke extends Bke{initXhr(){this.xhr_.responseType="text"}}function pw(){return new $ke}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(e,n){this._service=e,n instanceof ds?this._location=n:this._location=ds.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new qm(e,n)}get root(){const e=new ds(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return hJ(this._location.path)}get storage(){return this._service}get parent(){const e=Eke(this._location.path);if(e===null)return null;const n=new ds(this._location.bucket,e);return new qm(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Z1e(e)}}function Hke(t,e,n){t._throwIfRoot("uploadBytes");const r=Vke(t.storage,t._location,rV(),new vh(e,!0),n);return t.storage.makeRequestWithTokens(r,pw).then(i=>({metadata:i,ref:t}))}function jke(t){const e={prefixes:[],items:[]};return gJ(t,e).then(()=>e)}async function gJ(t,e,n){const i=await zke(t,{pageToken:n});e.prefixes.push(...i.prefixes),e.items.push(...i.items),i.nextPageToken!=null&&await gJ(t,e,i.nextPageToken)}function zke(t,e){e!=null&&typeof e.maxResults=="number"&&hD("options.maxResults",1,1e3,e.maxResults);const n=e||{},r=Lke(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(r,pw)}function Wke(t){t._throwIfRoot("getMetadata");const e=Nke(t.storage,t._location,rV());return t.storage.makeRequestWithTokens(e,pw)}function qke(t){t._throwIfRoot("getDownloadURL");const e=Dke(t.storage,t._location,rV());return t.storage.makeRequestWithTokens(e,pw).then(n=>{if(n===null)throw X1e();return n})}function Kke(t){t._throwIfRoot("deleteObject");const e=Mke(t.storage,t._location);return t.storage.makeRequestWithTokens(e,pw)}function Gke(t,e){const n=wke(t._location.path,e),r=new ds(t._location.bucket,n);return new qm(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yke(t){return/^[A-Za-z]+:\/\//.test(t)}function Qke(t,e){return new qm(t,e)}function vJ(t,e){if(t instanceof sV){const n=t;if(n._bucket==null)throw Y1e();const r=new qm(n,n._bucket);return e!=null?vJ(r,e):r}else return e!==void 0?Gke(t,e):t}function Xke(t,e){if(e&&Yke(e)){if(t instanceof sV)return Qke(t,e);throw dD("To use ref(service, url), the first argument must be a Storage instance.")}else return vJ(t,e)}function YH(t,e){const n=e==null?void 0:e[sJ];return n==null?null:ds.makeFromBucketSpec(n,t)}function Jke(t,e,n,r={}){t.host=`${e}:${n}`;const i=sg(e);i&&x2(`https://${t.host}`),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:o}=r;o&&(t._overrideAuthToken=typeof o=="string"?o:C2(o,t.app.options.projectId))}class sV{constructor(e,n,r,i,o,a=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._isUsingEmulator=a,this._bucket=null,this._host=aJ,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=U1e,this._maxUploadRetryTime=V1e,this._requests=new Set,i!=null?this._bucket=ds.makeFromBucketSpec(i,this._host):this._bucket=YH(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ds.makeFromBucketSpec(this._url,e):this._bucket=YH(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){hD("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){hD("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Wc(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new qm(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new eke(lJ());{const a=fke(e,this._appId,r,i,n,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const QH="@firebase/storage",XH="0.13.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yJ="storage";function Zke(t,e,n){return t=sr(t),Hke(t,e,n)}function eRe(t){return t=sr(t),Wke(t)}function uO(t){return t=sr(t),jke(t)}function _J(t){return t=sr(t),qke(t)}function JH(t){return t=sr(t),Kke(t)}function $b(t,e){return t=sr(t),Xke(t,e)}function ZH(t=k2(),e){t=sr(t);const r=YE(t,yJ).getImmediate({identifier:e}),i=w2("storage");return i&&bJ(r,...i),r}function bJ(t,e,n,r={}){Jke(t,e,n,r)}function tRe(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new sV(n,r,i,e,lg)}function nRe(){pu(new F1e(yJ,tRe,"PUBLIC").setMultipleInstances(!0)),Eo(QH,XH,""),Eo(QH,XH,"esm2017")}nRe();let rRe=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};class ej{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const EJ="@firebase/installations",lV="0.6.14";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wJ=1e4,CJ=`w:${lV}`,SJ="FIS_v2",iRe="https://firebaseinstallations.googleapis.com/v1",oRe=60*60*1e3,aRe="installations",sRe="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lRe={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Km=new ag(aRe,sRe,lRe);function TJ(t){return t instanceof gc&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xJ({projectId:t}){return`${iRe}/projects/${t}/installations`}function AJ(t){return{token:t.token,requestStatus:2,expiresIn:cRe(t.expiresIn),creationTime:Date.now()}}async function IJ(t,e){const r=(await e.json()).error;return Km.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function kJ({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function uRe(t,{refreshToken:e}){const n=kJ(t);return n.append("Authorization",fRe(e)),n}async function RJ(t){const e=await t();return e.status>=500&&e.status<600?t():e}function cRe(t){return Number(t.replace("s","000"))}function fRe(t){return`${SJ} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dRe({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=xJ(t),i=kJ(t),o=e.getImmediate({optional:!0});if(o){const f=await o.getHeartbeatsHeader();f&&i.append("x-firebase-client",f)}const a={fid:n,authVersion:SJ,appId:t.appId,sdkVersion:CJ},l={method:"POST",headers:i,body:JSON.stringify(a)},u=await RJ(()=>fetch(r,l));if(u.ok){const f=await u.json();return{fid:f.fid||n,registrationStatus:2,refreshToken:f.refreshToken,authToken:AJ(f.authToken)}}else throw await IJ("Create Installation",u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OJ(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hRe(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pRe=/^[cdef][\w-]{21}$/,pD="";function mRe(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=gRe(t);return pRe.test(n)?n:pD}catch{return pD}}function gRe(t){return hRe(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n1(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PJ=new Map;function NJ(t,e){const n=n1(t);LJ(n,e),vRe(n,e)}function LJ(t,e){const n=PJ.get(t);if(n)for(const r of n)r(e)}function vRe(t,e){const n=yRe();n&&n.postMessage({key:t,fid:e}),_Re()}let bm=null;function yRe(){return!bm&&"BroadcastChannel"in self&&(bm=new BroadcastChannel("[Firebase] FID Change"),bm.onmessage=t=>{LJ(t.data.key,t.data.fid)}),bm}function _Re(){PJ.size===0&&bm&&(bm.close(),bm=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bRe="firebase-installations-database",ERe=1,Gm="firebase-installations-store";let cO=null;function uV(){return cO||(cO=NG(bRe,ERe,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Gm)}}})),cO}async function tA(t,e){const n=n1(t),i=(await uV()).transaction(Gm,"readwrite"),o=i.objectStore(Gm),a=await o.get(n);return await o.put(e,n),await i.done,(!a||a.fid!==e.fid)&&NJ(t,e.fid),e}async function DJ(t){const e=n1(t),r=(await uV()).transaction(Gm,"readwrite");await r.objectStore(Gm).delete(e),await r.done}async function r1(t,e){const n=n1(t),i=(await uV()).transaction(Gm,"readwrite"),o=i.objectStore(Gm),a=await o.get(n),l=e(a);return l===void 0?await o.delete(n):await o.put(l,n),await i.done,l&&(!a||a.fid!==l.fid)&&NJ(t,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cV(t){let e;const n=await r1(t.appConfig,r=>{const i=wRe(r),o=CRe(t,i);return e=o.registrationPromise,o.installationEntry});return n.fid===pD?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function wRe(t){const e=t||{fid:mRe(),registrationStatus:0};return MJ(e)}function CRe(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Km.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=SRe(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:TRe(t)}:{installationEntry:e}}async function SRe(t,e){try{const n=await dRe(t,e);return tA(t.appConfig,n)}catch(n){throw TJ(n)&&n.customData.serverCode===409?await DJ(t.appConfig):await tA(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function TRe(t){let e=await tj(t.appConfig);for(;e.registrationStatus===1;)await OJ(100),e=await tj(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await cV(t);return r||n}return e}function tj(t){return r1(t,e=>{if(!e)throw Km.create("installation-not-found");return MJ(e)})}function MJ(t){return xRe(t)?{fid:t.fid,registrationStatus:0}:t}function xRe(t){return t.registrationStatus===1&&t.registrationTime+wJ<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ARe({appConfig:t,heartbeatServiceProvider:e},n){const r=IRe(t,n),i=uRe(t,n),o=e.getImmediate({optional:!0});if(o){const f=await o.getHeartbeatsHeader();f&&i.append("x-firebase-client",f)}const a={installation:{sdkVersion:CJ,appId:t.appId}},l={method:"POST",headers:i,body:JSON.stringify(a)},u=await RJ(()=>fetch(r,l));if(u.ok){const f=await u.json();return AJ(f)}else throw await IJ("Generate Auth Token",u)}function IRe(t,{fid:e}){return`${xJ(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fV(t,e=!1){let n;const r=await r1(t.appConfig,o=>{if(!FJ(o))throw Km.create("not-registered");const a=o.authToken;if(!e&&ORe(a))return o;if(a.requestStatus===1)return n=kRe(t,e),o;{if(!navigator.onLine)throw Km.create("app-offline");const l=NRe(o);return n=RRe(t,l),l}});return n?await n:r.authToken}async function kRe(t,e){let n=await nj(t.appConfig);for(;n.authToken.requestStatus===1;)await OJ(100),n=await nj(t.appConfig);const r=n.authToken;return r.requestStatus===0?fV(t,e):r}function nj(t){return r1(t,e=>{if(!FJ(e))throw Km.create("not-registered");const n=e.authToken;return LRe(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function RRe(t,e){try{const n=await ARe(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await tA(t.appConfig,r),n}catch(n){if(TJ(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await DJ(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await tA(t.appConfig,r)}throw n}}function FJ(t){return t!==void 0&&t.registrationStatus===2}function ORe(t){return t.requestStatus===2&&!PRe(t)}function PRe(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+oRe}function NRe(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function LRe(t){return t.requestStatus===1&&t.requestTime+wJ<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DRe(t){const e=t,{installationEntry:n,registrationPromise:r}=await cV(e);return r?r.catch(console.error):fV(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MRe(t,e=!1){const n=t;return await FRe(n),(await fV(n,e)).token}async function FRe(t){const{registrationPromise:e}=await cV(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function URe(t){if(!t||!t.options)throw fO("App Configuration");if(!t.name)throw fO("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw fO(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function fO(t){return Km.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UJ="installations",VRe="installations-internal",BRe=t=>{const e=t.getProvider("app").getImmediate(),n=URe(e),r=YE(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},$Re=t=>{const e=t.getProvider("app").getImmediate(),n=YE(e,UJ).getImmediate();return{getId:()=>DRe(n),getToken:i=>MRe(n,i)}};function HRe(){pu(new ej(UJ,BRe,"PUBLIC")),pu(new ej(VRe,$Re,"PRIVATE"))}HRe();Eo(EJ,lV);Eo(EJ,lV,"esm2017");const dO="@firebase/remote-config",rj="0.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jRe="remote-config",ij=100;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zRe={"already-initialized":"Remote Config already initialized","registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser","custom-signal-max-allowed-signals":"Setting more than {$maxSignals} custom signals is not supported."},xl=new ag("remoteconfig","Remote Config",zRe);function WRe(t){const e=sr(t);return e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0})),e._initializePromise}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qRe{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}async fetch(e){const[n,r]=await Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()]);if(r&&this.isCachedDataFresh(e.cacheMaxAgeMillis,n))return r;e.eTag=r&&r.eTag;const i=await this.client.fetch(e),o=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return i.status===200&&o.push(this.storage.setLastSuccessfulFetchResponse(i)),await Promise.all(o),i}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KRe(t=navigator){return t.languages&&t.languages[0]||t.language}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GRe{constructor(e,n,r,i,o,a){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=o,this.appId=a}async fetch(e){const[n,r]=await Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${this.projectId}/namespaces/${this.namespace}:fetch?key=${this.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},l={sdk_version:this.sdkVersion,app_instance_id:n,app_instance_id_token:r,app_id:this.appId,language_code:KRe(),custom_signals:e.customSignals},u={method:"POST",headers:a,body:JSON.stringify(l)},f=fetch(o,u),h=new Promise((R,I)=>{e.signal.addEventListener(()=>{const k=new Error("The operation was aborted.");k.name="AbortError",I(k)})});let g;try{await Promise.race([f,h]),g=await f}catch(R){let I="fetch-client-network";throw(R==null?void 0:R.name)==="AbortError"&&(I="fetch-timeout"),xl.create(I,{originalErrorMessage:R==null?void 0:R.message})}let y=g.status;const w=g.headers.get("ETag")||void 0;let T,C;if(g.status===200){let R;try{R=await g.json()}catch(I){throw xl.create("fetch-client-parse",{originalErrorMessage:I==null?void 0:I.message})}T=R.entries,C=R.state}if(C==="INSTANCE_STATE_UNSPECIFIED"?y=500:C==="NO_CHANGE"?y=304:(C==="NO_TEMPLATE"||C==="EMPTY_CONFIG")&&(T={}),y!==304&&y!==200)throw xl.create("fetch-status",{httpStatus:y});return{status:y,eTag:w,config:T}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YRe(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(o),r(xl.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function QRe(t){if(!(t instanceof gc)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class XRe{constructor(e,n){this.client=e,this.storage=n}async fetch(e){const n=await this.storage.getThrottleMetadata()||{backoffCount:0,throttleEndTimeMillis:Date.now()};return this.attemptFetch(e,n)}async attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){await YRe(e.signal,n);try{const i=await this.client.fetch(e);return await this.storage.deleteThrottleMetadata(),i}catch(i){if(!QRe(i))throw i;const o={throttleEndTimeMillis:Date.now()+r0e(r),backoffCount:r+1};return await this.storage.setThrottleMetadata(o),this.attemptFetch(e,o)}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JRe=60*1e3,ZRe=12*60*60*1e3;class eOe{get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}constructor(e,n,r,i,o){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=o,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:JRe,minimumFetchIntervalMillis:ZRe},this.defaultConfig={}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(t,e){const n=t.target.error||void 0;return xl.create(e,{originalErrorMessage:n&&(n==null?void 0:n.message)})}const ch="app_namespace_store",tOe="firebase_remote_config",nOe=1;function rOe(){return new Promise((t,e)=>{try{const n=indexedDB.open(tOe,nOe);n.onerror=r=>{e(pT(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{const i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(ch,{keyPath:"compositeKey"})}}}catch(n){e(xl.create("storage-open",{originalErrorMessage:n==null?void 0:n.message}))}})}let VJ=class{getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}getCustomSignals(){return this.get("custom_signals")}};class iOe extends VJ{constructor(e,n,r,i=rOe()){super(),this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}async setCustomSignals(e){const r=(await this.openDbPromise).transaction([ch],"readwrite"),i=await this.getWithTransaction("custom_signals",r),o=BJ(e,i||{});return await this.setWithTransaction("custom_signals",o,r),o}async getWithTransaction(e,n){return new Promise((r,i)=>{const o=n.objectStore(ch),a=this.createCompositeKey(e);try{const l=o.get(a);l.onerror=u=>{i(pT(u,"storage-get"))},l.onsuccess=u=>{const f=u.target.result;r(f?f.value:void 0)}}catch(l){i(xl.create("storage-get",{originalErrorMessage:l==null?void 0:l.message}))}})}async setWithTransaction(e,n,r){return new Promise((i,o)=>{const a=r.objectStore(ch),l=this.createCompositeKey(e);try{const u=a.put({compositeKey:l,value:n});u.onerror=f=>{o(pT(f,"storage-set"))},u.onsuccess=()=>{i()}}catch(u){o(xl.create("storage-set",{originalErrorMessage:u==null?void 0:u.message}))}})}async get(e){const r=(await this.openDbPromise).transaction([ch],"readonly");return this.getWithTransaction(e,r)}async set(e,n){const i=(await this.openDbPromise).transaction([ch],"readwrite");return this.setWithTransaction(e,n,i)}async delete(e){const n=await this.openDbPromise;return new Promise((r,i)=>{const a=n.transaction([ch],"readwrite").objectStore(ch),l=this.createCompositeKey(e);try{const u=a.delete(l);u.onerror=f=>{i(pT(f,"storage-delete"))},u.onsuccess=()=>{r()}}catch(u){i(xl.create("storage-delete",{originalErrorMessage:u==null?void 0:u.message}))}})}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class oOe extends VJ{constructor(){super(...arguments),this.storage={}}async get(e){return Promise.resolve(this.storage[e])}async set(e,n){return this.storage[e]=n,Promise.resolve(void 0)}async delete(e){return this.storage[e]=void 0,Promise.resolve()}async setCustomSignals(e){const n=this.storage.custom_signals||{};return this.storage.custom_signals=BJ(e,n),Promise.resolve(this.storage.custom_signals)}}function BJ(t,e){const n=Object.assign(Object.assign({},e),t),r=Object.fromEntries(Object.entries(n).filter(([i,o])=>o!==null).map(([i,o])=>typeof o=="number"?[i,o.toString()]:[i,o]));if(Object.keys(r).length>ij)throw xl.create("custom-signal-max-allowed-signals",{maxSignals:ij});return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aOe{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}getCustomSignals(){return this.customSignals}async loadFromStorage(){const e=this.storage.getLastFetchStatus(),n=this.storage.getLastSuccessfulFetchTimestampMillis(),r=this.storage.getActiveConfig(),i=this.storage.getCustomSignals(),o=await e;o&&(this.lastFetchStatus=o);const a=await n;a&&(this.lastSuccessfulFetchTimestampMillis=a);const l=await r;l&&(this.activeConfig=l);const u=await i;u&&(this.customSignals=u)}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}async setCustomSignals(e){this.customSignals=await this.storage.setCustomSignals(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sOe(){pu(new rRe(jRe,t,"PUBLIC").setMultipleInstances(!0)),Eo(dO,rj),Eo(dO,rj,"esm2017");function t(e,{options:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate(),{projectId:o,apiKey:a,appId:l}=r.options;if(!o)throw xl.create("registration-project-id");if(!a)throw xl.create("registration-api-key");if(!l)throw xl.create("registration-app-id");const u=(n==null?void 0:n.templateId)||"firebase",f=kG()?new iOe(l,r.name,u):new oOe,h=new aOe(f),g=new GE(dO);g.logLevel=In.ERROR;const y=new GRe(i,lg,u,o,a,l),w=new XRe(y,f),T=new qRe(w,f,h,g),C=new eOe(r,T,h,f,g);return WRe(C),C}}sOe();var mD=function(t,e){return mD=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},mD(t,e)};function Id(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");mD(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function lOe(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function l(h){try{f(r.next(h))}catch(g){a(g)}}function u(h){try{f(r.throw(h))}catch(g){a(g)}}function f(h){h.done?o(h.value):i(h.value).then(l,u)}f((r=r.apply(t,[])).next())})}function $J(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(f){return function(h){return u([f,h])}}function u(f){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=f[0]&2?i.return:f[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,f[1])).done)return o;switch(i=0,o&&(f=[f[0]&2,o.value]),f[0]){case 0:case 1:o=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!o||f[1]>o[0]&&f[1]<o[3])){n.label=f[1];break}if(f[0]===6&&n.label<o[1]){n.label=o[1],o=f;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(f);break}o[2]&&n.ops.pop(),n.trys.pop();continue}f=e.call(t,n)}catch(h){f=[6,h],i=0}finally{r=o=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}function ky(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ry(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(l){a={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o}function Oy(t,e,n){if(arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}function Gv(t){return this instanceof Gv?(this.v=t,this):new Gv(t)}function uOe(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(y){r[y]&&(i[y]=function(w){return new Promise(function(T,C){o.push([y,w,T,C])>1||l(y,w)})})}function l(y,w){try{u(r[y](w))}catch(T){g(o[0][3],T)}}function u(y){y.value instanceof Gv?Promise.resolve(y.value.v).then(f,h):g(o[0][2],y)}function f(y){l("next",y)}function h(y){l("throw",y)}function g(y,w){y(w),o.shift(),o.length&&l(o[0][0],o[0][1])}}function cOe(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof ky=="function"?ky(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(a){return new Promise(function(l,u){a=t[o](a),i(l,u,a.done,a.value)})}}function i(o,a,l,u){Promise.resolve(u).then(function(f){o({value:f,done:l})},a)}}function wa(t){return typeof t=="function"}function dV(t){var e=function(r){Error.call(r),r.stack=new Error().stack},n=t(e);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var hO=dV(function(t){return function(e){t(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(n,r){return r+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e}});function nA(t,e){if(t){var n=t.indexOf(e);0<=n&&t.splice(n,1)}}var mw=function(){function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var e,n,r,i,o;if(!this.closed){this.closed=!0;var a=this._parentage;if(a)if(this._parentage=null,Array.isArray(a))try{for(var l=ky(a),u=l.next();!u.done;u=l.next()){var f=u.value;f.remove(this)}}catch(C){e={error:C}}finally{try{u&&!u.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}else a.remove(this);var h=this.initialTeardown;if(wa(h))try{h()}catch(C){o=C instanceof hO?C.errors:[C]}var g=this._finalizers;if(g){this._finalizers=null;try{for(var y=ky(g),w=y.next();!w.done;w=y.next()){var T=w.value;try{oj(T)}catch(C){o=o??[],C instanceof hO?o=Oy(Oy([],Ry(o)),Ry(C.errors)):o.push(C)}}}catch(C){r={error:C}}finally{try{w&&!w.done&&(i=y.return)&&i.call(y)}finally{if(r)throw r.error}}}if(o)throw new hO(o)}},t.prototype.add=function(e){var n;if(e&&e!==this)if(this.closed)oj(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}},t.prototype._hasParent=function(e){var n=this._parentage;return n===e||Array.isArray(n)&&n.includes(e)},t.prototype._addParent=function(e){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e},t.prototype._removeParent=function(e){var n=this._parentage;n===e?this._parentage=null:Array.isArray(n)&&nA(n,e)},t.prototype.remove=function(e){var n=this._finalizers;n&&nA(n,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}(),HJ=mw.EMPTY;function jJ(t){return t instanceof mw||t&&"closed"in t&&wa(t.remove)&&wa(t.add)&&wa(t.unsubscribe)}function oj(t){wa(t)?t():t.unsubscribe()}var fOe={Promise:void 0},dOe={setTimeout:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout.apply(void 0,Oy([t,e],Ry(n)))},clearTimeout:function(t){return clearTimeout(t)},delegate:void 0};function zJ(t){dOe.setTimeout(function(){throw t})}function aj(){}function mT(t){t()}var hV=function(t){Id(e,t);function e(n){var r=t.call(this)||this;return r.isStopped=!1,n?(r.destination=n,jJ(n)&&n.add(r)):r.destination=mOe,r}return e.create=function(n,r,i){return new vE(n,r,i)},e.prototype.next=function(n){this.isStopped||this._next(n)},e.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(n){this.destination.next(n)},e.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(mw),hOe=function(){function t(e){this.partialObserver=e}return t.prototype.next=function(e){var n=this.partialObserver;if(n.next)try{n.next(e)}catch(r){gS(r)}},t.prototype.error=function(e){var n=this.partialObserver;if(n.error)try{n.error(e)}catch(r){gS(r)}else gS(e)},t.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(n){gS(n)}},t}(),vE=function(t){Id(e,t);function e(n,r,i){var o=t.call(this)||this,a;return wa(n)||!n?a={next:n??void 0,error:r??void 0,complete:i??void 0}:a=n,o.destination=new hOe(a),o}return e}(hV);function gS(t){zJ(t)}function pOe(t){throw t}var mOe={closed:!0,next:aj,error:pOe,complete:aj},pV=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function WJ(t){return t}function gOe(t){return t.length===0?WJ:t.length===1?t[0]:function(e){return t.reduce(function(n,r){return r(n)},e)}}var lc=function(){function t(e){e&&(this._subscribe=e)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(e,n,r){var i=this,o=yOe(e)?e:new vE(e,n,r);return mT(function(){var a=i,l=a.operator,u=a.source;o.add(l?l.call(o,u):u?i._subscribe(o):i._trySubscribe(o))}),o},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(n){e.error(n)}},t.prototype.forEach=function(e,n){var r=this;return n=sj(n),new n(function(i,o){var a=new vE({next:function(l){try{e(l)}catch(u){o(u),a.unsubscribe()}},error:o,complete:i});r.subscribe(a)})},t.prototype._subscribe=function(e){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(e)},t.prototype[pV]=function(){return this},t.prototype.pipe=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return gOe(e)(this)},t.prototype.toPromise=function(e){var n=this;return e=sj(e),new e(function(r,i){var o;n.subscribe(function(a){return o=a},function(a){return i(a)},function(){return r(o)})})},t.create=function(e){return new t(e)},t}();function sj(t){var e;return(e=t??fOe.Promise)!==null&&e!==void 0?e:Promise}function vOe(t){return t&&wa(t.next)&&wa(t.error)&&wa(t.complete)}function yOe(t){return t&&t instanceof hV||vOe(t)&&jJ(t)}function _Oe(t){return wa(t==null?void 0:t.lift)}function mV(t){return function(e){if(_Oe(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function qJ(t,e,n,r,i){return new bOe(t,e,n,r,i)}var bOe=function(t){Id(e,t);function e(n,r,i,o,a,l){var u=t.call(this,n)||this;return u.onFinalize=a,u.shouldUnsubscribe=l,u._next=r?function(f){try{r(f)}catch(h){n.error(h)}}:t.prototype._next,u._error=o?function(f){try{o(f)}catch(h){n.error(h)}finally{this.unsubscribe()}}:t.prototype._error,u._complete=i?function(){try{i()}catch(f){n.error(f)}finally{this.unsubscribe()}}:t.prototype._complete,u}return e.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;t.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},e}(hV),EOe=dV(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),i1=function(t){Id(e,t);function e(){var n=t.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return e.prototype.lift=function(n){var r=new lj(this,this);return r.operator=n,r},e.prototype._throwIfClosed=function(){if(this.closed)throw new EOe},e.prototype.next=function(n){var r=this;mT(function(){var i,o;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var a=ky(r.currentObservers),l=a.next();!l.done;l=a.next()){var u=l.value;u.next(n)}}catch(f){i={error:f}}finally{try{l&&!l.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}}})},e.prototype.error=function(n){var r=this;mT(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var i=r.observers;i.length;)i.shift().error(n)}})},e.prototype.complete=function(){var n=this;mT(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(n){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,n)},e.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},e.prototype._innerSubscribe=function(n){var r=this,i=this,o=i.hasError,a=i.isStopped,l=i.observers;return o||a?HJ:(this.currentObservers=null,l.push(n),new mw(function(){r.currentObservers=null,nA(l,n)}))},e.prototype._checkFinalizedStatuses=function(n){var r=this,i=r.hasError,o=r.thrownError,a=r.isStopped;i?n.error(o):a&&n.complete()},e.prototype.asObservable=function(){var n=new lc;return n.source=this,n},e.create=function(n,r){return new lj(n,r)},e}(lc),lj=function(t){Id(e,t);function e(n,r){var i=t.call(this)||this;return i.destination=n,i.source=r,i}return e.prototype.next=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.next)===null||i===void 0||i.call(r,n)},e.prototype.error=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.error)===null||i===void 0||i.call(r,n)},e.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},e.prototype._subscribe=function(n){var r,i;return(i=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&i!==void 0?i:HJ},e}(i1),gV={now:function(){return(gV.delegate||Date).now()},delegate:void 0},wOe=function(t){Id(e,t);function e(n,r,i){n===void 0&&(n=1/0),r===void 0&&(r=1/0),i===void 0&&(i=gV);var o=t.call(this)||this;return o._bufferSize=n,o._windowTime=r,o._timestampProvider=i,o._buffer=[],o._infiniteTimeWindow=!0,o._infiniteTimeWindow=r===1/0,o._bufferSize=Math.max(1,n),o._windowTime=Math.max(1,r),o}return e.prototype.next=function(n){var r=this,i=r.isStopped,o=r._buffer,a=r._infiniteTimeWindow,l=r._timestampProvider,u=r._windowTime;i||(o.push(n),!a&&o.push(l.now()+u)),this._trimBuffer(),t.prototype.next.call(this,n)},e.prototype._subscribe=function(n){this._throwIfClosed(),this._trimBuffer();for(var r=this._innerSubscribe(n),i=this,o=i._infiniteTimeWindow,a=i._buffer,l=a.slice(),u=0;u<l.length&&!n.closed;u+=o?1:2)n.next(l[u]);return this._checkFinalizedStatuses(n),r},e.prototype._trimBuffer=function(){var n=this,r=n._bufferSize,i=n._timestampProvider,o=n._buffer,a=n._infiniteTimeWindow,l=(a?1:2)*r;if(r<1/0&&l<o.length&&o.splice(0,o.length-l),!a){for(var u=i.now(),f=0,h=1;h<o.length&&o[h]<=u;h+=2)f=h;f&&o.splice(0,f+1)}},e}(i1),COe=function(t){Id(e,t);function e(n,r){return t.call(this)||this}return e.prototype.schedule=function(n,r){return this},e}(mw),gD={setInterval:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=gD.delegate;return i!=null&&i.setInterval?i.setInterval.apply(i,Oy([t,e],Ry(n))):setInterval.apply(void 0,Oy([t,e],Ry(n)))},clearInterval:function(t){return clearInterval(t)},delegate:void 0},SOe=function(t){Id(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.scheduler=n,i.work=r,i.pending=!1,i}return e.prototype.schedule=function(n,r){if(r===void 0&&(r=0),this.closed)return this;this.state=n;var i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,r)),this.pending=!0,this.delay=r,this.id=this.id||this.requestAsyncId(o,this.id,r),this},e.prototype.requestAsyncId=function(n,r,i){return i===void 0&&(i=0),gD.setInterval(n.flush.bind(n,this),i)},e.prototype.recycleAsyncId=function(n,r,i){if(i===void 0&&(i=0),i!=null&&this.delay===i&&this.pending===!1)return r;gD.clearInterval(r)},e.prototype.execute=function(n,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(n,r);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(n,r){var i=!1,o;try{this.work(n)}catch(a){i=!0,o=a||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),o},e.prototype.unsubscribe=function(){if(!this.closed){var n=this,r=n.id,i=n.scheduler,o=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,nA(o,this),r!=null&&(this.id=this.recycleAsyncId(i,r,null)),this.delay=null,t.prototype.unsubscribe.call(this)}},e}(COe),uj=function(){function t(e,n){n===void 0&&(n=t.now),this.schedulerActionCtor=e,this.now=n}return t.prototype.schedule=function(e,n,r){return n===void 0&&(n=0),new this.schedulerActionCtor(this,e).schedule(r,n)},t.now=gV.now,t}(),TOe=function(t){Id(e,t);function e(n,r){r===void 0&&(r=uj.now);var i=t.call(this,n,r)||this;return i.actions=[],i._active=!1,i._scheduled=void 0,i}return e.prototype.flush=function(n){var r=this.actions;if(this._active){r.push(n);return}var i;this._active=!0;do if(i=n.execute(n.state,n.delay))break;while(n=r.shift());if(this._active=!1,i){for(;n=r.shift();)n.unsubscribe();throw i}},e}(uj);new TOe(SOe);var xOe=new lc(function(t){return t.complete()});function AOe(t){return t?IOe(t):xOe}function IOe(t){return new lc(function(e){return t.schedule(function(){return e.complete()})})}var kOe=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function ROe(t){return wa(t==null?void 0:t.then)}function OOe(t){return wa(t[pV])}function POe(t){return Symbol.asyncIterator&&wa(t==null?void 0:t[Symbol.asyncIterator])}function NOe(t){return new TypeError("You provided "+(t!==null&&typeof t=="object"?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function LOe(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var DOe=LOe();function MOe(t){return wa(t==null?void 0:t[DOe])}function FOe(t){return uOe(this,arguments,function(){var e,n,r,i;return $J(this,function(o){switch(o.label){case 0:e=t.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,Gv(e.read())];case 3:return n=o.sent(),r=n.value,i=n.done,i?[4,Gv(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,Gv(r)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return e.releaseLock(),[7];case 10:return[2]}})})}function UOe(t){return wa(t==null?void 0:t.getReader)}function KJ(t){if(t instanceof lc)return t;if(t!=null){if(OOe(t))return VOe(t);if(kOe(t))return BOe(t);if(ROe(t))return $Oe(t);if(POe(t))return GJ(t);if(MOe(t))return HOe(t);if(UOe(t))return jOe(t)}throw NOe(t)}function VOe(t){return new lc(function(e){var n=t[pV]();if(wa(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function BOe(t){return new lc(function(e){for(var n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function $Oe(t){return new lc(function(e){t.then(function(n){e.closed||(e.next(n),e.complete())},function(n){return e.error(n)}).then(null,zJ)})}function HOe(t){return new lc(function(e){var n,r;try{for(var i=ky(t),o=i.next();!o.done;o=i.next()){var a=o.value;if(e.next(a),e.closed)return}}catch(l){n={error:l}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}e.complete()})}function GJ(t){return new lc(function(e){zOe(t,e).catch(function(n){return e.error(n)})})}function jOe(t){return GJ(FOe(t))}function zOe(t,e){var n,r,i,o;return lOe(this,void 0,void 0,function(){var a,l;return $J(this,function(u){switch(u.label){case 0:u.trys.push([0,5,6,11]),n=cOe(t),u.label=1;case 1:return[4,n.next()];case 2:if(r=u.sent(),!!r.done)return[3,4];if(a=r.value,e.next(a),e.closed)return[2];u.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return l=u.sent(),i={error:l},[3,11];case 6:return u.trys.push([6,,9,10]),r&&!r.done&&(o=n.return)?[4,o.call(n)]:[3,8];case 7:u.sent(),u.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}dV(function(t){return function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}});function YJ(t){return mV(function(e,n){var r=null,i=!1,o;r=e.subscribe(qJ(n,void 0,void 0,function(a){o=KJ(t(a,YJ(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function WOe(t){t===void 0&&(t={});var e=t.connector,n=e===void 0?function(){return new i1}:e,r=t.resetOnError,i=r===void 0?!0:r,o=t.resetOnComplete,a=o===void 0?!0:o,l=t.resetOnRefCountZero,u=l===void 0?!0:l;return function(f){var h,g,y,w=0,T=!1,C=!1,R=function(){g==null||g.unsubscribe(),g=void 0},I=function(){R(),h=y=void 0,T=C=!1},k=function(){var O=h;I(),O==null||O.unsubscribe()};return mV(function(O,A){w++,!C&&!T&&R();var V=y=y??n();A.add(function(){w--,w===0&&!C&&!T&&(g=pO(k,u))}),V.subscribe(A),!h&&w>0&&(h=new vE({next:function(D){return V.next(D)},error:function(D){C=!0,R(),g=pO(I,i,D),V.error(D)},complete:function(){T=!0,R(),g=pO(I,a),V.complete()}}),KJ(O).subscribe(h))})(f)}}function pO(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(e===!0){t();return}if(e!==!1){var i=new vE({next:function(){i.unsubscribe(),t()}});return e.apply(void 0,Oy([],Ry(n))).subscribe(i)}}function qOe(t,e,n){var r,i=!1;return r=t,WOe({connector:function(){return new wOe(r,e,n)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function KOe(t,e,n){var r=wa(t)||e||n?{next:t,error:e,complete:n}:t;return r?mV(function(i,o){var a;(a=r.subscribe)===null||a===void 0||a.call(r);var l=!0;i.subscribe(qJ(o,function(u){var f;(f=r.next)===null||f===void 0||f.call(r,u),o.next(u)},function(){var u;l=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},function(u){var f;l=!1,(f=r.error)===null||f===void 0||f.call(r,u),o.error(u)},function(){var u,f;l&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(f=r.finalize)===null||f===void 0||f.call(r)}))}):WJ}const GOe="[DEFAULT]",QJ=B.createContext(void 0),XJ=B.createContext(!1),YOe="4.2.3",QOe=(t,e)=>t===e||[...Object.keys(t),...Object.keys(e)].every(n=>t[n]===e[n]);function vV(t){const{firebaseConfig:e,appName:n,suspense:r}=t,i=B.useMemo(()=>{if(t.firebaseApp)return t.firebaseApp;const o=eEe().find(a=>a.name===(n||GOe));if(o){if(e&&QOe(o.options,e))return o;throw new Error(`Does not match the options already provided to the ${n||"default"} firebase app instance, give this new instance a different appName.`)}else{if(!e)throw new Error("No firebaseConfig provided");const a=B.version||"unknown";return Eo("react",a),Eo("reactfire",YOe),I2(e,n)}},[t.firebaseApp,e,n]);return B.createElement(QJ.Provider,{value:i},B.createElement(XJ.Provider,Object.assign({value:r??!1},t)))}function XOe(t){let e=B.useContext(XJ);return t!==void 0?t:e}function JJ(){const t=B.useContext(QJ);if(!t)throw new Error("Cannot call useFirebaseApp unless your component is within a FirebaseAppProvider");return t}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yp,sm;(function(t){t.added="child_added",t.removed="child_removed",t.changed="child_changed",t.moved="child_moved",t.value="value"})(sm||(sm={}));Object.freeze((Yp={},Yp[sm.added]=mSe,Yp[sm.removed]=ySe,Yp[sm.changed]=gSe,Yp[sm.moved]=vSe,Yp[sm.value]=JY,Yp));const JOe=globalThis._reactFireDatabaseCachedQueries||[];globalThis._reactFireDatabaseCachedQueries||(globalThis._reactFireDatabaseCachedQueries=JOe);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ZOe={includeMetadataChanges:!1};function ZJ(t,e){return e===void 0&&(e=ZOe),new lc(function(n){var r=A1e(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ePe(t){return ZJ(t,{includeMetadataChanges:!0})}class tPe extends i1{constructor(e,n){super(),this._timeoutWindow=n,this._hasValue=!1,this._error=void 0,this._firstEmission=new Promise(r=>this._resolveFirstEmission=r),this._innerObservable=e.pipe(KOe({next:r=>{this._next(r)},error:r=>{this._error=r,this._resolveFirstEmission()}}),YJ(()=>AOe()),qOe(1)),this._warmupSubscription=this._innerObservable.subscribe(),this._timeoutHandler=setTimeout(this._reset.bind(this),this._timeoutWindow)}get hasValue(){return this._hasValue||!!this._error}get value(){if(this._error)throw this._error;if(!this.hasValue)throw Error("Can only get value if SuspenseSubject has a value");return this._value}get firstEmission(){return this._firstEmission}_next(e){this._hasValue=!0,this._value=e,this._resolveFirstEmission()}_reset(){this._warmupSubscription&&this._warmupSubscription.unsubscribe(),this._hasValue=!1,this._value=void 0,this._error=void 0,this._firstEmission=new Promise(e=>this._resolveFirstEmission=e)}_subscribe(e){return this._timeoutHandler&&clearTimeout(this._timeoutHandler),this._innerSubscriber=this._innerObservable.subscribe(e),this._innerSubscriber}get ourError(){return this._error}}const nPe=3e4,gT=globalThis._reactFirePreloadedObservables||new Map;globalThis._reactFirePreloadedObservables||(globalThis._reactFirePreloadedObservables=gT);function rPe(t,e){if(gT.has(e))return gT.get(e);{const n=new tPe(t,nPe);return gT.set(e,n),n}}function iPe(t){return function(e,n){const r=Object.assign(Object.assign({},e),{hasEmitted:e.hasEmitted||t.hasValue,error:t.ourError,firstValuePromise:t.firstEmission});switch(t.hasValue&&(r.data=t.value),n){case"value":return r.status="success",r;case"error":return r.status="error",r;case"complete":return r.isComplete=!0,r;default:throw new Error(`invalid action "${n}"`)}}}function eZ(t,e,n={}){var r;if(!t)throw new Error("cannot call useObservable without an observableId");const i=rPe(e,t),o=n.hasOwnProperty("initialData")||n.hasOwnProperty("startWithValue"),a=i.hasValue||o;if(XOe(n.suspense)===!0&&!a)throw i.firstEmission;const l={status:a?"success":"loading",hasEmitted:a,isComplete:!1,data:i.hasValue?i.value:(r=n==null?void 0:n.initialData)!==null&&r!==void 0?r:n==null?void 0:n.startWithValue,error:i.ourError,firstValuePromise:i.firstEmission},[u,f]=B.useReducer(iPe(i),l);return B.useEffect(()=>{const h=i.subscribe({next:()=>{f("value")},error:g=>{throw f("error"),g},complete:()=>{f("complete")}});return()=>h.unsubscribe()},[i]),u}const vD=globalThis._reactFireFirestoreQueryCache||[];globalThis._reactFireFirestoreQueryCache||(globalThis._reactFireFirestoreQueryCache=vD);function oPe(t){const e=vD.findIndex(n=>s1e(n,t));return e>-1?e:vD.push(t)-1}function aPe(t){return`firestore:doc:${t.firestore.app.name}:${t.path}`}function sPe(t,e){const n=aPe(t),r=ePe(t);return eZ(n,r,e)}function lPe(t,e){const n=`firestore:collection:${oPe(t)}`,r=ZJ(t);return eZ(n,r,e)}B.createContext(void 0);B.createContext(void 0);B.createContext(void 0);const tZ=B.createContext(void 0),nZ=B.createContext(void 0);B.createContext(void 0);const rZ=B.createContext(void 0);B.createContext(void 0);B.createContext(void 0);function yV(t){return function(e){var n,r;if(!e.sdk)throw new Error("no sdk provided");const i=JJ().name;if(((r=(n=e==null?void 0:e.sdk)===null||n===void 0?void 0:n.app)===null||r===void 0?void 0:r.name)!==i)throw new Error("sdk was initialized with a different firebase app");return B.createElement(t.Provider,Object.assign({value:e.sdk},e))}}function _V(t){const e=B.useContext(t);if(!e)throw new Error("SDK not found. useSdk must be called from within a provider");return e}const uPe=yV(tZ),cPe=yV(nZ),fPe=yV(rZ),dPe=()=>_V(tZ),gw=()=>_V(nZ),iZ=()=>_V(rZ);function hPe(t,e){return t.key===e||t.code===e||t.keyCode===e||t.which===e||t.charCode===e}const pPe={when:!0,eventTypes:["keydown"]};function mPe(t,e,n){const r=B.useMemo(()=>Array.isArray(t)?t:[t],[t]),i=Object.assign({},pPe,n),{when:o,eventTypes:a}=i,l=B.useRef(e);let{target:u}=i;B.useEffect(()=>{l.current=e});const f=B.useCallback(h=>{r.some(g=>hPe(h,g))&&l.current(h)},[r]);B.useEffect(()=>{if(o&&typeof window<"u"){const h=u?u.current:window;return a.forEach(g=>{h&&h.addEventListener(g,f)}),()=>{a.forEach(g=>{h&&h.removeEventListener(g,f)})}}},[o,a,r,u,e])}const gPe=[],vPe=({base:t,path:e,onEdit:n,children:r,homeElement:i=b(bn,{icon:"home"})})=>{const o=e.startsWith("/")?e.slice(1):e,a=o?o.split("/"):gPe,l=a.reduce((u,f)=>{const h=u.length?u[u.length-1]:t;return u.push(`${h}/${f}`),u},[]);return ne("ul",{role:"navigation",className:"BreadCrumbs",children:[b("li",{className:"BreadCrumbs-crumb BreadCrumbs-homeCrumb",children:b(du,{to:t,children:b(Ue,{use:"body2",theme:"secondary",children:b(Rt,{children:i})})})}),a.map((u,f)=>b("li",{className:Lr("BreadCrumbs-crumb","BreadCrumbs-link",{"BreadCrumbs-active":f===a.length-1}),children:b(du,{to:l[f],children:decodeURIComponent(u)})},l[f])),b("li",{className:"BreadCrumbs-edit","aria-label":"Edit URL",onClick:()=>n&&n(),children:b(bn,{icon:"edit",label:"edit"})}),b("li",{children:r})]})},bV=({onNavigate:t,children:e,inputPrefix:n,path:r,...i})=>{const[o,a]=B.useState(!1),[l,u]=B.useState(r);B.useEffect(()=>u(r),[r]);const f=w=>{w.preventDefault();const T=l.startsWith("/")?l.slice(1):l;t(T),a(!1)},h=()=>{a(!0)},g=()=>{a(!1),u(r)},y=B.useRef(null);return mPe(["Escape"],g,{eventTypes:["keypress","keydown","keyup"],target:y,when:!0}),B.useLayoutEffect(()=>{y.current&&y.current.select()},[o,y]),b("div",{className:"InteractiveBreadCrumbBar",children:o?b(hu,{z:1,wrap:!0,children:ne("form",{className:"InteractiveBreadCrumbBar-form",onSubmit:f,children:[n&&b(Ue,{use:"body2",className:"InteractiveBreadCrumbBar-prefix",theme:"secondary",children:n}),b(VE,{"aria-label":"Document path",fullwidth:!0,className:"value",type:"text",onBlur:g,value:l,onChange:w=>u(w.currentTarget.value),inputRef:y}),b(bn,{label:"Cancel",type:"button",icon:"close",onClick:g,theme:"secondary"})]})}):b(jE,{className:"top",children:b(vPe,{path:r,...i,onEdit:h,children:e})})})};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var yD=function(t,e){return yD=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},yD(t,e)};function yPe(t,e){yD(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var _D=function(){return _D=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},_D.apply(this,arguments)};/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var wb={ANIM_CHECKED_INDETERMINATE:"mdc-checkbox--anim-checked-indeterminate",ANIM_CHECKED_UNCHECKED:"mdc-checkbox--anim-checked-unchecked",ANIM_INDETERMINATE_CHECKED:"mdc-checkbox--anim-indeterminate-checked",ANIM_INDETERMINATE_UNCHECKED:"mdc-checkbox--anim-indeterminate-unchecked",ANIM_UNCHECKED_CHECKED:"mdc-checkbox--anim-unchecked-checked",ANIM_UNCHECKED_INDETERMINATE:"mdc-checkbox--anim-unchecked-indeterminate",BACKGROUND:"mdc-checkbox__background",CHECKED:"mdc-checkbox--checked",CHECKMARK:"mdc-checkbox__checkmark",CHECKMARK_PATH:"mdc-checkbox__checkmark-path",DISABLED:"mdc-checkbox--disabled",INDETERMINATE:"mdc-checkbox--indeterminate",MIXEDMARK:"mdc-checkbox__mixedmark",NATIVE_CONTROL:"mdc-checkbox__native-control",ROOT:"mdc-checkbox",SELECTED:"mdc-checkbox--selected",UPGRADED:"mdc-checkbox--upgraded"},Jl={ARIA_CHECKED_ATTR:"aria-checked",ARIA_CHECKED_INDETERMINATE_VALUE:"mixed",NATIVE_CONTROL_SELECTOR:".mdc-checkbox__native-control",TRANSITION_STATE_CHECKED:"checked",TRANSITION_STATE_INDETERMINATE:"indeterminate",TRANSITION_STATE_INIT:"init",TRANSITION_STATE_UNCHECKED:"unchecked"},cj={ANIM_END_LATCH_MS:250};/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var oZ=function(t){yPe(e,t);function e(n){var r=t.call(this,_D({},e.defaultAdapter,n))||this;return r.currentCheckState_=Jl.TRANSITION_STATE_INIT,r.currentAnimationClass_="",r.animEndLatchTimer_=0,r.enableAnimationEndHandler_=!1,r}return Object.defineProperty(e,"cssClasses",{get:function(){return wb},enumerable:!0,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return Jl},enumerable:!0,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return cj},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},forceLayout:function(){},hasNativeControl:function(){return!1},isAttachedToDOM:function(){return!1},isChecked:function(){return!1},isIndeterminate:function(){return!1},removeClass:function(){},removeNativeControlAttr:function(){},setNativeControlAttr:function(){},setNativeControlDisabled:function(){}}},enumerable:!0,configurable:!0}),e.prototype.init=function(){this.currentCheckState_=this.determineCheckState_(),this.updateAriaChecked_(),this.adapter_.addClass(wb.UPGRADED)},e.prototype.destroy=function(){clearTimeout(this.animEndLatchTimer_)},e.prototype.setDisabled=function(n){this.adapter_.setNativeControlDisabled(n),n?this.adapter_.addClass(wb.DISABLED):this.adapter_.removeClass(wb.DISABLED)},e.prototype.handleAnimationEnd=function(){var n=this;this.enableAnimationEndHandler_&&(clearTimeout(this.animEndLatchTimer_),this.animEndLatchTimer_=setTimeout(function(){n.adapter_.removeClass(n.currentAnimationClass_),n.enableAnimationEndHandler_=!1},cj.ANIM_END_LATCH_MS))},e.prototype.handleChange=function(){this.transitionCheckState_()},e.prototype.transitionCheckState_=function(){if(this.adapter_.hasNativeControl()){var n=this.currentCheckState_,r=this.determineCheckState_();if(n!==r){this.updateAriaChecked_();var i=Jl.TRANSITION_STATE_UNCHECKED,o=wb.SELECTED;r===i?this.adapter_.removeClass(o):this.adapter_.addClass(o),this.currentAnimationClass_.length>0&&(clearTimeout(this.animEndLatchTimer_),this.adapter_.forceLayout(),this.adapter_.removeClass(this.currentAnimationClass_)),this.currentAnimationClass_=this.getTransitionAnimationClass_(n,r),this.currentCheckState_=r,this.adapter_.isAttachedToDOM()&&this.currentAnimationClass_.length>0&&(this.adapter_.addClass(this.currentAnimationClass_),this.enableAnimationEndHandler_=!0)}}},e.prototype.determineCheckState_=function(){var n=Jl.TRANSITION_STATE_INDETERMINATE,r=Jl.TRANSITION_STATE_CHECKED,i=Jl.TRANSITION_STATE_UNCHECKED;return this.adapter_.isIndeterminate()?n:this.adapter_.isChecked()?r:i},e.prototype.getTransitionAnimationClass_=function(n,r){var i=Jl.TRANSITION_STATE_INIT,o=Jl.TRANSITION_STATE_CHECKED,a=Jl.TRANSITION_STATE_UNCHECKED,l=e.cssClasses,u=l.ANIM_UNCHECKED_CHECKED,f=l.ANIM_UNCHECKED_INDETERMINATE,h=l.ANIM_CHECKED_UNCHECKED,g=l.ANIM_CHECKED_INDETERMINATE,y=l.ANIM_INDETERMINATE_CHECKED,w=l.ANIM_INDETERMINATE_UNCHECKED;switch(n){case i:return r===a?"":r===o?y:w;case a:return r===o?u:f;case o:return r===a?h:g;default:return r===o?y:w}},e.prototype.updateAriaChecked_=function(){this.adapter_.isIndeterminate()?this.adapter_.setNativeControlAttr(Jl.ARIA_CHECKED_ATTR,Jl.ARIA_CHECKED_INDETERMINATE_VALUE):this.adapter_.removeNativeControlAttr(Jl.ARIA_CHECKED_ATTR)},e}(ui),_Pe=function(t){var e=h2(t),n=e.renderToggle,r=e.toggleRootProps,i=e.id,o=li({props:t,elements:{rootEl:!0,checkboxEl:!0},foundation:function(w){var T=w.rootEl,C=w.checkboxEl,R=w.getProps;return new oZ({addClass:function(I){return T.addClass(I)},removeClass:function(I){return T.removeClass(I)},setNativeControlAttr:function(I,k){return C.setProp(I,k)},removeNativeControlAttr:function(I){return C.removeProp(I)},isIndeterminate:function(){return!!R().indeterminate},isChecked:function(){var I;return R().checked!==void 0?!!R().checked:!!(!((I=C.ref)===null||I===void 0)&&I.checked)},hasNativeControl:function(){return!!C.ref},setNativeControlDisabled:function(I){return C.setProp("disabled",I)},forceLayout:function(){var I;return(I=T.ref)===null||I===void 0?void 0:I.offsetWidth},isAttachedToDOM:function(){return!0}})}}),a=o.foundation,l=Ke(o,["foundation"]),u=l.rootEl,f=l.checkboxEl,h=B.useCallback(function(){f.ref&&(f.ref.indeterminate=!!t.indeterminate),window.requestAnimationFrame(function(){a.handleChange()})},[t.indeterminate,a,f.ref]);B.useEffect(function(){h()},[h]);var g=function(w){var T;(T=t.onAnimationEnd)===null||T===void 0||T.call(t,w),a.handleAnimationEnd()},y=function(w){var T;(T=t.onChange)===null||T===void 0||T.call(t,w),h()};return u.setProp("onAnimationEnd",g,!0),f.setProp("onChange",y,!0),ae({foundation:a,renderToggle:n,toggleRootProps:r,id:i},l)};oZ.prototype.installPropertyChangeHooks_=function(){};var vw=ht(function(e,n){var r=_Pe(e),i=r.renderToggle,o=r.id,a=r.toggleRootProps,l=r.rootEl,u=r.checkboxEl;e.children,e.className,e.label,e.style;var f=e.indeterminate,h=e.inputRef;e.foundationRef;var g=Ke(e,["children","className","label","style","indeterminate","inputRef","foundationRef"]),y=ne(bPe,{...ae({},l.props(ae({checked:g.checked,indeterminate:f},a)),{ref:iy(l.setRef,n)}),children:[b("input",{...ae({},u.props(ae(ae({},g),{className:"mdc-checkbox__native-control"})),{type:"checkbox",ref:iy(u.setRef,h),id:o})}),b(wPe,{}),b(EPe,{})]});return i(y)}),bPe=cc({surface:!1,unbounded:!0})(Y.forwardRef(function(e,n){var r=B.useContext(x5),i=B.useContext(kM),o=e.disabled,a=e.checked,l=e.indeterminate,u=Ke(e,["disabled","checked","indeterminate"]),f=St(e,["mdc-checkbox",{"mdc-data-table__row-checkbox":r&&!i,"mdc-data-table__header-row-checkbox":i,"mdc-checkbox--disabled":o,"mdc-checkbox--selected":a||l}]);return b(kt,{...ae({},u,{className:f,ref:n})})})),EPe=Y.memo(function(){return b("div",{className:"mdc-checkbox__ripple"})}),wPe=Y.memo(function(){return ne("div",{className:"mdc-checkbox__background",children:[b("svg",{className:"mdc-checkbox__checkmark",viewBox:"0 0 24 24",children:b("path",{className:"mdc-checkbox__checkmark-path",fill:"none",stroke:"white",d:"M1.73,12.91 8.1,19.28 22.79,4.59"})}),b("div",{className:"mdc-checkbox__mixedmark"})]})});const CPe="Drop file(s) here",SPe="File type is not accepted",TPe=({label:t,tip:e,error:n,onFiles:r,value:i,accept:o})=>{const[a]=B.useState(uu()),{isDragActive:l,getRootProps:u,getInputProps:f,isDragReject:h}=Zy({onDrop:r,accept:o});return ne("div",{className:"Field",children:[b(Ue,{className:"Field-label",use:"body2",theme:"secondary",tag:"label",htmlFor:a,children:t}),ne("div",{className:"Field-filename",...u(),"data-testid":"dropzone",children:[b("input",{...f({id:a})}),b(Ue,{use:"body2",theme:"secondary",children:l?h?SPe:CPe:i}),b(fr,{type:"button",children:"Browse"})]}),b("div",{className:"Field-subtext",children:n?b(Ue,{className:"Field-tip",use:"body2",theme:"error",role:"alert",children:n}):e&&b(Ue,{className:"Field-tip",use:"body2",theme:"secondary",children:e})})]})},aZ=B.createContext(""),xPe=({namespace:t,children:e})=>b(aZ.Provider,{value:t,children:e});function EV(){return B.useContext(aZ)}function APe(t){let n=new URL(t.toString()).pathname.replace(/^\//,"").replace(/\/$/,"");return n!==""&&(n=n+"/"),n+=".upload",n}function IPe(t,e,n={}){const r=EV(),i=za("database"),o=APe(t),a=new URLSearchParams({ns:r,access_token:"owner",writeSizeLimit:"unlimited"});n.disableTriggers&&a.set("disableTriggers","true");const l=`${o}?${a.toString()}`,u=new FormData;return e&&u.append("myFile",e),()=>Do(`//${i.hostAndPort}/${l}`,{method:"POST",body:u})}const kPe="_container_1ffk4_16",RPe={container:kPe},OPe=({reference:t,onComplete:e,droppedFile:n})=>{const r=!!jy().functions,[i,o]=B.useState(n),[a,l]=B.useState(!1),[u,f]=B.useState(!1),h=IPe(t,i,{disableTriggers:!r||!a}),[g,y]=B.useState(),w=async C=>{if(C.preventDefault(),i){try{f(!0),await h(),e(t,i)}catch(R){y(R.message)}f(!1)}},T=new URL(t.toString()).pathname;return ne(hc,{renderToPortal:!0,open:!0,onClose:()=>e(),children:[ne("form",{onSubmit:w,className:RPe.container,children:[b(pc,{children:"Import JSON"}),ne(mc,{onSubmit:w,children:[b(ji,{aside:!0,type:"warning",children:"All data at this location will be overwritten"}),b(ar,{disabled:!0,name:"location",label:"Data location",value:T,type:"text"}),b(TPe,{name:"file",accept:{"application/json":[".json"]},label:"Data (JSON)",required:!0,value:(i==null?void 0:i.name)||"Drop a file, or click to select",onFiles:C=>o(C[0]),error:g}),r&&b("div",{children:b(vw,{label:"Also execute database triggers in the Functions emulator",checked:a,onChange:C=>{l(C.currentTarget.checked)}})})]}),ne(Ef,{children:[b($n,{action:"close",type:"button",theme:"secondary",children:"Cancel"}),b($n,{type:"submit",unelevated:!0,children:"Import"})]})]}),u&&b(ja,{cover:!0,scrim:!0,message:"Importing..."})]})};function wo(t){return typeof t=="function"}function sZ(t){var e=function(r){Error.call(r),r.stack=new Error().stack},n=t(e);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var mO=sZ(function(t){return function(n){t(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,i){return i+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function bD(t,e){if(t){var n=t.indexOf(e);0<=n&&t.splice(n,1)}}var o1=function(){function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var e,n,r,i,o;if(!this.closed){this.closed=!0;var a=this._parentage;if(a)if(this._parentage=null,Array.isArray(a))try{for(var l=Om(a),u=l.next();!u.done;u=l.next()){var f=u.value;f.remove(this)}}catch(C){e={error:C}}finally{try{u&&!u.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}else a.remove(this);var h=this.initialTeardown;if(wo(h))try{h()}catch(C){o=C instanceof mO?C.errors:[C]}var g=this._finalizers;if(g){this._finalizers=null;try{for(var y=Om(g),w=y.next();!w.done;w=y.next()){var T=w.value;try{fj(T)}catch(C){o=o??[],C instanceof mO?o=ea(ea([],_n(o)),_n(C.errors)):o.push(C)}}}catch(C){r={error:C}}finally{try{w&&!w.done&&(i=y.return)&&i.call(y)}finally{if(r)throw r.error}}}if(o)throw new mO(o)}},t.prototype.add=function(e){var n;if(e&&e!==this)if(this.closed)fj(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}},t.prototype._hasParent=function(e){var n=this._parentage;return n===e||Array.isArray(n)&&n.includes(e)},t.prototype._addParent=function(e){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e},t.prototype._removeParent=function(e){var n=this._parentage;n===e?this._parentage=null:Array.isArray(n)&&bD(n,e)},t.prototype.remove=function(e){var n=this._finalizers;n&&bD(n,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}(),lZ=o1.EMPTY;function uZ(t){return t instanceof o1||t&&"closed"in t&&wo(t.remove)&&wo(t.add)&&wo(t.unsubscribe)}function fj(t){wo(t)?t():t.unsubscribe()}var PPe={Promise:void 0},NPe={setTimeout:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout.apply(void 0,ea([t,e],_n(n)))},clearTimeout:function(t){return clearTimeout(t)},delegate:void 0};function cZ(t){NPe.setTimeout(function(){throw t})}function dj(){}function vT(t){t()}var wV=function(t){xd(e,t);function e(n){var r=t.call(this)||this;return r.isStopped=!1,n?(r.destination=n,uZ(n)&&n.add(r)):r.destination=MPe,r}return e.create=function(n,r,i){return new yE(n,r,i)},e.prototype.next=function(n){this.isStopped||this._next(n)},e.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(n){this.destination.next(n)},e.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(o1),LPe=function(){function t(e){this.partialObserver=e}return t.prototype.next=function(e){var n=this.partialObserver;if(n.next)try{n.next(e)}catch(r){vS(r)}},t.prototype.error=function(e){var n=this.partialObserver;if(n.error)try{n.error(e)}catch(r){vS(r)}else vS(e)},t.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(n){vS(n)}},t}(),yE=function(t){xd(e,t);function e(n,r,i){var o=t.call(this)||this,a;return wo(n)||!n?a={next:n??void 0,error:r??void 0,complete:i??void 0}:a=n,o.destination=new LPe(a),o}return e}(wV);function vS(t){cZ(t)}function DPe(t){throw t}var MPe={closed:!0,next:dj,error:DPe,complete:dj},CV=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function FPe(t){return t}function UPe(t){return t.length===0?FPe:t.length===1?t[0]:function(n){return t.reduce(function(r,i){return i(r)},n)}}var Ol=function(){function t(e){e&&(this._subscribe=e)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(e,n,r){var i=this,o=BPe(e)?e:new yE(e,n,r);return vT(function(){var a=i,l=a.operator,u=a.source;o.add(l?l.call(o,u):u?i._subscribe(o):i._trySubscribe(o))}),o},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(n){e.error(n)}},t.prototype.forEach=function(e,n){var r=this;return n=hj(n),new n(function(i,o){var a=new yE({next:function(l){try{e(l)}catch(u){o(u),a.unsubscribe()}},error:o,complete:i});r.subscribe(a)})},t.prototype._subscribe=function(e){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(e)},t.prototype[CV]=function(){return this},t.prototype.pipe=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return UPe(e)(this)},t.prototype.toPromise=function(e){var n=this;return e=hj(e),new e(function(r,i){var o;n.subscribe(function(a){return o=a},function(a){return i(a)},function(){return r(o)})})},t.create=function(e){return new t(e)},t}();function hj(t){var e;return(e=t??PPe.Promise)!==null&&e!==void 0?e:Promise}function VPe(t){return t&&wo(t.next)&&wo(t.error)&&wo(t.complete)}function BPe(t){return t&&t instanceof wV||VPe(t)&&uZ(t)}function $Pe(t){return wo(t==null?void 0:t.lift)}function mg(t){return function(e){if($Pe(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ym(t,e,n,r,i){return new HPe(t,e,n,r,i)}var HPe=function(t){xd(e,t);function e(n,r,i,o,a,l){var u=t.call(this,n)||this;return u.onFinalize=a,u.shouldUnsubscribe=l,u._next=r?function(f){try{r(f)}catch(h){n.error(h)}}:t.prototype._next,u._error=o?function(f){try{o(f)}catch(h){n.error(h)}finally{this.unsubscribe()}}:t.prototype._error,u._complete=i?function(){try{i()}catch(f){n.error(f)}finally{this.unsubscribe()}}:t.prototype._complete,u}return e.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;t.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},e}(wV),jPe=sZ(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),SV=function(t){xd(e,t);function e(){var n=t.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return e.prototype.lift=function(n){var r=new pj(this,this);return r.operator=n,r},e.prototype._throwIfClosed=function(){if(this.closed)throw new jPe},e.prototype.next=function(n){var r=this;vT(function(){var i,o;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var a=Om(r.currentObservers),l=a.next();!l.done;l=a.next()){var u=l.value;u.next(n)}}catch(f){i={error:f}}finally{try{l&&!l.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}}})},e.prototype.error=function(n){var r=this;vT(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var i=r.observers;i.length;)i.shift().error(n)}})},e.prototype.complete=function(){var n=this;vT(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(n){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,n)},e.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},e.prototype._innerSubscribe=function(n){var r=this,i=this,o=i.hasError,a=i.isStopped,l=i.observers;return o||a?lZ:(this.currentObservers=null,l.push(n),new o1(function(){r.currentObservers=null,bD(l,n)}))},e.prototype._checkFinalizedStatuses=function(n){var r=this,i=r.hasError,o=r.thrownError,a=r.isStopped;i?n.error(o):a&&n.complete()},e.prototype.asObservable=function(){var n=new Ol;return n.source=this,n},e.create=function(n,r){return new pj(n,r)},e}(Ol),pj=function(t){xd(e,t);function e(n,r){var i=t.call(this)||this;return i.destination=n,i.source=r,i}return e.prototype.next=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.next)===null||i===void 0||i.call(r,n)},e.prototype.error=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.error)===null||i===void 0||i.call(r,n)},e.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},e.prototype._subscribe=function(n){var r,i;return(i=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&i!==void 0?i:lZ},e}(SV),fZ={now:function(){return(fZ.delegate||Date).now()},delegate:void 0},dZ=function(t){xd(e,t);function e(n,r,i){n===void 0&&(n=1/0),r===void 0&&(r=1/0),i===void 0&&(i=fZ);var o=t.call(this)||this;return o._bufferSize=n,o._windowTime=r,o._timestampProvider=i,o._buffer=[],o._infiniteTimeWindow=!0,o._infiniteTimeWindow=r===1/0,o._bufferSize=Math.max(1,n),o._windowTime=Math.max(1,r),o}return e.prototype.next=function(n){var r=this,i=r.isStopped,o=r._buffer,a=r._infiniteTimeWindow,l=r._timestampProvider,u=r._windowTime;i||(o.push(n),!a&&o.push(l.now()+u)),this._trimBuffer(),t.prototype.next.call(this,n)},e.prototype._subscribe=function(n){this._throwIfClosed(),this._trimBuffer();for(var r=this._innerSubscribe(n),i=this,o=i._infiniteTimeWindow,a=i._buffer,l=a.slice(),u=0;u<l.length&&!n.closed;u+=o?1:2)n.next(l[u]);return this._checkFinalizedStatuses(n),r},e.prototype._trimBuffer=function(){var n=this,r=n._bufferSize,i=n._timestampProvider,o=n._buffer,a=n._infiniteTimeWindow,l=(a?1:2)*r;if(r<1/0&&l<o.length&&o.splice(0,o.length-l),!a){for(var u=i.now(),f=0,h=1;h<o.length&&o[h]<=u;h+=2)f=h;f&&o.splice(0,f+1)}},e}(SV);function zPe(t){return t&&wo(t.schedule)}function WPe(t){return t[t.length-1]}function qPe(t){return zPe(WPe(t))?t.pop():void 0}var hZ=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function pZ(t){return wo(t==null?void 0:t.then)}function mZ(t){return wo(t[CV])}function gZ(t){return Symbol.asyncIterator&&wo(t==null?void 0:t[Symbol.asyncIterator])}function vZ(t){return new TypeError("You provided "+(t!==null&&typeof t=="object"?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function KPe(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var yZ=KPe();function _Z(t){return wo(t==null?void 0:t[yZ])}function bZ(t){return Pse(this,arguments,function(){var n,r,i,o;return c5(this,function(a){switch(a.label){case 0:n=t.getReader(),a.label=1;case 1:a.trys.push([1,,9,10]),a.label=2;case 2:return[4,Nv(n.read())];case 3:return r=a.sent(),i=r.value,o=r.done,o?[4,Nv(void 0)]:[3,5];case 4:return[2,a.sent()];case 5:return[4,Nv(i)];case 6:return[4,a.sent()];case 7:return a.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}})})}function EZ(t){return wo(t==null?void 0:t.getReader)}function Tf(t){if(t instanceof Ol)return t;if(t!=null){if(mZ(t))return GPe(t);if(hZ(t))return YPe(t);if(pZ(t))return QPe(t);if(gZ(t))return wZ(t);if(_Z(t))return XPe(t);if(EZ(t))return JPe(t)}throw vZ(t)}function GPe(t){return new Ol(function(e){var n=t[CV]();if(wo(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function YPe(t){return new Ol(function(e){for(var n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function QPe(t){return new Ol(function(e){t.then(function(n){e.closed||(e.next(n),e.complete())},function(n){return e.error(n)}).then(null,cZ)})}function XPe(t){return new Ol(function(e){var n,r;try{for(var i=Om(t),o=i.next();!o.done;o=i.next()){var a=o.value;if(e.next(a),e.closed)return}}catch(l){n={error:l}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}e.complete()})}function wZ(t){return new Ol(function(e){ZPe(t,e).catch(function(n){return e.error(n)})})}function JPe(t){return wZ(bZ(t))}function ZPe(t,e){var n,r,i,o;return sp(this,void 0,void 0,function(){var a,l;return c5(this,function(u){switch(u.label){case 0:u.trys.push([0,5,6,11]),n=Nse(t),u.label=1;case 1:return[4,n.next()];case 2:if(r=u.sent(),!!r.done)return[3,4];if(a=r.value,e.next(a),e.closed)return[2];u.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return l=u.sent(),i={error:l},[3,11];case 6:return u.trys.push([6,,9,10]),r&&!r.done&&(o=n.return)?[4,o.call(n)]:[3,8];case 7:u.sent(),u.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}function xm(t,e,n,r,i){r===void 0&&(r=0),i===void 0&&(i=!1);var o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function CZ(t,e){return e===void 0&&(e=0),mg(function(n,r){n.subscribe(Ym(r,function(i){return xm(r,t,function(){return r.next(i)},e)},function(){return xm(r,t,function(){return r.complete()},e)},function(i){return xm(r,t,function(){return r.error(i)},e)}))})}function SZ(t,e){return e===void 0&&(e=0),mg(function(n,r){r.add(t.schedule(function(){return n.subscribe(r)},e))})}function eNe(t,e){return Tf(t).pipe(SZ(e),CZ(e))}function tNe(t,e){return Tf(t).pipe(SZ(e),CZ(e))}function nNe(t,e){return new Ol(function(n){var r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function rNe(t,e){return new Ol(function(n){var r;return xm(n,e,function(){r=t[yZ](),xm(n,e,function(){var i,o,a;try{i=r.next(),o=i.value,a=i.done}catch(l){n.error(l);return}a?n.complete():n.next(o)},0,!0)}),function(){return wo(r==null?void 0:r.return)&&r.return()}})}function TZ(t,e){if(!t)throw new Error("Iterable cannot be null");return new Ol(function(n){xm(n,e,function(){var r=t[Symbol.asyncIterator]();xm(n,e,function(){r.next().then(function(i){i.done?n.complete():n.next(i.value)})},0,!0)})})}function iNe(t,e){return TZ(bZ(t),e)}function oNe(t,e){if(t!=null){if(mZ(t))return eNe(t,e);if(hZ(t))return nNe(t,e);if(pZ(t))return tNe(t,e);if(gZ(t))return TZ(t,e);if(_Z(t))return rNe(t,e);if(EZ(t))return iNe(t,e)}throw vZ(t)}function xZ(t,e){return e?oNe(t,e):Tf(t)}function aNe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=qPe(t);return xZ(t,n)}function Py(t,e){return mg(function(n,r){var i=0;n.subscribe(Ym(r,function(o){r.next(t.call(e,o,i++))}))})}function sNe(t,e,n,r,i,o,a,l){var u=[],f=0,h=0,g=!1,y=function(){g&&!u.length&&!f&&e.complete()},w=function(C){return f<r?T(C):u.push(C)},T=function(C){f++;var R=!1;Tf(n(C,h++)).subscribe(Ym(e,function(I){e.next(I)},function(){R=!0},void 0,function(){if(R)try{f--;for(var I=function(){var k=u.shift();a||T(k)};u.length&&f<r;)I();y()}catch(k){e.error(k)}}))};return t.subscribe(Ym(e,w,function(){g=!0,y()})),function(){}}function ED(t,e,n){return n===void 0&&(n=1/0),wo(e)?ED(function(r,i){return Py(function(o,a){return e(r,o,i,a)})(Tf(t(r,i)))},n):(typeof e=="number"&&(n=e),mg(function(r,i){return sNe(r,i,t,n)}))}function AZ(t){return new Ol(function(e){Tf(t()).subscribe(e)})}function IZ(t){return mg(function(e,n){var r=null,i=!1,o;r=e.subscribe(Ym(n,void 0,void 0,function(a){o=Tf(t(a,IZ(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function lNe(t,e){return wo(e)?ED(t,e,1):ED(t,1)}function uNe(t){return Py(function(){return t})}function cNe(t){t===void 0&&(t={});var e=t.connector,n=e===void 0?function(){return new SV}:e,r=t.resetOnError,i=r===void 0?!0:r,o=t.resetOnComplete,a=o===void 0?!0:o,l=t.resetOnRefCountZero,u=l===void 0?!0:l;return function(f){var h,g,y,w=0,T=!1,C=!1,R=function(){g==null||g.unsubscribe(),g=void 0},I=function(){R(),h=y=void 0,T=C=!1},k=function(){var O=h;I(),O==null||O.unsubscribe()};return mg(function(O,A){w++,!C&&!T&&R();var V=y=y??n();A.add(function(){w--,w===0&&!C&&!T&&(g=gO(k,u))}),V.subscribe(A),!h&&w>0&&(h=new yE({next:function(D){return V.next(D)},error:function(D){C=!0,R(),g=gO(I,i,D),V.error(D)},complete:function(){T=!0,R(),g=gO(I,a),V.complete()}}),Tf(O).subscribe(h))})(f)}}function gO(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(e===!0){t();return}if(e!==!1){var i=new yE({next:function(){i.unsubscribe(),t()}});return Tf(e.apply(void 0,ea([],_n(n)))).subscribe(i)}}function fNe(t,e,n){var r,i,o,a,l=!1;return t&&typeof t=="object"?(r=t.bufferSize,a=r===void 0?1/0:r,i=t.windowTime,e=i===void 0?1/0:i,o=t.refCount,l=o===void 0?!1:o,n=t.scheduler):a=t??1/0,cNe({connector:function(){return new dZ(a,e,n)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:l})}function kZ(t,e){return mg(function(n,r){var i=null,o=0,a=!1,l=function(){return a&&!i&&r.complete()};n.subscribe(Ym(r,function(u){i==null||i.unsubscribe();var f=0,h=o++;Tf(t(u,h)).subscribe(i=Ym(r,function(g){return r.next(e?e(u,g,h,f++):g)},function(){i=null,l()}))},function(){a=!0,l()}))})}const Zc=50,Ny={limit:Zc};var Bh=(t=>(t.Table="table",t.TreeView="tree",t))(Bh||{});function dNe(t){try{return JSON.parse(t)}catch{return t}}function RZ(t){return t._repo.key}const hNe="1s",pNe=[],OZ={Authorization:"Bearer owner"};function mNe(t,e){const n=new dZ(1);n.next({limit:Zc});const r=n.pipe(kZ(i=>e.pipe(lNe(o=>o?vNe(t,i):yNe(t,i)))));return{query:n,viewModel$:r}}function gNe(t){const e=NZ(t,{print:"silent",timeout:hNe});return AZ(()=>Do(e,{headers:OZ})).pipe(uNe(!0),IZ(()=>aNe(!1)),fNe({bufferSize:1,refCount:!0}))}function vNe(t,e){let n;return _Ne(t).pipe(kZ(r=>r.hasChildren()?(n=PZ(t,e),mj(n)):mj(t)),Py(r=>({value:r.hasChildren()?void 0:r.val(),children:r.hasChildren()?Object.keys(r.val()):pNe,isRealtime:!0,isLoading:!1,query:n})))}function yNe(t,e){return bNe(t,e).pipe(Py(n=>({children:n,isLoading:!1,isRealtime:!1})))}function _Ne(t){return xZ(lE(t))}function mj(t){return new Ol(e=>(JY(t,n=>e.next(n)),()=>_Se(t)))}function PZ(t,e){const{key:n,operator:r,value:i,limit:o}=e;if(n!=null&&r!=null&&i!=null){let a=bb(t,SSe(n),_9(o||Zc));switch(r){case"==":return bb(a,xSe(i));case"<=":return bb(a,bSe(i));case">=":return bb(a,ESe(i))}}return bb(t,_9(o||Zc))}function bNe(t,e){const n=ENe(e),r=NZ(t,{...n,shallow:"true"});return AZ(()=>Do(r,{headers:OZ})).pipe(Py(i=>i.json()),Py(i=>Object.keys(i)))}function ENe(t){const{key:e,operator:n,value:r,limit:i}=t,o={orderBy:e,limitToFirst:`${i||Zc}`};if(e&&n&&r)switch(n){case"==":o.equalTo=r;break;case"<=":o.endAt=r;break;case">=":o.startAt=r;break}return o}function NZ(t,e){const n=RZ(t);if(n.indexOf("?ns=")>=0){const i=n.split("?ns=")[1];e={...e,ns:i}}const r=Object.entries(e).filter(([i,o])=>!!o).map(([i,o])=>`${i}=${encodeURIComponent(o)}`).join("&");return`${t.toString()}.json?${r}`}var LZ={exports:{}},wNe=LZ.exports=typeof window<"u"&&window.Math==Math?window:typeof self<"u"&&self.Math==Math?self:Function("return this")();typeof __g=="number"&&(__g=wNe);var gg=LZ.exports,DZ={exports:{}},CNe=DZ.exports={version:"2.6.12"};typeof __e=="number"&&(__e=CNe);var vp=DZ.exports,SNe=function(t){if(typeof t!="function")throw TypeError(t+" is not a function!");return t},TNe=SNe,MZ=function(t,e,n){if(TNe(t),e===void 0)return t;switch(n){case 1:return function(r){return t.call(e,r)};case 2:return function(r,i){return t.call(e,r,i)};case 3:return function(r,i,o){return t.call(e,r,i,o)}}return function(){return t.apply(e,arguments)}},yp={},s_=function(t){return typeof t=="object"?t!==null:typeof t=="function"},xNe=s_,yw=function(t){if(!xNe(t))throw TypeError(t+" is not an object!");return t},_w=function(t){try{return!!t()}catch{return!0}},_p=!_w(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7}),vO,gj;function FZ(){if(gj)return vO;gj=1;var t=s_,e=gg.document,n=t(e)&&t(e.createElement);return vO=function(r){return n?e.createElement(r):{}},vO}var UZ=!_p&&!_w(function(){return Object.defineProperty(FZ()("div"),"a",{get:function(){return 7}}).a!=7}),yS=s_,TV=function(t,e){if(!yS(t))return t;var n,r;if(e&&typeof(n=t.toString)=="function"&&!yS(r=n.call(t))||typeof(n=t.valueOf)=="function"&&!yS(r=n.call(t))||!e&&typeof(n=t.toString)=="function"&&!yS(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},vj=yw,ANe=UZ,INe=TV,kNe=Object.defineProperty;yp.f=_p?Object.defineProperty:function(e,n,r){if(vj(e),n=INe(n,!0),vj(r),ANe)try{return kNe(e,n,r)}catch{}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[n]=r.value),e};var a1=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}},RNe=yp,ONe=a1,l_=_p?function(t,e,n){return RNe.f(t,e,ONe(1,n))}:function(t,e,n){return t[e]=n,t},PNe={}.hasOwnProperty,vg=function(t,e){return PNe.call(t,e)},_S=gg,yO=vp,yj=MZ,NNe=l_,LNe=vg,bS="prototype",Ma=function(t,e,n){var r=t&Ma.F,i=t&Ma.G,o=t&Ma.S,a=t&Ma.P,l=t&Ma.B,u=t&Ma.W,f=i?yO:yO[e]||(yO[e]={}),h=f[bS],g=i?_S:o?_S[e]:(_S[e]||{})[bS],y,w,T;i&&(n=e);for(y in n)w=!r&&g&&g[y]!==void 0,!(w&&LNe(f,y))&&(T=w?g[y]:n[y],f[y]=i&&typeof g[y]!="function"?n[y]:l&&w?yj(T,_S):u&&g[y]==T?function(C){var R=function(I,k,O){if(this instanceof C){switch(arguments.length){case 0:return new C;case 1:return new C(I);case 2:return new C(I,k)}return new C(I,k,O)}return C.apply(this,arguments)};return R[bS]=C[bS],R}(T):a&&typeof T=="function"?yj(Function.call,T):T,a&&((f.virtual||(f.virtual={}))[y]=T,t&Ma.R&&h&&!h[y]&&NNe(h,y,T)))};Ma.F=1;Ma.G=2;Ma.S=4;Ma.P=8;Ma.B=16;Ma.W=32;Ma.U=64;Ma.R=128;var u_=Ma,DNe={}.toString,VZ=function(t){return DNe.call(t).slice(8,-1)},_O,_j;function BZ(){if(_j)return _O;_j=1;var t=VZ;return _O=Object("z").propertyIsEnumerable(0)?Object:function(e){return t(e)=="String"?e.split(""):Object(e)},_O}var xV=function(t){if(t==null)throw TypeError("Can't call method on  "+t);return t},MNe=BZ(),FNe=xV,c_=function(t){return MNe(FNe(t))},UNe=Math.ceil,VNe=Math.floor,AV=function(t){return isNaN(t=+t)?0:(t>0?VNe:UNe)(t)},BNe=AV,$Ne=Math.min,HNe=function(t){return t>0?$Ne(BNe(t),9007199254740991):0},jNe=AV,zNe=Math.max,WNe=Math.min,qNe=function(t,e){return t=jNe(t),t<0?zNe(t+e,0):WNe(t,e)},KNe=c_,GNe=HNe,YNe=qNe,QNe=function(t){return function(e,n,r){var i=KNe(e),o=GNe(i.length),a=YNe(r,o),l;if(t&&n!=n){for(;o>a;)if(l=i[a++],l!=l)return!0}else for(;o>a;a++)if((t||a in i)&&i[a]===n)return t||a||0;return!t&&-1}},$Z={exports:{}},XNe=vp,bj=gg,Ej="__core-js_shared__",wj=bj[Ej]||(bj[Ej]={});($Z.exports=function(t,e){return wj[t]||(wj[t]=e!==void 0?e:{})})("versions",[]).push({version:XNe.version,mode:"pure",copyright:" 2020 Denis Pushkarev (zloirock.ru)"});var IV=$Z.exports,JNe=0,ZNe=Math.random(),s1=function(t){return"Symbol(".concat(t===void 0?"":t,")_",(++JNe+ZNe).toString(36))},bO,Cj;function kV(){if(Cj)return bO;Cj=1;var t=IV("keys"),e=s1;return bO=function(n){return t[n]||(t[n]=e(n))},bO}var Sj=vg,eLe=c_,tLe=QNe(!1),nLe=kV()("IE_PROTO"),HZ=function(t,e){var n=eLe(t),r=0,i=[],o;for(o in n)o!=nLe&&Sj(n,o)&&i.push(o);for(;e.length>r;)Sj(n,o=e[r++])&&(~tLe(i,o)||i.push(o));return i},RV="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),rLe=HZ,iLe=RV,l1=Object.keys||function(e){return rLe(e,iLe)},u1={};u1.f=Object.getOwnPropertySymbols;var EO={},Tj;function c1(){return Tj||(Tj=1,EO.f={}.propertyIsEnumerable),EO}var oLe=xV,OV=function(t){return Object(oLe(t))},wO,xj;function aLe(){if(xj)return wO;xj=1;var t=_p,e=l1,n=u1,r=c1(),i=OV,o=BZ(),a=Object.assign;return wO=!a||_w(function(){var l={},u={},f=Symbol(),h="abcdefghijklmnopqrst";return l[f]=7,h.split("").forEach(function(g){u[g]=g}),a({},l)[f]!=7||Object.keys(a({},u)).join("")!=h})?function(u,f){for(var h=i(u),g=arguments.length,y=1,w=n.f,T=r.f;g>y;)for(var C=o(arguments[y++]),R=w?e(C).concat(w(C)):e(C),I=R.length,k=0,O;I>k;)O=R[k++],(!t||T.call(C,O))&&(h[O]=C[O]);return h}:a,wO}var CO=u_;CO(CO.S+CO.F,"Object",{assign:aLe()});var sLe=vp.Object.assign,lLe={default:sLe,__esModule:!0},uLe=lLe,cLe=fLe(uLe);function fLe(t){return t&&t.__esModule?t:{default:t}}var bw=cLe.default||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jZ=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},kd=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},f1={},dLe=AV,hLe=xV,pLe=function(t){return function(e,n){var r=String(hLe(e)),i=dLe(n),o=r.length,a,l;return i<0||i>=o?t?"":void 0:(a=r.charCodeAt(i),a<55296||a>56319||i+1===o||(l=r.charCodeAt(i+1))<56320||l>57343?t?r.charAt(i):a:t?r.slice(i,i+2):(a-55296<<10)+(l-56320)+65536)}},zZ=l_,PV={},SO,Aj;function mLe(){if(Aj)return SO;Aj=1;var t=yp,e=yw,n=l1;return SO=_p?Object.defineProperties:function(i,o){e(i);for(var a=n(o),l=a.length,u=0,f;l>u;)t.f(i,f=a[u++],o[f]);return i},SO}var TO,Ij;function gLe(){if(Ij)return TO;Ij=1;var t=gg.document;return TO=t&&t.documentElement,TO}var xO,kj;function NV(){if(kj)return xO;kj=1;var t=yw,e=mLe(),n=RV,r=kV()("IE_PROTO"),i=function(){},o="prototype",a=function(){var l=FZ()("iframe"),u=n.length,f="<",h=">",g;for(l.style.display="none",gLe().appendChild(l),l.src="javascript:",g=l.contentWindow.document,g.open(),g.write(f+"script"+h+"document.F=Object"+f+"/script"+h),g.close(),a=g.F;u--;)delete a[o][n[u]];return a()};return xO=Object.create||function(u,f){var h;return u!==null?(i[o]=t(u),h=new i,i[o]=null,h[r]=u):h=a(),f===void 0?h:e(h,f)},xO}var WZ={exports:{}},wD=IV("wks"),vLe=s1,CD=gg.Symbol,Rj=typeof CD=="function",yLe=WZ.exports=function(t){return wD[t]||(wD[t]=Rj&&CD[t]||(Rj?CD:vLe)("Symbol."+t))};yLe.store=wD;var f_=WZ.exports,_Le=yp.f,bLe=vg,Oj=f_("toStringTag"),LV=function(t,e,n){t&&!bLe(t=n?t:t.prototype,Oj)&&_Le(t,Oj,{configurable:!0,value:e})},ELe=NV(),wLe=a1,CLe=LV,qZ={};l_(qZ,f_("iterator"),function(){return this});var SLe=function(t,e,n){t.prototype=ELe(qZ,{next:wLe(1,n)}),CLe(t,e+" Iterator")},TLe=vg,xLe=OV,Pj=kV()("IE_PROTO"),ALe=Object.prototype,ILe=Object.getPrototypeOf||function(t){return t=xLe(t),TLe(t,Pj)?t[Pj]:typeof t.constructor=="function"&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?ALe:null},AO=u_,kLe=zZ,RLe=l_,Nj=PV,OLe=SLe,PLe=LV,NLe=ILe,IO=f_("iterator"),kO=!([].keys&&"next"in[].keys()),LLe="@@iterator",Lj="keys",ES="values",DLe=function(){return this},KZ=function(t,e,n,r,i,o,a){OLe(n,e,r);var l=function(O){if(!kO&&O in g)return g[O];switch(O){case Lj:return function(){return new n(this,O)};case ES:return function(){return new n(this,O)}}return function(){return new n(this,O)}},u=e+" Iterator",f=i==ES,h=!1,g=t.prototype,y=g[IO]||g[LLe]||i&&g[i],w=y||l(i),T=i?f?l("entries"):w:void 0,C=e=="Array"&&g.entries||y,R,I,k;if(C&&(k=NLe(C.call(new t)),k!==Object.prototype&&k.next&&PLe(k,u,!0)),f&&y&&y.name!==ES&&(h=!0,w=function(){return y.call(this)}),a&&(kO||h||!g[IO])&&RLe(g,IO,w),Nj[e]=w,Nj[u]=DLe,i)if(R={values:f?w:l(ES),keys:o?w:l(Lj),entries:T},a)for(I in R)I in g||kLe(g,I,R[I]);else AO(AO.P+AO.F*(kO||h),e,R);return R},MLe=pLe(!0);KZ(String,"String",function(t){this._t=String(t),this._i=0},function(){var t=this._t,e=this._i,n;return e>=t.length?{value:void 0,done:!0}:(n=MLe(t,e),this._i+=n.length,{value:n,done:!1})});var FLe=function(t,e){return{value:e,done:!!t}},wS=FLe,Dj=PV,ULe=c_;KZ(Array,"Array",function(t,e){this._t=ULe(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,wS(1)):e=="keys"?wS(0,n):e=="values"?wS(0,t[n]):wS(0,[n,t[n]])},"values");Dj.Arguments=Dj.Array;var VLe=gg,BLe=l_,Mj=PV,Fj=f_("toStringTag"),Uj="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(",");for(var RO=0;RO<Uj.length;RO++){var OO=Uj[RO],Vj=VLe[OO],PO=Vj&&Vj.prototype;PO&&!PO[Fj]&&BLe(PO,Fj,OO),Mj[OO]=Mj.Array}var d1={};d1.f=f_;var $Le=d1.f("iterator"),HLe={default:$Le,__esModule:!0},GZ={exports:{}},Qm=s1("meta"),jLe=s_,DV=vg,zLe=yp.f,WLe=0,h1=Object.isExtensible||function(){return!0},qLe=!_w(function(){return h1(Object.preventExtensions({}))}),MV=function(t){zLe(t,Qm,{value:{i:"O"+ ++WLe,w:{}}})},KLe=function(t,e){if(!jLe(t))return typeof t=="symbol"?t:(typeof t=="string"?"S":"P")+t;if(!DV(t,Qm)){if(!h1(t))return"F";if(!e)return"E";MV(t)}return t[Qm].i},GLe=function(t,e){if(!DV(t,Qm)){if(!h1(t))return!0;if(!e)return!1;MV(t)}return t[Qm].w},YLe=function(t){return qLe&&QLe.NEED&&h1(t)&&!DV(t,Qm)&&MV(t),t},QLe=GZ.exports={KEY:Qm,NEED:!1,fastKey:KLe,getWeak:GLe,onFreeze:YLe},XLe=GZ.exports,Bj=vp,JLe=d1,ZLe=yp.f,FV=function(t){var e=Bj.Symbol||(Bj.Symbol={});t.charAt(0)!="_"&&!(t in e)&&ZLe(e,t,{value:JLe.f(t)})},eDe=l1,tDe=u1,nDe=c1(),rDe=function(t){var e=eDe(t),n=tDe.f;if(n)for(var r=n(t),i=nDe.f,o=0,a;r.length>o;)i.call(t,a=r[o++])&&e.push(a);return e},iDe=VZ,oDe=Array.isArray||function(e){return iDe(e)=="Array"},YZ={},UV={},aDe=HZ,sDe=RV.concat("length","prototype");UV.f=Object.getOwnPropertyNames||function(e){return aDe(e,sDe)};var lDe=c_,QZ=UV.f,uDe={}.toString,XZ=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],cDe=function(t){try{return QZ(t)}catch{return XZ.slice()}};YZ.f=function(e){return XZ&&uDe.call(e)=="[object Window]"?cDe(e):QZ(lDe(e))};var VV={},fDe=c1(),dDe=a1,hDe=c_,pDe=TV,mDe=vg,gDe=UZ,$j=Object.getOwnPropertyDescriptor;VV.f=_p?$j:function(e,n){if(e=hDe(e),n=pDe(n,!0),gDe)try{return $j(e,n)}catch{}if(mDe(e,n))return dDe(!fDe.f.call(e,n),e[n])};var p1=gg,Zo=vg,JZ=_p,Va=u_,vDe=zZ,yDe=XLe.KEY,BV=_w,$V=IV,HV=LV,_De=s1,Ew=f_,bDe=d1,EDe=FV,wDe=rDe,CDe=oDe,SD=yw,SDe=s_,TDe=OV,m1=c_,jV=TV,TD=a1,_E=NV(),ZZ=YZ,eee=VV,g1=u1,tee=yp,xDe=l1,nee=eee.f,lm=tee.f,ree=ZZ.f,qs=p1.Symbol,rA=p1.JSON,CS=rA&&rA.stringify,$h="prototype",Us=Ew("_hidden"),Hj=Ew("toPrimitive"),ADe={}.propertyIsEnumerable,Cb=$V("symbol-registry"),Td=$V("symbols"),ww=$V("op-symbols"),Yu=Object[$h],d_=typeof qs=="function"&&!!g1.f,NO=p1.QObject,xD=!NO||!NO[$h]||!NO[$h].findChild,AD=JZ&&BV(function(){return _E(lm({},"a",{get:function(){return lm(this,"a",{value:7}).a}})).a!=7})?function(t,e,n){var r=nee(Yu,e);r&&delete Yu[e],lm(t,e,n),r&&t!==Yu&&lm(Yu,e,r)}:lm,jj=function(t){var e=Td[t]=_E(qs[$h]);return e._k=t,e},ID=d_&&typeof qs.iterator=="symbol"?function(t){return typeof t=="symbol"}:function(t){return t instanceof qs},v1=function(e,n,r){return e===Yu&&v1(ww,n,r),SD(e),n=jV(n,!0),SD(r),Zo(Td,n)?(r.enumerable?(Zo(e,Us)&&e[Us][n]&&(e[Us][n]=!1),r=_E(r,{enumerable:TD(0,!1)})):(Zo(e,Us)||lm(e,Us,TD(1,{})),e[Us][n]=!0),AD(e,n,r)):lm(e,n,r)},iee=function(e,n){SD(e);for(var r=wDe(n=m1(n)),i=0,o=r.length,a;o>i;)v1(e,a=r[i++],n[a]);return e},IDe=function(e,n){return n===void 0?_E(e):iee(_E(e),n)},kDe=function(e){var n=ADe.call(this,e=jV(e,!0));return this===Yu&&Zo(Td,e)&&!Zo(ww,e)?!1:n||!Zo(this,e)||!Zo(Td,e)||Zo(this,Us)&&this[Us][e]?n:!0},oee=function(e,n){if(e=m1(e),n=jV(n,!0),!(e===Yu&&Zo(Td,n)&&!Zo(ww,n))){var r=nee(e,n);return r&&Zo(Td,n)&&!(Zo(e,Us)&&e[Us][n])&&(r.enumerable=!0),r}},aee=function(e){for(var n=ree(m1(e)),r=[],i=0,o;n.length>i;)!Zo(Td,o=n[i++])&&o!=Us&&o!=yDe&&r.push(o);return r},see=function(e){for(var n=e===Yu,r=ree(n?ww:m1(e)),i=[],o=0,a;r.length>o;)Zo(Td,a=r[o++])&&(!n||Zo(Yu,a))&&i.push(Td[a]);return i};d_||(qs=function(){if(this instanceof qs)throw TypeError("Symbol is not a constructor!");var e=_De(arguments.length>0?arguments[0]:void 0),n=function(r){this===Yu&&n.call(ww,r),Zo(this,Us)&&Zo(this[Us],e)&&(this[Us][e]=!1),AD(this,e,TD(1,r))};return JZ&&xD&&AD(Yu,e,{configurable:!0,set:n}),jj(e)},vDe(qs[$h],"toString",function(){return this._k}),eee.f=oee,tee.f=v1,UV.f=ZZ.f=aee,c1().f=kDe,g1.f=see,bDe.f=function(t){return jj(Ew(t))});Va(Va.G+Va.W+Va.F*!d_,{Symbol:qs});for(var zj="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),Wj=0;zj.length>Wj;)Ew(zj[Wj++]);for(var qj=xDe(Ew.store),Kj=0;qj.length>Kj;)EDe(qj[Kj++]);Va(Va.S+Va.F*!d_,"Symbol",{for:function(t){return Zo(Cb,t+="")?Cb[t]:Cb[t]=qs(t)},keyFor:function(e){if(!ID(e))throw TypeError(e+" is not a symbol!");for(var n in Cb)if(Cb[n]===e)return n},useSetter:function(){xD=!0},useSimple:function(){xD=!1}});Va(Va.S+Va.F*!d_,"Object",{create:IDe,defineProperty:v1,defineProperties:iee,getOwnPropertyDescriptor:oee,getOwnPropertyNames:aee,getOwnPropertySymbols:see});var RDe=BV(function(){g1.f(1)});Va(Va.S+Va.F*RDe,"Object",{getOwnPropertySymbols:function(e){return g1.f(TDe(e))}});rA&&Va(Va.S+Va.F*(!d_||BV(function(){var t=qs();return CS([t])!="[null]"||CS({a:t})!="{}"||CS(Object(t))!="{}"})),"JSON",{stringify:function(e){for(var n=[e],r=1,i,o;arguments.length>r;)n.push(arguments[r++]);if(o=i=n[1],!(!SDe(i)&&e===void 0||ID(e)))return CDe(i)||(i=function(a,l){if(typeof o=="function"&&(l=o.call(this,a,l)),!ID(l))return l}),n[1]=i,CS.apply(rA,n)}});qs[$h][Hj]||l_(qs[$h],Hj,qs[$h].valueOf);HV(qs,"Symbol");HV(Math,"Math",!0);HV(p1.JSON,"JSON",!0);FV("asyncIterator");FV("observable");var ODe=vp.Symbol,PDe={default:ODe,__esModule:!0};f1.__esModule=!0;var NDe=HLe,lee=uee(NDe),LDe=PDe,Ch=uee(LDe),LO=typeof Ch.default=="function"&&typeof lee.default=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Ch.default=="function"&&t.constructor===Ch.default&&t!==Ch.default.prototype?"symbol":typeof t};function uee(t){return t&&t.__esModule?t:{default:t}}var DDe=f1.default=typeof Ch.default=="function"&&LO(lee.default)==="symbol"?function(t){return typeof t>"u"?"undefined":LO(t)}:function(t){return t&&typeof Ch.default=="function"&&t.constructor===Ch.default&&t!==Ch.default.prototype?"symbol":typeof t>"u"?"undefined":LO(t)},MDe=f1,FDe=UDe(MDe);function UDe(t){return t&&t.__esModule?t:{default:t}}var uc=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&((typeof e>"u"?"undefined":(0,FDe.default)(e))==="object"||typeof e=="function")?e:t},DO,Gj;function VDe(){if(Gj)return DO;Gj=1;var t=s_,e=yw,n=function(r,i){if(e(r),!t(i)&&i!==null)throw TypeError(i+": can't set as prototype!")};return DO={set:Object.setPrototypeOf||("__proto__"in{}?function(r,i,o){try{o=MZ(Function.call,VV.f(Object.prototype,"__proto__").set,2),o(r,[]),i=!(r instanceof Array)}catch{i=!0}return function(l,u){return n(l,u),i?l.__proto__=u:o(l,u),l}}({},!1):void 0),check:n},DO}var Yj=u_;Yj(Yj.S,"Object",{setPrototypeOf:VDe().set});var BDe=vp.Object.setPrototypeOf,$De={default:BDe,__esModule:!0},Qj=u_;Qj(Qj.S,"Object",{create:NV()});var HDe=vp.Object,jDe=function(e,n){return HDe.create(e,n)},zDe={default:jDe,__esModule:!0},WDe=$De,Xj=zV(WDe),qDe=zDe,KDe=zV(qDe),GDe=f1,YDe=zV(GDe);function zV(t){return t&&t.__esModule?t:{default:t}}var Rd=function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+(typeof e>"u"?"undefined":(0,YDe.default)(e)));t.prototype=(0,KDe.default)(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Xj.default?(0,Xj.default)(t,e):t.__proto__=e)};function cee(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);t!=null&&this.setState(t)}function fee(t){function e(n){var r=this.constructor.getDerivedStateFromProps(t,n);return r??null}this.setState(e.bind(this))}function dee(t,e){try{var n=this.props,r=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}cee.__suppressDeprecationWarning=!0;fee.__suppressDeprecationWarning=!0;dee.__suppressDeprecationWarning=!0;function QDe(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return t;var n=null,r=null,i=null;if(typeof e.componentWillMount=="function"?n="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?i="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),n!==null||r!==null||i!==null){var o=t.displayName||t.name,a=typeof t.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+o+" uses "+a+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(r!==null?`
  `+r:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof t.getDerivedStateFromProps=="function"&&(e.componentWillMount=cee,e.componentWillReceiveProps=fee),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=dee;var l=e.componentDidUpdate;e.componentDidUpdate=function(f,h,g){var y=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:g;l.call(this,f,h,y)}}return t}function kD(t,e){for(var n=e;n;){if(n===t)return!0;n=n.parentNode}return!1}var RD={exports:{}},OD={exports:{}},PD={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});function n(){return!1}function r(){return!0}function i(){this.timeStamp=Date.now(),this.target=void 0,this.currentTarget=void 0}i.prototype={isEventObject:1,constructor:i,isDefaultPrevented:n,isPropagationStopped:n,isImmediatePropagationStopped:n,preventDefault:function(){this.isDefaultPrevented=r},stopPropagation:function(){this.isPropagationStopped=r},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=r,this.stopPropagation()},halt:function(a){a?this.stopImmediatePropagation():this.stopPropagation(),this.preventDefault()}},e.default=i,t.exports=e.default})(PD,PD.exports);var XDe=PD.exports;/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Jj=Object.getOwnPropertySymbols,JDe=Object.prototype.hasOwnProperty,ZDe=Object.prototype.propertyIsEnumerable;function eMe(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function tMe(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(e).map(function(o){return e[o]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(o){i[o]=o}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var nMe=tMe()?Object.assign:function(t,e){for(var n,r=eMe(t),i,o=1;o<arguments.length;o++){n=Object(arguments[o]);for(var a in n)JDe.call(n,a)&&(r[a]=n[a]);if(Jj){i=Jj(n);for(var l=0;l<i.length;l++)ZDe.call(n,i[l])&&(r[i[l]]=n[i[l]])}}return r};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});function n(R){return R&&R.__esModule?R:{default:R}}var r=XDe,i=n(r),o=nMe,a=n(o),l=!0,u=!1,f=["altKey","bubbles","cancelable","ctrlKey","currentTarget","eventPhase","metaKey","shiftKey","target","timeStamp","view","type"];function h(R){return R==null}var g=[{reg:/^key/,props:["char","charCode","key","keyCode","which"],fix:function(I,k){h(I.which)&&(I.which=h(k.charCode)?k.keyCode:k.charCode),I.metaKey===void 0&&(I.metaKey=I.ctrlKey)}},{reg:/^touch/,props:["touches","changedTouches","targetTouches"]},{reg:/^hashchange$/,props:["newURL","oldURL"]},{reg:/^gesturechange$/i,props:["rotation","scale"]},{reg:/^(mousewheel|DOMMouseScroll)$/,props:[],fix:function(I,k){var O=void 0,A=void 0,V=void 0,D=k.wheelDelta,P=k.axis,N=k.wheelDeltaY,$=k.wheelDeltaX,q=k.detail;D&&(V=D/120),q&&(V=0-(q%3===0?q/3:q)),P!==void 0&&(P===I.HORIZONTAL_AXIS?(A=0,O=0-V):P===I.VERTICAL_AXIS&&(O=0,A=V)),N!==void 0&&(A=N/120),$!==void 0&&(O=-1*$/120),!O&&!A&&(A=V),O!==void 0&&(I.deltaX=O),A!==void 0&&(I.deltaY=A),V!==void 0&&(I.delta=V)}},{reg:/^mouse|contextmenu|click|mspointer|(^DOMMouseScroll$)/i,props:["buttons","clientX","clientY","button","offsetX","relatedTarget","which","fromElement","toElement","offsetY","pageX","pageY","screenX","screenY"],fix:function(I,k){var O=void 0,A=void 0,V=void 0,D=I.target,P=k.button;return D&&h(I.pageX)&&!h(k.clientX)&&(O=D.ownerDocument||document,A=O.documentElement,V=O.body,I.pageX=k.clientX+(A&&A.scrollLeft||V&&V.scrollLeft||0)-(A&&A.clientLeft||V&&V.clientLeft||0),I.pageY=k.clientY+(A&&A.scrollTop||V&&V.scrollTop||0)-(A&&A.clientTop||V&&V.clientTop||0)),!I.which&&P!==void 0&&(P&1?I.which=1:P&2?I.which=3:P&4?I.which=2:I.which=0),!I.relatedTarget&&I.fromElement&&(I.relatedTarget=I.fromElement===D?I.toElement:I.fromElement),I}}];function y(){return l}function w(){return u}function T(R){var I=R.type,k=typeof R.stopPropagation=="function"||typeof R.cancelBubble=="boolean";i.default.call(this),this.nativeEvent=R;var O=w;"defaultPrevented"in R?O=R.defaultPrevented?y:w:"getPreventDefault"in R?O=R.getPreventDefault()?y:w:"returnValue"in R&&(O=R.returnValue===u?y:w),this.isDefaultPrevented=O;var A=[],V=void 0,D=void 0,P=void 0,N=f.concat();for(g.forEach(function($){I.match($.reg)&&(N=N.concat($.props),$.fix&&A.push($.fix))}),D=N.length;D;)P=N[--D],this[P]=R[P];for(!this.target&&k&&(this.target=R.srcElement||document),this.target&&this.target.nodeType===3&&(this.target=this.target.parentNode),D=A.length;D;)V=A[--D],V(this,R);this.timeStamp=R.timeStamp||Date.now()}var C=i.default.prototype;(0,a.default)(T.prototype,C,{constructor:T,preventDefault:function(){var I=this.nativeEvent;I.preventDefault?I.preventDefault():I.returnValue=u,C.preventDefault.call(this)},stopPropagation:function(){var I=this.nativeEvent;I.stopPropagation?I.stopPropagation():I.cancelBubble=l,C.stopPropagation.call(this)}}),e.default=T,t.exports=e.default})(OD,OD.exports);var rMe=OD.exports;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;function n(a){return a&&a.__esModule?a:{default:a}}var r=rMe,i=n(r);function o(a,l,u,f){function h(y){var w=new i.default(y);u.call(a,w)}if(a.addEventListener){var g=function(){var y=!1;return typeof f=="object"?y=f.capture||!1:typeof f=="boolean"&&(y=f),a.addEventListener(l,h,f||!1),{v:{remove:function(){a.removeEventListener(l,h,y)}}}}();if(typeof g=="object")return g.v}else if(a.attachEvent)return a.attachEvent("on"+l,h),{remove:function(){a.detachEvent("on"+l,h)}}}t.exports=e.default})(RD,RD.exports);var iMe=RD.exports;const oMe=ra(iMe);function Hb(t,e,n,r){var i=ff.unstable_batchedUpdates?function(a){ff.unstable_batchedUpdates(n,a)}:n;return oMe(t,e,i,r)}function yT(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?yT=function(n){return typeof n}:yT=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},yT(t)}function aMe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sMe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function lMe(t,e,n){return e&&sMe(t.prototype,e),t}function uMe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ND(t,e)}function ND(t,e){return ND=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},ND(t,e)}function cMe(t){var e=hMe();return function(){var r=iA(t),i;if(e){var o=iA(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return fMe(this,i)}}function fMe(t,e){return e&&(yT(e)==="object"||typeof e=="function")?e:dMe(t)}function dMe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hMe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function iA(t){return iA=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},iA(t)}var WV=function(t){uMe(n,t);var e=cMe(n);function n(){var r;aMe(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),r.removeContainer=function(){r.container&&(ff.unmountComponentAtNode(r.container),r.container.parentNode.removeChild(r.container),r.container=null)},r.renderComponent=function(l,u){var f=r.props,h=f.visible,g=f.getComponent,y=f.forceRender,w=f.getContainer,T=f.parent;(h||T._component||y)&&(r.container||(r.container=w()),ff.unstable_renderSubtreeIntoContainer(T,g(l),r.container,function(){u&&u.call(this)}))},r}return lMe(n,[{key:"componentDidMount",value:function(){this.props.autoMount&&this.renderComponent()}},{key:"componentDidUpdate",value:function(){this.props.autoMount&&this.renderComponent()}},{key:"componentWillUnmount",value:function(){this.props.autoDestroy&&this.removeContainer()}},{key:"render",value:function(){return this.props.children({renderComponent:this.renderComponent,removeContainer:this.removeContainer})}}]),n}(Y.Component);WV.propTypes={autoMount:de.bool,autoDestroy:de.bool,visible:de.bool,forceRender:de.bool,parent:de.any,getComponent:de.func.isRequired,getContainer:de.func.isRequired,children:de.func.isRequired};WV.defaultProps={autoMount:!0,autoDestroy:!0,forceRender:!1};function _T(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_T=function(n){return typeof n}:_T=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},_T(t)}function pMe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mMe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gMe(t,e,n){return e&&mMe(t.prototype,e),t}function vMe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&LD(t,e)}function LD(t,e){return LD=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},LD(t,e)}function yMe(t){var e=EMe();return function(){var r=oA(t),i;if(e){var o=oA(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return _Me(this,i)}}function _Me(t,e){return e&&(_T(e)==="object"||typeof e=="function")?e:bMe(t)}function bMe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function EMe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function oA(t){return oA=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},oA(t)}var hee=function(t){vMe(n,t);var e=yMe(n);function n(){return pMe(this,n),e.apply(this,arguments)}return gMe(n,[{key:"componentDidMount",value:function(){this.createContainer()}},{key:"componentDidUpdate",value:function(i){var o=this.props.didUpdate;o&&o(i)}},{key:"componentWillUnmount",value:function(){this.removeContainer()}},{key:"createContainer",value:function(){this._container=this.props.getContainer(),this.forceUpdate()}},{key:"removeContainer",value:function(){this._container&&this._container.parentNode.removeChild(this._container)}},{key:"render",value:function(){return this._container?ff.createPortal(this.props.children,this._container):null}}]),n}(Y.Component);hee.propTypes={getContainer:de.func.isRequired,children:de.node.isRequired,didUpdate:de.func};function wMe(t,e,n){return n?t[0]===e[0]:t[0]===e[0]&&t[1]===e[1]}function CMe(t,e,n){var r=t[e]||{};return bw({},r,n)}function SMe(t,e,n,r){var i=n.points;for(var o in t)if(t.hasOwnProperty(o)&&wMe(t[o].points,i,r))return e+"-placement-"+o;return""}function Zj(t,e){this[t]=e}var MO=u_;MO(MO.S+MO.F*!_p,"Object",{defineProperty:yp.f});var TMe=vp.Object,xMe=function(e,n,r){return TMe.defineProperty(e,n,r)},pee={default:xMe,__esModule:!0},AMe=pee,IMe=kMe(AMe);function kMe(t){return t&&t.__esModule?t:{default:t}}var qV=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),(0,IMe.default)(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function ez(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ez(Object(n),!0).forEach(function(r){RMe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ez(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DD(t){"@babel/helpers - typeof";return DD=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},DD(t)}function RMe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Sb,OMe={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};function aA(){if(Sb!==void 0)return Sb;Sb="";var t=document.createElement("p").style,e="Transform";for(var n in OMe)n+e in t&&(Sb=n);return Sb}function mee(){return aA()?"".concat(aA(),"TransitionProperty"):"transitionProperty"}function y1(){return aA()?"".concat(aA(),"Transform"):"transform"}function nz(t,e){var n=mee();n&&(t.style[n]=e,n!=="transitionProperty"&&(t.style.transitionProperty=e))}function FO(t,e){var n=y1();n&&(t.style[n]=e,n!=="transform"&&(t.style.transform=e))}function PMe(t){return t.style.transitionProperty||t.style[mee()]}function NMe(t){var e=window.getComputedStyle(t,null),n=e.getPropertyValue("transform")||e.getPropertyValue(y1());if(n&&n!=="none"){var r=n.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(r[12]||r[4],0),y:parseFloat(r[13]||r[5],0)}}return{x:0,y:0}}var LMe=/matrix\((.*)\)/,DMe=/matrix3d\((.*)\)/;function MMe(t,e){var n=window.getComputedStyle(t,null),r=n.getPropertyValue("transform")||n.getPropertyValue(y1());if(r&&r!=="none"){var i,o=r.match(LMe);if(o)o=o[1],i=o.split(",").map(function(l){return parseFloat(l,10)}),i[4]=e.x,i[5]=e.y,FO(t,"matrix(".concat(i.join(","),")"));else{var a=r.match(DMe)[1];i=a.split(",").map(function(l){return parseFloat(l,10)}),i[12]=e.x,i[13]=e.y,FO(t,"matrix3d(".concat(i.join(","),")"))}}else FO(t,"translateX(".concat(e.x,"px) translateY(").concat(e.y,"px) translateZ(0)"))}var FMe=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,Cw;function rz(t){var e=t.style.display;t.style.display="none",t.offsetHeight,t.style.display=e}function Yv(t,e,n){var r=n;if(DD(e)==="object"){for(var i in e)e.hasOwnProperty(i)&&Yv(t,i,e[i]);return}if(typeof r<"u"){typeof r=="number"&&(r="".concat(r,"px")),t.style[e]=r;return}return Cw(t,e)}function UMe(t){var e,n,r,i=t.ownerDocument,o=i.body,a=i&&i.documentElement;return e=t.getBoundingClientRect(),n=Math.floor(e.left),r=Math.floor(e.top),n-=a.clientLeft||o.clientLeft||0,r-=a.clientTop||o.clientTop||0,{left:n,top:r}}function gee(t,e){var n=t["page".concat(e?"Y":"X","Offset")],r="scroll".concat(e?"Top":"Left");if(typeof n!="number"){var i=t.document;n=i.documentElement[r],typeof n!="number"&&(n=i.body[r])}return n}function vee(t){return gee(t)}function yee(t){return gee(t,!0)}function bE(t){var e=UMe(t),n=t.ownerDocument,r=n.defaultView||n.parentWindow;return e.left+=vee(r),e.top+=yee(r),e}function KV(t){return t!=null&&t==t.window}function _ee(t){return KV(t)?t.document:t.nodeType===9?t:t.ownerDocument}function VMe(t,e,n){var r=n,i="",o=_ee(t);return r=r||o.defaultView.getComputedStyle(t,null),r&&(i=r.getPropertyValue(e)||r[e]),i}var BMe=new RegExp("^(".concat(FMe,")(?!px)[a-z%]+$"),"i"),$Me=/^(top|right|bottom|left)$/,UO="currentStyle",VO="runtimeStyle",Qp="left",HMe="px";function jMe(t,e){var n=t[UO]&&t[UO][e];if(BMe.test(n)&&!$Me.test(e)){var r=t.style,i=r[Qp],o=t[VO][Qp];t[VO][Qp]=t[UO][Qp],r[Qp]=e==="fontSize"?"1em":n||0,n=r.pixelLeft+HMe,r[Qp]=i,t[VO][Qp]=o}return n===""?"auto":n}typeof window<"u"&&(Cw=window.getComputedStyle?VMe:jMe);function SS(t,e){return t==="left"?e.useCssRight?"right":t:e.useCssBottom?"bottom":t}function iz(t){if(t==="left")return"right";if(t==="right")return"left";if(t==="top")return"bottom";if(t==="bottom")return"top"}function oz(t,e,n){Yv(t,"position")==="static"&&(t.style.position="relative");var r=-999,i=-999,o=SS("left",n),a=SS("top",n),l=iz(o),u=iz(a);o!=="left"&&(r=999),a!=="top"&&(i=999);var f="",h=bE(t);("left"in e||"top"in e)&&(f=PMe(t)||"",nz(t,"none")),"left"in e&&(t.style[l]="",t.style[o]="".concat(r,"px")),"top"in e&&(t.style[u]="",t.style[a]="".concat(i,"px")),rz(t);var g=bE(t),y={};for(var w in e)if(e.hasOwnProperty(w)){var T=SS(w,n),C=w==="left"?r:i,R=h[w]-g[w];T===w?y[T]=C+R:y[T]=C-R}Yv(t,y),rz(t),("left"in e||"top"in e)&&nz(t,f);var I={};for(var k in e)if(e.hasOwnProperty(k)){var O=SS(k,n),A=e[k]-h[k];k===O?I[O]=y[O]+A:I[O]=y[O]-A}Yv(t,I)}function zMe(t,e){var n=bE(t),r=NMe(t),i={x:r.x,y:r.y};"left"in e&&(i.x=r.x+e.left-n.left),"top"in e&&(i.y=r.y+e.top-n.top),MMe(t,i)}function WMe(t,e,n){if(n.ignoreShake){var r=bE(t),i=r.left.toFixed(0),o=r.top.toFixed(0),a=e.left.toFixed(0),l=e.top.toFixed(0);if(i===a&&o===l)return}n.useCssRight||n.useCssBottom?oz(t,e,n):n.useCssTransform&&y1()in document.body.style?zMe(t,e):oz(t,e,n)}function GV(t,e){for(var n=0;n<t.length;n++)e(t[n])}function bee(t){return Cw(t,"boxSizing")==="border-box"}var qMe=["margin","border","padding"],MD=-1,KMe=2,FD=1,GMe=0;function YMe(t,e,n){var r={},i=t.style,o;for(o in e)e.hasOwnProperty(o)&&(r[o]=i[o],i[o]=e[o]);n.call(t);for(o in e)e.hasOwnProperty(o)&&(i[o]=r[o])}function jb(t,e,n){var r=0,i,o,a;for(o=0;o<e.length;o++)if(i=e[o],i)for(a=0;a<n.length;a++){var l=void 0;i==="border"?l="".concat(i).concat(n[a],"Width"):l=i+n[a],r+=parseFloat(Cw(t,l))||0}return r}var ef={getParent:function(e){var n=e;do n.nodeType===11&&n.host?n=n.host:n=n.parentNode;while(n&&n.nodeType!==1&&n.nodeType!==9);return n}};GV(["Width","Height"],function(t){ef["doc".concat(t)]=function(e){var n=e.document;return Math.max(n.documentElement["scroll".concat(t)],n.body["scroll".concat(t)],ef["viewport".concat(t)](n))},ef["viewport".concat(t)]=function(e){var n="client".concat(t),r=e.document,i=r.body,o=r.documentElement,a=o[n];return r.compatMode==="CSS1Compat"&&a||i&&i[n]||a}});function az(t,e,n){var r=n;if(KV(t))return e==="width"?ef.viewportWidth(t):ef.viewportHeight(t);if(t.nodeType===9)return e==="width"?ef.docWidth(t):ef.docHeight(t);var i=e==="width"?["Left","Right"]:["Top","Bottom"],o=Math.floor(e==="width"?t.getBoundingClientRect().width:t.getBoundingClientRect().height),a=bee(t),l=0;(o==null||o<=0)&&(o=void 0,l=Cw(t,e),(l==null||Number(l)<0)&&(l=t.style[e]||0),l=Math.floor(parseFloat(l))||0),r===void 0&&(r=a?FD:MD);var u=o!==void 0||a,f=o||l;return r===MD?u?f-jb(t,["border","padding"],i):l:u?r===FD?f:f+(r===KMe?-jb(t,["border"],i):jb(t,["margin"],i)):l+jb(t,qMe.slice(r),i)}var QMe={position:"absolute",visibility:"hidden",display:"block"};function sz(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r,i=e[0];return i.offsetWidth!==0?r=az.apply(void 0,e):YMe(i,QMe,function(){r=az.apply(void 0,e)}),r}GV(["width","height"],function(t){var e=t.charAt(0).toUpperCase()+t.slice(1);ef["outer".concat(e)]=function(r,i){return r&&sz(r,t,i?GMe:FD)};var n=t==="width"?["Left","Right"]:["Top","Bottom"];ef[t]=function(r,i){var o=i;if(o!==void 0){if(r){var a=bee(r);return a&&(o+=jb(r,["padding","border"],n)),Yv(r,t,o)}return}return r&&sz(r,t,MD)}});function Eee(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}var ln={getWindow:function(e){if(e&&e.document&&e.setTimeout)return e;var n=e.ownerDocument||e;return n.defaultView||n.parentWindow},getDocument:_ee,offset:function(e,n,r){if(typeof n<"u")WMe(e,n,r||{});else return bE(e)},isWindow:KV,each:GV,css:Yv,clone:function(e){var n,r={};for(n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);var i=e.overflow;if(i)for(n in e)e.hasOwnProperty(n)&&(r.overflow[n]=e.overflow[n]);return r},mix:Eee,getWindowScrollLeft:function(e){return vee(e)},getWindowScrollTop:function(e){return yee(e)},merge:function(){for(var e={},n=0;n<arguments.length;n++)ln.mix(e,n<0||arguments.length<=n?void 0:arguments[n]);return e},viewportWidth:0,viewportHeight:0};Eee(ln,ef);var BO=ln.getParent;function UD(t){if(ln.isWindow(t)||t.nodeType===9)return null;var e=ln.getDocument(t),n=e.body,r,i=ln.css(t,"position"),o=i==="fixed"||i==="absolute";if(!o)return t.nodeName.toLowerCase()==="html"?null:BO(t);for(r=BO(t);r&&r!==n&&r.nodeType!==9;r=BO(r))if(i=ln.css(r,"position"),i!=="static")return r;return null}var lz=ln.getParent;function XMe(t){if(ln.isWindow(t)||t.nodeType===9)return!1;var e=ln.getDocument(t),n=e.body,r=null;for(r=lz(t);r&&r!==n&&r!==e;r=lz(r)){var i=ln.css(r,"position");if(i==="fixed")return!0}return!1}function YV(t,e){for(var n={left:0,right:1/0,top:0,bottom:1/0},r=UD(t),i=ln.getDocument(t),o=i.defaultView||i.parentWindow,a=i.body,l=i.documentElement;r;){if((navigator.userAgent.indexOf("MSIE")===-1||r.clientWidth!==0)&&r!==a&&r!==l&&ln.css(r,"overflow")!=="visible"){var u=ln.offset(r);u.left+=r.clientLeft,u.top+=r.clientTop,n.top=Math.max(n.top,u.top),n.right=Math.min(n.right,u.left+r.clientWidth),n.bottom=Math.min(n.bottom,u.top+r.clientHeight),n.left=Math.max(n.left,u.left)}else if(r===a||r===l)break;r=UD(r)}var f=null;if(!ln.isWindow(t)&&t.nodeType!==9){f=t.style.position;var h=ln.css(t,"position");h==="absolute"&&(t.style.position="fixed")}var g=ln.getWindowScrollLeft(o),y=ln.getWindowScrollTop(o),w=ln.viewportWidth(o),T=ln.viewportHeight(o),C=l.scrollWidth,R=l.scrollHeight,I=window.getComputedStyle(a);if(I.overflowX==="hidden"&&(C=o.innerWidth),I.overflowY==="hidden"&&(R=o.innerHeight),t.style&&(t.style.position=f),e||XMe(t))n.left=Math.max(n.left,g),n.top=Math.max(n.top,y),n.right=Math.min(n.right,g+w),n.bottom=Math.min(n.bottom,y+T);else{var k=Math.max(C,g+w);n.right=Math.min(n.right,k);var O=Math.max(R,y+T);n.bottom=Math.min(n.bottom,O)}return n.top>=0&&n.left>=0&&n.bottom>n.top&&n.right>n.left?n:null}function JMe(t,e,n,r){var i=ln.clone(t),o={width:e.width,height:e.height};return r.adjustX&&i.left<n.left&&(i.left=n.left),r.resizeWidth&&i.left>=n.left&&i.left+o.width>n.right&&(o.width-=i.left+o.width-n.right),r.adjustX&&i.left+o.width>n.right&&(i.left=Math.max(n.right-o.width,n.left)),r.adjustY&&i.top<n.top&&(i.top=n.top),r.resizeHeight&&i.top>=n.top&&i.top+o.height>n.bottom&&(o.height-=i.top+o.height-n.bottom),r.adjustY&&i.top+o.height>n.bottom&&(i.top=Math.max(n.bottom-o.height,n.top)),ln.mix(i,o)}function QV(t){var e,n,r;if(!ln.isWindow(t)&&t.nodeType!==9)e=ln.offset(t),n=ln.outerWidth(t),r=ln.outerHeight(t);else{var i=ln.getWindow(t);e={left:ln.getWindowScrollLeft(i),top:ln.getWindowScrollTop(i)},n=ln.viewportWidth(i),r=ln.viewportHeight(i)}return e.width=n,e.height=r,e}function uz(t,e){var n=e.charAt(0),r=e.charAt(1),i=t.width,o=t.height,a=t.left,l=t.top;return n==="c"?l+=o/2:n==="b"&&(l+=o),r==="c"?a+=i/2:r==="r"&&(a+=i),{left:a,top:l}}function TS(t,e,n,r,i){var o=uz(e,n[1]),a=uz(t,n[0]),l=[a.left-o.left,a.top-o.top];return{left:Math.round(t.left-l[0]+r[0]-i[0]),top:Math.round(t.top-l[1]+r[1]-i[1])}}function cz(t,e,n){return t.left<n.left||t.left+e.width>n.right}function fz(t,e,n){return t.top<n.top||t.top+e.height>n.bottom}function ZMe(t,e,n){return t.left>n.right||t.left+e.width<n.left}function eFe(t,e,n){return t.top>n.bottom||t.top+e.height<n.top}function xS(t,e,n){var r=[];return ln.each(t,function(i){r.push(i.replace(e,function(o){return n[o]}))}),r}function AS(t,e){return t[e]=-t[e],t}function dz(t,e){var n;return/%$/.test(t)?n=parseInt(t.substring(0,t.length-1),10)/100*e:n=parseInt(t,10),n||0}function hz(t,e){t[0]=dz(t[0],e.width),t[1]=dz(t[1],e.height)}function wee(t,e,n,r){var i=n.points,o=n.offset||[0,0],a=n.targetOffset||[0,0],l=n.overflow,u=n.source||t;o=[].concat(o),a=[].concat(a),l=l||{};var f={},h=0,g=!!(l&&l.alwaysByViewport),y=YV(u,g),w=QV(u);hz(o,w),hz(a,e);var T=TS(w,e,i,o,a),C=ln.merge(w,T);if(y&&(l.adjustX||l.adjustY)&&r){if(l.adjustX&&cz(T,w,y)){var R=xS(i,/[lr]/gi,{l:"r",r:"l"}),I=AS(o,0),k=AS(a,0),O=TS(w,e,R,I,k);ZMe(O,w,y)||(h=1,i=R,o=I,a=k)}if(l.adjustY&&fz(T,w,y)){var A=xS(i,/[tb]/gi,{t:"b",b:"t"}),V=AS(o,1),D=AS(a,1),P=TS(w,e,A,V,D);eFe(P,w,y)||(h=1,i=A,o=V,a=D)}h&&(T=TS(w,e,i,o,a),ln.mix(C,T));var N=cz(T,w,y),$=fz(T,w,y);if(N||$){var q=i;N&&(q=xS(i,/[lr]/gi,{l:"r",r:"l"})),$&&(q=xS(i,/[tb]/gi,{t:"b",b:"t"})),i=q,o=n.offset||[0,0],a=n.targetOffset||[0,0]}f.adjustX=l.adjustX&&N,f.adjustY=l.adjustY&&$,(f.adjustX||f.adjustY)&&(C=JMe(T,w,y,f))}return C.width!==w.width&&ln.css(u,"width",ln.width(u)+C.width-w.width),C.height!==w.height&&ln.css(u,"height",ln.height(u)+C.height-w.height),ln.offset(u,{left:C.left,top:C.top},{useCssRight:n.useCssRight,useCssBottom:n.useCssBottom,useCssTransform:n.useCssTransform,ignoreShake:n.ignoreShake}),{points:i,offset:o,targetOffset:a,overflow:f}}function tFe(t,e){var n=YV(t,e),r=QV(t);return!n||r.left+r.width<=n.left||r.top+r.height<=n.top||r.left>=n.right||r.top>=n.bottom}function XV(t,e,n){var r=n.target||e,i=QV(r),o=!tFe(r,n.overflow&&n.overflow.alwaysByViewport);return wee(t,i,n,o)}XV.__getOffsetParent=UD;XV.__getVisibleRectForElement=YV;function nFe(t,e,n){var r,i,o=ln.getDocument(t),a=o.defaultView||o.parentWindow,l=ln.getWindowScrollLeft(a),u=ln.getWindowScrollTop(a),f=ln.viewportWidth(a),h=ln.viewportHeight(a);"pageX"in e?r=e.pageX:r=l+e.clientX,"pageY"in e?i=e.pageY:i=u+e.clientY;var g={left:r,top:i,width:0,height:0},y=r>=0&&r<=l+f&&i>=0&&i<=u+h,w=[n.points[0],"cc"];return wee(t,g,tz(tz({},n),{},{points:w}),y)}function rFe(t,e){var n=void 0;function r(){n&&(clearTimeout(n),n=null)}function i(){r(),n=setTimeout(t,e)}return i.clear=r,i}function iFe(t,e){return t===e?!0:!t||!e?!1:"pageX"in e&&"pageY"in e?t.pageX===e.pageX&&t.pageY===e.pageY:"clientX"in e&&"clientY"in e?t.clientX===e.clientX&&t.clientY===e.clientY:!1}function pz(t){return t&&typeof t=="object"&&t.window===t}function mz(t,e){var n=Math.floor(t),r=Math.floor(e);return Math.abs(n-r)<=1}function oFe(t,e){t!==document.activeElement&&kD(e,t)&&t.focus()}function $O(t){return typeof t!="function"||!t?null:t()}function HO(t){return typeof t!="object"||!t?null:t}var sA=function(t){Rd(e,t);function e(){var n,r,i,o;kd(this,e);for(var a=arguments.length,l=Array(a),u=0;u<a;u++)l[u]=arguments[u];return o=(r=(i=uc(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(l))),i),i.forceAlign=function(){var f=i.props,h=f.disabled,g=f.target,y=f.align,w=f.onAlign;if(!h&&g){var T=ff.findDOMNode(i),C=void 0,R=$O(g),I=HO(g),k=document.activeElement;R?C=XV(T,R,y):I&&(C=nFe(T,I,y)),oFe(k,T),w&&w(T,C)}},r),uc(i,o)}return qV(e,[{key:"componentDidMount",value:function(){var r=this.props;this.forceAlign(),!r.disabled&&r.monitorWindowResize&&this.startMonitorWindowResize()}},{key:"componentDidUpdate",value:function(r){var i=!1,o=this.props;if(!o.disabled){var a=ff.findDOMNode(this),l=a?a.getBoundingClientRect():null;if(r.disabled)i=!0;else{var u=$O(r.target),f=$O(o.target),h=HO(r.target),g=HO(o.target);pz(u)&&pz(f)?i=!1:(u!==f||u&&!f&&g||h&&g&&f||g&&!iFe(h,g))&&(i=!0);var y=this.sourceRect||{};!i&&a&&(!mz(y.width,l.width)||!mz(y.height,l.height))&&(i=!0)}this.sourceRect=l}i&&this.forceAlign(),o.monitorWindowResize&&!o.disabled?this.startMonitorWindowResize():this.stopMonitorWindowResize()}},{key:"componentWillUnmount",value:function(){this.stopMonitorWindowResize()}},{key:"startMonitorWindowResize",value:function(){this.resizeHandler||(this.bufferMonitor=rFe(this.forceAlign,this.props.monitorBufferTime),this.resizeHandler=Hb(window,"resize",this.bufferMonitor))}},{key:"stopMonitorWindowResize",value:function(){this.resizeHandler&&(this.bufferMonitor.clear(),this.resizeHandler.remove(),this.resizeHandler=null)}},{key:"render",value:function(){var r=this,i=this.props,o=i.childrenProps,a=i.children,l=Y.Children.only(a);if(o){var u={},f=Object.keys(o);return f.forEach(function(h){u[h]=r.props[o[h]]}),Y.cloneElement(l,u)}return l}}]),e}(B.Component);sA.propTypes={childrenProps:de.object,align:de.object.isRequired,target:de.oneOfType([de.func,de.shape({clientX:de.number,clientY:de.number,pageX:de.number,pageY:de.number})]),onAlign:de.func,monitorBufferTime:de.number,monitorWindowResize:de.bool,disabled:de.bool,children:de.any};sA.defaultProps={target:function(){return window},monitorBufferTime:50,monitorWindowResize:!1,disabled:!1};var aFe=pee,sFe=lFe(aFe);function lFe(t){return t&&t.__esModule?t:{default:t}}var uFe=function(t,e,n){return e in t?(0,sFe.default)(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},cFe=function(e){var n=e.prototype;if(!n||!n.isReactComponent)throw new Error("Can only polyfill class components");return typeof n.componentWillReceiveProps!="function"||!Y.Profiler||(n.UNSAFE_componentWillReceiveProps=n.componentWillReceiveProps,delete n.componentWillReceiveProps),e};function v0(t){var e=[];return Y.Children.forEach(t,function(n){e.push(n)}),e}function hv(t,e){var n=null;return t&&t.forEach(function(r){n||r&&r.key===e&&(n=r)}),n}function jO(t,e,n){var r=null;return t&&t.forEach(function(i){if(i&&i.key===e&&i.props[n]){if(r)throw new Error("two child with same key for <rc-animate> children");r=i}}),r}function fFe(t,e,n){var r=t.length===e.length;return r&&t.forEach(function(i,o){var a=e[o];i&&a&&(i&&!a||!i&&a||i.key!==a.key||n&&i.props[n]!==a.props[n])&&(r=!1)}),r}function dFe(t,e){var n=[],r={},i=[];return t.forEach(function(o){o&&hv(e,o.key)?i.length&&(r[o.key]=i,i=[]):i.push(o)}),e.forEach(function(o){o&&Object.prototype.hasOwnProperty.call(r,o.key)&&(n=n.concat(r[o.key])),n.push(o)}),n=n.concat(i),n}var zO={transitionstart:{transition:"transitionstart",WebkitTransition:"webkitTransitionStart",MozTransition:"mozTransitionStart",OTransition:"oTransitionStart",msTransition:"MSTransitionStart"},animationstart:{animation:"animationstart",WebkitAnimation:"webkitAnimationStart",MozAnimation:"mozAnimationStart",OAnimation:"oAnimationStart",msAnimation:"MSAnimationStart"}},WO={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}},pv=[],mv=[];function hFe(){var t=document.createElement("div"),e=t.style;"AnimationEvent"in window||(delete zO.animationstart.animation,delete WO.animationend.animation),"TransitionEvent"in window||(delete zO.transitionstart.transition,delete WO.transitionend.transition);function n(r,i){for(var o in r)if(r.hasOwnProperty(o)){var a=r[o];for(var l in a)if(l in e){i.push(a[l]);break}}}n(zO,pv),n(WO,mv)}typeof window<"u"&&typeof document<"u"&&hFe();function gz(t,e,n){t.addEventListener(e,n,!1)}function vz(t,e,n){t.removeEventListener(e,n,!1)}var EE={startEvents:pv,addStartEventListener:function(e,n){if(pv.length===0){window.setTimeout(n,0);return}pv.forEach(function(r){gz(e,r,n)})},removeStartEventListener:function(e,n){pv.length!==0&&pv.forEach(function(r){vz(e,r,n)})},endEvents:mv,addEndEventListener:function(e,n){if(mv.length===0){window.setTimeout(n,0);return}mv.forEach(function(r){gz(e,r,n)})},removeEndEventListener:function(e,n){mv.length!==0&&mv.forEach(function(r){vz(e,r,n)})}},qO,yz;function _z(){return yz||(yz=1,qO=function(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0;n<t.length;++n)if(t[n]===e)return n;return-1}),qO}try{var _1=_z()}catch{var _1=_z()}var pFe=/\s+/,mFe=Object.prototype.toString,gFe=function(t){return new ap(t)};function ap(t){if(!t||!t.nodeType)throw new Error("A DOM element reference is required");this.el=t,this.list=t.classList}ap.prototype.add=function(t){if(this.list)return this.list.add(t),this;var e=this.array(),n=_1(e,t);return~n||e.push(t),this.el.className=e.join(" "),this};ap.prototype.remove=function(t){if(mFe.call(t)=="[object RegExp]")return this.removeMatching(t);if(this.list)return this.list.remove(t),this;var e=this.array(),n=_1(e,t);return~n&&e.splice(n,1),this.el.className=e.join(" "),this};ap.prototype.removeMatching=function(t){for(var e=this.array(),n=0;n<e.length;n++)t.test(e[n])&&this.remove(e[n]);return this};ap.prototype.toggle=function(t,e){return this.list?(typeof e<"u"?e!==this.list.toggle(t,e)&&this.list.toggle(t):this.list.toggle(t),this):(typeof e<"u"?e?this.add(t):this.remove(t):this.has(t)?this.remove(t):this.add(t),this)};ap.prototype.array=function(){var t=this.el.getAttribute("class")||"",e=t.replace(/^\s+|\s+$/g,""),n=e.split(pFe);return n[0]===""&&n.shift(),n};ap.prototype.has=ap.prototype.contains=function(t){return this.list?this.list.contains(t):!!~_1(this.array(),t)};const vFe=ra(gFe);var JV=EE.endEvents.length!==0,yFe=["Webkit","Moz","O","ms"],bz=["-webkit-","-moz-","-o-","ms-",""];function IS(t,e){for(var n=window.getComputedStyle(t,null),r="",i=0;i<bz.length&&(r=n.getPropertyValue(bz[i]+e),!r);i++);return r}function Cee(t){if(JV){var e=parseFloat(IS(t,"transition-delay"))||0,n=parseFloat(IS(t,"transition-duration"))||0,r=parseFloat(IS(t,"animation-delay"))||0,i=parseFloat(IS(t,"animation-duration"))||0,o=Math.max(n+e,i+r);t.rcEndAnimTimeout=setTimeout(function(){t.rcEndAnimTimeout=null,t.rcEndListener&&t.rcEndListener()},o*1e3+200)}}function See(t){t.rcEndAnimTimeout&&(clearTimeout(t.rcEndAnimTimeout),t.rcEndAnimTimeout=null)}var b1=function(e,n,r){var i=(typeof n>"u"?"undefined":DDe(n))==="object",o=i?n.name:n,a=i?n.active:n+"-active",l=r,u=void 0,f=void 0,h=vFe(e);return r&&Object.prototype.toString.call(r)==="[object Object]"&&(l=r.end,u=r.start,f=r.active),e.rcEndListener&&e.rcEndListener(),e.rcEndListener=function(g){g&&g.target!==e||(e.rcAnimTimeout&&(clearTimeout(e.rcAnimTimeout),e.rcAnimTimeout=null),See(e),h.remove(o),h.remove(a),EE.removeEndEventListener(e,e.rcEndListener),e.rcEndListener=null,l&&l())},EE.addEndEventListener(e,e.rcEndListener),u&&u(),h.add(o),e.rcAnimTimeout=setTimeout(function(){e.rcAnimTimeout=null,h.add(a),f&&setTimeout(f,0),Cee(e)},30),{stop:function(){e.rcEndListener&&e.rcEndListener()}}};b1.style=function(t,e,n){t.rcEndListener&&t.rcEndListener(),t.rcEndListener=function(r){r&&r.target!==t||(t.rcAnimTimeout&&(clearTimeout(t.rcAnimTimeout),t.rcAnimTimeout=null),See(t),EE.removeEndEventListener(t,t.rcEndListener),t.rcEndListener=null,n&&n())},EE.addEndEventListener(t,t.rcEndListener),t.rcAnimTimeout=setTimeout(function(){for(var r in e)e.hasOwnProperty(r)&&(t.style[r]=e[r]);t.rcAnimTimeout=null,Cee(t)},0)};b1.setTransition=function(t,e,n){var r=e,i=n;n===void 0&&(i=r,r=""),r=r||"",yFe.forEach(function(o){t.style[o+"Transition"+r]=i})};b1.isCssAnimationSupported=JV;var Qv={isAppearSupported:function(e){return e.transitionName&&e.transitionAppear||e.animation.appear},isEnterSupported:function(e){return e.transitionName&&e.transitionEnter||e.animation.enter},isLeaveSupported:function(e){return e.transitionName&&e.transitionLeave||e.animation.leave},allowAppearCallback:function(e){return e.transitionAppear||e.animation.appear},allowEnterCallback:function(e){return e.transitionEnter||e.animation.enter},allowLeaveCallback:function(e){return e.transitionLeave||e.animation.leave}},_Fe={enter:"transitionEnter",appear:"transitionAppear",leave:"transitionLeave"},Tee=function(t){Rd(e,t);function e(){return kd(this,e),uc(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return qV(e,[{key:"componentWillUnmount",value:function(){this.stop()}},{key:"componentWillEnter",value:function(r){Qv.isEnterSupported(this.props)?this.transition("enter",r):r()}},{key:"componentWillAppear",value:function(r){Qv.isAppearSupported(this.props)?this.transition("appear",r):r()}},{key:"componentWillLeave",value:function(r){Qv.isLeaveSupported(this.props)?this.transition("leave",r):r()}},{key:"transition",value:function(r,i){var o=this,a=ff.findDOMNode(this),l=this.props,u=l.transitionName,f=typeof u=="object";this.stop();var h=function(){o.stopper=null,i()};if((JV||!l.animation[r])&&u&&l[_Fe[r]]){var g=f?u[r]:u+"-"+r,y=g+"-active";f&&u[r+"Active"]&&(y=u[r+"Active"]),this.stopper=b1(a,{name:g,active:y},h)}else this.stopper=l.animation[r](a,h)}},{key:"stop",value:function(){var r=this.stopper;r&&(this.stopper=null,r.stop())}},{key:"render",value:function(){return this.props.children}}]),e}(Y.Component);Tee.propTypes={children:de.any,animation:de.any,transitionName:de.any};var bFe="rc_animate_"+Date.now();function y0(t){var e=t.children;return Y.isValidElement(e)&&!e.key?Y.cloneElement(e,{key:bFe}):e}function kS(){}var E1=function(t){Rd(e,t);function e(n){kd(this,e);var r=uc(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return EFe.call(r),r.currentlyAnimatingKeys={},r.keysToEnter=[],r.keysToLeave=[],r.state={children:v0(y0(n))},r.childrenRefs={},r}return qV(e,[{key:"componentDidMount",value:function(){var r=this,i=this.props.showProp,o=this.state.children;i&&(o=o.filter(function(a){return!!a.props[i]})),o.forEach(function(a){a&&r.performAppear(a.key)})}},{key:"componentWillReceiveProps",value:function(r){var i=this;this.nextProps=r;var o=v0(y0(r)),a=this.props;a.exclusive&&Object.keys(this.currentlyAnimatingKeys).forEach(function(g){i.stop(g)});var l=a.showProp,u=this.currentlyAnimatingKeys,f=a.exclusive?v0(y0(a)):this.state.children,h=[];l?(f.forEach(function(g){var y=g&&hv(o,g.key),w=void 0;(!y||!y.props[l])&&g.props[l]?w=Y.cloneElement(y||g,uFe({},l,!0)):w=y,w&&h.push(w)}),o.forEach(function(g){(!g||!hv(f,g.key))&&h.push(g)})):h=dFe(f,o),this.setState({children:h}),o.forEach(function(g){var y=g&&g.key;if(!(g&&u[y])){var w=g&&hv(f,y);if(l){var T=g.props[l];if(w){var C=jO(f,y,l);!C&&T&&i.keysToEnter.push(y)}else T&&i.keysToEnter.push(y)}else w||i.keysToEnter.push(y)}}),f.forEach(function(g){var y=g&&g.key;if(!(g&&u[y])){var w=g&&hv(o,y);if(l){var T=g.props[l];if(w){var C=jO(o,y,l);!C&&T&&i.keysToLeave.push(y)}else T&&i.keysToLeave.push(y)}else w||i.keysToLeave.push(y)}})}},{key:"componentDidUpdate",value:function(){var r=this.keysToEnter;this.keysToEnter=[],r.forEach(this.performEnter);var i=this.keysToLeave;this.keysToLeave=[],i.forEach(this.performLeave)}},{key:"isValidChildByKey",value:function(r,i){var o=this.props.showProp;return o?jO(r,i,o):hv(r,i)}},{key:"stop",value:function(r){delete this.currentlyAnimatingKeys[r];var i=this.childrenRefs[r];i&&i.stop()}},{key:"render",value:function(){var r=this,i=this.props;this.nextProps=i;var o=this.state.children,a=null;o&&(a=o.map(function(f){if(f==null)return f;if(!f.key)throw new Error("must set key for <rc-animate> children");return Y.createElement(Tee,{key:f.key,ref:function(g){r.childrenRefs[f.key]=g},animation:i.animation,transitionName:i.transitionName,transitionEnter:i.transitionEnter,transitionAppear:i.transitionAppear,transitionLeave:i.transitionLeave},f)}));var l=i.component;if(l){var u=i;return typeof l=="string"&&(u=bw({className:i.className,style:i.style},i.componentProps)),Y.createElement(l,u,a)}return a[0]||null}}]),e}(Y.Component);E1.isAnimate=!0;E1.propTypes={className:de.string,style:de.object,component:de.any,componentProps:de.object,animation:de.object,transitionName:de.oneOfType([de.string,de.object]),transitionEnter:de.bool,transitionAppear:de.bool,exclusive:de.bool,transitionLeave:de.bool,onEnd:de.func,onEnter:de.func,onLeave:de.func,onAppear:de.func,showProp:de.string,children:de.node};E1.defaultProps={animation:{},component:"span",componentProps:{},transitionEnter:!0,transitionLeave:!0,transitionAppear:!1,onEnd:kS,onEnter:kS,onLeave:kS,onAppear:kS};var EFe=function(){var e=this;this.performEnter=function(n){e.childrenRefs[n]&&(e.currentlyAnimatingKeys[n]=!0,e.childrenRefs[n].componentWillEnter(e.handleDoneAdding.bind(e,n,"enter")))},this.performAppear=function(n){e.childrenRefs[n]&&(e.currentlyAnimatingKeys[n]=!0,e.childrenRefs[n].componentWillAppear(e.handleDoneAdding.bind(e,n,"appear")))},this.handleDoneAdding=function(n,r){var i=e.props;if(delete e.currentlyAnimatingKeys[n],!(i.exclusive&&i!==e.nextProps)){var o=v0(y0(i));e.isValidChildByKey(o,n)?r==="appear"?Qv.allowAppearCallback(i)&&(i.onAppear(n),i.onEnd(n,!0)):Qv.allowEnterCallback(i)&&(i.onEnter(n),i.onEnd(n,!0)):e.performLeave(n)}},this.performLeave=function(n){e.childrenRefs[n]&&(e.currentlyAnimatingKeys[n]=!0,e.childrenRefs[n].componentWillLeave(e.handleDoneLeaving.bind(e,n)))},this.handleDoneLeaving=function(n){var r=e.props;if(delete e.currentlyAnimatingKeys[n],!(r.exclusive&&r!==e.nextProps)){var i=v0(y0(r));if(e.isValidChildByKey(i,n))e.performEnter(n);else{var o=function(){Qv.allowLeaveCallback(r)&&(r.onLeave(n),r.onEnd(n,!1))};fFe(e.state.children,i,r.showProp)?o():e.setState({children:i},o)}}}};const KO=cFe(E1);var ZV=function(t){Rd(e,t);function e(){return kd(this,e),uc(this,t.apply(this,arguments))}return e.prototype.shouldComponentUpdate=function(r){return r.hiddenClassName||r.visible},e.prototype.render=function(){var r=this.props,i=r.hiddenClassName,o=r.visible,a=jZ(r,["hiddenClassName","visible"]);return i||Y.Children.count(a.children)>1?(!o&&i&&(a.className+=" "+i),b("div",{...a})):Y.Children.only(a.children)},e}(B.Component);ZV.propTypes={children:de.any,className:de.string,visible:de.bool,hiddenClassName:de.string};var VD=function(t){Rd(e,t);function e(){return kd(this,e),uc(this,t.apply(this,arguments))}return e.prototype.render=function(){var r=this.props,i=r.className;return r.visible||(i+=" "+r.hiddenClassName),b("div",{className:i,onMouseEnter:r.onMouseEnter,onMouseLeave:r.onMouseLeave,onMouseDown:r.onMouseDown,onTouchStart:r.onTouchStart,style:r.style,children:b(ZV,{className:r.prefixCls+"-content",visible:r.visible,children:r.children})})},e}(B.Component);VD.propTypes={hiddenClassName:de.string,className:de.string,prefixCls:de.string,onMouseEnter:de.func,onMouseLeave:de.func,onMouseDown:de.func,onTouchStart:de.func,children:de.any};var xee=function(t){Rd(e,t);function e(n){kd(this,e);var r=uc(this,t.call(this,n));return wFe.call(r),r.state={stretchChecked:!1,targetWidth:void 0,targetHeight:void 0},r.savePopupRef=Zj.bind(r,"popupInstance"),r.saveAlignRef=Zj.bind(r,"alignInstance"),r}return e.prototype.componentDidMount=function(){this.rootNode=this.getPopupDomNode(),this.setStretchSize()},e.prototype.componentDidUpdate=function(){this.setStretchSize()},e.prototype.getPopupDomNode=function(){return ff.findDOMNode(this.popupInstance)},e.prototype.getMaskTransitionName=function(){var r=this.props,i=r.maskTransitionName,o=r.maskAnimation;return!i&&o&&(i=r.prefixCls+"-"+o),i},e.prototype.getTransitionName=function(){var r=this.props,i=r.transitionName;return!i&&r.animation&&(i=r.prefixCls+"-"+r.animation),i},e.prototype.getClassName=function(r){return this.props.prefixCls+" "+this.props.className+" "+r},e.prototype.getPopupElement=function(){var r=this,i=this.savePopupRef,o=this.state,a=o.stretchChecked,l=o.targetHeight,u=o.targetWidth,f=this.props,h=f.align,g=f.visible,y=f.prefixCls,w=f.style,T=f.getClassNameFromAlign,C=f.destroyPopupOnHide,R=f.stretch,I=f.children,k=f.onMouseEnter,O=f.onMouseLeave,A=f.onMouseDown,V=f.onTouchStart,D=this.getClassName(this.currentAlignClassName||T(h)),P=y+"-hidden";g||(this.currentAlignClassName=null);var N={};R&&(R.indexOf("height")!==-1?N.height=l:R.indexOf("minHeight")!==-1&&(N.minHeight=l),R.indexOf("width")!==-1?N.width=u:R.indexOf("minWidth")!==-1&&(N.minWidth=u),a||(N.visibility="hidden",setTimeout(function(){r.alignInstance&&r.alignInstance.forceAlign()},0)));var $=bw({},N,w,this.getZIndexStyle()),q={className:D,prefixCls:y,ref:i,onMouseEnter:k,onMouseLeave:O,onMouseDown:A,onTouchStart:V,style:$};return C?b(KO,{component:"",exclusive:!0,transitionAppear:!0,transitionName:this.getTransitionName(),children:g?b(sA,{target:this.getAlignTarget(),ref:this.saveAlignRef,monitorWindowResize:!0,align:h,onAlign:this.onAlign,children:b(VD,{visible:!0,...q,children:I})},"popup"):null}):b(KO,{component:"",exclusive:!0,transitionAppear:!0,transitionName:this.getTransitionName(),showProp:"xVisible",children:b(sA,{target:this.getAlignTarget(),ref:this.saveAlignRef,monitorWindowResize:!0,xVisible:g,childrenProps:{visible:"xVisible"},disabled:!g,align:h,onAlign:this.onAlign,children:b(VD,{hiddenClassName:P,...q,children:I})},"popup")})},e.prototype.getZIndexStyle=function(){var r={},i=this.props;return i.zIndex!==void 0&&(r.zIndex=i.zIndex),r},e.prototype.getMaskElement=function(){var r=this.props,i=void 0;if(r.mask){var o=this.getMaskTransitionName();i=b(ZV,{style:this.getZIndexStyle(),className:r.prefixCls+"-mask",hiddenClassName:r.prefixCls+"-mask-hidden",visible:r.visible},"mask"),o&&(i=b(KO,{showProp:"visible",transitionAppear:!0,component:"",transitionName:o,children:i},"mask"))}return i},e.prototype.render=function(){return ne("div",{children:[this.getMaskElement(),this.getPopupElement()]})},e}(B.Component);xee.propTypes={visible:de.bool,style:de.object,getClassNameFromAlign:de.func,onAlign:de.func,getRootDomNode:de.func,align:de.any,destroyPopupOnHide:de.bool,className:de.string,prefixCls:de.string,onMouseEnter:de.func,onMouseLeave:de.func,onMouseDown:de.func,onTouchStart:de.func,stretch:de.string,children:de.node,point:de.shape({pageX:de.number,pageY:de.number})};var wFe=function(){var e=this;this.onAlign=function(n,r){var i=e.props,o=i.getClassNameFromAlign(r);e.currentAlignClassName!==o&&(e.currentAlignClassName=o,n.className=e.getClassName(o)),i.onAlign(n,r)},this.setStretchSize=function(){var n=e.props,r=n.stretch,i=n.getRootDomNode,o=n.visible,a=e.state,l=a.stretchChecked,u=a.targetHeight,f=a.targetWidth;if(!r||!o){l&&e.setState({stretchChecked:!1});return}var h=i();if(h){var g=h.offsetHeight,y=h.offsetWidth;(u!==g||f!==y||!l)&&e.setState({stretchChecked:!0,targetHeight:g,targetWidth:y})}},this.getTargetElement=function(){return e.props.getRootDomNode()},this.getAlignTarget=function(){var n=e.props.point;return n||e.getTargetElement}};function GO(){}function CFe(){return""}function SFe(){return window.document}var TFe=["onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur","onContextMenu"],Ez=!!md.createPortal,Aee={rcTrigger:de.shape({onPopupMouseDown:de.func})},h_=function(t){Rd(e,t);function e(n){kd(this,e);var r=uc(this,t.call(this,n));xFe.call(r);var i=void 0;return"popupVisible"in n?i=!!n.popupVisible:i=!!n.defaultPopupVisible,r.state={prevPopupVisible:i,popupVisible:i},TFe.forEach(function(o){r["fire"+o]=function(a){r.fireEvents(o,a)}}),r}return e.prototype.getChildContext=function(){return{rcTrigger:{onPopupMouseDown:this.onPopupMouseDown}}},e.prototype.componentDidMount=function(){this.componentDidUpdate({},{popupVisible:this.state.popupVisible})},e.prototype.componentDidUpdate=function(r,i){var o=this.props,a=this.state,l=function(){i.popupVisible!==a.popupVisible&&o.afterPopupVisibleChange(a.popupVisible)};if(Ez||this.renderComponent(null,l),a.popupVisible){var u=void 0;!this.clickOutsideHandler&&(this.isClickToHide()||this.isContextMenuToShow())&&(u=o.getDocument(),this.clickOutsideHandler=Hb(u,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(u=u||o.getDocument(),this.touchOutsideHandler=Hb(u,"touchstart",this.onDocumentClick)),!this.contextMenuOutsideHandler1&&this.isContextMenuToShow()&&(u=u||o.getDocument(),this.contextMenuOutsideHandler1=Hb(u,"scroll",this.onContextMenuClose)),!this.contextMenuOutsideHandler2&&this.isContextMenuToShow()&&(this.contextMenuOutsideHandler2=Hb(window,"blur",this.onContextMenuClose));return}this.clearOutsideHandler()},e.prototype.componentWillUnmount=function(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout)},e.getDerivedStateFromProps=function(r,i){var o=r.popupVisible,a={};return o!==void 0&&i.popupVisible!==o&&(a.popupVisible=o,a.prevPopupVisible=i.popupVisible),a},e.prototype.getPopupDomNode=function(){return this._component&&this._component.getPopupDomNode?this._component.getPopupDomNode():null},e.prototype.getPopupAlign=function(){var r=this.props,i=r.popupPlacement,o=r.popupAlign,a=r.builtinPlacements;return i&&a?CMe(a,i,o):o},e.prototype.setPopupVisible=function(r,i){var o=this.props.alignPoint,a=this.state.popupVisible;this.clearDelayTimer(),a!==r&&("popupVisible"in this.props||this.setState({popupVisible:r,prevPopupVisible:a}),this.props.onPopupVisibleChange(r)),o&&i&&this.setPoint(i)},e.prototype.delaySetPopupVisible=function(r,i,o){var a=this,l=i*1e3;if(this.clearDelayTimer(),l){var u=o?{pageX:o.pageX,pageY:o.pageY}:null;this.delayTimer=setTimeout(function(){a.setPopupVisible(r,u),a.clearDelayTimer()},l)}else this.setPopupVisible(r,o)},e.prototype.clearDelayTimer=function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)},e.prototype.clearOutsideHandler=function(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextMenuOutsideHandler1&&(this.contextMenuOutsideHandler1.remove(),this.contextMenuOutsideHandler1=null),this.contextMenuOutsideHandler2&&(this.contextMenuOutsideHandler2.remove(),this.contextMenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)},e.prototype.createTwoChains=function(r){var i=this.props.children.props,o=this.props;return i[r]&&o[r]?this["fire"+r]:i[r]||o[r]},e.prototype.isClickToShow=function(){var r=this.props,i=r.action,o=r.showAction;return i.indexOf("click")!==-1||o.indexOf("click")!==-1},e.prototype.isContextMenuToShow=function(){var r=this.props,i=r.action,o=r.showAction;return i.indexOf("contextMenu")!==-1||o.indexOf("contextMenu")!==-1},e.prototype.isClickToHide=function(){var r=this.props,i=r.action,o=r.hideAction;return i.indexOf("click")!==-1||o.indexOf("click")!==-1},e.prototype.isMouseEnterToShow=function(){var r=this.props,i=r.action,o=r.showAction;return i.indexOf("hover")!==-1||o.indexOf("mouseEnter")!==-1},e.prototype.isMouseLeaveToHide=function(){var r=this.props,i=r.action,o=r.hideAction;return i.indexOf("hover")!==-1||o.indexOf("mouseLeave")!==-1},e.prototype.isFocusToShow=function(){var r=this.props,i=r.action,o=r.showAction;return i.indexOf("focus")!==-1||o.indexOf("focus")!==-1},e.prototype.isBlurToHide=function(){var r=this.props,i=r.action,o=r.hideAction;return i.indexOf("focus")!==-1||o.indexOf("blur")!==-1},e.prototype.forcePopupAlign=function(){this.state.popupVisible&&this._component&&this._component.alignInstance&&this._component.alignInstance.forceAlign()},e.prototype.fireEvents=function(r,i){var o=this.props.children.props[r];o&&o(i);var a=this.props[r];a&&a(i)},e.prototype.close=function(){this.setPopupVisible(!1)},e.prototype.render=function(){var r=this,i=this.state.popupVisible,o=this.props,a=o.children,l=o.forceRender,u=o.alignPoint,f=o.className,h=Y.Children.only(a),g={key:"trigger"};this.isContextMenuToShow()?g.onContextMenu=this.onContextMenu:g.onContextMenu=this.createTwoChains("onContextMenu"),this.isClickToHide()||this.isClickToShow()?(g.onClick=this.onClick,g.onMouseDown=this.onMouseDown,g.onTouchStart=this.onTouchStart):(g.onClick=this.createTwoChains("onClick"),g.onMouseDown=this.createTwoChains("onMouseDown"),g.onTouchStart=this.createTwoChains("onTouchStart")),this.isMouseEnterToShow()?(g.onMouseEnter=this.onMouseEnter,u&&(g.onMouseMove=this.onMouseMove)):g.onMouseEnter=this.createTwoChains("onMouseEnter"),this.isMouseLeaveToHide()?g.onMouseLeave=this.onMouseLeave:g.onMouseLeave=this.createTwoChains("onMouseLeave"),this.isFocusToShow()||this.isBlurToHide()?(g.onFocus=this.onFocus,g.onBlur=this.onBlur):(g.onFocus=this.createTwoChains("onFocus"),g.onBlur=this.createTwoChains("onBlur"));var y=Lr(h&&h.props&&h.props.className,f);y&&(g.className=y);var w=Y.cloneElement(h,g);if(!Ez)return Y.createElement(WV,{parent:this,visible:i,autoMount:!1,forceRender:l,getComponent:this.getComponent,getContainer:this.getContainer},function(C){var R=C.renderComponent;return r.renderComponent=R,w});var T=void 0;return(i||this._component||l)&&(T=Y.createElement(hee,{key:"portal",getContainer:this.getContainer,didUpdate:this.handlePortalUpdate},this.getComponent())),[w,T]},e}(Y.Component);h_.propTypes={children:de.any,action:de.oneOfType([de.string,de.arrayOf(de.string)]),showAction:de.any,hideAction:de.any,getPopupClassNameFromAlign:de.any,onPopupVisibleChange:de.func,afterPopupVisibleChange:de.func,popup:de.oneOfType([de.node,de.func]).isRequired,popupStyle:de.object,prefixCls:de.string,popupClassName:de.string,className:de.string,popupPlacement:de.string,builtinPlacements:de.object,popupTransitionName:de.oneOfType([de.string,de.object]),popupAnimation:de.any,mouseEnterDelay:de.number,mouseLeaveDelay:de.number,zIndex:de.number,focusDelay:de.number,blurDelay:de.number,getPopupContainer:de.func,getDocument:de.func,forceRender:de.bool,destroyPopupOnHide:de.bool,mask:de.bool,maskClosable:de.bool,onPopupAlign:de.func,popupAlign:de.object,popupVisible:de.bool,defaultPopupVisible:de.bool,maskTransitionName:de.oneOfType([de.string,de.object]),maskAnimation:de.string,stretch:de.string,alignPoint:de.bool};h_.contextTypes=Aee;h_.childContextTypes=Aee;h_.defaultProps={prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:CFe,getDocument:SFe,onPopupVisibleChange:GO,afterPopupVisibleChange:GO,onPopupAlign:GO,popupClassName:"",mouseEnterDelay:0,mouseLeaveDelay:.1,focusDelay:0,blurDelay:.15,popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0,action:[],showAction:[],hideAction:[]};var xFe=function(){var e=this;this.onMouseEnter=function(n){var r=e.props.mouseEnterDelay;e.fireEvents("onMouseEnter",n),e.delaySetPopupVisible(!0,r,r?null:n)},this.onMouseMove=function(n){e.fireEvents("onMouseMove",n),e.setPoint(n)},this.onMouseLeave=function(n){e.fireEvents("onMouseLeave",n),e.delaySetPopupVisible(!1,e.props.mouseLeaveDelay)},this.onPopupMouseEnter=function(){e.clearDelayTimer()},this.onPopupMouseLeave=function(n){n.relatedTarget&&!n.relatedTarget.setTimeout&&e._component&&e._component.getPopupDomNode&&kD(e._component.getPopupDomNode(),n.relatedTarget)||e.delaySetPopupVisible(!1,e.props.mouseLeaveDelay)},this.onFocus=function(n){e.fireEvents("onFocus",n),e.clearDelayTimer(),e.isFocusToShow()&&(e.focusTime=Date.now(),e.delaySetPopupVisible(!0,e.props.focusDelay))},this.onMouseDown=function(n){e.fireEvents("onMouseDown",n),e.preClickTime=Date.now()},this.onTouchStart=function(n){e.fireEvents("onTouchStart",n),e.preTouchTime=Date.now()},this.onBlur=function(n){e.fireEvents("onBlur",n),e.clearDelayTimer(),e.isBlurToHide()&&e.delaySetPopupVisible(!1,e.props.blurDelay)},this.onContextMenu=function(n){n.preventDefault(),e.fireEvents("onContextMenu",n),e.setPopupVisible(!0,n)},this.onContextMenuClose=function(){e.isContextMenuToShow()&&e.close()},this.onClick=function(n){if(e.fireEvents("onClick",n),e.focusTime){var r=void 0;if(e.preClickTime&&e.preTouchTime?r=Math.min(e.preClickTime,e.preTouchTime):e.preClickTime?r=e.preClickTime:e.preTouchTime&&(r=e.preTouchTime),Math.abs(r-e.focusTime)<20)return;e.focusTime=0}e.preClickTime=0,e.preTouchTime=0,e.isClickToShow()&&(e.isClickToHide()||e.isBlurToHide())&&n&&n.preventDefault&&n.preventDefault();var i=!e.state.popupVisible;(e.isClickToHide()&&!i||i&&e.isClickToShow())&&e.setPopupVisible(!e.state.popupVisible,n)},this.onPopupMouseDown=function(){var n=e.context.rcTrigger,r=n===void 0?{}:n;e.hasPopupMouseDown=!0,clearTimeout(e.mouseDownTimeout),e.mouseDownTimeout=setTimeout(function(){e.hasPopupMouseDown=!1},0),r.onPopupMouseDown&&r.onPopupMouseDown.apply(r,arguments)},this.onDocumentClick=function(n){if(!(e.props.mask&&!e.props.maskClosable)){var r=n.target,i=md.findDOMNode(e);!kD(i,r)&&!e.hasPopupMouseDown&&e.close()}},this.getRootDomNode=function(){return md.findDOMNode(e)},this.getPopupClassNameFromAlign=function(n){var r=[],i=e.props,o=i.popupPlacement,a=i.builtinPlacements,l=i.prefixCls,u=i.alignPoint,f=i.getPopupClassNameFromAlign;return o&&a&&r.push(SMe(a,l,n,u)),f&&r.push(f(n)),r.join(" ")},this.getComponent=function(){var n=e.props,r=n.prefixCls,i=n.destroyPopupOnHide,o=n.popupClassName,a=n.action,l=n.onPopupAlign,u=n.popupAnimation,f=n.popupTransitionName,h=n.popupStyle,g=n.mask,y=n.maskAnimation,w=n.maskTransitionName,T=n.zIndex,C=n.popup,R=n.stretch,I=n.alignPoint,k=e.state,O=k.popupVisible,A=k.point,V=e.getPopupAlign(),D={};return e.isMouseEnterToShow()&&(D.onMouseEnter=e.onPopupMouseEnter),e.isMouseLeaveToHide()&&(D.onMouseLeave=e.onPopupMouseLeave),D.onMouseDown=e.onPopupMouseDown,D.onTouchStart=e.onPopupMouseDown,Y.createElement(xee,bw({prefixCls:r,destroyPopupOnHide:i,visible:O,point:I&&A,className:o,action:a,align:V,onAlign:l,animation:u,getClassNameFromAlign:e.getPopupClassNameFromAlign},D,{stretch:R,getRootDomNode:e.getRootDomNode,style:h,mask:g,zIndex:T,transitionName:f,maskAnimation:y,maskTransitionName:w,ref:e.savePopup}),typeof C=="function"?C():C)},this.getContainer=function(){var n=e.props,r=document.createElement("div");r.style.position="absolute",r.style.top="0",r.style.left="0",r.style.width="100%";var i=n.getPopupContainer?n.getPopupContainer(md.findDOMNode(e)):n.getDocument().body;return i.appendChild(r),r},this.setPoint=function(n){var r=e.props.alignPoint;!r||!n||e.setState({point:{pageX:n.pageX,pageY:n.pageY}})},this.handlePortalUpdate=function(){e.state.prevPopupVisible!==e.state.popupVisible&&e.props.afterPopupVisibleChange(e.state.popupVisible)},this.savePopup=function(n){e._component=n}};QDe(h_);var Zl={adjustX:1,adjustY:1},eu=[0,0],AFe={left:{points:["cr","cl"],overflow:Zl,offset:[-4,0],targetOffset:eu},right:{points:["cl","cr"],overflow:Zl,offset:[4,0],targetOffset:eu},top:{points:["bc","tc"],overflow:Zl,offset:[0,-4],targetOffset:eu},bottom:{points:["tc","bc"],overflow:Zl,offset:[0,4],targetOffset:eu},topLeft:{points:["bl","tl"],overflow:Zl,offset:[0,-4],targetOffset:eu},leftTop:{points:["tr","tl"],overflow:Zl,offset:[-4,0],targetOffset:eu},topRight:{points:["br","tr"],overflow:Zl,offset:[0,-4],targetOffset:eu},rightTop:{points:["tl","tr"],overflow:Zl,offset:[4,0],targetOffset:eu},bottomRight:{points:["tr","br"],overflow:Zl,offset:[0,4],targetOffset:eu},rightBottom:{points:["bl","br"],overflow:Zl,offset:[4,0],targetOffset:eu},bottomLeft:{points:["tl","bl"],overflow:Zl,offset:[0,4],targetOffset:eu},leftBottom:{points:["br","bl"],overflow:Zl,offset:[-4,0],targetOffset:eu}},Iee=function(t){Rd(e,t);function e(){return kd(this,e),uc(this,t.apply(this,arguments))}return e.prototype.componentDidUpdate=function(){var r=this.props.trigger;r&&r.forcePopupAlign()},e.prototype.render=function(){var r=this.props,i=r.overlay,o=r.prefixCls,a=r.id;return Y.createElement("div",{className:o+"-inner",id:a,role:"tooltip"},typeof i=="function"?i():i)},e}(Y.Component);Iee.propTypes={prefixCls:de.string,overlay:de.oneOfType([de.node,de.func]).isRequired,id:de.string,trigger:de.any};var e4=function(t){Rd(e,t);function e(){var n,r,i;kd(this,e);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return i=(n=(r=uc(this,t.call.apply(t,[this].concat(a))),r),r.getPopupElement=function(){var u=r.props,f=u.arrowContent,h=u.overlay,g=u.prefixCls,y=u.id;return[b("div",{className:g+"-arrow",children:f},"arrow"),b(Iee,{trigger:r.trigger,prefixCls:g,id:y,overlay:h},"content")]},r.saveTrigger=function(u){r.trigger=u},n),uc(r,i)}return e.prototype.getPopupDomNode=function(){return this.trigger.getPopupDomNode()},e.prototype.render=function(){var r=this.props,i=r.overlayClassName,o=r.trigger,a=r.mouseEnterDelay,l=r.mouseLeaveDelay,u=r.overlayStyle,f=r.prefixCls,h=r.children,g=r.onVisibleChange,y=r.afterVisibleChange,w=r.transitionName,T=r.animation,C=r.placement,R=r.align,I=r.destroyTooltipOnHide,k=r.defaultVisible,O=r.getTooltipContainer,A=jZ(r,["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer"]),V=bw({},A);return"visible"in this.props&&(V.popupVisible=this.props.visible),b(h_,{popupClassName:i,ref:this.saveTrigger,prefixCls:f,popup:this.getPopupElement,action:o,builtinPlacements:AFe,popupPlacement:C,popupAlign:R,getPopupContainer:O,onPopupVisibleChange:g,afterPopupVisibleChange:y,popupTransitionName:w,popupAnimation:T,defaultPopupVisible:k,destroyPopupOnHide:I,mouseLeaveDelay:l,popupStyle:u,mouseEnterDelay:a,...V,children:h})},e}(B.Component);e4.propTypes={trigger:de.any,children:de.any,defaultVisible:de.bool,visible:de.bool,placement:de.string,transitionName:de.oneOfType([de.string,de.object]),animation:de.any,onVisibleChange:de.func,afterVisibleChange:de.func,overlay:de.oneOfType([de.node,de.func]).isRequired,overlayStyle:de.object,overlayClassName:de.string,prefixCls:de.string,mouseEnterDelay:de.number,mouseLeaveDelay:de.number,getTooltipContainer:de.func,destroyTooltipOnHide:de.bool,align:de.object,arrowContent:de.any,id:de.string};e4.defaultProps={prefixCls:"rc-tooltip",mouseEnterDelay:0,destroyTooltipOnHide:!1,mouseLeaveDelay:.1,align:{},placement:"right",trigger:["hover"],arrowContent:null};var $a=function(e){var n=e.children,r=e.content,i=e.className,o=e.open,a=Ke(e,["children","content","className","open"]),l=gA(),u=ae(ae({},l.tooltip),a),f=u.showArrow,h=f===void 0?!1:f,g=u.enterDelay,y=g===void 0?0:g,w=u.leaveDelay,T=w===void 0?0:w,C=u.align,R=C===void 0?"top":C,I=u.activateOn,k=I===void 0?["hover","focus"]:I;return Y.createElement(e4,ae({},o!==void 0?{visible:o}:{},{trigger:Array.isArray(k)?k:[k],prefixCls:"rmwc-tooltip",placement:R,transitionName:"rmwc-tooltip-zoom",mouseEnterDelay:y/1e3,mouseLeaveDelay:T/1e3,overlay:r,overlayClassName:Lr(i,{"rmwc-tooltip--show-arrow":h}),destroyTooltipOnHide:!0}),n)},bT="right-scroll-bar-position",ET="width-before-scroll-bar",IFe="with-scroll-bars-hidden",kFe="--removed-body-scroll-bar-size";function YO(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function RFe(t,e){var n=B.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var OFe=typeof window<"u"?B.useLayoutEffect:B.useEffect,wz=new WeakMap;function kee(t,e){var n=RFe(null,function(r){return t.forEach(function(i){return YO(i,r)})});return OFe(function(){var r=wz.get(n);if(r){var i=new Set(r),o=new Set(t),a=n.current;i.forEach(function(l){o.has(l)||YO(l,null)}),o.forEach(function(l){i.has(l)||YO(l,a)})}wz.set(n,t)},[t]),n}function Ree(t){return t}function Oee(t,e){e===void 0&&(e=Ree);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var a=e(o,r);return n.push(a),function(){n=n.filter(function(l){return l!==a})}},assignSyncMedium:function(o){for(r=!0;n.length;){var a=n;n=[],a.forEach(o)}n={push:function(l){return o(l)},filter:function(){return n}}},assignMedium:function(o){r=!0;var a=[];if(n.length){var l=n;n=[],l.forEach(o),a=n}var u=function(){var h=a;a=[],h.forEach(o)},f=function(){return Promise.resolve().then(u)};f(),n={push:function(h){a.push(h),f()},filter:function(h){return a=a.filter(h),n}}}};return i}function t4(t,e){return e===void 0&&(e=Ree),Oee(t,e)}function n4(t){t===void 0&&(t={});var e=Oee(null);return e.options=ae({async:!0,ssr:!1},t),e}var Pee=function(t){var e=t.sideCar,n=Ke(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return B.createElement(r,ae({},n))};Pee.isSideCarExport=!0;function r4(t,e){return t.useMedium(e),Pee}var Nee=n4(),QO=function(){},i4=B.forwardRef(function(t,e){var n=B.useRef(null),r=B.useState({onScrollCapture:QO,onWheelCapture:QO,onTouchMoveCapture:QO}),i=r[0],o=r[1],a=t.forwardProps,l=t.children,u=t.className,f=t.removeScrollBar,h=t.enabled,g=t.shards,y=t.sideCar,w=t.noIsolation,T=t.inert,C=t.allowPinchZoom,R=t.as,I=R===void 0?"div":R,k=t.gapMode,O=Ke(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=y,V=kee([n,e]),D=ae(ae({},O),i);return B.createElement(B.Fragment,null,h&&B.createElement(A,{sideCar:Nee,removeScrollBar:f,shards:g,noIsolation:w,inert:T,setCallbacks:o,allowPinchZoom:!!C,lockRef:n,gapMode:k}),a?B.cloneElement(B.Children.only(l),ae(ae({},D),{ref:V})):B.createElement(I,ae({},D,{className:u,ref:V}),l))});i4.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};i4.classNames={fullWidth:ET,zeroRight:bT};var BD="data-focus-lock",Lee="data-focus-lock-disabled",PFe="data-no-focus-lock",NFe="data-autofocus-inside",LFe="data-no-autofocus",XO={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"},Dee=t4({},function(t){var e=t.target,n=t.currentTarget;return{target:e,currentTarget:n}}),Mee=t4(),DFe=t4(),Fee=n4({async:!0,ssr:typeof document<"u"}),MFe=B.createContext(void 0),FFe=[],Uee=B.forwardRef(function(e,n){var r,i=B.useState(),o=i[0],a=i[1],l=B.useRef(),u=B.useRef(!1),f=B.useRef(null),h=B.useState({}),g=h[1],y=e.children,w=e.disabled,T=w===void 0?!1:w,C=e.noFocusGuards,R=C===void 0?!1:C,I=e.persistentFocus,k=I===void 0?!1:I,O=e.crossFrame,A=O===void 0?!0:O,V=e.autoFocus,D=V===void 0?!0:V;e.allowTextSelection;var P=e.group,N=e.className,$=e.whiteList,q=e.hasPositiveIndices,z=e.shards,K=z===void 0?FFe:z,Q=e.as,Ee=Q===void 0?"div":Q,he=e.lockProps,Je=he===void 0?{}:he,He=e.sideCar,xe=e.returnFocus,Te=xe===void 0?!1:xe,J=e.focusOptions,Ae=e.onActivation,Ne=e.onDeactivation,ie=B.useState({}),lt=ie[0],Ge=B.useCallback(function(Wt){var Kt=Wt.captureFocusRestore;if(!f.current){var vn,fn=(vn=document)==null?void 0:vn.activeElement;f.current=fn,fn!==document.body&&(f.current=Kt(fn))}l.current&&Ae&&Ae(l.current),u.current=!0,g()},[Ae]),ut=B.useCallback(function(){u.current=!1,Ne&&Ne(l.current),g()},[Ne]),et=B.useCallback(function(Wt){var Kt=f.current;if(Kt){var vn=(typeof Kt=="function"?Kt():Kt)||document.body,fn=typeof Te=="function"?Te(vn):Te;if(fn){var Ot=typeof fn=="object"?fn:void 0;f.current=null,Wt?Promise.resolve().then(function(){return vn.focus(Ot)}):vn.focus(Ot)}}},[Te]),_t=B.useCallback(function(Wt){u.current&&Dee.useMedium(Wt)},[]),xt=Mee.useMedium,Et=B.useCallback(function(Wt){l.current!==Wt&&(l.current=Wt,a(Wt))},[]),Dt=ti((r={},r[Lee]=T&&"disabled",r[BD]=P,r),Je),Ut=R!==!0,an=Ut&&R!=="tail",nt=kee([n,Et]),nn=B.useMemo(function(){return{observed:l,shards:K,enabled:!T,active:u.current}},[T,u.current,K,o]);return Y.createElement(Y.Fragment,null,Ut&&[b("div",{"data-focus-guard":!0,tabIndex:T?-1:0,style:XO},"guard-first"),q?b("div",{"data-focus-guard":!0,tabIndex:T?-1:1,style:XO},"guard-nearest"):null],!T&&b(He,{id:lt,sideCar:Fee,observed:o,disabled:T,persistentFocus:k,crossFrame:A,autoFocus:D,whiteList:$,shards:K,onActivation:Ge,onDeactivation:ut,returnFocus:et,focusOptions:J,noFocusGuards:R}),Y.createElement(Ee,ti({ref:nt},Dt,{className:N,onBlur:xt,onFocus:_t}),Y.createElement(MFe.Provider,{value:nn},y)),an&&b("div",{"data-focus-guard":!0,tabIndex:T?-1:0,style:XO}))});Uee.propTypes={};function o4(t){setTimeout(t,1)}var UFe=function(e){return e&&"current"in e?e.current:e},Vee=n4(),Bee="data-focus-on-hidden",VFe=B.forwardRef(function(t,e){var n=B.useState(!1),r=n[0],i=n[1],o=t.children,a=t.autoFocus,l=t.shards,u=t.enabled,f=u===void 0?!0:u,h=t.scrollLock,g=h===void 0?!0:h,y=t.focusLock,w=y===void 0?!0:y,T=t.returnFocus,C=T===void 0?!0:T,R=t.inert,I=t.allowPinchZoom,k=t.sideCar,O=t.className,A=t.shouldIgnore,V=t.style,D=t.as,P=Ke(t,["children","autoFocus","shards","enabled","scrollLock","focusLock","returnFocus","inert","allowPinchZoom","sideCar","className","shouldIgnore","style","as"]),N=k,$=r.onActivation,q=r.onDeactivation,z=Ke(r,["onActivation","onDeactivation"]),K=ae(ae({},z),{sideCar:k,shards:l,allowPinchZoom:I,as:D,inert:R,style:V,enabled:f&&g});return B.createElement(B.Fragment,null,B.createElement(Uee,{ref:e,sideCar:k,disabled:!(r&&f&&w),returnFocus:C,autoFocus:a,shards:l,onActivation:$,onDeactivation:q,className:O,whiteList:A,lockProps:K,as:i4},o),f&&B.createElement(N,ae({},P,{sideCar:Vee,setLockProps:i,shards:l})))});function BFe(t,e){function n(r){return r.displayName||r.name||"Component"}return function(i){var o=[],a;function l(){a=t(o.map(function(f){return f.props})),e(a)}var u=function(f){ic(h,f);function h(){return f.apply(this,arguments)||this}h.peek=function(){return a};var g=h.prototype;return g.componentDidMount=function(){o.push(this),l()},g.componentDidUpdate=function(){l()},g.componentWillUnmount=function(){var w=o.indexOf(this);o.splice(w,1),l()},g.render=function(){return b(i,{...this.props})},h}(B.PureComponent);return nK(u,"displayName","SideEffect("+n(i)+")"),u}}var xf=function(t){for(var e=Array(t.length),n=0;n<t.length;++n)e[n]=t[n];return e},Xm=function(t){return Array.isArray(t)?t:[t]},$ee=function(t){return Array.isArray(t)?t[0]:t},$Fe=function(t){if(t.nodeType!==Node.ELEMENT_NODE)return!1;var e=window.getComputedStyle(t,null);return!e||!e.getPropertyValue?!1:e.getPropertyValue("display")==="none"||e.getPropertyValue("visibility")==="hidden"},Hee=function(t){return t.parentNode&&t.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?t.parentNode.host:t.parentNode},jee=function(t){return t===document||t&&t.nodeType===Node.DOCUMENT_NODE},HFe=function(t){return t.hasAttribute("inert")},jFe=function(t,e){return!t||jee(t)||!$Fe(t)&&!HFe(t)&&e(Hee(t))},zee=function(t,e){var n=t.get(e);if(n!==void 0)return n;var r=jFe(e,zee.bind(void 0,t));return t.set(e,r),r},zFe=function(t,e){return t&&!jee(t)?KFe(t)?e(Hee(t)):!1:!0},Wee=function(t,e){var n=t.get(e);if(n!==void 0)return n;var r=zFe(e,Wee.bind(void 0,t));return t.set(e,r),r},qee=function(t){return t.dataset},WFe=function(t){return t.tagName==="BUTTON"},Kee=function(t){return t.tagName==="INPUT"},Gee=function(t){return Kee(t)&&t.type==="radio"},qFe=function(t){return!((Kee(t)||WFe(t))&&(t.type==="hidden"||t.disabled))},KFe=function(t){var e=t.getAttribute(LFe);return![!0,"true",""].includes(e)},a4=function(t){var e;return!!(t&&(!((e=qee(t))===null||e===void 0)&&e.focusGuard))},$D=function(t){return!a4(t)},GFe=function(t){return!!t},YFe=function(t,e){var n=Math.max(0,t.tabIndex),r=Math.max(0,e.tabIndex),i=n-r,o=t.index-e.index;if(i){if(!n)return 1;if(!r)return-1}return i||o},QFe=function(t){return t.tabIndex<0&&!t.hasAttribute("tabindex")?0:t.tabIndex},s4=function(t,e,n){return xf(t).map(function(r,i){var o=QFe(r);return{node:r,index:i,tabIndex:n&&o===-1?(r.dataset||{}).focusGuard?0:-1:o}}).filter(function(r){return!e||r.tabIndex>=0}).sort(YFe)},XFe=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"],l4=XFe.join(","),JFe="".concat(l4,", [data-focus-guard]"),Yee=function(t,e){return xf((t.shadowRoot||t).children).reduce(function(n,r){return n.concat(r.matches(e?JFe:l4)?[r]:[],Yee(r))},[])},ZFe=function(t,e){var n;return t instanceof HTMLIFrameElement&&(!((n=t.contentDocument)===null||n===void 0)&&n.body)?Ly([t.contentDocument.body],e):[t]},Ly=function(t,e){return t.reduce(function(n,r){var i,o=Yee(r,e),a=(i=[]).concat.apply(i,o.map(function(l){return ZFe(l,e)}));return n.concat(a,r.parentNode?xf(r.parentNode.querySelectorAll(l4)).filter(function(l){return l===r}):[])},[])},e2e=function(t){var e=t.querySelectorAll("[".concat(NFe,"]"));return xf(e).map(function(n){return Ly([n])}).reduce(function(n,r){return n.concat(r)},[])},u4=function(t,e){return xf(t).filter(function(n){return zee(e,n)}).filter(function(n){return qFe(n)})},Cz=function(t,e){return e===void 0&&(e=new Map),xf(t).filter(function(n){return Wee(e,n)})},c4=function(t,e,n){return s4(u4(Ly(t,n),e),!0,n)},wE=function(t,e){return s4(u4(Ly(t),e),!1)},t2e=function(t,e){return u4(e2e(t),e)},Am=function(t,e){return t.shadowRoot?Am(t.shadowRoot,e):Object.getPrototypeOf(t).contains!==void 0&&Object.getPrototypeOf(t).contains.call(t,e)?!0:xf(t.children).some(function(n){var r;if(n instanceof HTMLIFrameElement){var i=(r=n.contentDocument)===null||r===void 0?void 0:r.body;return i?Am(i,e):!1}return Am(n,e)})},n2e=function(t){for(var e=new Set,n=t.length,r=0;r<n;r+=1)for(var i=r+1;i<n;i+=1){var o=t[r].compareDocumentPosition(t[i]);(o&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&e.add(i),(o&Node.DOCUMENT_POSITION_CONTAINS)>0&&e.add(r)}return t.filter(function(a,l){return!e.has(l)})},Qee=function(t){return t.parentNode?Qee(t.parentNode):t},f4=function(t){var e=Xm(t);return e.filter(Boolean).reduce(function(n,r){var i=r.getAttribute(BD);return n.push.apply(n,i?n2e(xf(Qee(r).querySelectorAll("[".concat(BD,'="').concat(i,'"]:not([').concat(Lee,'="disabled"])')))):[r]),n},[])},r2e=function(t){try{return t()}catch{return}},CE=function(t){if(t===void 0&&(t=document),!(!t||!t.activeElement)){var e=t.activeElement;return e.shadowRoot?CE(e.shadowRoot):e instanceof HTMLIFrameElement&&r2e(function(){return e.contentWindow.document})?CE(e.contentWindow.document):e}},i2e=function(t,e){return t===e},o2e=function(t,e){return!!xf(t.querySelectorAll("iframe")).some(function(n){return i2e(n,e)})},Xee=function(t,e){return e===void 0&&(e=CE($ee(t).ownerDocument)),!e||e.dataset&&e.dataset.focusGuard?!1:f4(t).some(function(n){return Am(n,e)||o2e(n,e)})},a2e=function(t){t===void 0&&(t=document);var e=CE(t);return e?xf(t.querySelectorAll("[".concat(PFe,"]"))).some(function(n){return Am(n,e)}):!1},s2e=function(t,e){return e.filter(Gee).filter(function(n){return n.name===t.name}).filter(function(n){return n.checked})[0]||t},d4=function(t,e){return Gee(t)&&t.name?s2e(t,e):t},l2e=function(t){var e=new Set;return t.forEach(function(n){return e.add(d4(n,t))}),t.filter(function(n){return e.has(n)})},Sz=function(t){return t[0]&&t.length>1?d4(t[0],t):t[0]},Tz=function(t,e){return t.indexOf(d4(e,t))},HD="NEW_FOCUS",u2e=function(t,e,n,r,i){var o=t.length,a=t[0],l=t[o-1],u=a4(r);if(!(r&&t.indexOf(r)>=0)){var f=r!==void 0?n.indexOf(r):-1,h=i?n.indexOf(i):f,g=i?t.indexOf(i):-1;if(f===-1)return g!==-1?g:HD;if(g===-1)return HD;var y=f-h,w=n.indexOf(a),T=n.indexOf(l),C=l2e(n),R=r!==void 0?C.indexOf(r):-1,I=i?C.indexOf(i):R,k=C.filter(function(N){return N.tabIndex>=0}),O=r!==void 0?k.indexOf(r):-1,A=i?k.indexOf(i):O,V=O>=0&&A>=0?A-O:I-R;if(!y&&g>=0||e.length===0)return g;var D=Tz(t,e[0]),P=Tz(t,e[e.length-1]);if(f<=w&&u&&Math.abs(y)>1)return P;if(f>=T&&u&&Math.abs(y)>1)return D;if(y&&Math.abs(V)>1)return g;if(f<=w)return P;if(f>T)return D;if(y)return Math.abs(y)>1?g:(o+g+y)%o}},c2e=function(t){return function(e){var n,r=(n=qee(e))===null||n===void 0?void 0:n.autofocus;return e.autofocus||r!==void 0&&r!=="false"||t.indexOf(e)>=0}},xz=function(t,e,n){var r=t.map(function(o){var a=o.node;return a}),i=Cz(r.filter(c2e(n)));return i&&i.length?Sz(i):Sz(Cz(e))},jD=function(t,e){return e===void 0&&(e=[]),e.push(t),t.parentNode&&jD(t.parentNode.host||t.parentNode,e),e},JO=function(t,e){for(var n=jD(t),r=jD(e),i=0;i<n.length;i+=1){var o=n[i];if(r.indexOf(o)>=0)return o}return!1},Jee=function(t,e,n){var r=Xm(t),i=Xm(e),o=r[0],a=!1;return i.filter(Boolean).forEach(function(l){a=JO(a||l,l)||a,n.filter(Boolean).forEach(function(u){var f=JO(o,u);f&&(!a||Am(f,a)?a=f:a=JO(f,a))})}),a},Az=function(t,e){return t.reduce(function(n,r){return n.concat(t2e(r,e))},[])},f2e=function(t,e){var n=new Map;return e.forEach(function(r){return n.set(r.node,r)}),t.map(function(r){return n.get(r)}).filter(GFe)},d2e=function(t,e){var n=CE(Xm(t).length>0?document:$ee(t).ownerDocument),r=f4(t).filter($D),i=Jee(n||t,t,r),o=new Map,a=wE(r,o),l=a.filter(function(T){var C=T.node;return $D(C)});if(l[0]){var u=wE([i],o).map(function(T){var C=T.node;return C}),f=f2e(u,l),h=f.map(function(T){var C=T.node;return C}),g=f.filter(function(T){var C=T.tabIndex;return C>=0}).map(function(T){var C=T.node;return C}),y=u2e(h,g,u,n,e);if(y===HD){var w=xz(a,g,Az(r,o))||xz(a,h,Az(r,o));if(w)return{node:w};console.warn("focus-lock: cannot find any node to move focus into");return}return y===void 0?y:f[y]}},h2e=function(t){var e=f4(t).filter($D),n=Jee(t,t,e),r=s4(Ly([n],!0),!0,!0),i=Ly(e,!1);return r.map(function(o){var a=o.node,l=o.index;return{node:a,index:l,lockItem:i.indexOf(a)>=0,guard:a4(a)}})},h4=function(t,e){t&&("focus"in t&&t.focus(e),"contentWindow"in t&&t.contentWindow&&t.contentWindow.focus())},ZO=0,eP=!1,Zee=function(t,e,n){n===void 0&&(n={});var r=d2e(t,e);if(!eP&&r){if(ZO>2){console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),eP=!0,setTimeout(function(){eP=!1},1);return}ZO++,h4(r.node,n.focusOptions),ZO--}};function Tb(t){if(!t)return null;if(typeof WeakRef>"u")return function(){return t||null};var e=t?new WeakRef(t):null;return function(){return(e==null?void 0:e.deref())||null}}var p2e=function(t){if(!t)return null;for(var e=[],n=t;n&&n!==document.body;)e.push({current:Tb(n),parent:Tb(n.parentElement),left:Tb(n.previousElementSibling),right:Tb(n.nextElementSibling)}),n=n.parentElement;return{element:Tb(t),stack:e,ownerDocument:t.ownerDocument}},m2e=function(t){var e,n,r,i,o;if(t)for(var a=t.stack,l=t.ownerDocument,u=new Map,f=0,h=a;f<h.length;f++){var g=h[f],y=(e=g.parent)===null||e===void 0?void 0:e.call(g);if(y&&l.contains(y)){for(var w=(n=g.left)===null||n===void 0?void 0:n.call(g),T=g.current(),C=y.contains(T)?T:void 0,R=(r=g.right)===null||r===void 0?void 0:r.call(g),I=c4([y],u),k=(o=(i=C??(w==null?void 0:w.nextElementSibling))!==null&&i!==void 0?i:R)!==null&&o!==void 0?o:w;k;){for(var O=0,A=I;O<A.length;O++){var V=A[O];if(k!=null&&k.contains(V.node))return V.node}k=k.nextElementSibling}if(I.length)return I[0].node}}},ete=function(t){var e=p2e(t);return function(){return m2e(e)}},g2e=function(t,e,n){if(!t||!e)return console.error("no element or scope given"),{};var r=Xm(e);if(r.every(function(a){return!Am(a,t)}))return console.error("Active element is not contained in the scope"),{};var i=n?c4(r,new Map):wE(r,new Map),o=i.findIndex(function(a){var l=a.node;return l===t});if(o!==-1)return{prev:i[o-1],next:i[o+1],first:i[0],last:i[i.length-1]}},v2e=function(t,e){var n=e?c4(Xm(t),new Map):wE(Xm(t),new Map);return{first:n[0],last:n[n.length-1]}},y2e=function(t){return Object.assign({scope:document.body,cycle:!0,onlyTabbable:!0},t)},tte=function(t,e,n){e===void 0&&(e={});var r=y2e(e),i=g2e(t,r.scope,r.onlyTabbable);if(i){var o=n(i,r.cycle);o&&h4(o.node,r.focusOptions)}},_2e=function(t,e){e===void 0&&(e={}),tte(t,e,function(n,r){var i=n.next,o=n.first;return i||r&&o})},b2e=function(t,e){e===void 0&&(e={}),tte(t,e,function(n,r){var i=n.prev,o=n.last;return i||r&&o})},nte=function(t,e,n){var r,i=v2e(t,(r=e.onlyTabbable)!==null&&r!==void 0?r:!0),o=i[n];o&&h4(o.node,e.focusOptions)},E2e=function(t,e){e===void 0&&(e={}),nte(t,e,"first")},w2e=function(t,e){e===void 0&&(e={}),nte(t,e,"last")},rte=function(){return document&&document.activeElement===document.body},C2e=function(){return rte()||a2e()},Xv=null,Ns=null,Iz=function(){return null},Jv=null,SE=!1,p4=!1,S2e=function(){return!0},T2e=function(e){return(Xv.whiteList||S2e)(e)},x2e=function(e,n){Jv={observerNode:e,portaledElement:n}},A2e=function(e){return Jv&&Jv.portaledElement===e};function kz(t,e,n,r){var i=null,o=t;do{var a=r[o];if(a.guard)a.node.dataset.focusAutoGuard&&(i=a);else if(a.lockItem){if(o!==t)return;i=null}else break}while((o+=n)!==e);i&&(i.node.tabIndex=0)}var I2e=function(e){return e?!!SE:SE==="meanwhile"},k2e=function t(e,n,r){return n&&(n.host===e&&(!n.activeElement||r.contains(n.activeElement))||n.parentNode&&t(e,n.parentNode,r))},R2e=function(e,n){return n.some(function(r){return k2e(e,r,r)})},ite=function(e){return wE(e,new Map)},O2e=function(e){return!ite([e.parentNode]).some(function(n){return n.node===e})},lA=function(){var e=!1;if(Xv){var n=Xv,r=n.observed,i=n.persistentFocus,o=n.autoFocus,a=n.shards,l=n.crossFrame,u=n.focusOptions,f=n.noFocusGuards,h=r||Jv&&Jv.portaledElement;if(rte()&&Ns&&Ns!==document.body&&(!document.body.contains(Ns)||O2e(Ns))){var g=Iz();g&&g.focus()}var y=document&&document.activeElement;if(h){var w=[h].concat(a.map(UFe).filter(Boolean)),T=function(){if(!I2e(l)||!f||!Ns||p4)return!1;var O=ite(w),A=O.findIndex(function(V){var D=V.node;return D===Ns});return A===0||A===O.length-1};if((!y||T2e(y))&&(i||T()||!C2e()||!Ns&&o)&&(h&&!(Xee(w)||y&&R2e(y,w)||A2e(y))&&(document&&!Ns&&y&&!o?(y.blur&&y.blur(),document.body.focus()):(e=Zee(w,Ns,{focusOptions:u}),Jv={})),Ns=document&&document.activeElement,Ns!==document.body&&(Iz=ete(Ns)),SE=!1),document&&y!==document.activeElement&&document.querySelector("[data-focus-auto-guard]")){var C=document&&document.activeElement,R=h2e(w),I=R.map(function(k){var O=k.node;return O}).indexOf(C);I>-1&&(R.filter(function(k){var O=k.guard,A=k.node;return O&&A.dataset.focusAutoGuard}).forEach(function(k){var O=k.node;return O.removeAttribute("tabIndex")}),kz(I,R.length,1,R),kz(I,-1,-1,R))}}}return e},ote=function(e){lA()&&e&&(e.stopPropagation(),e.preventDefault())},m4=function(){return o4(lA)},P2e=function(e){var n=e.target,r=e.currentTarget;r.contains(n)||x2e(r,n)},N2e=function(){return null},ate=function(){p4=!0},ste=function(){p4=!1,SE="just",o4(function(){SE="meanwhile"})},L2e=function(){document.addEventListener("focusin",ote),document.addEventListener("focusout",m4),window.addEventListener("focus",ate),window.addEventListener("blur",ste)},D2e=function(){document.removeEventListener("focusin",ote),document.removeEventListener("focusout",m4),window.removeEventListener("focus",ate),window.removeEventListener("blur",ste)};function M2e(t){return t.filter(function(e){var n=e.disabled;return!n})}var lte={moveFocusInside:Zee,focusInside:Xee,focusNextElement:_2e,focusPrevElement:b2e,focusFirstElement:E2e,focusLastElement:w2e,captureFocusRestore:ete};function F2e(t){var e=t.slice(-1)[0];e&&!Xv&&L2e();var n=Xv,r=n&&e&&e.id===n.id;Xv=e,n&&!r&&(n.onDeactivation(),t.filter(function(i){var o=i.id;return o===n.id}).length||n.returnFocus(!e)),e?(Ns=null,(!r||n.observed!==e.observed)&&e.onActivation(lte),lA(),o4(lA)):(D2e(),Ns=null)}Dee.assignSyncMedium(P2e);Mee.assignMedium(m4);DFe.assignMedium(function(t){return t(lte)});const U2e=BFe(M2e,F2e)(N2e);r4(Fee,U2e);var V2e=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function B2e(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=V2e();return e&&t.setAttribute("nonce",e),t}function $2e(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function H2e(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var j2e=function(){var t=0,e=null;return{add:function(n){t==0&&(e=B2e())&&($2e(e,n),H2e(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},z2e=function(){var t=j2e();return function(e,n){B.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},g4=function(){var t=z2e(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},W2e={left:0,top:0,right:0,gap:0},tP=function(t){return parseInt(t||"",10)||0},q2e=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[tP(n),tP(r),tP(i)]},K2e=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return W2e;var e=q2e(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},G2e=g4(),Zv="data-scroll-locked",Y2e=function(t,e,n,r){var i=t.left,o=t.top,a=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(IFe,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Zv,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(bT,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(ET,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(bT," .").concat(bT,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(ET," .").concat(ET,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Zv,`] {
    `).concat(kFe,": ").concat(l,`px;
  }
`)},Rz=function(){var t=parseInt(document.body.getAttribute(Zv)||"0",10);return isFinite(t)?t:0},Q2e=function(){B.useEffect(function(){return document.body.setAttribute(Zv,(Rz()+1).toString()),function(){var t=Rz()-1;t<=0?document.body.removeAttribute(Zv):document.body.setAttribute(Zv,t.toString())}},[])},X2e=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;Q2e();var o=B.useMemo(function(){return K2e(i)},[i]);return B.createElement(G2e,{styles:Y2e(o,!e,i,n?"":"!important")})},zD=!1;if(typeof window<"u")try{var RS=Object.defineProperty({},"passive",{get:function(){return zD=!0,!0}});window.addEventListener("test",RS,RS),window.removeEventListener("test",RS,RS)}catch{zD=!1}var ov=zD?{passive:!1}:!1,J2e=function(t){return t.tagName==="TEXTAREA"},ute=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!J2e(t)&&n[e]==="visible")},Z2e=function(t){return ute(t,"overflowY")},eUe=function(t){return ute(t,"overflowX")},Oz=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=cte(t,r);if(i){var o=fte(t,r),a=o[1],l=o[2];if(a>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},tUe=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},nUe=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},cte=function(t,e){return t==="v"?Z2e(e):eUe(e)},fte=function(t,e){return t==="v"?tUe(e):nUe(e)},rUe=function(t,e){return t==="h"&&e==="rtl"?-1:1},iUe=function(t,e,n,r,i){var o=rUe(t,window.getComputedStyle(e).direction),a=o*r,l=n.target,u=e.contains(l),f=!1,h=a>0,g=0,y=0;do{var w=fte(t,l),T=w[0],C=w[1],R=w[2],I=C-R-o*T;(T||I)&&cte(t,l)&&(g+=I,y+=T),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!u&&l!==document.body||u&&(e.contains(l)||e===l));return(h&&Math.abs(g)<1||!h&&Math.abs(y)<1)&&(f=!0),f},OS=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Pz=function(t){return[t.deltaX,t.deltaY]},Nz=function(t){return t&&"current"in t?t.current:t},oUe=function(t,e){return t[0]===e[0]&&t[1]===e[1]},aUe=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},sUe=0,av=[];function lUe(t){var e=B.useRef([]),n=B.useRef([0,0]),r=B.useRef(),i=B.useState(sUe++)[0],o=B.useState(g4)[0],a=B.useRef(t);B.useEffect(function(){a.current=t},[t]),B.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var C=ea([t.lockRef.current],(t.shards||[]).map(Nz),!0).filter(Boolean);return C.forEach(function(R){return R.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),C.forEach(function(R){return R.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var l=B.useCallback(function(C,R){if("touches"in C&&C.touches.length===2||C.type==="wheel"&&C.ctrlKey)return!a.current.allowPinchZoom;var I=OS(C),k=n.current,O="deltaX"in C?C.deltaX:k[0]-I[0],A="deltaY"in C?C.deltaY:k[1]-I[1],V,D=C.target,P=Math.abs(O)>Math.abs(A)?"h":"v";if("touches"in C&&P==="h"&&D.type==="range")return!1;var N=Oz(P,D);if(!N)return!0;if(N?V=P:(V=P==="v"?"h":"v",N=Oz(P,D)),!N)return!1;if(!r.current&&"changedTouches"in C&&(O||A)&&(r.current=V),!V)return!0;var $=r.current||V;return iUe($,R,C,$==="h"?O:A)},[]),u=B.useCallback(function(C){var R=C;if(!(!av.length||av[av.length-1]!==o)){var I="deltaY"in R?Pz(R):OS(R),k=e.current.filter(function(V){return V.name===R.type&&(V.target===R.target||R.target===V.shadowParent)&&oUe(V.delta,I)})[0];if(k&&k.should){R.cancelable&&R.preventDefault();return}if(!k){var O=(a.current.shards||[]).map(Nz).filter(Boolean).filter(function(V){return V.contains(R.target)}),A=O.length>0?l(R,O[0]):!a.current.noIsolation;A&&R.cancelable&&R.preventDefault()}}},[]),f=B.useCallback(function(C,R,I,k){var O={name:C,delta:R,target:I,should:k,shadowParent:uUe(I)};e.current.push(O),setTimeout(function(){e.current=e.current.filter(function(A){return A!==O})},1)},[]),h=B.useCallback(function(C){n.current=OS(C),r.current=void 0},[]),g=B.useCallback(function(C){f(C.type,Pz(C),C.target,l(C,t.lockRef.current))},[]),y=B.useCallback(function(C){f(C.type,OS(C),C.target,l(C,t.lockRef.current))},[]);B.useEffect(function(){return av.push(o),t.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:y}),document.addEventListener("wheel",u,ov),document.addEventListener("touchmove",u,ov),document.addEventListener("touchstart",h,ov),function(){av=av.filter(function(C){return C!==o}),document.removeEventListener("wheel",u,ov),document.removeEventListener("touchmove",u,ov),document.removeEventListener("touchstart",h,ov)}},[]);var w=t.removeScrollBar,T=t.inert;return B.createElement(B.Fragment,null,T?B.createElement(o,{styles:aUe(i)}):null,w?B.createElement(X2e,{gapMode:t.gapMode}):null)}function uUe(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}r4(Nee,lUe);var cUe=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},sv=new WeakMap,PS=new WeakMap,NS={},nP=0,dte=function(t){return t&&(t.host||dte(t.parentNode))},fUe=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=dte(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},dUe=function(t,e,n,r){var i=fUe(e,Array.isArray(t)?t:[t]);NS[n]||(NS[n]=new WeakMap);var o=NS[n],a=[],l=new Set,u=new Set(i),f=function(g){!g||l.has(g)||(l.add(g),f(g.parentNode))};i.forEach(f);var h=function(g){!g||u.has(g)||Array.prototype.forEach.call(g.children,function(y){if(l.has(y))h(y);else try{var w=y.getAttribute(r),T=w!==null&&w!=="false",C=(sv.get(y)||0)+1,R=(o.get(y)||0)+1;sv.set(y,C),o.set(y,R),a.push(y),C===1&&T&&PS.set(y,!0),R===1&&y.setAttribute(n,"true"),T||y.setAttribute(r,"true")}catch(I){console.error("aria-hidden: cannot operate on ",y,I)}})};return h(e),l.clear(),nP++,function(){a.forEach(function(g){var y=sv.get(g)-1,w=o.get(g)-1;sv.set(g,y),o.set(g,w),y||(PS.has(g)||g.removeAttribute(r),PS.delete(g)),w||g.removeAttribute(n)}),nP--,nP||(sv=new WeakMap,sv=new WeakMap,PS=new WeakMap,NS={})}},hUe=function(t,e,n){var r=Array.from(Array.isArray(t)?t:[t]),i=e||cUe(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),dUe(r,i,n,"aria-hidden")):function(){return null}},pUe=g4(),mUe=`
 [`+Bee+`] {
   pointer-events: none !important;
 }
`,gUe=function(){return B.createElement(pUe,{styles:mUe})},Lz=function(t){return"current"in t?t.current:t};function vUe(t){var e=t.setLockProps,n=t.onEscapeKey,r=t.onClickOutside,i=t.shards,o=t.onActivation,a=t.onDeactivation,l=t.noIsolation,u=B.useState(void 0),f=u[0],h=u[1],g=B.useRef(null),y=B.useRef(0);return B.useEffect(function(){var w=function(I){I.defaultPrevented||(I.code==="Escape"||I.key==="Escape"||I.keyCode===27)&&n&&n(I)},T=function(I){I.defaultPrevented||I.target===g.current||I instanceof MouseEvent&&I.button!==0||i&&i.map(Lz).some(function(k){return k&&k.contains(I.target)||k===I.target})||r&&r(I)},C=function(I){T(I),y.current=I.touches.length},R=function(I){y.current=I.touches.length};if(f)return document.addEventListener("keydown",w),document.addEventListener("mousedown",T),document.addEventListener("touchstart",C),document.addEventListener("touchend",R),function(){document.removeEventListener("keydown",w),document.removeEventListener("mousedown",T),document.removeEventListener("touchstart",C),document.removeEventListener("touchend",R)}},[f,r,n]),B.useEffect(function(){if(f)return o&&o(f),function(){a&&a()}},[!!f]),B.useEffect(function(){var w=function(){return null},T=!1,C=function(I){l||(w=hUe(Ose([I],(i||[]).map(Lz)),document.body,Bee)),h(function(){return I})},R=function(){w(),T||h(null)};return e({onMouseDown:function(I){g.current=I.target},onTouchStart:function(I){g.current=I.target},onActivation:C,onDeactivation:R}),function(){T=!0,e(!1)}},[]),B.createElement(gUe,null)}const yUe=r4(Vee,vUe);var _Ue=function(t){return B.createElement(yUe,ae({},t))},bUe=B.forwardRef(function(t,e){return B.createElement(VFe,ae({},t,{ref:e,sideCar:_Ue}))}),qt=(t=>(t.ARRAY="array",t.BLOB="blob",t.BOOLEAN="boolean",t.GEOPOINT="geopoint",t.JSON="json",t.MAP="map",t.NULL="null",t.NUMBER="number",t.REFERENCE="reference",t.STRING="string",t.TIMESTAMP="timestamp",t))(qt||{});function w1(t){return t.operator==="=="||t.operator==="!="||t.operator===">"||t.operator===">="||t.operator==="<="||t.operator==="<"||t.operator==="array-contains"}function C1(t){return t.operator==="in"||t.operator==="not-in"||t.operator==="array-contains-any"}function uA(t){return!t.operator||t.operator===">"||t.operator===">="||t.operator==="<="||t.operator==="<"}var EUe="Expected a function",hte="__lodash_hash_undefined__",wUe="[object Function]",CUe="[object GeneratorFunction]",SUe="[object Symbol]",TUe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,xUe=/^\w*$/,AUe=/^\./,IUe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,kUe=/[\\^$.*+?()[\]{}|]/g,RUe=/\\(\\)?/g,OUe=/^\[object .+?Constructor\]$/,PUe=typeof Ei=="object"&&Ei&&Ei.Object===Object&&Ei,NUe=typeof self=="object"&&self&&self.Object===Object&&self,v4=PUe||NUe||Function("return this")();function LUe(t,e){return t==null?void 0:t[e]}function DUe(t){var e=!1;if(t!=null&&typeof t.toString!="function")try{e=!!(t+"")}catch{}return e}var MUe=Array.prototype,FUe=Function.prototype,pte=Object.prototype,rP=v4["__core-js_shared__"],Dz=function(){var t=/[^.]+$/.exec(rP&&rP.keys&&rP.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),mte=FUe.toString,y4=pte.hasOwnProperty,gte=pte.toString,UUe=RegExp("^"+mte.call(y4).replace(kUe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Mz=v4.Symbol,VUe=MUe.splice,BUe=vte(v4,"Map"),TE=vte(Object,"create"),Fz=Mz?Mz.prototype:void 0,Uz=Fz?Fz.toString:void 0;function Jm(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function $Ue(){this.__data__=TE?TE(null):{}}function HUe(t){return this.has(t)&&delete this.__data__[t]}function jUe(t){var e=this.__data__;if(TE){var n=e[t];return n===hte?void 0:n}return y4.call(e,t)?e[t]:void 0}function zUe(t){var e=this.__data__;return TE?e[t]!==void 0:y4.call(e,t)}function WUe(t,e){var n=this.__data__;return n[t]=TE&&e===void 0?hte:e,this}Jm.prototype.clear=$Ue;Jm.prototype.delete=HUe;Jm.prototype.get=jUe;Jm.prototype.has=zUe;Jm.prototype.set=WUe;function p_(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function qUe(){this.__data__=[]}function KUe(t){var e=this.__data__,n=S1(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():VUe.call(e,n,1),!0}function GUe(t){var e=this.__data__,n=S1(e,t);return n<0?void 0:e[n][1]}function YUe(t){return S1(this.__data__,t)>-1}function QUe(t,e){var n=this.__data__,r=S1(n,t);return r<0?n.push([t,e]):n[r][1]=e,this}p_.prototype.clear=qUe;p_.prototype.delete=KUe;p_.prototype.get=GUe;p_.prototype.has=YUe;p_.prototype.set=QUe;function yg(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function XUe(){this.__data__={hash:new Jm,map:new(BUe||p_),string:new Jm}}function JUe(t){return T1(this,t).delete(t)}function ZUe(t){return T1(this,t).get(t)}function eVe(t){return T1(this,t).has(t)}function tVe(t,e){return T1(this,t).set(t,e),this}yg.prototype.clear=XUe;yg.prototype.delete=JUe;yg.prototype.get=ZUe;yg.prototype.has=eVe;yg.prototype.set=tVe;function S1(t,e){for(var n=t.length;n--;)if(dVe(t[n][0],e))return n;return-1}function nVe(t,e){e=aVe(e,t)?[e]:oVe(e);for(var n=0,r=e.length;t!=null&&n<r;)t=t[cVe(e[n++])];return n&&n==r?t:void 0}function rVe(t){if(!_te(t)||lVe(t))return!1;var e=hVe(t)||DUe(t)?UUe:OUe;return e.test(fVe(t))}function iVe(t){if(typeof t=="string")return t;if(b4(t))return Uz?Uz.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function oVe(t){return yte(t)?t:uVe(t)}function T1(t,e){var n=t.__data__;return sVe(e)?n[typeof e=="string"?"string":"hash"]:n.map}function vte(t,e){var n=LUe(t,e);return rVe(n)?n:void 0}function aVe(t,e){if(yte(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||b4(t)?!0:xUe.test(t)||!TUe.test(t)||e!=null&&t in Object(e)}function sVe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function lVe(t){return!!Dz&&Dz in t}var uVe=_4(function(t){t=mVe(t);var e=[];return AUe.test(t)&&e.push(""),t.replace(IUe,function(n,r,i,o){e.push(i?o.replace(RUe,"$1"):r||n)}),e});function cVe(t){if(typeof t=="string"||b4(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function fVe(t){if(t!=null){try{return mte.call(t)}catch{}try{return t+""}catch{}}return""}function _4(t,e){if(typeof t!="function"||e&&typeof e!="function")throw new TypeError(EUe);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a),a};return n.cache=new(_4.Cache||yg),n}_4.Cache=yg;function dVe(t,e){return t===e||t!==t&&e!==e}var yte=Array.isArray;function hVe(t){var e=_te(t)?gte.call(t):"";return e==wUe||e==CUe}function _te(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function pVe(t){return!!t&&typeof t=="object"}function b4(t){return typeof t=="symbol"||pVe(t)&&gte.call(t)==SUe}function mVe(t){return t==null?"":iVe(t)}function gVe(t,e,n){var r=t==null?void 0:nVe(t,e);return r===void 0?n:r}var vVe=gVe;const Dy=ra(vVe),WD=/^-?([\d]*\.?\d+|Infinity|NaN)$/;function E4(t){return t.slice(0,t.length-1)}function My(t){if(!t.length)throw new Error(`${t} is empty and has no _last_ field name`);return t[t.length-1]}function m_(t){return t===null?qt.NULL:t instanceof Si?qt.TIMESTAMP:t instanceof Array?qt.ARRAY:t instanceof na?qt.REFERENCE:t instanceof pg?qt.GEOPOINT:t instanceof op?qt.BLOB:typeof t=="object"?qt.MAP:typeof t}function bte(t){return typeof t=="boolean"}function Ete(t){return t instanceof Si}function yVe(t){return typeof t=="string"}function wte(t){return typeof t=="number"}function _Ve(t){return t instanceof pg}function Hh(t){return m_(t)===qt.MAP}function qc(t){return m_(t)===qt.ARRAY}function Cte(t){return!Hh(t)&&!qc(t)}const bVe=Nr((t,e,n)=>{const r=Dy(t,E4(e))||t;if(Hh(r))r[My(e)]=n;else if(qc(r))r[Number(My(e))]=n;else return n}),EVe=Nr((t,e)=>{const n=Dy(t,E4(e))||t;Hh(n)?delete n[My(e)]:qc(n)&&n.splice(Number(My(e)),1)});function Im(t,e){switch(m_(t)){case qt.ARRAY:return qD(t,e,Im);case qt.MAP:return Tte(t,e,Im);case qt.BLOB:const n=t.toBase64();return n.length<e?n:n.slice(0,e)+"...";case qt.BOOLEAN:return t.toString();case qt.GEOPOINT:const r=t;return xte(r.latitude,r.longitude);case qt.NULL:return"null";case qt.NUMBER:return t.toString();case qt.REFERENCE:return t.path;case qt.STRING:return`"${t}"`;case qt.TIMESTAMP:return Ste(t.toDate());case qt.JSON:throw new Error("JSON field type is input only")}}function Ste(t,e){return t.toString()}function qD(t,e,n){let r="[";for(const i of t){if(r.length>1&&(r+=", "),r.length>e){r+="...";break}r+=n(i,e-r.length)}return r+="]",r}function Tte(t,e,n){let r="{";for(const[i,o]of Object.entries(t).sort((a,l)=>cA(a[0],l[0]))){if(r.length>1&&(r+=", "),r.length>e){r+="...";break}r+=`${i}: ${n(o,e-r.length)}`}return r+="}",r}function xte(t,e){return`[${wVe(t)}, ${CVe(e)}]`}function wVe(t){return`${Math.abs(t)} ${t>=0?"N":"S"}`}function CVe(t){return`${Math.abs(t)} ${t>=0?"E":"W"}`}function cA(t,e){return t.localeCompare(e)}const Ate=Hn("@document/addToMap")(),Ite=Hn("@document/addToArray")(),kte=Hn("@document/removeFromMap")(),Rte=Hn("@document/removeFromArray")(),Ote=Hn("@document/updateName")(),Pte=Hn("@document/updateType")(),fh=Hn("@document/updateValue")(),SVe=({value:t,onChange:e})=>b(Gy,{label:"Value",value:t.toString(),options:["true","false"],onChange:n=>{e(n.currentTarget.value==="true")}}),TVe=({name:t,value:e,onChange:n})=>{const[r,i]=B.useState(String(e.latitude)),[o,a]=B.useState(String(e.longitude)),l=`${t}-lat`,u=`${t}-long`;return B.useEffect(()=>{const f=Number(r),h=Number(o);if(!(e.latitude===f&&e.longitude===h))try{const g=new pg(f,h);n(g)}catch{}},[e,r,o,n]),ne("div",{className:"FieldEditor-geo-point",children:[b(pf,{name:l,rules:{required:"Required",min:{value:-90,message:"Must be >= -90"},max:{value:90,message:"Must be <= -90"}},render:({field:{ref:f,...h},fieldState:g})=>{var y;return b(ar,{label:"Latitude",type:"number",step:"any",defaultValue:r,error:(y=g.error)==null?void 0:y.message,...h,onChange:w=>{h.onChange(w.currentTarget.value),i(w.currentTarget.value)}})}}),b(pf,{name:u,rules:{required:"Required",min:{value:-180,message:"Must be >= -180"},max:{value:180,message:"Must be <= -180"}},render:({field:{ref:f,...h},fieldState:g})=>{var y;return b(ar,{label:"Longitude",type:"number",step:"any",defaultValue:o,error:(y=g.error)==null?void 0:y.message,...h,onChange:w=>{h.onChange(w.currentTarget.value),a(w.currentTarget.value)}})}})]})},xVe=({value:t,onChange:e,name:n})=>{const[r]=B.useState(JSON.stringify(t)),{trigger:i}=yu();async function o(a){await i(n)&&e(JSON.parse(a))}return b(pf,{name:n,rules:{validate:a=>{try{return JSON.parse(a),!0}catch{return"Must be valid JSON"}}},render:({field:{ref:a,...l},fieldState:u})=>{var f;return b(ar,{label:"JSON",defaultValue:r,error:(f=u.error)==null?void 0:f.message,...l,onChange:h=>{l.onChange(h.currentTarget.value),o(h.currentTarget.value)}})}})},AVe=({value:t,onChange:e,name:n})=>{const{trigger:r}=yu();async function i(o){await r(n)&&e(parseFloat(o))}return b(pf,{name:n,rules:{required:"Required",pattern:{value:WD,message:"Must be a number"}},render:({field:{ref:o,...a},fieldState:l})=>{var u;return b(ar,{label:"Value",defaultValue:t,error:(u=l.error)==null?void 0:u.message,...a,onChange:f=>{a.onChange(f.currentTarget.value),i(f.currentTarget.value)}})}})};class _g{constructor(e){this.path=e}}function IVe(t){return Cte(t)||t instanceof _g}function kVe(t){return!Nte(t)&&!IVe(t)}function Nte(t){return t instanceof Array}function Sw(t){return"mapChildren"in t}function Tw(t){return"arrayChildren"in t}function Lte(t){return"isJson"in t}function xE(t){if(t.uuid===void 0)throw new Error("Store has no root")}function RVe(t){if(!("value"in t))throw new Error("Field is not primitive")}function iP(t){if(!Sw(t))throw new Error("Field is not a map")}function Vz(t){if(!Tw(t))throw new Error("Field is not an array")}const OVe=({value:t,onChange:e,name:n})=>{const[r]=B.useState(t.path),i=gw(),{trigger:o}=yu();async function a(l){await o(n)&&e(new _g(l))}return b(pf,{name:n,rules:{validate:l=>{try{return o_(i,l),!0}catch{return"Must point to a document"}}},render:({field:{ref:l,...u},fieldState:f})=>{var h;return b(ar,{label:"Document path",defaultValue:r,...u,onChange:g=>{u.onChange(g.currentTarget.value),a(g.currentTarget.value)},error:(h=f.error)==null?void 0:h.message})}})};let PVe=0;function Zm(){return PVe++}function NVe(t){const e=Zm(),n=Object.entries(t).reduce(({mapChildren:r,fields:i},[o,a])=>{const l=AE(a);return xE(l),r.push({uuid:Zm(),name:o,valueId:l.uuid}),{mapChildren:r,fields:{...i,...l.fields}}},{mapChildren:[],fields:{}});return{uuid:e,fields:{...n.fields,[e]:{mapChildren:n.mapChildren}}}}function LVe(t){const e=Zm(),n=t.reduce(({arrayChildren:r,fields:i},o)=>{const a=AE(o);return xE(a),r.push({uuid:Zm(),valueId:a.uuid}),{arrayChildren:r,fields:{...i,...a.fields}}},{arrayChildren:[],fields:{}});return{uuid:e,fields:{...n.fields,[e]:{arrayChildren:n.arrayChildren}}}}function DVe(t){const e=Zm();return t instanceof na?{uuid:e,fields:{[e]:{value:new _g(t.path)}}}:{uuid:e,fields:{[e]:{value:t}}}}function AE(t){return kVe(t)?NVe(t):Nte(t)?LVe(t):DVe(t)}function KD(t,e){xE(t);const n=t.fields[t.uuid];if(Sw(n))return n.mapChildren.reduce((r,i)=>(i.name&&(r[i.name]=KD({uuid:i.valueId,fields:t.fields},e)),r),{});if(Tw(n))return n.arrayChildren.reduce((r,i)=>(r.push(KD({uuid:i.valueId,fields:t.fields},e)),r),[]);if(n.value instanceof _g){if(!e)return"";try{return o_(e,n.value.path)}catch{return""}}return n.value}function MVe(t){switch(t){case qt.BLOB:return"";case qt.BOOLEAN:return!0;case qt.GEOPOINT:return new pg(0,0);case qt.NULL:return null;case qt.NUMBER:return 0;case qt.REFERENCE:return new _g("");case qt.STRING:return"";case qt.TIMESTAMP:return Si.fromDate(new Date)}return""}function fA(t,e){return e.reduce((n,r)=>{n.push(r);const i=t[r];return Sw(i)?n.push(...fA(t,i.mapChildren.map(o=>o.valueId))):Tw(i)&&n.push(...fA(t,i.arrayChildren.map(o=>o.valueId))),n},[])}const FVe={fields:{}},Dte=B.createContext({store:FVe,dispatch:()=>{}}),UVe=vI({fields:{}}).handleAction(Ate,(t,{payload:e})=>Nr(t,n=>{const r=n.fields[e.uuid];iP(r);const i=AE(e.value);xE(i),n.fields={...n.fields,...i.fields},r.mapChildren.push({uuid:Zm(),name:e.name,valueId:i.uuid})})).handleAction(Ite,(t,{payload:e})=>Nr(t,n=>{const r=n.fields[e.uuid];Vz(r);const i=AE(e.value);xE(i),n.fields={...n.fields,...i.fields},n.fields[e.uuid].arrayChildren.push({uuid:Zm(),valueId:i.uuid})})).handleAction(kte,(t,{payload:e})=>Nr(t,n=>{const r=n.fields[e.uuid];iP(r);const i=r.mapChildren.find(o=>o.uuid===e.childId);if(!i)throw new Error("No map-child found with given ID");for(const o of fA(n.fields,[i.valueId]))delete n.fields[o];r.mapChildren=r.mapChildren.filter(o=>o.uuid!==e.childId)})).handleAction(Rte,(t,{payload:e})=>Nr(t,n=>{const r=n.fields[e.uuid];Vz(r);const i=r.arrayChildren.find(o=>o.uuid===e.childId);if(!i)throw new Error("No array-child found with given ID");for(const o of fA(n.fields,[i.valueId]))delete n.fields[o];r.arrayChildren=r.arrayChildren.filter(o=>o.uuid!==e.childId)})).handleAction(Ote,(t,{payload:e})=>Nr(t,n=>{const r=n.fields[e.uuid];iP(r);const i=r.mapChildren.find(o=>o.uuid===e.childId);if(!i)throw new Error("No map-child found with given ID");i.name=e.name})).handleAction(Pte,(t,{payload:e})=>Nr(t,n=>{e.type===qt.MAP?n.fields[e.uuid]={mapChildren:[]}:e.type===qt.ARRAY?n.fields[e.uuid]={arrayChildren:[]}:e.type===qt.JSON?n.fields[e.uuid]={isJson:!0,value:{}}:n.fields[e.uuid]={value:MVe(e.type)}})).handleAction(fh,(t,{payload:e})=>Nr(t,n=>{const r=n.fields[e.uuid];RVe(r),r.value=e.value})),VVe=(t,e)=>UVe.handlers[e.type](t,e),BVe=({store:t,dispatch:e,children:n})=>b(Dte.Provider,{value:{store:t,dispatch:e},children:n});function Mte(){const t=B.useContext(Dte);if(t===void 0)throw new Error("useDocumentStore must be used within a <DocumentStore>");return t}function Fte(){const{store:t}=Mte();return B.useMemo(()=>t,[t])}function w4(){const{dispatch:t}=Mte();return B.useMemo(()=>t,[t])}function Ute(t){const e=Fte();return B.useMemo(()=>e.fields[t],[e,t])}const $Ve=({value:t,onChange:e})=>b(ar,{value:t,outlined:!0,label:"Value",onChange:n=>e(n.currentTarget.value)});function HVe(t){const e=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0"),i=String(t.getHours()).padStart(2,"0"),o=String(t.getMinutes()).padStart(2,"0"),a=String(t.getSeconds()).padStart(2,"0");return`${e}-${n}-${r}T${i}:${o}:${a}`}const jVe=({value:t,onChange:e,name:n})=>b(pf,{name:n,rules:{validate:r=>!isNaN(Date.parse(r))||"Must be a date-time"},render:({field:{ref:r,...i},fieldState:o})=>{var a;return b(ar,{label:"Value",type:"datetime-local",step:1,defaultValue:HVe(t.toDate()),error:(a=o.error)==null?void 0:a.message,...i,onChange:l=>{const u=Date.parse(l.currentTarget.value);i.onChange(l.currentTarget.value),!isNaN(u)&&u!==t.toMillis()&&e(Si.fromMillis(u))}})}}),dA=[qt.STRING,qt.NUMBER,qt.BOOLEAN,qt.MAP,qt.ARRAY,qt.NULL,qt.TIMESTAMP,qt.GEOPOINT,qt.REFERENCE],zVe=dA.filter(t=>t!==qt.ARRAY),Bz=[qt.STRING,qt.NUMBER,qt.BOOLEAN,qt.MAP,qt.ARRAY,qt.JSON],WVe=new Set(dA);function qVe(t){return WVe.has(m_(t))}const Vte=({value:t,onChange:e,areRootNamesMutable:n,areRootFieldsMutable:r,rtdb:i=!1,startingIndex:o,supportNestedArrays:a,firestore:l})=>{const u=AE(t),[f,h]=Y.useReducer(VVe,u),g=b2({mode:"onChange"}),y=Y.useMemo(()=>KD(f,l),[f,l]),w=Y.useMemo(()=>Object.keys(g.formState.errors).length,[g]);return B.useEffect(()=>{w===0?e&&e(y):e&&e(void 0)},[y,w,e]),b(sG,{...g,children:b(BVe,{store:f,dispatch:h,children:b("div",{className:"DocumentEditor",children:b(Rt,{children:f.uuid!==void 0&&b(GD,{uuid:f.uuid,isRtdb:i,areNamesMutable:n,areFieldsMutable:r,startingIndex:o,supportNestedArrays:a})})})})})},GD=({uuid:t,isRtdb:e,areNamesMutable:n=!0,areFieldsMutable:r=!0,startingIndex:i=0,supportNestedArrays:o=!0,isJson:a=!1})=>{const l=Fte(),u=w4(),f=Ute(t);if(Sw(f)){const h=e?Bz:dA;return b("div",{className:"DocumentEditor-Map",children:ne("div",{className:"DocumentEditor-MapEntries",children:[f.mapChildren.map(g=>ne("div",{className:"DocumentEditor-MapEntry",children:[ne("div",{className:"DocumentEditor-MapEntryMetadata",children:[b(KVe,{uuid:t,field:f,childId:g.uuid,readonly:!n&&t===l.uuid}),b("span",{className:"Document-TypeSymbol",children:"="}),b($z,{uuid:g.valueId,allowedTypes:h})]}),b(GD,{uuid:g.valueId,isRtdb:e,isJson:a}),r&&b(bn,{className:"DocumentEditor-MapEntryDelete",type:"button",icon:"delete",label:"Remove field",onClick:()=>u(kte({uuid:t,childId:g.uuid}))})]},g.uuid)),r&&b(bn,{label:"Add field",type:"button",icon:"add",onClick:()=>u(Ate({uuid:t,name:"",value:""}))})]})})}else if(Tw(f)){const h=e?Bz:o?dA:zVe;return b("div",{className:"DocumentEditor-Array",children:ne("div",{className:"DocumentEditor-ArrayEntries",children:[f.arrayChildren.map((g,y)=>ne("div",{className:"DocumentEditor-ArrayEntry",children:[ne("div",{className:"DocumentEditor-ArrayEntryMetadata",children:[b("div",{className:"DocumentEditor-ArrayIndex",children:b(ar,{value:y+i,label:"Index",disabled:!0})}),b("span",{className:"Document-TypeSymbol",children:"="}),b($z,{uuid:g.valueId,allowedTypes:h})]}),b(GD,{uuid:g.valueId,isRtdb:e}),r&&b(bn,{className:"DocumentEditor-ArrayEntryDelete",type:"button",icon:"delete",label:"Remove field",onClick:()=>u(Rte({uuid:t,childId:g.uuid}))})]},g.uuid)),r&&b(bn,{label:"Add field",type:"button",icon:"add",onClick:()=>u(Ite({uuid:t,value:""}))})]})})}else{if(Lte(f))return b(xVe,{name:`${t}`,value:f.value,onChange:h=>u(fh({uuid:t,value:h}))});{const h=f.value instanceof _g?b(OVe,{name:`${t}`,value:f.value,onChange:g=>u(fh({uuid:t,value:g}))}):yVe(f.value)?b($Ve,{value:f.value,onChange:g=>u(fh({uuid:t,value:g}))}):bte(f.value)?b(SVe,{value:f.value,onChange:g=>u(fh({uuid:t,value:g}))}):wte(f.value)?b(AVe,{name:`${t}`,value:f.value,onChange:g=>u(fh({uuid:t,value:g}))}):_Ve(f.value)?b(TVe,{name:`${t}`,value:f.value,onChange:g=>u(fh({uuid:t,value:g}))}):Ete(f.value)?b(jVe,{name:`${t}`,value:f.value,onChange:g=>u(fh({uuid:t,value:g}))}):null;return b("div",{className:"DocumentEditor-Primitive",children:h})}}},$z=({uuid:t,allowedTypes:e})=>{const n=Ute(t),r=w4();return b(Gy,{label:"Type",outlined:!0,options:e,value:GVe(n),onChange:i=>{r(Pte({uuid:t,type:i.currentTarget.value}))}})},KVe=({uuid:t,field:e,childId:n,readonly:r})=>{var C,R;const{register:i,unregister:o,setValue:a,setError:l,formState:{touchedFields:u,errors:f},clearErrors:h}=yu(),g=w4(),y=e.mapChildren.find(I=>I.uuid===n);if(!y)throw new Error("Tried to render a name-edtior for a non-map-child");const w=`${n}`,T=Y.useMemo(()=>e.mapChildren.filter(I=>I.uuid!==n).map(I=>I.name),[e,n]);return B.useEffect(()=>(i(w),()=>o(w)),[i,o,w]),B.useEffect(()=>{const I=T.every(k=>k!==y.name);y.name?I?h(w):l(w,{type:"unique",message:"Must be unique"}):l(w,{type:"required",message:"Required"})},[y,T,w,l,h]),b(ar,{label:"Field",outlined:!0,autoFocus:!0,value:y.name,disabled:r,onChange:I=>{a(w,I.currentTarget.value),g(Ote({uuid:t,childId:n,name:I.currentTarget.value}))},error:(u[w]||((C=f[w])==null?void 0:C.type)==="unique")&&((R=f[w])==null?void 0:R.message)})};function GVe(t){return Sw(t)?qt.MAP:Tw(t)?qt.ARRAY:Lte(t)?qt.JSON:t.value instanceof _g?qt.REFERENCE:m_(t.value)}const Sh=({value:t,onCancel:e,onSave:n,areRootKeysMutable:r,rtdb:i,startingIndex:o,firestore:a})=>{const[l,u]=B.useState();function f(y){u(y)}function h(){e()}function g(y){y.preventDefault(),y.stopPropagation(),l&&n(Object.keys(l)[0],Object.values(l)[0])}return b(bUe,{className:"Firestore-InlineEditor-relative-anchor",onClickOutside:h,onEscapeKey:h,scrollLock:!1,children:b(hu,{z:8,wrap:!0,children:ne(xa,{className:"Firestore-InlineEditor",tag:"form",onSubmit:g,children:[b("div",{className:"Firestore-InlineEditorContent",children:b(Vte,{value:t,onChange:f,areRootNamesMutable:r,areRootFieldsMutable:!1,rtdb:i,startingIndex:o,supportNestedArrays:!1,firestore:a})}),b(EI,{className:"Firestore-InlineEditorActions",children:ne(ix,{children:[b(rf,{type:"button",onClick:h,children:"Cancel"}),b(rf,{type:"submit",unelevated:!0,disabled:!l,children:"Save"})]})})]})})})},C4=B.memo(function({dbRef:e}){const n=e.key||RZ(e),r=new URL(e.toString()).pathname,i=YVe(r);return b(Ue,{className:"NodeLink",use:"body1","aria-label":"Key name",tag:du,to:i,children:n})});function YVe(t){const e=Hy(),n=e.path.replace("/:path*",""),r=Wh(e.url,{path:n,strict:!0}),i=(r==null?void 0:r.url)||"";return i==="/"?t:`${i}${t}`}const Bte=B.memo(function({value:e,use:n,...r}){const i=typeof e=="string"&&e.length>=24?`${e.slice(0,21)}...`:e;return b(Ue,{use:"body1",className:(a=>`ValueDisplay ValueDisplay__${typeof a}`)(e),...r,"aria-label":"Node value",children:JSON.stringify(i)})}),QVe=B.memo(function({value:e,realtimeRef:n}){const[r,i]=B.useState(!1),[o,a]=B.useState(!1),l=()=>{i(!r)},u=async(w,T)=>{await sE(n,T),i(!1)},f=()=>{a(!o)},h=async(w,T)=>{await sE(ac(n,w),T),a(!1)},g=async()=>{try{await XY(n)}catch(w){throw w}},y=!n.parent&&e===null;return ne("div",{className:"NodeLeaf",children:[ne("div",{className:"NodeLeaf__key",children:[b(C4,{dbRef:n}),": ",b(Bte,{use:"body1",value:e,onClick:l})]}),ne("span",{className:"NodeLeaf__actions",children:[b($a,{content:`Edit value for: "${n.key}"`,children:b(bn,{icon:"edit",onClick:l,"aria-label":`Edit value for: "${n.key}"`})}),y&&b($a,{content:`Add child to "${n.key}"`,children:b(bn,{icon:"add",onClick:f,"aria-label":`Add child for "${n.key}"`})}),b($a,{content:`Delete value for: "${n.key}"`,children:b(bn,{icon:"delete",onClick:g,"aria-label":`Delete value for "${n.key}"`})})]}),ne("div",{className:"NodeLeaf__edit-ui",children:[r&&b(Sh,{rtdb:!0,value:{[n.key||n.toString()]:e===null?"":e},onCancel:()=>i(!1),onSave:u,areRootKeysMutable:!1}),o&&b(Sh,{rtdb:!0,value:{[dU(n).key]:""},onCancel:()=>a(!1),onSave:h,areRootKeysMutable:!0})]})]})});function $te(t,e="Assertion error"){if(!t)throw new Error(e)}const Hz=t=>new URL(t.toString()).pathname,XVe=(t,e)=>t.startsWith("-")?`${Hz(e.parent)}/${dU(e).key}`:`${Hz(e)}_copy`,JVe=B.memo(function({realtimeRef:e,query:n,onComplete:r}){$te(e.parent,"Cannot clone the root node!");let i=n!=null;const o=e.key,[a,l]=B.useState(""),[u,f]=B.useState({}),[h,g]=B.useState(!0),[y,w]=B.useState(i);B.useEffect(()=>{(async()=>{let I=null;n!=null&&y?I=await lE(n):I=await lE(e);const k={};Object.entries(I.val()||{}).forEach(([O,A])=>{k[O]=JSON.stringify(A)}),f(k),l(XVe(o,e)),g(!1)})()},[g,f,l,o,e,y,n]);const T=R=>{const I=R.target;f({...u,[I.name]:I.value})};return b(hc,{open:!0,children:ne("form",{onSubmit:R=>{R.preventDefault();const I={};Object.entries(u).forEach(([k,O])=>{I[k]=JSON.parse(O)}),sE(ac(e.root,a),I),r(a)},children:[ne(pc,{children:['Clone "',o,'"']}),ne(mc,{children:[b(ar,{label:"New destination path:",value:a,onChange:R=>l(R.target.value),type:"text"}),i?b("div",{children:b(vw,{label:"Clone filtered data set",checked:y,onChange:R=>{w(!!R.currentTarget.checked)}})}):null,b(Ue,{use:"headline6",children:"Data"}),h?"Loading...":Object.entries(u).map(([R,I])=>b("div",{children:ne("label",{children:[R,":",b(VE,{name:R,type:"text",value:I,onChange:T,placeholder:"JSON or simple text"})]})},R))]}),ne(Ef,{children:[b($n,{type:"button",action:"close",theme:"secondary",onClick:()=>r(),children:"Cancel"}),b($n,{unelevated:!0,action:"accept",children:"Clone"})]})]})})}),ZVe=()=>pp({title:"Delete root object?",body:b("div",{className:"Firestore--dialog-body",children:b(ji,{aside:!0,type:"warning",children:"This will delete all fields and sub-objects of this root from the database."})}),acceptLabel:null,cancelLabel:null,footer:ne(Rt,{children:[b($n,{action:"close",type:"button",theme:"secondary",children:"Cancel"}),b($n,{unelevated:!0,action:"accept",isDefaultAction:!0,danger:!0,children:"Delete"})]})}),e4e=B.memo(function({params:e={},onSubmit:n,onCancel:r}){const{key:i="",operator:o="==",value:a="",limit:l=Zc}=e,[u,f]=B.useState({key:i,operator:o,value:JSON.stringify(a),limit:`${l}`}),h=C=>{const R=C.target;f({...u,[R.name]:R.value})},g=C=>{C.preventDefault(),n&&n(t4e(u))},y=C=>{C.keyCode===_L("esc")&&r&&r()},w=B.useRef(null),T=B.useRef(null);return B.useEffect(()=>{i?(T.current.focus(),T.current.select()):(w.current.focus(),w.current.select())},[i]),ne(xa,{className:"InlineQuery InlineQuery__card",tag:"form",onSubmit:g,onKeyDown:y,children:[ne("div",{className:"InlineQuery__form-fields",children:[b(ar,{outlined:!0,label:"Key",name:"key",value:u.key,onChange:h,inputRef:w}),b(Gy,{label:"Condition",name:"operator",options:["==",">=","<="],value:u.operator,onChange:h}),b(ar,{label:"Value",name:"value",value:u.value,onChange:h,inputRef:T,placeholder:"JSON or plain text"}),b(ar,{label:"limit",name:"limit",value:u.limit,onChange:h})]}),b(EI,{className:"InlineQuery__actions",children:ne(ix,{children:[e!==Ny&&b(rf,{type:"button",label:"Reset",danger:!0,onClick:()=>n(Ny)}),b(rf,{theme:"secondary",type:"button",label:"Cancel",onClick:()=>r&&r()}),b(rf,{unelevated:!0,type:"submit",label:"Search"})]})})]})});function t4e(t){const{key:e,operator:n,value:r,limit:i}=t;return{key:e,operator:n,value:dNe(r||"null"),limit:Number(i)}}const n4e=B.memo(function({realtimeRef:e,isOpen:n,onComplete:r}){const i=e.key,[o,a]=B.useState({newKey:i}),l=f=>{const h=f.target;a({...o,[h.name]:h.value})},u=async f=>{f.preventDefault();const h=await lE(e);try{await pSe(e.parent,{[o.newKey]:h.val(),[i]:null})}catch{}r(!0)};return b(hc,{open:n,onClose:()=>r(!1),children:ne("form",{onSubmit:u,children:[ne(pc,{children:['Rename "',i,'"']}),b(mc,{onSubmit:u,children:b(ar,{name:"newKey",label:"New key:",value:o.newKey,onChange:l,type:"text"})}),ne(Ef,{children:[b($n,{action:"close",type:"button",theme:"secondary",children:"Cancel"}),b($n,{type:"submit",unelevated:!0,children:"Rename"})]})]})})}),jz=t=>t===Bh.Table?Bh.TreeView:Bh.Table,r4e=t=>{switch(t){case Bh.Table:return"view_comfy";case Bh.TreeView:return"view_list";default:throw new Error("Display type is unrecognized")}},i4e={color:"#09d3ac"},o4e=B.memo(function({displayType:e,onDisplayTypeChange:n,realtimeRef:r,updateQuery:i,onExpandRequested:o,queryParams:a}){const[l,u]=B.useState(!1),[f,h]=B.useState(!1),[g,y]=B.useState(!1),[w,T]=B.useState(!1),[C,R]=B.useState(!1),I=l||f||g||w||C||a!==Ny,k=r.parent===null,O=dU(r).key,A=async(z,K)=>{await sE(ac(r,z),K),h(!1)},V=()=>{o(),h(!f)},D=async()=>{try{await XY(r)}catch(z){throw z}},P=()=>{o(),y(!0)},N=()=>{n(jz(e))},$=B.useMemo(()=>PZ(r,a||{}),[r,a]),q=[{icon:"delete",onlyRenderOnNonRoot:!1,name:"Remove"},{icon:"file_copy",onlyRenderOnNonRoot:!0,name:"Clone"},{icon:"edit",onlyRenderOnNonRoot:!0,name:"Rename"}];return ne("aside",{className:"NodeActions"+(I?" NodeActions--active":""),children:[b($a,{content:"Filter children",children:b(bn,{label:"Filter children",icon:"filter_list",onIcon:b("span",{style:i4e,children:"filter_list"}),onClick:()=>P(),checked:a!==Ny})}),b($a,{content:"Add child",children:b(bn,{label:"Add child",icon:"add",onClick:V})}),k?null:b($a,{content:"Switch view",children:b(bn,{label:"Switch view format",icon:r4e(jz(e)),onClick:()=>N()})}),b(BE,{renderToPortal:!1,handle:b(bn,{icon:"more_vert",label:"More options"}),onOpen:()=>u(!0),onClose:()=>u(!1),onSelect:async z=>{switch(q[z.detail.index].name){case"Remove":(!k||await ZVe())&&D();break;case"Clone":T(!0);break;case"Rename":R(!0)}},children:q.map(z=>!k||!z.onlyRenderOnNonRoot?ne(sf,{children:[b(Mn,{icon:z.icon})," ",z.name]}):b(Rt,{}))}),ne("div",{className:"NodeActions__additional-ui",children:[f&&b(Sh,{rtdb:!0,value:{[O]:""},onCancel:()=>h(!1),onSave:A,areRootKeysMutable:!0}),g&&b(e4e,{params:a,onSubmit:z=>{i&&i(z),y(!1)},onCancel:()=>y(!1)}),w&&b(JVe,{realtimeRef:r,query:$,onComplete:()=>T(!1)}),!k&&b(n4e,{realtimeRef:r,isOpen:C,onComplete:()=>R(!1)})]})]})}),a4e=B.memo(function({query:e,hasMoreRows:n,onLoadMore:r}){const[i,o]=B.useState({type:"arr",headers:[],rows:[]}),a=()=>r&&r();return B.useEffect(()=>{(async()=>o(await l4e(e)))()},[e]),b(zE,{className:"NodeTabularDisplay",children:ne(WE,{children:[b(Q0,{children:b(lf,{children:i.headers.map((l,u)=>b(us,{children:b(Ue,{use:"body1",children:l})},u))})}),b(qE,{children:i.rows.map((l,u)=>b(lf,{children:i.headers.map((f,h)=>s4e(i,l,f,h,e.ref))},u))}),n&&b(Q0,{children:b(lf,{children:b(bi,{colSpan:i.headers.length,children:b(fr,{onClick:()=>a(),children:"Load More"})})})})]})})});function s4e(t,e,n,r,i){if(r===0)return b(bi,{children:b(Ue,{use:"body2",className:"NodeTabularDisplay__key",children:b(C4,{dbRef:ac(i,e.pkId)})})},n);const o=t.type==="kvp"||t.type==="arr"?e.value:e.value[n];switch(typeof o){case"undefined":return b(bi,{className:"undef"},n);case"object":return b(bi,{className:"object",children:b(Ue,{use:"body2",children:"{ ... }"})},n);default:return b(bi,{className:typeof o,children:b(Bte,{value:o,use:"body2"})},n)}}async function l4e(t){const n=(await lE(t)).val();if(n==null)return{type:"kvp",headers:["No Data Available"],rows:[{pkId:"value is undefined",value:"Value is undefined"}]};const r=Object.entries(n),i=u4e(r);return{type:i,headers:c4e(i,r),rows:r.map(([o,a])=>({pkId:o,value:a}))}}function u4e(t){const[e,n]=t[0];return isNaN(parseInt(e))?typeof n=="object"?"ko":"kvp":"arr"}function c4e(t,e){const[,n]=e[0];switch(t){case"kvp":return["key","value"];case"arr":return["","value"];default:return["key",...Object.keys(n)]}}const f4e=B.memo(function({realtimeRef:e,children:n,queryParams:r,updateQuery:i,isViewRoot:o,query:a}){const l=e.parent===null,u=!!n.length,[f,h]=B.useState(!!(l||o)),[g,y]=B.useState(Bh.TreeView),w=r&&r.limit?n.length>=r.limit:n.length>=Zc,T=()=>{const R=r&&r.limit||Zc;i&&i({...r,limit:R+Zc})},C=B.useCallback(()=>h(!f),[h,f]);return ne("div",{className:"NodeParent",children:[ne("div",{className:"NodeParent__label",children:[f?b("button",{className:"NodeParent__tree-button material-icons","aria-label":"less",onClick:C,children:"arrow_drop_down"}):b("button",{className:"NodeParent__tree-button material-icons","aria-label":"more",onClick:C,children:"arrow_right"}),b(C4,{dbRef:e}),b(o4e,{realtimeRef:e,displayType:g,onDisplayTypeChange:R=>{y(R),h(!0)},onExpandRequested:()=>h(!0),queryParams:r,updateQuery:i})]}),b("div",{className:"NodeParent__children-container",children:u&&f&&(g===Bh.Table?b(a4e,{query:a||e,hasMoreRows:w,onLoadMore:T}):ne("ul",{className:"NodeParent__children",children:[n.map(R=>b("li",{children:b(Hte,{realtimeRef:ac(e,R)})},R)),w&&b("li",{className:"load-more",children:b(fr,{onClick:T,children:"Load more..."})})]}))})]})}),d4e={isLoading:!0,children:[]},Hte=B.memo(function({realtimeRef:e,isViewRoot:n}){const[r,i]=B.useState(d4e),[o,a]=B.useState(void 0);B.useEffect(()=>{const T=gNe(e),{query:C,viewModel$:R}=mNe(e,T);a(C);const I=R.subscribe(k=>i(k));return()=>I.unsubscribe()},[e]);const l=T=>{f(T),o&&o.next(T)},[u,f]=B.useState(Ny),{children:h,query:g}=r;return!!!h.length&&!(u!==Ny)?b(QVe,{realtimeRef:e,value:r.value}):b(f4e,{realtimeRef:e,children:h,queryParams:u,updateQuery:l,isViewRoot:n,query:g})}),h4e=t=>{const e=t.root.toString();return e.substring(0,e.length-1)},p4e=({path:t})=>{const e=dPe(),n=EV(),r=hSe(e,t),i=yf(),o=B.useRef(),[a,l]=B.useState(!1),[u,f]=B.useState(),h=()=>{f(void 0),l(!1),o.current.focus()},g=`/database/${n}/data`,y=w=>{w.startsWith("/")&&(w=w.slice(1)),i.push(`${g}/${w}`)};return b("div",{className:"Database-Database",children:r?ne(Rt,{children:[b(bV,{base:g,path:t||"/",inputPrefix:h4e(r),onNavigate:y,children:b(BE,{onSelect:w=>{var T,C,R;switch((R=(C=(T=w.detail)==null?void 0:T.item)==null?void 0:C.dataset)==null?void 0:R.value){case"IMPORT_JSON":l(!0);return}},handle:b(bn,{icon:"more_vert",label:"Open menu",ref:o}),renderToPortal:!0,children:b(sf,{"data-value":"IMPORT_JSON",children:"Import JSON"})})}),b(m4e,{onDrop:w=>f(w),children:b(Hte,{realtimeRef:r,isViewRoot:!0})}),(a||u)&&b(OPe,{reference:r,droppedFile:u,onComplete:h})]}):b("p",{children:"Loading"})})},m4e=({onDrop:t,children:e})=>{const{getInputProps:n,getRootProps:r,isDragActive:i,isDragAccept:o}=Zy({onDrop:a=>t(a[0]),noClick:!0,accept:{"application/json":[".json"]}});return ne("div",{className:"Database-Content",...r(),children:[e,i&&b("div",{className:"Database-Content-Dragging",children:o?"Drop JSON file to import":b("span",{className:"invalid",children:"Only JSON files are supported for data import."})}),b("input",{...n()})]})},zz=({name:t,navigation:e,activated:n})=>{const r=e(t);return ne(wf,{activated:n,tag:du,"aria-label":n?t+", currently selected":"",to:r,"data-testid":`nav-${t}`,children:[b(qK,{tag:kpe,size:"large",theme:"primary"}),b(hx,{children:t})]})},g4e=({primary:t,navigation:e,databases:n})=>{const r=EV(),i=n?n.filter(a=>a!==t):[];r!==t&&i.indexOf(r)<0&&i.push(r);let o="Database-Picker";return i.length===0&&(o+=" Database-Picker--primary-only"),b("div",{className:o,children:b(Kh,{children:ne(GK,{children:[b(YK,{children:b(Ue,{use:"caption",children:"Databases"})}),b(zz,{activated:r===t,name:t,navigation:e}),b(Ky,{tag:"div"}),i.map(a=>b(zz,{activated:r===a,name:a,navigation:e},a))]})})})},v4e=({primary:t,navigation:e,databases:n,children:r})=>{const[i,o]=B.useState(n);let a=!1;return n!==i&&(i===void 0||n===void 0||i.join("|")===n.join("|")?o(n):a=!0),b(Rt,{children:ne(_r,{span:12,className:"Database-Container",children:[a&&b(ji,{type:"note",actions:b(fr,{theme:"secondary",onClick:()=>o(n),children:"Reload"}),children:"There are new databases that have been created. Reload the page to view them."}),b(hu,{z:2,wrap:!0,children:b(xa,{className:"canvas-card",children:ne("div",{className:"Database",children:[b(g4e,{primary:t,navigation:e,databases:i}),r]})})})]})})},y4e=t=>{const e=za("database"),{data:n}=hf(["/dummy/database/databases",e,t.primary],_4e,{refreshWhenOffline:!0,fallbackData:void 0,refreshInterval:5e3});return b(v4e,{databases:n,...t})};async function _4e(t,e,n){const r=await Do(`//${e.hostAndPort}/.inspect/databases.json?ns=${n}`);if(!r.ok)throw new Error(`HTTP ${r.status}: ${r.statusText}`);return(await r.json()).map(o=>o.name).sort()}function S4(t,e,n){var l,u,f,h,g,y,w,T,C;const r=jy(),i=r.projectId,[o,a]=B.useState();return td(`https://${(l=r.auth)==null?void 0:l.host}`),td(`https://${(u=r.firestore)==null?void 0:u.host}`),td(`https://${(f=r.firestore)==null?void 0:f.webSocketHost}`),td(`https://${(h=r.storage)==null?void 0:h.host}`),td(`https://${(g=r.logging)==null?void 0:g.host}`),td(`https://${(y=r.database)==null?void 0:y.host}`),td(`https://${(w=r.eventarc)==null?void 0:w.host}`),td(`https://${(T=r.functions)==null?void 0:T.host}`),td(`https://${(C=r.functions)==null?void 0:C.host}`),B.useEffect(()=>{if(!o){const R=I2({...e,projectId:i},`${t} component::${Math.random()}`);n==null||n(R),a(R)}return()=>{o&&(a(void 0),tEe(o).catch(()=>{}))}},[o,t,e,i,n]),o}const td=async t=>{if(t&&Eq(t))try{const e=await Do(t)}catch{}},b4e={},E4e=Y.memo(({namespace:t,children:e})=>{const n=C4e(t),r=za("database"),[i,o]=B.useState(null),a=S4("database",b4e,B.useCallback(l=>{const u=LSe(l,n);o(u),tQ(u,r.host,r.port,{mockUserToken:"owner"})},[r,n]));return!a||!i?null:b(vV,{firebaseApp:a,children:b(xPe,{namespace:t,children:b(w4e,{database:i,namespace:t,children:e})})})}),w4e=({database:t,children:e})=>b(uPe,{sdk:t,children:e});function C4e(t){const e=za("database");return`${document.location.protocol}//${e.hostAndPort}/?ns=${t}`}const S4e=()=>b(B.Suspense,{fallback:b(x4e,{}),children:b(T4e,{})}),T4e=()=>{const t=za("database"),e=jy().projectId;let{path:n,url:r}=Hy();return ne(dp,{children:[ne(ms,{exact:!0,path:n,children:[b(Ju,{to:`${r}/${e}/data`}),";"]}),b(ms,{path:`${n}/:namespace/data/:path*`,render:({match:i})=>{const o=`/${i.params.path||""}`;return b(E4e,{namespace:i.params.namespace,children:b(y4e,{primary:e,navigation:a=>`${r}/${a}/data`,children:b(p4e,{path:o,config:t})})})}})]})},x4e=()=>rg("database")?b(UE,{productName:"Realtime Database"}):b(ja,{span:12,message:"Realtime Database Emulator Loading..."}),T4=B.createContext([]),A4e=({children:t,extensions:e})=>b(T4.Provider,{value:e,children:t});function I4e(){return B.useContext(T4)}function Wz(t){return t.hasOwnProperty("extensionSpec")}function jte(t){var e;return((e=t.labels)==null?void 0:e.createdBy)==="SDK"}function k4e(t){return!!t.extensionInstanceId&&(!!t.extension&&!!t.extensionVersion||!!t.extensionSpec)}function R4e(){const t=za("extensions");return hf("list_backends",async()=>(await(await Do(`//${t.hostAndPort}/backends`)).json()).backends,{suspense:!0}).data.filter(k4e)}const O4e="https://firebase.google.com/products/extensions/";function P4e(){const t=R4e();return L4e(t)}function N4e(t){var i,o,a,l,u;const e=Wz(t)?t.extensionSpec:t.extensionVersion.spec,n=f=>{const h=(t.functionTriggers??[]).find(g=>g.entryPoint===f.name);return h?{...f,functionName:h.regions[0]+"-"+h.name}:f},r={id:t.extensionInstanceId,authorUrl:((i=e.author)==null?void 0:i.url)??"",params:e.params.map(f=>({...f,value:t.env[f.param]})),name:e.name,displayName:e.displayName??"",specVersion:e.specVersion??"",env:t.env,allowedEventTypes:(t.env.ALLOWED_EVENT_TYPES||"").split(","),eventarcChannel:t.env.EVENTARC_CHANNEL,events:e.events??[],apis:e.apis??[],resources:(e.resources??[]).map(n),roles:e.roles??[],readmeContent:e.readmeContent??"",postinstallContent:e.postinstallContent??"",sourceUrl:e.sourceUrl??"",extensionDetailsUrl:O4e+e.name};return jte(t)&&(r.labels=t.labels),Wz(t)?{...r,authorName:((o=e.author)==null?void 0:o.authorName)??""}:{...r,ref:t.extensionVersion.ref,authorName:((a=e.author)==null?void 0:a.authorName)??((l=t.extensionVersion.ref.match(/^[^/]+/))==null?void 0:l[0])??"",iconUri:t.extension.iconUri??"/assets/extensions/default-extension.png",publisherIconUri:(u=t.extension.publisher)==null?void 0:u.iconUri}}function L4e(t){return t.map(N4e)}const zte=B.createContext(""),D4e=({children:t,instanceId:e})=>b(zte.Provider,{value:e,children:t});function Af(){const t=B.useContext(T4),e=B.useContext(zte);return t.find(n=>n.id===e)}const M4e="_featureBar_ym4as_46",F4e="_extensionsLink_ym4as_59",YD={featureBar:M4e,extensionsLink:F4e},U4e=()=>b("div",{className:YD.featureBar,children:b(Ue,{use:"headline5",tag:"h2",children:"Extensions"})}),V4e=({name:t})=>ne("header",{className:YD.featureBar,children:[b(du,{to:"/extensions",children:b(Ue,{use:"body1",theme:"secondary",tag:"div",className:YD.extensionsLink,children:"Extensions"})}),b(Ue,{use:"headline5",tag:"h2",children:t})]}),B4e="_listItem_1afym_16",$4e="_mainDetailWrapper_1afym_24",qz={listItem:B4e,mainDetailWrapper:$4e};function H4e(t){const[e]=B.useState(uu("main-detail")),[n,r]=B.useState(0),i=b(Kh,{role:"tablist",className:qz.mainDetailWrapper,children:t.tabs.map((a,l)=>b(wf,{className:qz.listItem,role:"tab",id:e+l,"aria-selected":n===l,activated:n===l,onClick:()=>r(l),onKeyDown:u=>{(u.key==="Enter"||u.key===" ")&&r(l)},children:b(Ue,{use:"body2",children:a.label})},l))}),o=b("div",{children:t.tabs.map((a,l)=>b("div",{role:"tabpanel",style:{display:l===n?"block":"none"},"aria-labelledby":e+l,children:a.tab},l))});return{tabs:i,content:o}}const j4e="_detailsCard_1dvnf_46",z4e="_detailsWrapper_1dvnf_51",W4e="_content_1dvnf_56",q4e="_detailsAside_1dvnf_61",LS={detailsCard:j4e,detailsWrapper:z4e,content:W4e,detailsAside:q4e},K4e="_link_1cowi_16",G4e="_icon_1cowi_23",Y4e="_content_1cowi_28",oP={link:K4e,icon:G4e,content:Y4e};function wT(t){return ne("a",{...t,className:oP.link,target:"_blank",rel:"noopener noreferrer",children:[b("span",{className:oP.content,children:t.children}),b(Mn,{"aria-hidden":"true",icon:"open_in_new",className:oP.icon})]})}const Wte="https://firebase.google.com/docs/";function x1(t){return b(wT,{...t,href:Wte+t.href,children:t.children})}const Q4e="_links_1w56o_16",X4e="_pic_1w56o_30",xb={links:Q4e,pic:X4e},J4e=()=>{const t=Af();return b(ao,{use:"secondary",children:ne("ul",{className:xb.links,children:[ne("li",{children:[b(Mn,{icon:"person",className:xb.pic}),ne(Ue,{use:"body2",theme:"secondary",children:["Made by"," ",t.authorUrl?b(wT,{href:t.authorUrl,children:t.authorName}):t.authorName]})]}),t.extensionDetailsUrl&&ne("li",{children:[b(Mn,{icon:"newsmode",className:xb.pic}),b(Ue,{use:"body2",theme:"secondary",children:b(wT,{href:t.extensionDetailsUrl,children:"Extension details"})})]}),ne("li",{children:[b(Mn,{icon:"developer_mode_tv",className:xb.pic}),b(Ue,{use:"body2",theme:"secondary",children:b(wT,{href:t.sourceUrl,children:"Source code"})})]}),ne("li",{children:[b(Mn,{icon:"subject",className:xb.pic}),b(Ue,{use:"body2",theme:"secondary",children:b(x1,{href:"extensions",children:" Firebase extension docs"})})]})]})})},Z4e="_content_tzwxd_16",eBe="_header_tzwxd_20",tBe="_card_tzwxd_29",aP={content:Z4e,header:eBe,card:tBe},x4=({header:t,content:e})=>ne(xa,{className:aP.card,children:[b("header",{className:aP.header,children:t}),b("div",{className:aP.content,children:b(Ue,{use:"body2",theme:"secondary",children:e})})]}),nBe="_wrapper_1p7gi_16",rBe="_headerWrapper_1p7gi_21",iBe="_explanation_1p7gi_29",sP={wrapper:nBe,headerWrapper:rBe,explanation:iBe},oBe=()=>{const t=Af();return ne(Rt,{children:[ne(Ue,{use:"body2",tag:"div",className:sP.explanation,children:["This extension has an associated"," ",b(x1,{href:"extensions/permissions-granted-to-extension",children:"service account"})," ","that has the following access to your project and resources:"]}),b("section",{className:sP.wrapper,children:(t.roles||[]).map(e=>b(x4,{header:ne("div",{className:sP.headerWrapper,children:[b(Mn,{icon:{icon:"build",size:"small"}}),b(Ue,{use:"subtitle2",tag:"h4",children:e.role})]}),content:b("div",{children:e.reason})},e.role))})]})},aBe="_wrapper_hwuhd_16",sBe="_headerWrapper_hwuhd_21",lBe="_titleWrapper_hwuhd_28",uBe="_resourceItemHeader_hwuhd_35",cBe="_resourceItem_hwuhd_35",fBe="_viewLogsLink_hwuhd_50",ph={wrapper:aBe,headerWrapper:sBe,titleWrapper:lBe,resourceItemHeader:uBe,resourceItem:cBe,viewLogsLink:fBe},dBe=()=>{const t=Af();return b(Rt,{children:ne("section",{className:ph.wrapper,children:[b(Ue,{use:"subtitle2",tag:"h3",children:"APIs"}),(t.apis||[]).map(e=>b(x4,{header:ne("div",{className:ph.titleWrapper,children:[b(Mn,{icon:{icon:"build",size:"small"}}),b(Ue,{use:"subtitle2",tag:"h4",children:e.apiName})]}),content:e.reason},e.apiName))]})})},hBe=()=>{const t=Af(),e=(t.resources||[]).map(n=>ne("article",{className:ph.resourceItem,children:[ne("div",{className:ph.resourceItemHeader,children:[b("div",{children:n.name}),b(fr,{tag:du,to:`/logs?q=metadata.function.name="${n.functionName}"`,className:ph.viewLogsLink,target:"_blank",rel:"noopener noreferrer",children:"View logs"})]}),b("div",{children:n.description})]},n.name));return b(Rt,{children:ne("section",{className:ph.wrapper,children:[b(Ue,{use:"subtitle2",tag:"h3",children:"Resources"}),b(x4,{header:ne("div",{className:ph.headerWrapper,children:[ne("div",{className:ph.titleWrapper,children:[b(Mn,{icon:{icon:"auto_awesome",size:"small"}}),b(Ue,{use:"subtitle2",tag:"h4",children:"Cloud Functions"})]}),b(fr,{target:"_blank",rel:"noopener noreferrer",tag:du,to:`/logs?q=metadata.extension.instanceId="${t.id}"`,children:"View all logs"})]}),content:b(Rt,{children:e})})]})})},pBe=()=>{var e,n;const t=Af();return ne(Rt,{children:[((e=t.resources)==null?void 0:e.length)&&b(hBe,{}),((n=t.apis)==null?void 0:n.length)&&b(dBe,{})]})},mBe="_accordion_1ingx_16",gBe="_header_1ingx_28",vBe="_expandHeader_1ingx_36",yBe="_content_1ingx_45",_Be="_icon_1ingx_49",bBe="_expansionLabel_1ingx_53",EBe="_collapsed_1ingx_59",wBe="_title_1ingx_59",nd={accordion:mBe,header:gBe,expandHeader:vBe,content:yBe,icon:_Be,expansionLabel:bBe,collapsed:EBe,title:wBe},IE=({isExpanded:t=!1,title:e,expansionLabel:n,children:r})=>{const[i,o]=B.useState(t),a=uu("accordion-content"),l=uu("accordion-header");return ne("section",{className:nd.accordion,children:[ne("header",{tabIndex:0,role:"button",id:l,"aria-controls":a,"aria-expanded":i,onClick:()=>o(!i),onKeyDown:u=>(u.key===" "||u.key==="Enter")&&o(!i),className:`${nd.header} ${i?"":nd.collapsed} accordion-header`,children:[b(Ue,{use:"body1",className:nd.title,children:e}),ne("div",{className:nd.expandHeader,children:[n&&b(Ue,{use:"body2",className:nd.expansionLabel,children:n}),i?b(Mn,{icon:"expand_less",className:nd.icon}):b(Mn,{icon:"expand_more",className:nd.icon})]})]}),i&&b("div",{className:nd.content,"aria-labelledby":l,id:a,children:r})]})},Kz=["http","https","mailto","tel"];function CBe(t){const e=(t||"").trim(),n=e.charAt(0);if(n==="#"||n==="/")return e;const r=e.indexOf(":");if(r===-1)return e;let i=-1;for(;++i<Kz.length;){const o=Kz[i];if(r===o.length&&e.slice(0,o.length).toLowerCase()===o)return e}return i=e.indexOf("?"),i!==-1&&r>i||(i=e.indexOf("#"),i!==-1&&r>i)?e:"javascript:void(0)"}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var SBe=function(e){return e!=null&&e.constructor!=null&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)};const qte=ra(SBe);function _0(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?Gz(t.position):"start"in t||"end"in t?Gz(t):"line"in t||"column"in t?QD(t):""}function QD(t){return Yz(t&&t.line)+":"+Yz(t&&t.column)}function Gz(t){return QD(t&&t.start)+"-"+QD(t&&t.end)}function Yz(t){return t&&typeof t=="number"?t:1}class _u extends Error{constructor(e,n,r){const i=[null,null];let o={start:{line:null,column:null},end:{line:null,column:null}};if(super(),typeof n=="string"&&(r=n,n=void 0),typeof r=="string"){const a=r.indexOf(":");a===-1?i[1]=r:(i[0]=r.slice(0,a),i[1]=r.slice(a+1))}n&&("type"in n||"position"in n?n.position&&(o=n.position):"start"in n||"end"in n?o=n:("line"in n||"column"in n)&&(o.start=n)),this.name=_0(n)||"1:1",this.message=typeof e=="object"?e.message:e,this.stack="",typeof e=="object"&&e.stack&&(this.stack=e.stack),this.reason=this.message,this.fatal,this.line=o.start.line,this.column=o.start.column,this.position=o,this.source=i[0],this.ruleId=i[1],this.file,this.actual,this.expected,this.url,this.note}}_u.prototype.file="";_u.prototype.name="";_u.prototype.reason="";_u.prototype.message="";_u.prototype.stack="";_u.prototype.fatal=null;_u.prototype.column=null;_u.prototype.line=null;_u.prototype.source=null;_u.prototype.ruleId=null;_u.prototype.position=null;const Hc={basename:TBe,dirname:xBe,extname:ABe,join:IBe,sep:"/"};function TBe(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');xw(t);let n=0,r=-1,i=t.length,o;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.charCodeAt(i)===47){if(o){n=i+1;break}}else r<0&&(o=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let a=-1,l=e.length-1;for(;i--;)if(t.charCodeAt(i)===47){if(o){n=i+1;break}}else a<0&&(o=!0,a=i+1),l>-1&&(t.charCodeAt(i)===e.charCodeAt(l--)?l<0&&(r=i):(l=-1,r=a));return n===r?r=a:r<0&&(r=t.length),t.slice(n,r)}function xBe(t){if(xw(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.charCodeAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.charCodeAt(0)===47?"/":".":e===1&&t.charCodeAt(0)===47?"//":t.slice(0,e)}function ABe(t){xw(t);let e=t.length,n=-1,r=0,i=-1,o=0,a;for(;e--;){const l=t.charCodeAt(e);if(l===47){if(a){r=e+1;break}continue}n<0&&(a=!0,n=e+1),l===46?i<0?i=e:o!==1&&(o=1):i>-1&&(o=-1)}return i<0||n<0||o===0||o===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function IBe(...t){let e=-1,n;for(;++e<t.length;)xw(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":kBe(n)}function kBe(t){xw(t);const e=t.charCodeAt(0)===47;let n=RBe(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.charCodeAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function RBe(t,e){let n="",r=0,i=-1,o=0,a=-1,l,u;for(;++a<=t.length;){if(a<t.length)l=t.charCodeAt(a);else{if(l===47)break;l=47}if(l===47){if(!(i===a-1||o===1))if(i!==a-1&&o===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){if(u=n.lastIndexOf("/"),u!==n.length-1){u<0?(n="",r=0):(n=n.slice(0,u),r=n.length-1-n.lastIndexOf("/")),i=a,o=0;continue}}else if(n.length>0){n="",r=0,i=a,o=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,a):n=t.slice(i+1,a),r=a-i-1;i=a,o=0}else l===46&&o>-1?o++:o=-1}return n}function xw(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const OBe={cwd:PBe};function PBe(){return"/"}function XD(t){return t!==null&&typeof t=="object"&&t.href&&t.origin}function NBe(t){if(typeof t=="string")t=new URL(t);else if(!XD(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return LBe(t)}function LBe(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.charCodeAt(n)===37&&e.charCodeAt(n+1)===50){const r=e.charCodeAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const lP=["history","path","basename","stem","extname","dirname"];class Kte{constructor(e){let n;e?typeof e=="string"||DBe(e)?n={value:e}:XD(e)?n={path:e}:n=e:n={},this.data={},this.messages=[],this.history=[],this.cwd=OBe.cwd(),this.value,this.stored,this.result,this.map;let r=-1;for(;++r<lP.length;){const o=lP[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let i;for(i in n)lP.includes(i)||(this[i]=n[i])}get path(){return this.history[this.history.length-1]}set path(e){XD(e)&&(e=NBe(e)),cP(e,"path"),this.path!==e&&this.history.push(e)}get dirname(){return typeof this.path=="string"?Hc.dirname(this.path):void 0}set dirname(e){Qz(this.basename,"dirname"),this.path=Hc.join(e||"",this.basename)}get basename(){return typeof this.path=="string"?Hc.basename(this.path):void 0}set basename(e){cP(e,"basename"),uP(e,"basename"),this.path=Hc.join(this.dirname||"",e)}get extname(){return typeof this.path=="string"?Hc.extname(this.path):void 0}set extname(e){if(uP(e,"extname"),Qz(this.dirname,"extname"),e){if(e.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Hc.join(this.dirname,this.stem+(e||""))}get stem(){return typeof this.path=="string"?Hc.basename(this.path,this.extname):void 0}set stem(e){cP(e,"stem"),uP(e,"stem"),this.path=Hc.join(this.dirname||"",e+(this.extname||""))}toString(e){return(this.value||"").toString(e||void 0)}message(e,n,r){const i=new _u(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=null,i}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}}function uP(t,e){if(t&&t.includes(Hc.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Hc.sep+"`")}function cP(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function Qz(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function DBe(t){return qte(t)}function Xz(t){if(t)throw t}var CT=Object.prototype.hasOwnProperty,Gte=Object.prototype.toString,Jz=Object.defineProperty,Zz=Object.getOwnPropertyDescriptor,eW=function(e){return typeof Array.isArray=="function"?Array.isArray(e):Gte.call(e)==="[object Array]"},tW=function(e){if(!e||Gte.call(e)!=="[object Object]")return!1;var n=CT.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&CT.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;var i;for(i in e);return typeof i>"u"||CT.call(e,i)},nW=function(e,n){Jz&&n.name==="__proto__"?Jz(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},rW=function(e,n){if(n==="__proto__")if(CT.call(e,n)){if(Zz)return Zz(e,n).value}else return;return e[n]},MBe=function t(){var e,n,r,i,o,a,l=arguments[0],u=1,f=arguments.length,h=!1;for(typeof l=="boolean"&&(h=l,l=arguments[1]||{},u=2),(l==null||typeof l!="object"&&typeof l!="function")&&(l={});u<f;++u)if(e=arguments[u],e!=null)for(n in e)r=rW(l,n),i=rW(e,n),l!==i&&(h&&i&&(tW(i)||(o=eW(i)))?(o?(o=!1,a=r&&eW(r)?r:[]):a=r&&tW(r)?r:{},nW(l,{name:n,newValue:t(h,a,i)})):typeof i<"u"&&nW(l,{name:n,newValue:i}));return l};const iW=ra(MBe);function JD(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function FBe(){const t=[],e={run:n,use:r};return e;function n(...i){let o=-1;const a=i.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);l(null,...i);function l(u,...f){const h=t[++o];let g=-1;if(u){a(u);return}for(;++g<i.length;)(f[g]===null||f[g]===void 0)&&(f[g]=i[g]);i=f,h?UBe(h,l)(...f):a(null,...f)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function UBe(t,e){let n;return r;function r(...a){const l=t.length>a.length;let u;l&&a.push(i);try{u=t.apply(this,a)}catch(f){const h=f;if(l&&n)throw h;return i(h)}l||(u&&u.then&&typeof u.then=="function"?u.then(o,i):u instanceof Error?i(u):o(u))}function i(a,...l){n||(n=!0,e(a,...l))}function o(a){i(null,a)}}const VBe=Qte().freeze(),Yte={}.hasOwnProperty;function Qte(){const t=FBe(),e=[];let n={},r,i=-1;return o.data=a,o.Parser=void 0,o.Compiler=void 0,o.freeze=l,o.attachers=e,o.use=u,o.parse=f,o.stringify=h,o.run=g,o.runSync=y,o.process=w,o.processSync=T,o;function o(){const C=Qte();let R=-1;for(;++R<e.length;)C.use(...e[R]);return C.data(iW(!0,{},n)),C}function a(C,R){return typeof C=="string"?arguments.length===2?(hP("data",r),n[C]=R,o):Yte.call(n,C)&&n[C]||null:C?(hP("data",r),n=C,o):n}function l(){if(r)return o;for(;++i<e.length;){const[C,...R]=e[i];if(R[0]===!1)continue;R[0]===!0&&(R[0]=void 0);const I=C.call(o,...R);typeof I=="function"&&t.use(I)}return r=!0,i=Number.POSITIVE_INFINITY,o}function u(C,...R){let I;if(hP("use",r),C!=null)if(typeof C=="function")V(C,...R);else if(typeof C=="object")Array.isArray(C)?A(C):O(C);else throw new TypeError("Expected usable value, not `"+C+"`");return I&&(n.settings=Object.assign(n.settings||{},I)),o;function k(D){if(typeof D=="function")V(D);else if(typeof D=="object")if(Array.isArray(D)){const[P,...N]=D;V(P,...N)}else O(D);else throw new TypeError("Expected usable value, not `"+D+"`")}function O(D){A(D.plugins),D.settings&&(I=Object.assign(I||{},D.settings))}function A(D){let P=-1;if(D!=null)if(Array.isArray(D))for(;++P<D.length;){const N=D[P];k(N)}else throw new TypeError("Expected a list of plugins, not `"+D+"`")}function V(D,P){let N=-1,$;for(;++N<e.length;)if(e[N][0]===D){$=e[N];break}$?(JD($[1])&&JD(P)&&(P=iW(!0,$[1],P)),$[1]=P):e.push([...arguments])}}function f(C){o.freeze();const R=Ab(C),I=o.Parser;return fP("parse",I),oW(I,"parse")?new I(String(R),R).parse():I(String(R),R)}function h(C,R){o.freeze();const I=Ab(R),k=o.Compiler;return dP("stringify",k),aW(C),oW(k,"compile")?new k(C,I).compile():k(C,I)}function g(C,R,I){if(aW(C),o.freeze(),!I&&typeof R=="function"&&(I=R,R=void 0),!I)return new Promise(k);k(null,I);function k(O,A){t.run(C,Ab(R),V);function V(D,P,N){P=P||C,D?A(D):O?O(P):I(null,P,N)}}}function y(C,R){let I,k;return o.run(C,R,O),sW("runSync","run",k),I;function O(A,V){Xz(A),I=V,k=!0}}function w(C,R){if(o.freeze(),fP("process",o.Parser),dP("process",o.Compiler),!R)return new Promise(I);I(null,R);function I(k,O){const A=Ab(C);o.run(o.parse(A),A,(D,P,N)=>{if(D||!P||!N)V(D);else{const $=o.stringify(P,N);$==null||(HBe($)?N.value=$:N.result=$),V(D,N)}});function V(D,P){D||!P?O(D):k?k(P):R(null,P)}}}function T(C){let R;o.freeze(),fP("processSync",o.Parser),dP("processSync",o.Compiler);const I=Ab(C);return o.process(I,k),sW("processSync","process",R),I;function k(O){R=!0,Xz(O)}}}function oW(t,e){return typeof t=="function"&&t.prototype&&(BBe(t.prototype)||e in t.prototype)}function BBe(t){let e;for(e in t)if(Yte.call(t,e))return!0;return!1}function fP(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `Parser`")}function dP(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `Compiler`")}function hP(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function aW(t){if(!JD(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function sW(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function Ab(t){return $Be(t)?t:new Kte(t)}function $Be(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function HBe(t){return typeof t=="string"||qte(t)}const jBe={};function zBe(t,e){const n=jBe,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Xte(t,r,i)}function Xte(t,e,n){if(WBe(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return lW(t.children,e,n)}return Array.isArray(t)?lW(t,e,n):""}function lW(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=Xte(t[i],e,n);return r.join("")}function WBe(t){return!!(t&&typeof t=="object")}function vf(t,e,n,r){const i=t.length;let o=0,a;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)a=Array.from(r),a.unshift(e,n),t.splice(...a);else for(n&&t.splice(e,n);o<r.length;)a=r.slice(o,o+1e4),a.unshift(e,0),t.splice(...a),o+=1e4,e+=1e4}function iu(t,e){return t.length>0?(vf(t,t.length,0,e),t):e}const uW={}.hasOwnProperty;function qBe(t){const e={};let n=-1;for(;++n<t.length;)KBe(e,t[n]);return e}function KBe(t,e){let n;for(n in e){const i=(uW.call(t,n)?t[n]:void 0)||(t[n]={}),o=e[n];let a;if(o)for(a in o){uW.call(i,a)||(i[a]=[]);const l=o[a];GBe(i[a],Array.isArray(l)?l:l?[l]:[])}}}function GBe(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);vf(t,0,0,r)}const YBe=/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,Kc=bp(/[A-Za-z]/),Sl=bp(/[\dA-Za-z]/),QBe=bp(/[#-'*+\--9=?A-Z^-~]/);function ZD(t){return t!==null&&(t<32||t===127)}const eM=bp(/\d/),XBe=bp(/[\dA-Fa-f]/),JBe=bp(/[!-/:-@[-`{-~]/);function tn(t){return t!==null&&t<-2}function Ks(t){return t!==null&&(t<0||t===32)}function cr(t){return t===-2||t===-1||t===32}const ZBe=bp(YBe),e3e=bp(/\s/);function bp(t){return e;function e(n){return n!==null&&t.test(String.fromCharCode(n))}}function zr(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let o=0;return a;function a(u){return cr(u)?(t.enter(n),l(u)):e(u)}function l(u){return cr(u)&&o++<i?(t.consume(u),l):(t.exit(n),e(u))}}const t3e={tokenize:n3e};function n3e(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(l){if(l===null){t.consume(l);return}return t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),zr(t,e,"linePrefix")}function i(l){return t.enter("paragraph"),o(l)}function o(l){const u=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=u),n=u,a(l)}function a(l){if(l===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(l);return}return tn(l)?(t.consume(l),t.exit("chunkText"),o):(t.consume(l),a)}}const r3e={tokenize:i3e},cW={tokenize:o3e};function i3e(t){const e=this,n=[];let r=0,i,o,a;return l;function l(O){if(r<n.length){const A=n[r];return e.containerState=A[1],t.attempt(A[0].continuation,u,f)(O)}return f(O)}function u(O){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&k();const A=e.events.length;let V=A,D;for(;V--;)if(e.events[V][0]==="exit"&&e.events[V][1].type==="chunkFlow"){D=e.events[V][1].end;break}I(r);let P=A;for(;P<e.events.length;)e.events[P][1].end=Object.assign({},D),P++;return vf(e.events,V+1,0,e.events.slice(A)),e.events.length=P,f(O)}return l(O)}function f(O){if(r===n.length){if(!i)return y(O);if(i.currentConstruct&&i.currentConstruct.concrete)return T(O);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(cW,h,g)(O)}function h(O){return i&&k(),I(r),y(O)}function g(O){return e.parser.lazy[e.now().line]=r!==n.length,a=e.now().offset,T(O)}function y(O){return e.containerState={},t.attempt(cW,w,T)(O)}function w(O){return r++,n.push([e.currentConstruct,e.containerState]),y(O)}function T(O){if(O===null){i&&k(),I(0),t.consume(O);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{contentType:"flow",previous:o,_tokenizer:i}),C(O)}function C(O){if(O===null){R(t.exit("chunkFlow"),!0),I(0),t.consume(O);return}return tn(O)?(t.consume(O),R(t.exit("chunkFlow")),r=0,e.interrupt=void 0,l):(t.consume(O),C)}function R(O,A){const V=e.sliceStream(O);if(A&&V.push(null),O.previous=o,o&&(o.next=O),o=O,i.defineSkip(O.start),i.write(V),e.parser.lazy[O.start.line]){let D=i.events.length;for(;D--;)if(i.events[D][1].start.offset<a&&(!i.events[D][1].end||i.events[D][1].end.offset>a))return;const P=e.events.length;let N=P,$,q;for(;N--;)if(e.events[N][0]==="exit"&&e.events[N][1].type==="chunkFlow"){if($){q=e.events[N][1].end;break}$=!0}for(I(r),D=P;D<e.events.length;)e.events[D][1].end=Object.assign({},q),D++;vf(e.events,N+1,0,e.events.slice(P)),e.events.length=D}}function I(O){let A=n.length;for(;A-- >O;){const V=n[A];e.containerState=V[1],V[0].exit.call(e,t)}n.length=O}function k(){i.write([null]),o=void 0,i=void 0,e.containerState._closeFlow=void 0}}function o3e(t,e,n){return zr(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function fW(t){if(t===null||Ks(t)||e3e(t))return 1;if(ZBe(t))return 2}function A4(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const o=t[i].resolveAll;o&&!r.includes(o)&&(e=o(e,n),r.push(o))}return e}const tM={name:"attention",tokenize:s3e,resolveAll:a3e};function a3e(t,e){let n=-1,r,i,o,a,l,u,f,h;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;u=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const g=Object.assign({},t[r][1].end),y=Object.assign({},t[n][1].start);dW(g,-u),dW(y,u),a={type:u>1?"strongSequence":"emphasisSequence",start:g,end:Object.assign({},t[r][1].end)},l={type:u>1?"strongSequence":"emphasisSequence",start:Object.assign({},t[n][1].start),end:y},o={type:u>1?"strongText":"emphasisText",start:Object.assign({},t[r][1].end),end:Object.assign({},t[n][1].start)},i={type:u>1?"strong":"emphasis",start:Object.assign({},a.start),end:Object.assign({},l.end)},t[r][1].end=Object.assign({},a.start),t[n][1].start=Object.assign({},l.end),f=[],t[r][1].end.offset-t[r][1].start.offset&&(f=iu(f,[["enter",t[r][1],e],["exit",t[r][1],e]])),f=iu(f,[["enter",i,e],["enter",a,e],["exit",a,e],["enter",o,e]]),f=iu(f,A4(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),f=iu(f,[["exit",o,e],["enter",l,e],["exit",l,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(h=2,f=iu(f,[["enter",t[n][1],e],["exit",t[n][1],e]])):h=0,vf(t,r-1,n-r+3,f),n=r+f.length-h-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function s3e(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=fW(r);let o;return a;function a(u){return o=u,t.enter("attentionSequence"),l(u)}function l(u){if(u===o)return t.consume(u),l;const f=t.exit("attentionSequence"),h=fW(u),g=!h||h===2&&i||n.includes(u),y=!i||i===2&&h||n.includes(r);return f._open=!!(o===42?g:g&&(i||!y)),f._close=!!(o===42?y:y&&(h||!g)),e(u)}}function dW(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const l3e={name:"autolink",tokenize:u3e};function u3e(t,e,n){let r=0;return i;function i(w){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(w),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),o}function o(w){return Kc(w)?(t.consume(w),a):f(w)}function a(w){return w===43||w===45||w===46||Sl(w)?(r=1,l(w)):f(w)}function l(w){return w===58?(t.consume(w),r=0,u):(w===43||w===45||w===46||Sl(w))&&r++<32?(t.consume(w),l):(r=0,f(w))}function u(w){return w===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(w),t.exit("autolinkMarker"),t.exit("autolink"),e):w===null||w===32||w===60||ZD(w)?n(w):(t.consume(w),u)}function f(w){return w===64?(t.consume(w),h):QBe(w)?(t.consume(w),f):n(w)}function h(w){return Sl(w)?g(w):n(w)}function g(w){return w===46?(t.consume(w),r=0,h):w===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(w),t.exit("autolinkMarker"),t.exit("autolink"),e):y(w)}function y(w){if((w===45||Sl(w))&&r++<63){const T=w===45?y:g;return t.consume(w),T}return n(w)}}const A1={tokenize:c3e,partial:!0};function c3e(t,e,n){return r;function r(o){return cr(o)?zr(t,i,"linePrefix")(o):i(o)}function i(o){return o===null||tn(o)?e(o):n(o)}}const Jte={name:"blockQuote",tokenize:f3e,continuation:{tokenize:d3e},exit:h3e};function f3e(t,e,n){const r=this;return i;function i(a){if(a===62){const l=r.containerState;return l.open||(t.enter("blockQuote",{_container:!0}),l.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(a),t.exit("blockQuoteMarker"),o}return n(a)}function o(a){return cr(a)?(t.enter("blockQuotePrefixWhitespace"),t.consume(a),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(a))}}function d3e(t,e,n){const r=this;return i;function i(a){return cr(a)?zr(t,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):o(a)}function o(a){return t.attempt(Jte,e,n)(a)}}function h3e(t){t.exit("blockQuote")}const Zte={name:"characterEscape",tokenize:p3e};function p3e(t,e,n){return r;function r(o){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(o),t.exit("escapeMarker"),i}function i(o){return JBe(o)?(t.enter("characterEscapeValue"),t.consume(o),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(o)}}const hW=document.createElement("i");function I4(t){const e="&"+t+";";hW.innerHTML=e;const n=hW.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}const ene={name:"characterReference",tokenize:m3e};function m3e(t,e,n){const r=this;let i=0,o,a;return l;function l(g){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(g),t.exit("characterReferenceMarker"),u}function u(g){return g===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(g),t.exit("characterReferenceMarkerNumeric"),f):(t.enter("characterReferenceValue"),o=31,a=Sl,h(g))}function f(g){return g===88||g===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(g),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),o=6,a=XBe,h):(t.enter("characterReferenceValue"),o=7,a=eM,h(g))}function h(g){if(g===59&&i){const y=t.exit("characterReferenceValue");return a===Sl&&!I4(r.sliceSerialize(y))?n(g):(t.enter("characterReferenceMarker"),t.consume(g),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return a(g)&&i++<o?(t.consume(g),h):n(g)}}const pW={tokenize:v3e,partial:!0},mW={name:"codeFenced",tokenize:g3e,concrete:!0};function g3e(t,e,n){const r=this,i={tokenize:V,partial:!0};let o=0,a=0,l;return u;function u(D){return f(D)}function f(D){const P=r.events[r.events.length-1];return o=P&&P[1].type==="linePrefix"?P[2].sliceSerialize(P[1],!0).length:0,l=D,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),h(D)}function h(D){return D===l?(a++,t.consume(D),h):a<3?n(D):(t.exit("codeFencedFenceSequence"),cr(D)?zr(t,g,"whitespace")(D):g(D))}function g(D){return D===null||tn(D)?(t.exit("codeFencedFence"),r.interrupt?e(D):t.check(pW,C,A)(D)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),y(D))}function y(D){return D===null||tn(D)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),g(D)):cr(D)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),zr(t,w,"whitespace")(D)):D===96&&D===l?n(D):(t.consume(D),y)}function w(D){return D===null||tn(D)?g(D):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),T(D))}function T(D){return D===null||tn(D)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),g(D)):D===96&&D===l?n(D):(t.consume(D),T)}function C(D){return t.attempt(i,A,R)(D)}function R(D){return t.enter("lineEnding"),t.consume(D),t.exit("lineEnding"),I}function I(D){return o>0&&cr(D)?zr(t,k,"linePrefix",o+1)(D):k(D)}function k(D){return D===null||tn(D)?t.check(pW,C,A)(D):(t.enter("codeFlowValue"),O(D))}function O(D){return D===null||tn(D)?(t.exit("codeFlowValue"),k(D)):(t.consume(D),O)}function A(D){return t.exit("codeFenced"),e(D)}function V(D,P,N){let $=0;return q;function q(he){return D.enter("lineEnding"),D.consume(he),D.exit("lineEnding"),z}function z(he){return D.enter("codeFencedFence"),cr(he)?zr(D,K,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(he):K(he)}function K(he){return he===l?(D.enter("codeFencedFenceSequence"),Q(he)):N(he)}function Q(he){return he===l?($++,D.consume(he),Q):$>=a?(D.exit("codeFencedFenceSequence"),cr(he)?zr(D,Ee,"whitespace")(he):Ee(he)):N(he)}function Ee(he){return he===null||tn(he)?(D.exit("codeFencedFence"),P(he)):N(he)}}}function v3e(t,e,n){const r=this;return i;function i(a){return a===null?n(a):(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),o)}function o(a){return r.parser.lazy[r.now().line]?n(a):e(a)}}const pP={name:"codeIndented",tokenize:_3e},y3e={tokenize:b3e,partial:!0};function _3e(t,e,n){const r=this;return i;function i(f){return t.enter("codeIndented"),zr(t,o,"linePrefix",5)(f)}function o(f){const h=r.events[r.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?a(f):n(f)}function a(f){return f===null?u(f):tn(f)?t.attempt(y3e,a,u)(f):(t.enter("codeFlowValue"),l(f))}function l(f){return f===null||tn(f)?(t.exit("codeFlowValue"),a(f)):(t.consume(f),l)}function u(f){return t.exit("codeIndented"),e(f)}}function b3e(t,e,n){const r=this;return i;function i(a){return r.parser.lazy[r.now().line]?n(a):tn(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),i):zr(t,o,"linePrefix",5)(a)}function o(a){const l=r.events[r.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?e(a):tn(a)?i(a):n(a)}}const E3e={name:"codeText",tokenize:S3e,resolve:w3e,previous:C3e};function w3e(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function C3e(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function S3e(t,e,n){let r=0,i,o;return a;function a(g){return t.enter("codeText"),t.enter("codeTextSequence"),l(g)}function l(g){return g===96?(t.consume(g),r++,l):(t.exit("codeTextSequence"),u(g))}function u(g){return g===null?n(g):g===32?(t.enter("space"),t.consume(g),t.exit("space"),u):g===96?(o=t.enter("codeTextSequence"),i=0,h(g)):tn(g)?(t.enter("lineEnding"),t.consume(g),t.exit("lineEnding"),u):(t.enter("codeTextData"),f(g))}function f(g){return g===null||g===32||g===96||tn(g)?(t.exit("codeTextData"),u(g)):(t.consume(g),f)}function h(g){return g===96?(t.consume(g),i++,h):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(g)):(o.type="codeTextData",f(g))}}function tne(t){const e={};let n=-1,r,i,o,a,l,u,f;for(;++n<t.length;){for(;n in e;)n=e[n];if(r=t[n],n&&r[1].type==="chunkFlow"&&t[n-1][1].type==="listItemPrefix"&&(u=r[1]._tokenizer.events,o=0,o<u.length&&u[o][1].type==="lineEndingBlank"&&(o+=2),o<u.length&&u[o][1].type==="content"))for(;++o<u.length&&u[o][1].type!=="content";)u[o][1].type==="chunkText"&&(u[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,T3e(t,n)),n=e[n],f=!0);else if(r[1]._container){for(o=n,i=void 0;o--&&(a=t[o],a[1].type==="lineEnding"||a[1].type==="lineEndingBlank");)a[0]==="enter"&&(i&&(t[i][1].type="lineEndingBlank"),a[1].type="lineEnding",i=o);i&&(r[1].end=Object.assign({},t[i][1].start),l=t.slice(i,n),l.unshift(r),vf(t,i,n-i+1,l))}}return!f}function T3e(t,e){const n=t[e][1],r=t[e][2];let i=e-1;const o=[],a=n._tokenizer||r.parser[n.contentType](n.start),l=a.events,u=[],f={};let h,g,y=-1,w=n,T=0,C=0;const R=[C];for(;w;){for(;t[++i][1]!==w;);o.push(i),w._tokenizer||(h=r.sliceStream(w),w.next||h.push(null),g&&a.defineSkip(w.start),w._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(h),w._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),g=w,w=w.next}for(w=n;++y<l.length;)l[y][0]==="exit"&&l[y-1][0]==="enter"&&l[y][1].type===l[y-1][1].type&&l[y][1].start.line!==l[y][1].end.line&&(C=y+1,R.push(C),w._tokenizer=void 0,w.previous=void 0,w=w.next);for(a.events=[],w?(w._tokenizer=void 0,w.previous=void 0):R.pop(),y=R.length;y--;){const I=l.slice(R[y],R[y+1]),k=o.pop();u.unshift([k,k+I.length-1]),vf(t,k,2,I)}for(y=-1;++y<u.length;)f[T+u[y][0]]=T+u[y][1],T+=u[y][1]-u[y][0]-1;return f}const x3e={tokenize:k3e,resolve:I3e},A3e={tokenize:R3e,partial:!0};function I3e(t){return tne(t),t}function k3e(t,e){let n;return r;function r(l){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(l)}function i(l){return l===null?o(l):tn(l)?t.check(A3e,a,o)(l):(t.consume(l),i)}function o(l){return t.exit("chunkContent"),t.exit("content"),e(l)}function a(l){return t.consume(l),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function R3e(t,e,n){const r=this;return i;function i(a){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),zr(t,o,"linePrefix")}function o(a){if(a===null||tn(a))return n(a);const l=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?e(a):t.interrupt(r.parser.constructs.flow,n,e)(a)}}function nne(t,e,n,r,i,o,a,l,u){const f=u||Number.POSITIVE_INFINITY;let h=0;return g;function g(I){return I===60?(t.enter(r),t.enter(i),t.enter(o),t.consume(I),t.exit(o),y):I===null||I===32||I===41||ZD(I)?n(I):(t.enter(r),t.enter(a),t.enter(l),t.enter("chunkString",{contentType:"string"}),C(I))}function y(I){return I===62?(t.enter(o),t.consume(I),t.exit(o),t.exit(i),t.exit(r),e):(t.enter(l),t.enter("chunkString",{contentType:"string"}),w(I))}function w(I){return I===62?(t.exit("chunkString"),t.exit(l),y(I)):I===null||I===60||tn(I)?n(I):(t.consume(I),I===92?T:w)}function T(I){return I===60||I===62||I===92?(t.consume(I),w):w(I)}function C(I){return!h&&(I===null||I===41||Ks(I))?(t.exit("chunkString"),t.exit(l),t.exit(a),t.exit(r),e(I)):h<f&&I===40?(t.consume(I),h++,C):I===41?(t.consume(I),h--,C):I===null||I===32||I===40||ZD(I)?n(I):(t.consume(I),I===92?R:C)}function R(I){return I===40||I===41||I===92?(t.consume(I),C):C(I)}}function rne(t,e,n,r,i,o){const a=this;let l=0,u;return f;function f(w){return t.enter(r),t.enter(i),t.consume(w),t.exit(i),t.enter(o),h}function h(w){return l>999||w===null||w===91||w===93&&!u||w===94&&!l&&"_hiddenFootnoteSupport"in a.parser.constructs?n(w):w===93?(t.exit(o),t.enter(i),t.consume(w),t.exit(i),t.exit(r),e):tn(w)?(t.enter("lineEnding"),t.consume(w),t.exit("lineEnding"),h):(t.enter("chunkString",{contentType:"string"}),g(w))}function g(w){return w===null||w===91||w===93||tn(w)||l++>999?(t.exit("chunkString"),h(w)):(t.consume(w),u||(u=!cr(w)),w===92?y:g)}function y(w){return w===91||w===92||w===93?(t.consume(w),l++,g):g(w)}}function ine(t,e,n,r,i,o){let a;return l;function l(y){return y===34||y===39||y===40?(t.enter(r),t.enter(i),t.consume(y),t.exit(i),a=y===40?41:y,u):n(y)}function u(y){return y===a?(t.enter(i),t.consume(y),t.exit(i),t.exit(r),e):(t.enter(o),f(y))}function f(y){return y===a?(t.exit(o),u(a)):y===null?n(y):tn(y)?(t.enter("lineEnding"),t.consume(y),t.exit("lineEnding"),zr(t,f,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),h(y))}function h(y){return y===a||y===null||tn(y)?(t.exit("chunkString"),f(y)):(t.consume(y),y===92?g:h)}function g(y){return y===a||y===92?(t.consume(y),h):h(y)}}function b0(t,e){let n;return r;function r(i){return tn(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):cr(i)?zr(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}function ey(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const O3e={name:"definition",tokenize:N3e},P3e={tokenize:L3e,partial:!0};function N3e(t,e,n){const r=this;let i;return o;function o(w){return t.enter("definition"),a(w)}function a(w){return rne.call(r,t,l,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(w)}function l(w){return i=ey(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),w===58?(t.enter("definitionMarker"),t.consume(w),t.exit("definitionMarker"),u):n(w)}function u(w){return Ks(w)?b0(t,f)(w):f(w)}function f(w){return nne(t,h,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(w)}function h(w){return t.attempt(P3e,g,g)(w)}function g(w){return cr(w)?zr(t,y,"whitespace")(w):y(w)}function y(w){return w===null||tn(w)?(t.exit("definition"),r.parser.defined.push(i),e(w)):n(w)}}function L3e(t,e,n){return r;function r(l){return Ks(l)?b0(t,i)(l):n(l)}function i(l){return ine(t,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function o(l){return cr(l)?zr(t,a,"whitespace")(l):a(l)}function a(l){return l===null||tn(l)?e(l):n(l)}}const D3e={name:"hardBreakEscape",tokenize:M3e};function M3e(t,e,n){return r;function r(o){return t.enter("hardBreakEscape"),t.consume(o),i}function i(o){return tn(o)?(t.exit("hardBreakEscape"),e(o)):n(o)}}const F3e={name:"headingAtx",tokenize:V3e,resolve:U3e};function U3e(t,e){let n=t.length-2,r=3,i,o;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},o={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},vf(t,r,n-r+1,[["enter",i,e],["enter",o,e],["exit",o,e],["exit",i,e]])),t}function V3e(t,e,n){let r=0;return i;function i(h){return t.enter("atxHeading"),o(h)}function o(h){return t.enter("atxHeadingSequence"),a(h)}function a(h){return h===35&&r++<6?(t.consume(h),a):h===null||Ks(h)?(t.exit("atxHeadingSequence"),l(h)):n(h)}function l(h){return h===35?(t.enter("atxHeadingSequence"),u(h)):h===null||tn(h)?(t.exit("atxHeading"),e(h)):cr(h)?zr(t,l,"whitespace")(h):(t.enter("atxHeadingText"),f(h))}function u(h){return h===35?(t.consume(h),u):(t.exit("atxHeadingSequence"),l(h))}function f(h){return h===null||h===35||Ks(h)?(t.exit("atxHeadingText"),l(h)):(t.consume(h),f)}}const B3e=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],gW=["pre","script","style","textarea"],$3e={name:"htmlFlow",tokenize:W3e,resolveTo:z3e,concrete:!0},H3e={tokenize:K3e,partial:!0},j3e={tokenize:q3e,partial:!0};function z3e(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function W3e(t,e,n){const r=this;let i,o,a,l,u;return f;function f(ie){return h(ie)}function h(ie){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(ie),g}function g(ie){return ie===33?(t.consume(ie),y):ie===47?(t.consume(ie),o=!0,C):ie===63?(t.consume(ie),i=3,r.interrupt?e:J):Kc(ie)?(t.consume(ie),a=String.fromCharCode(ie),R):n(ie)}function y(ie){return ie===45?(t.consume(ie),i=2,w):ie===91?(t.consume(ie),i=5,l=0,T):Kc(ie)?(t.consume(ie),i=4,r.interrupt?e:J):n(ie)}function w(ie){return ie===45?(t.consume(ie),r.interrupt?e:J):n(ie)}function T(ie){const lt="CDATA[";return ie===lt.charCodeAt(l++)?(t.consume(ie),l===lt.length?r.interrupt?e:K:T):n(ie)}function C(ie){return Kc(ie)?(t.consume(ie),a=String.fromCharCode(ie),R):n(ie)}function R(ie){if(ie===null||ie===47||ie===62||Ks(ie)){const lt=ie===47,Ge=a.toLowerCase();return!lt&&!o&&gW.includes(Ge)?(i=1,r.interrupt?e(ie):K(ie)):B3e.includes(a.toLowerCase())?(i=6,lt?(t.consume(ie),I):r.interrupt?e(ie):K(ie)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(ie):o?k(ie):O(ie))}return ie===45||Sl(ie)?(t.consume(ie),a+=String.fromCharCode(ie),R):n(ie)}function I(ie){return ie===62?(t.consume(ie),r.interrupt?e:K):n(ie)}function k(ie){return cr(ie)?(t.consume(ie),k):q(ie)}function O(ie){return ie===47?(t.consume(ie),q):ie===58||ie===95||Kc(ie)?(t.consume(ie),A):cr(ie)?(t.consume(ie),O):q(ie)}function A(ie){return ie===45||ie===46||ie===58||ie===95||Sl(ie)?(t.consume(ie),A):V(ie)}function V(ie){return ie===61?(t.consume(ie),D):cr(ie)?(t.consume(ie),V):O(ie)}function D(ie){return ie===null||ie===60||ie===61||ie===62||ie===96?n(ie):ie===34||ie===39?(t.consume(ie),u=ie,P):cr(ie)?(t.consume(ie),D):N(ie)}function P(ie){return ie===u?(t.consume(ie),u=null,$):ie===null||tn(ie)?n(ie):(t.consume(ie),P)}function N(ie){return ie===null||ie===34||ie===39||ie===47||ie===60||ie===61||ie===62||ie===96||Ks(ie)?V(ie):(t.consume(ie),N)}function $(ie){return ie===47||ie===62||cr(ie)?O(ie):n(ie)}function q(ie){return ie===62?(t.consume(ie),z):n(ie)}function z(ie){return ie===null||tn(ie)?K(ie):cr(ie)?(t.consume(ie),z):n(ie)}function K(ie){return ie===45&&i===2?(t.consume(ie),Je):ie===60&&i===1?(t.consume(ie),He):ie===62&&i===4?(t.consume(ie),Ae):ie===63&&i===3?(t.consume(ie),J):ie===93&&i===5?(t.consume(ie),Te):tn(ie)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(H3e,Ne,Q)(ie)):ie===null||tn(ie)?(t.exit("htmlFlowData"),Q(ie)):(t.consume(ie),K)}function Q(ie){return t.check(j3e,Ee,Ne)(ie)}function Ee(ie){return t.enter("lineEnding"),t.consume(ie),t.exit("lineEnding"),he}function he(ie){return ie===null||tn(ie)?Q(ie):(t.enter("htmlFlowData"),K(ie))}function Je(ie){return ie===45?(t.consume(ie),J):K(ie)}function He(ie){return ie===47?(t.consume(ie),a="",xe):K(ie)}function xe(ie){if(ie===62){const lt=a.toLowerCase();return gW.includes(lt)?(t.consume(ie),Ae):K(ie)}return Kc(ie)&&a.length<8?(t.consume(ie),a+=String.fromCharCode(ie),xe):K(ie)}function Te(ie){return ie===93?(t.consume(ie),J):K(ie)}function J(ie){return ie===62?(t.consume(ie),Ae):ie===45&&i===2?(t.consume(ie),J):K(ie)}function Ae(ie){return ie===null||tn(ie)?(t.exit("htmlFlowData"),Ne(ie)):(t.consume(ie),Ae)}function Ne(ie){return t.exit("htmlFlow"),e(ie)}}function q3e(t,e,n){const r=this;return i;function i(a){return tn(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),o):n(a)}function o(a){return r.parser.lazy[r.now().line]?n(a):e(a)}}function K3e(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(A1,e,n)}}const G3e={name:"htmlText",tokenize:Y3e};function Y3e(t,e,n){const r=this;let i,o,a;return l;function l(J){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(J),u}function u(J){return J===33?(t.consume(J),f):J===47?(t.consume(J),V):J===63?(t.consume(J),O):Kc(J)?(t.consume(J),N):n(J)}function f(J){return J===45?(t.consume(J),h):J===91?(t.consume(J),o=0,T):Kc(J)?(t.consume(J),k):n(J)}function h(J){return J===45?(t.consume(J),w):n(J)}function g(J){return J===null?n(J):J===45?(t.consume(J),y):tn(J)?(a=g,He(J)):(t.consume(J),g)}function y(J){return J===45?(t.consume(J),w):g(J)}function w(J){return J===62?Je(J):J===45?y(J):g(J)}function T(J){const Ae="CDATA[";return J===Ae.charCodeAt(o++)?(t.consume(J),o===Ae.length?C:T):n(J)}function C(J){return J===null?n(J):J===93?(t.consume(J),R):tn(J)?(a=C,He(J)):(t.consume(J),C)}function R(J){return J===93?(t.consume(J),I):C(J)}function I(J){return J===62?Je(J):J===93?(t.consume(J),I):C(J)}function k(J){return J===null||J===62?Je(J):tn(J)?(a=k,He(J)):(t.consume(J),k)}function O(J){return J===null?n(J):J===63?(t.consume(J),A):tn(J)?(a=O,He(J)):(t.consume(J),O)}function A(J){return J===62?Je(J):O(J)}function V(J){return Kc(J)?(t.consume(J),D):n(J)}function D(J){return J===45||Sl(J)?(t.consume(J),D):P(J)}function P(J){return tn(J)?(a=P,He(J)):cr(J)?(t.consume(J),P):Je(J)}function N(J){return J===45||Sl(J)?(t.consume(J),N):J===47||J===62||Ks(J)?$(J):n(J)}function $(J){return J===47?(t.consume(J),Je):J===58||J===95||Kc(J)?(t.consume(J),q):tn(J)?(a=$,He(J)):cr(J)?(t.consume(J),$):Je(J)}function q(J){return J===45||J===46||J===58||J===95||Sl(J)?(t.consume(J),q):z(J)}function z(J){return J===61?(t.consume(J),K):tn(J)?(a=z,He(J)):cr(J)?(t.consume(J),z):$(J)}function K(J){return J===null||J===60||J===61||J===62||J===96?n(J):J===34||J===39?(t.consume(J),i=J,Q):tn(J)?(a=K,He(J)):cr(J)?(t.consume(J),K):(t.consume(J),Ee)}function Q(J){return J===i?(t.consume(J),i=void 0,he):J===null?n(J):tn(J)?(a=Q,He(J)):(t.consume(J),Q)}function Ee(J){return J===null||J===34||J===39||J===60||J===61||J===96?n(J):J===47||J===62||Ks(J)?$(J):(t.consume(J),Ee)}function he(J){return J===47||J===62||Ks(J)?$(J):n(J)}function Je(J){return J===62?(t.consume(J),t.exit("htmlTextData"),t.exit("htmlText"),e):n(J)}function He(J){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(J),t.exit("lineEnding"),xe}function xe(J){return cr(J)?zr(t,Te,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(J):Te(J)}function Te(J){return t.enter("htmlTextData"),a(J)}}const k4={name:"labelEnd",tokenize:t$e,resolveTo:e$e,resolveAll:Z3e},Q3e={tokenize:n$e},X3e={tokenize:r$e},J3e={tokenize:i$e};function Z3e(t){let e=-1;for(;++e<t.length;){const n=t[e][1];(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(t.splice(e+1,n.type==="labelImage"?4:2),n.type="data",e++)}return t}function e$e(t,e){let n=t.length,r=0,i,o,a,l;for(;n--;)if(i=t[n][1],o){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(a){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(o=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(a=n);const u={type:t[o][1].type==="labelLink"?"link":"image",start:Object.assign({},t[o][1].start),end:Object.assign({},t[t.length-1][1].end)},f={type:"label",start:Object.assign({},t[o][1].start),end:Object.assign({},t[a][1].end)},h={type:"labelText",start:Object.assign({},t[o+r+2][1].end),end:Object.assign({},t[a-2][1].start)};return l=[["enter",u,e],["enter",f,e]],l=iu(l,t.slice(o+1,o+r+3)),l=iu(l,[["enter",h,e]]),l=iu(l,A4(e.parser.constructs.insideSpan.null,t.slice(o+r+4,a-3),e)),l=iu(l,[["exit",h,e],t[a-2],t[a-1],["exit",f,e]]),l=iu(l,t.slice(a+1)),l=iu(l,[["exit",u,e]]),vf(t,o,t.length,l),t}function t$e(t,e,n){const r=this;let i=r.events.length,o,a;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){o=r.events[i][1];break}return l;function l(y){return o?o._inactive?g(y):(a=r.parser.defined.includes(ey(r.sliceSerialize({start:o.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(y),t.exit("labelMarker"),t.exit("labelEnd"),u):n(y)}function u(y){return y===40?t.attempt(Q3e,h,a?h:g)(y):y===91?t.attempt(X3e,h,a?f:g)(y):a?h(y):g(y)}function f(y){return t.attempt(J3e,h,g)(y)}function h(y){return e(y)}function g(y){return o._balanced=!0,n(y)}}function n$e(t,e,n){return r;function r(g){return t.enter("resource"),t.enter("resourceMarker"),t.consume(g),t.exit("resourceMarker"),i}function i(g){return Ks(g)?b0(t,o)(g):o(g)}function o(g){return g===41?h(g):nne(t,a,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(g)}function a(g){return Ks(g)?b0(t,u)(g):h(g)}function l(g){return n(g)}function u(g){return g===34||g===39||g===40?ine(t,f,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(g):h(g)}function f(g){return Ks(g)?b0(t,h)(g):h(g)}function h(g){return g===41?(t.enter("resourceMarker"),t.consume(g),t.exit("resourceMarker"),t.exit("resource"),e):n(g)}}function r$e(t,e,n){const r=this;return i;function i(l){return rne.call(r,t,o,a,"reference","referenceMarker","referenceString")(l)}function o(l){return r.parser.defined.includes(ey(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(l):n(l)}function a(l){return n(l)}}function i$e(t,e,n){return r;function r(o){return t.enter("reference"),t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),i}function i(o){return o===93?(t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),t.exit("reference"),e):n(o)}}const o$e={name:"labelStartImage",tokenize:a$e,resolveAll:k4.resolveAll};function a$e(t,e,n){const r=this;return i;function i(l){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(l),t.exit("labelImageMarker"),o}function o(l){return l===91?(t.enter("labelMarker"),t.consume(l),t.exit("labelMarker"),t.exit("labelImage"),a):n(l)}function a(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):e(l)}}const s$e={name:"labelStartLink",tokenize:l$e,resolveAll:k4.resolveAll};function l$e(t,e,n){const r=this;return i;function i(a){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelLink"),o}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):e(a)}}const mP={name:"lineEnding",tokenize:u$e};function u$e(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),zr(t,e,"linePrefix")}}const ST={name:"thematicBreak",tokenize:c$e};function c$e(t,e,n){let r=0,i;return o;function o(f){return t.enter("thematicBreak"),a(f)}function a(f){return i=f,l(f)}function l(f){return f===i?(t.enter("thematicBreakSequence"),u(f)):r>=3&&(f===null||tn(f))?(t.exit("thematicBreak"),e(f)):n(f)}function u(f){return f===i?(t.consume(f),r++,u):(t.exit("thematicBreakSequence"),cr(f)?zr(t,l,"whitespace")(f):l(f))}}const Ps={name:"list",tokenize:h$e,continuation:{tokenize:p$e},exit:g$e},f$e={tokenize:v$e,partial:!0},d$e={tokenize:m$e,partial:!0};function h$e(t,e,n){const r=this,i=r.events[r.events.length-1];let o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,a=0;return l;function l(w){const T=r.containerState.type||(w===42||w===43||w===45?"listUnordered":"listOrdered");if(T==="listUnordered"?!r.containerState.marker||w===r.containerState.marker:eM(w)){if(r.containerState.type||(r.containerState.type=T,t.enter(T,{_container:!0})),T==="listUnordered")return t.enter("listItemPrefix"),w===42||w===45?t.check(ST,n,f)(w):f(w);if(!r.interrupt||w===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),u(w)}return n(w)}function u(w){return eM(w)&&++a<10?(t.consume(w),u):(!r.interrupt||a<2)&&(r.containerState.marker?w===r.containerState.marker:w===41||w===46)?(t.exit("listItemValue"),f(w)):n(w)}function f(w){return t.enter("listItemMarker"),t.consume(w),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||w,t.check(A1,r.interrupt?n:h,t.attempt(f$e,y,g))}function h(w){return r.containerState.initialBlankLine=!0,o++,y(w)}function g(w){return cr(w)?(t.enter("listItemPrefixWhitespace"),t.consume(w),t.exit("listItemPrefixWhitespace"),y):n(w)}function y(w){return r.containerState.size=o+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(w)}}function p$e(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(A1,i,o);function i(l){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,zr(t,e,"listItemIndent",r.containerState.size+1)(l)}function o(l){return r.containerState.furtherBlankLines||!cr(l)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(l)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(d$e,e,a)(l))}function a(l){return r.containerState._closeFlow=!0,r.interrupt=void 0,zr(t,t.attempt(Ps,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function m$e(t,e,n){const r=this;return zr(t,i,"listItemIndent",r.containerState.size+1);function i(o){const a=r.events[r.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===r.containerState.size?e(o):n(o)}}function g$e(t){t.exit(this.containerState.type)}function v$e(t,e,n){const r=this;return zr(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(o){const a=r.events[r.events.length-1];return!cr(o)&&a&&a[1].type==="listItemPrefixWhitespace"?e(o):n(o)}}const vW={name:"setextUnderline",tokenize:_$e,resolveTo:y$e};function y$e(t,e){let n=t.length,r,i,o;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!o&&t[n][1].type==="definition"&&(o=n);const a={type:"setextHeading",start:Object.assign({},t[i][1].start),end:Object.assign({},t[t.length-1][1].end)};return t[i][1].type="setextHeadingText",o?(t.splice(i,0,["enter",a,e]),t.splice(o+1,0,["exit",t[r][1],e]),t[r][1].end=Object.assign({},t[o][1].end)):t[r][1]=a,t.push(["exit",a,e]),t}function _$e(t,e,n){const r=this;let i;return o;function o(f){let h=r.events.length,g;for(;h--;)if(r.events[h][1].type!=="lineEnding"&&r.events[h][1].type!=="linePrefix"&&r.events[h][1].type!=="content"){g=r.events[h][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||g)?(t.enter("setextHeadingLine"),i=f,a(f)):n(f)}function a(f){return t.enter("setextHeadingLineSequence"),l(f)}function l(f){return f===i?(t.consume(f),l):(t.exit("setextHeadingLineSequence"),cr(f)?zr(t,u,"lineSuffix")(f):u(f))}function u(f){return f===null||tn(f)?(t.exit("setextHeadingLine"),e(f)):n(f)}}const b$e={tokenize:E$e};function E$e(t){const e=this,n=t.attempt(A1,r,t.attempt(this.parser.constructs.flowInitial,i,zr(t,t.attempt(this.parser.constructs.flow,i,t.attempt(x3e,i)),"linePrefix")));return n;function r(o){if(o===null){t.consume(o);return}return t.enter("lineEndingBlank"),t.consume(o),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const w$e={resolveAll:ane()},C$e=one("string"),S$e=one("text");function one(t){return{tokenize:e,resolveAll:ane(t==="text"?T$e:void 0)};function e(n){const r=this,i=this.parser.constructs[t],o=n.attempt(i,a,l);return a;function a(h){return f(h)?o(h):l(h)}function l(h){if(h===null){n.consume(h);return}return n.enter("data"),n.consume(h),u}function u(h){return f(h)?(n.exit("data"),o(h)):(n.consume(h),u)}function f(h){if(h===null)return!0;const g=i[h];let y=-1;if(g)for(;++y<g.length;){const w=g[y];if(!w.previous||w.previous.call(r,r.previous))return!0}return!1}}}function ane(t){return e;function e(n,r){let i=-1,o;for(;++i<=n.length;)o===void 0?n[i]&&n[i][1].type==="data"&&(o=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==o+2&&(n[o][1].end=n[i-1][1].end,n.splice(o+2,i-o-2),i=o+2),o=void 0);return t?t(n,r):n}}function T$e(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let o=i.length,a=-1,l=0,u;for(;o--;){const f=i[o];if(typeof f=="string"){for(a=f.length;f.charCodeAt(a-1)===32;)l++,a--;if(a)break;a=-1}else if(f===-2)u=!0,l++;else if(f!==-1){o++;break}}if(l){const f={type:n===t.length||u||l<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-l,offset:r.end.offset-l,_index:r.start._index+o,_bufferIndex:o?a:r.start._bufferIndex+a},end:Object.assign({},r.end)};r.end=Object.assign({},f.start),r.start.offset===r.end.offset?Object.assign(r,f):(t.splice(n,0,["enter",f,e],["exit",f,e]),n+=2)}n++}return t}function x$e(t,e,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},o=[];let a=[],l=[];const u={consume:k,enter:O,exit:A,attempt:P(V),check:P(D),interrupt:P(D,{interrupt:!0})},f={previous:null,code:null,containerState:{},events:[],parser:t,sliceStream:w,sliceSerialize:y,now:T,defineSkip:C,write:g};let h=e.tokenize.call(f,u);return e.resolveAll&&o.push(e),f;function g(z){return a=iu(a,z),R(),a[a.length-1]!==null?[]:(N(e,0),f.events=A4(o,f.events,f),f.events)}function y(z,K){return I$e(w(z),K)}function w(z){return A$e(a,z)}function T(){const{line:z,column:K,offset:Q,_index:Ee,_bufferIndex:he}=r;return{line:z,column:K,offset:Q,_index:Ee,_bufferIndex:he}}function C(z){i[z.line]=z.column,q()}function R(){let z;for(;r._index<a.length;){const K=a[r._index];if(typeof K=="string")for(z=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===z&&r._bufferIndex<K.length;)I(K.charCodeAt(r._bufferIndex));else I(K)}}function I(z){h=h(z)}function k(z){tn(z)?(r.line++,r.column=1,r.offset+=z===-3?2:1,q()):z!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),f.previous=z}function O(z,K){const Q=K||{};return Q.type=z,Q.start=T(),f.events.push(["enter",Q,f]),l.push(Q),Q}function A(z){const K=l.pop();return K.end=T(),f.events.push(["exit",K,f]),K}function V(z,K){N(z,K.from)}function D(z,K){K.restore()}function P(z,K){return Q;function Q(Ee,he,Je){let He,xe,Te,J;return Array.isArray(Ee)?Ne(Ee):"tokenize"in Ee?Ne([Ee]):Ae(Ee);function Ae(ut){return et;function et(_t){const xt=_t!==null&&ut[_t],Et=_t!==null&&ut.null,Dt=[...Array.isArray(xt)?xt:xt?[xt]:[],...Array.isArray(Et)?Et:Et?[Et]:[]];return Ne(Dt)(_t)}}function Ne(ut){return He=ut,xe=0,ut.length===0?Je:ie(ut[xe])}function ie(ut){return et;function et(_t){return J=$(),Te=ut,ut.partial||(f.currentConstruct=ut),ut.name&&f.parser.constructs.disable.null.includes(ut.name)?Ge():ut.tokenize.call(K?Object.assign(Object.create(f),K):f,u,lt,Ge)(_t)}}function lt(ut){return z(Te,J),he}function Ge(ut){return J.restore(),++xe<He.length?ie(He[xe]):Je}}}function N(z,K){z.resolveAll&&!o.includes(z)&&o.push(z),z.resolve&&vf(f.events,K,f.events.length-K,z.resolve(f.events.slice(K),f)),z.resolveTo&&(f.events=z.resolveTo(f.events,f))}function $(){const z=T(),K=f.previous,Q=f.currentConstruct,Ee=f.events.length,he=Array.from(l);return{restore:Je,from:Ee};function Je(){r=z,f.previous=K,f.currentConstruct=Q,f.events.length=Ee,l=he,q()}}function q(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function A$e(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,o=e.end._bufferIndex;let a;if(n===i)a=[t[n].slice(r,o)];else{if(a=t.slice(n,i),r>-1){const l=a[0];typeof l=="string"?a[0]=l.slice(r):a.shift()}o>0&&a.push(t[i].slice(0,o))}return a}function I$e(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const o=t[n];let a;if(typeof o=="string")a=o;else switch(o){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=e?" ":"	";break}case-1:{if(!e&&i)continue;a=" ";break}default:a=String.fromCharCode(o)}i=o===-2,r.push(a)}return r.join("")}const k$e={42:Ps,43:Ps,45:Ps,48:Ps,49:Ps,50:Ps,51:Ps,52:Ps,53:Ps,54:Ps,55:Ps,56:Ps,57:Ps,62:Jte},R$e={91:O3e},O$e={[-2]:pP,[-1]:pP,32:pP},P$e={35:F3e,42:ST,45:[vW,ST],60:$3e,61:vW,95:ST,96:mW,126:mW},N$e={38:ene,92:Zte},L$e={[-5]:mP,[-4]:mP,[-3]:mP,33:o$e,38:ene,42:tM,60:[l3e,G3e],91:s$e,92:[D3e,Zte],93:k4,95:tM,96:E3e},D$e={null:[tM,w$e]},M$e={null:[42,95]},F$e={null:[]},U$e=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:M$e,contentInitial:R$e,disable:F$e,document:k$e,flow:P$e,flowInitial:O$e,insideSpan:D$e,string:N$e,text:L$e},Symbol.toStringTag,{value:"Module"}));function V$e(t){const n=qBe([U$e,...(t||{}).extensions||[]]),r={defined:[],lazy:{},constructs:n,content:i(t3e),document:i(r3e),flow:i(b$e),string:i(C$e),text:i(S$e)};return r;function i(o){return a;function a(l){return x$e(r,o,l)}}}const yW=/[\0\t\n\r]/g;function B$e(){let t=1,e="",n=!0,r;return i;function i(o,a,l){const u=[];let f,h,g,y,w;for(o=e+o.toString(a),g=0,e="",n&&(o.charCodeAt(0)===65279&&g++,n=void 0);g<o.length;){if(yW.lastIndex=g,f=yW.exec(o),y=f&&f.index!==void 0?f.index:o.length,w=o.charCodeAt(y),!f){e=o.slice(g);break}if(w===10&&g===y&&r)u.push(-3),r=void 0;else switch(r&&(u.push(-5),r=void 0),g<y&&(u.push(o.slice(g,y)),t+=y-g),w){case 0:{u.push(65533),t++;break}case 9:{for(h=Math.ceil(t/4)*4,u.push(-2);t++<h;)u.push(-1);break}case 10:{u.push(-4),t=1;break}default:r=!0,t=1}g=y+1}return l&&(r&&u.push(-5),e&&u.push(e),u.push(null)),u}}function $$e(t){for(;!tne(t););return t}function sne(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCharCode(n)}const H$e=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function j$e(t){return t.replace(H$e,z$e)}function z$e(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),o=i===120||i===88;return sne(n.slice(o?2:1),o?16:10)}return I4(n)||t}const lne={}.hasOwnProperty,W$e=function(t,e,n){return typeof e!="string"&&(n=e,e=void 0),q$e(n)($$e(V$e(n).document().write(B$e()(t,e,!0))))};function q$e(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:l(Ot),autolinkProtocol:z,autolinkEmail:z,atxHeading:l(Wt),blockQuote:l(Dt),characterEscape:z,characterReference:z,codeFenced:l(Ut),codeFencedFenceInfo:u,codeFencedFenceMeta:u,codeIndented:l(Ut,u),codeText:l(an,u),codeTextData:z,data:z,codeFlowValue:z,definition:l(nt),definitionDestinationString:u,definitionLabelString:u,definitionTitleString:u,emphasis:l(nn),hardBreakEscape:l(Kt),hardBreakTrailing:l(Kt),htmlFlow:l(vn,u),htmlFlowData:z,htmlText:l(vn,u),htmlTextData:z,image:l(fn),label:u,link:l(Ot),listItem:l(fe),listItemValue:T,listOrdered:l(En,w),listUnordered:l(En),paragraph:l(Ce),reference:Ge,referenceString:u,resourceDestinationString:u,resourceTitleString:u,setextHeading:l(Wt),strong:l(ge),thematicBreak:l(Me)},exit:{atxHeading:h(),atxHeadingSequence:P,autolink:h(),autolinkEmail:Et,autolinkProtocol:xt,blockQuote:h(),characterEscapeValue:K,characterReferenceMarkerHexadecimal:et,characterReferenceMarkerNumeric:et,characterReferenceValue:_t,codeFenced:h(k),codeFencedFence:I,codeFencedFenceInfo:C,codeFencedFenceMeta:R,codeFlowValue:K,codeIndented:h(O),codeText:h(He),codeTextData:K,data:K,definition:h(),definitionDestinationString:D,definitionLabelString:A,definitionTitleString:V,emphasis:h(),hardBreakEscape:h(Ee),hardBreakTrailing:h(Ee),htmlFlow:h(he),htmlFlowData:K,htmlText:h(Je),htmlTextData:K,image:h(Te),label:Ae,labelText:J,lineEnding:Q,link:h(xe),listItem:h(),listOrdered:h(),listUnordered:h(),paragraph:h(),referenceString:ut,resourceDestinationString:Ne,resourceTitleString:ie,resource:lt,setextHeading:h(q),setextHeadingLineSequence:$,setextHeadingText:N,strong:h(),thematicBreak:h()}};une(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(se){let pe={type:"root",children:[]};const qe={stack:[pe],tokenStack:[],config:e,enter:f,exit:g,buffer:u,resume:y,setData:o,getData:a},De=[];let Ze=-1;for(;++Ze<se.length;)if(se[Ze][1].type==="listOrdered"||se[Ze][1].type==="listUnordered")if(se[Ze][0]==="enter")De.push(Ze);else{const Tt=De.pop();Ze=i(se,Tt,Ze)}for(Ze=-1;++Ze<se.length;){const Tt=e[se[Ze][0]];lne.call(Tt,se[Ze][1].type)&&Tt[se[Ze][1].type].call(Object.assign({sliceSerialize:se[Ze][2].sliceSerialize},qe),se[Ze][1])}if(qe.tokenStack.length>0){const Tt=qe.tokenStack[qe.tokenStack.length-1];(Tt[1]||_W).call(qe,void 0,Tt[0])}for(pe.position={start:sh(se.length>0?se[0][1].start:{line:1,column:1,offset:0}),end:sh(se.length>0?se[se.length-2][1].end:{line:1,column:1,offset:0})},Ze=-1;++Ze<e.transforms.length;)pe=e.transforms[Ze](pe)||pe;return pe}function i(se,pe,qe){let De=pe-1,Ze=-1,Tt=!1,hn,pn,rr,Dr;for(;++De<=qe;){const Qt=se[De];if(Qt[1].type==="listUnordered"||Qt[1].type==="listOrdered"||Qt[1].type==="blockQuote"?(Qt[0]==="enter"?Ze++:Ze--,Dr=void 0):Qt[1].type==="lineEndingBlank"?Qt[0]==="enter"&&(hn&&!Dr&&!Ze&&!rr&&(rr=De),Dr=void 0):Qt[1].type==="linePrefix"||Qt[1].type==="listItemValue"||Qt[1].type==="listItemMarker"||Qt[1].type==="listItemPrefix"||Qt[1].type==="listItemPrefixWhitespace"||(Dr=void 0),!Ze&&Qt[0]==="enter"&&Qt[1].type==="listItemPrefix"||Ze===-1&&Qt[0]==="exit"&&(Qt[1].type==="listUnordered"||Qt[1].type==="listOrdered")){if(hn){let ci=De;for(pn=void 0;ci--;){const ft=se[ci];if(ft[1].type==="lineEnding"||ft[1].type==="lineEndingBlank"){if(ft[0]==="exit")continue;pn&&(se[pn][1].type="lineEndingBlank",Tt=!0),ft[1].type="lineEnding",pn=ci}else if(!(ft[1].type==="linePrefix"||ft[1].type==="blockQuotePrefix"||ft[1].type==="blockQuotePrefixWhitespace"||ft[1].type==="blockQuoteMarker"||ft[1].type==="listItemIndent"))break}rr&&(!pn||rr<pn)&&(hn._spread=!0),hn.end=Object.assign({},pn?se[pn][1].start:Qt[1].end),se.splice(pn||De,0,["exit",hn,Qt[2]]),De++,qe++}Qt[1].type==="listItemPrefix"&&(hn={type:"listItem",_spread:!1,start:Object.assign({},Qt[1].start),end:void 0},se.splice(De,0,["enter",hn,Qt[2]]),De++,qe++,rr=void 0,Dr=!0)}}return se[pe][1]._spread=Tt,qe}function o(se,pe){n[se]=pe}function a(se){return n[se]}function l(se,pe){return qe;function qe(De){f.call(this,se(De),De),pe&&pe.call(this,De)}}function u(){this.stack.push({type:"fragment",children:[]})}function f(se,pe,qe){return this.stack[this.stack.length-1].children.push(se),this.stack.push(se),this.tokenStack.push([pe,qe]),se.position={start:sh(pe.start)},se}function h(se){return pe;function pe(qe){se&&se.call(this,qe),g.call(this,qe)}}function g(se,pe){const qe=this.stack.pop(),De=this.tokenStack.pop();if(De)De[0].type!==se.type&&(pe?pe.call(this,se,De[0]):(De[1]||_W).call(this,se,De[0]));else throw new Error("Cannot close `"+se.type+"` ("+_0({start:se.start,end:se.end})+"): its not open");return qe.position.end=sh(se.end),qe}function y(){return zBe(this.stack.pop())}function w(){o("expectingFirstListItemValue",!0)}function T(se){if(a("expectingFirstListItemValue")){const pe=this.stack[this.stack.length-2];pe.start=Number.parseInt(this.sliceSerialize(se),10),o("expectingFirstListItemValue")}}function C(){const se=this.resume(),pe=this.stack[this.stack.length-1];pe.lang=se}function R(){const se=this.resume(),pe=this.stack[this.stack.length-1];pe.meta=se}function I(){a("flowCodeInside")||(this.buffer(),o("flowCodeInside",!0))}function k(){const se=this.resume(),pe=this.stack[this.stack.length-1];pe.value=se.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),o("flowCodeInside")}function O(){const se=this.resume(),pe=this.stack[this.stack.length-1];pe.value=se.replace(/(\r?\n|\r)$/g,"")}function A(se){const pe=this.resume(),qe=this.stack[this.stack.length-1];qe.label=pe,qe.identifier=ey(this.sliceSerialize(se)).toLowerCase()}function V(){const se=this.resume(),pe=this.stack[this.stack.length-1];pe.title=se}function D(){const se=this.resume(),pe=this.stack[this.stack.length-1];pe.url=se}function P(se){const pe=this.stack[this.stack.length-1];if(!pe.depth){const qe=this.sliceSerialize(se).length;pe.depth=qe}}function N(){o("setextHeadingSlurpLineEnding",!0)}function $(se){const pe=this.stack[this.stack.length-1];pe.depth=this.sliceSerialize(se).charCodeAt(0)===61?1:2}function q(){o("setextHeadingSlurpLineEnding")}function z(se){const pe=this.stack[this.stack.length-1];let qe=pe.children[pe.children.length-1];(!qe||qe.type!=="text")&&(qe=Re(),qe.position={start:sh(se.start)},pe.children.push(qe)),this.stack.push(qe)}function K(se){const pe=this.stack.pop();pe.value+=this.sliceSerialize(se),pe.position.end=sh(se.end)}function Q(se){const pe=this.stack[this.stack.length-1];if(a("atHardBreak")){const qe=pe.children[pe.children.length-1];qe.position.end=sh(se.end),o("atHardBreak");return}!a("setextHeadingSlurpLineEnding")&&e.canContainEols.includes(pe.type)&&(z.call(this,se),K.call(this,se))}function Ee(){o("atHardBreak",!0)}function he(){const se=this.resume(),pe=this.stack[this.stack.length-1];pe.value=se}function Je(){const se=this.resume(),pe=this.stack[this.stack.length-1];pe.value=se}function He(){const se=this.resume(),pe=this.stack[this.stack.length-1];pe.value=se}function xe(){const se=this.stack[this.stack.length-1];if(a("inReference")){const pe=a("referenceType")||"shortcut";se.type+="Reference",se.referenceType=pe,delete se.url,delete se.title}else delete se.identifier,delete se.label;o("referenceType")}function Te(){const se=this.stack[this.stack.length-1];if(a("inReference")){const pe=a("referenceType")||"shortcut";se.type+="Reference",se.referenceType=pe,delete se.url,delete se.title}else delete se.identifier,delete se.label;o("referenceType")}function J(se){const pe=this.sliceSerialize(se),qe=this.stack[this.stack.length-2];qe.label=j$e(pe),qe.identifier=ey(pe).toLowerCase()}function Ae(){const se=this.stack[this.stack.length-1],pe=this.resume(),qe=this.stack[this.stack.length-1];if(o("inReference",!0),qe.type==="link"){const De=se.children;qe.children=De}else qe.alt=pe}function Ne(){const se=this.resume(),pe=this.stack[this.stack.length-1];pe.url=se}function ie(){const se=this.resume(),pe=this.stack[this.stack.length-1];pe.title=se}function lt(){o("inReference")}function Ge(){o("referenceType","collapsed")}function ut(se){const pe=this.resume(),qe=this.stack[this.stack.length-1];qe.label=pe,qe.identifier=ey(this.sliceSerialize(se)).toLowerCase(),o("referenceType","full")}function et(se){o("characterReferenceType",se.type)}function _t(se){const pe=this.sliceSerialize(se),qe=a("characterReferenceType");let De;qe?(De=sne(pe,qe==="characterReferenceMarkerNumeric"?10:16),o("characterReferenceType")):De=I4(pe);const Ze=this.stack.pop();Ze.value+=De,Ze.position.end=sh(se.end)}function xt(se){K.call(this,se);const pe=this.stack[this.stack.length-1];pe.url=this.sliceSerialize(se)}function Et(se){K.call(this,se);const pe=this.stack[this.stack.length-1];pe.url="mailto:"+this.sliceSerialize(se)}function Dt(){return{type:"blockquote",children:[]}}function Ut(){return{type:"code",lang:null,meta:null,value:""}}function an(){return{type:"inlineCode",value:""}}function nt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function nn(){return{type:"emphasis",children:[]}}function Wt(){return{type:"heading",depth:void 0,children:[]}}function Kt(){return{type:"break"}}function vn(){return{type:"html",value:""}}function fn(){return{type:"image",title:null,url:"",alt:null}}function Ot(){return{type:"link",title:null,url:"",children:[]}}function En(se){return{type:"list",ordered:se.type==="listOrdered",start:null,spread:se._spread,children:[]}}function fe(se){return{type:"listItem",spread:se._spread,checked:null,children:[]}}function Ce(){return{type:"paragraph",children:[]}}function ge(){return{type:"strong",children:[]}}function Re(){return{type:"text",value:""}}function Me(){return{type:"thematicBreak"}}}function sh(t){return{line:t.line,column:t.column,offset:t.offset}}function une(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?une(t,r):K$e(t,r)}}function K$e(t,e){let n;for(n in e)if(lne.call(e,n)){if(n==="canContainEols"){const r=e[n];r&&t[n].push(...r)}else if(n==="transforms"){const r=e[n];r&&t[n].push(...r)}else if(n==="enter"||n==="exit"){const r=e[n];r&&Object.assign(t[n],r)}}}function _W(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+_0({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+_0({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+_0({start:e.start,end:e.end})+") is still open")}function G$e(t){Object.assign(this,{Parser:n=>{const r=this.data("settings");return W$e(n,Object.assign({},r,t,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})}function Y$e(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function Q$e(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function X$e(t,e){const n=e.value?e.value+`
`:"",r=e.lang?e.lang.match(/^[^ \t]+(?=[ \t]|$)/):null,i={};r&&(i.className=["language-"+r]);let o={type:"element",tagName:"code",properties:i,children:[{type:"text",value:n}]};return e.meta&&(o.data={meta:e.meta}),t.patch(e,o),o=t.applyData(e,o),o={type:"element",tagName:"pre",properties:{},children:[o]},t.patch(e,o),o}function J$e(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Z$e(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function g_(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const o=t.charCodeAt(n);let a="";if(o===37&&Sl(t.charCodeAt(n+1))&&Sl(t.charCodeAt(n+2)))i=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(a=String.fromCharCode(o));else if(o>55295&&o<57344){const l=t.charCodeAt(n+1);o<56320&&l>56319&&l<57344?(a=String.fromCharCode(o,l),i=1):a=""}else a=String.fromCharCode(o);a&&(e.push(t.slice(r,n),encodeURIComponent(a)),r=n+i+1,a=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function cne(t,e){const n=String(e.identifier).toUpperCase(),r=g_(n.toLowerCase()),i=t.footnoteOrder.indexOf(n);let o;i===-1?(t.footnoteOrder.push(n),t.footnoteCounts[n]=1,o=t.footnoteOrder.length):(t.footnoteCounts[n]++,o=i+1);const a=t.footnoteCounts[n],l={type:"element",tagName:"a",properties:{href:"#"+t.clobberPrefix+"fn-"+r,id:t.clobberPrefix+"fnref-"+r+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};t.patch(e,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return t.patch(e,u),t.applyData(e,u)}function e6e(t,e){const n=t.footnoteById;let r=1;for(;r in n;)r++;const i=String(r);return n[i]={type:"footnoteDefinition",identifier:i,children:[{type:"paragraph",children:e.children}],position:e.position},cne(t,{type:"footnoteReference",identifier:i,position:e.position})}function t6e(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function n6e(t,e){if(t.dangerous){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}return null}function fne(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return{type:"text",value:"!["+e.alt+r};const i=t.all(e),o=i[0];o&&o.type==="text"?o.value="["+o.value:i.unshift({type:"text",value:"["});const a=i[i.length-1];return a&&a.type==="text"?a.value+=r:i.push({type:"text",value:r}),i}function r6e(t,e){const n=t.definition(e.identifier);if(!n)return fne(t,e);const r={src:g_(n.url||""),alt:e.alt};n.title!==null&&n.title!==void 0&&(r.title=n.title);const i={type:"element",tagName:"img",properties:r,children:[]};return t.patch(e,i),t.applyData(e,i)}function i6e(t,e){const n={src:g_(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function o6e(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function a6e(t,e){const n=t.definition(e.identifier);if(!n)return fne(t,e);const r={href:g_(n.url||"")};n.title!==null&&n.title!==void 0&&(r.title=n.title);const i={type:"element",tagName:"a",properties:r,children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function s6e(t,e){const n={href:g_(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function l6e(t,e,n){const r=t.all(e),i=n?u6e(n):dne(e),o={},a=[];if(typeof e.checked=="boolean"){const h=r[0];let g;h&&h.type==="element"&&h.tagName==="p"?g=h:(g={type:"element",tagName:"p",properties:{},children:[]},r.unshift(g)),g.children.length>0&&g.children.unshift({type:"text",value:" "}),g.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let l=-1;for(;++l<r.length;){const h=r[l];(i||l!==0||h.type!=="element"||h.tagName!=="p")&&a.push({type:"text",value:`
`}),h.type==="element"&&h.tagName==="p"&&!i?a.push(...h.children):a.push(h)}const u=r[r.length-1];u&&(i||u.type!=="element"||u.tagName!=="p")&&a.push({type:"text",value:`
`});const f={type:"element",tagName:"li",properties:o,children:a};return t.patch(e,f),t.applyData(e,f)}function u6e(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=dne(n[r])}return e}function dne(t){const e=t.spread;return e??t.children.length>1}function c6e(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const a=r[i];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,o),t.applyData(e,o)}function f6e(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function d6e(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function h6e(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const R4=hne("start"),O4=hne("end");function p6e(t){return{start:R4(t),end:O4(t)}}function hne(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};return{line:r.line||null,column:r.column||null,offset:r.offset>-1?r.offset:null}}}function m6e(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const a={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],a),i.push(a)}if(n.length>0){const a={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},l=R4(e.children[1]),u=O4(e.children[e.children.length-1]);l.line&&u.line&&(a.position={start:l,end:u}),i.push(a)}const o={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,o),t.applyData(e,o)}function g6e(t,e,n){const r=n?n.children:void 0,o=(r?r.indexOf(e):1)===0?"th":"td",a=n&&n.type==="table"?n.align:void 0,l=a?a.length:e.children.length;let u=-1;const f=[];for(;++u<l;){const g=e.children[u],y={},w=a?a[u]:void 0;w&&(y.align=w);let T={type:"element",tagName:o,properties:y,children:[]};g&&(T.children=t.all(g),t.patch(g,T),T=t.applyData(e,T)),f.push(T)}const h={type:"element",tagName:"tr",properties:{},children:t.wrap(f,!0)};return t.patch(e,h),t.applyData(e,h)}function v6e(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const bW=9,EW=32;function y6e(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const o=[];for(;r;)o.push(wW(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return o.push(wW(e.slice(i),i>0,!1)),o.join("")}function wW(t,e,n){let r=0,i=t.length;if(e){let o=t.codePointAt(r);for(;o===bW||o===EW;)r++,o=t.codePointAt(r)}if(n){let o=t.codePointAt(i-1);for(;o===bW||o===EW;)i--,o=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function _6e(t,e){const n={type:"text",value:y6e(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function b6e(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const E6e={blockquote:Y$e,break:Q$e,code:X$e,delete:J$e,emphasis:Z$e,footnoteReference:cne,footnote:e6e,heading:t6e,html:n6e,imageReference:r6e,image:i6e,inlineCode:o6e,linkReference:a6e,link:s6e,listItem:l6e,list:c6e,paragraph:f6e,root:d6e,strong:h6e,table:m6e,tableCell:v6e,tableRow:g6e,text:_6e,thematicBreak:b6e,toml:DS,yaml:DS,definition:DS,footnoteDefinition:DS};function DS(){return null}const pne=function(t){if(t==null)return T6e;if(typeof t=="string")return S6e(t);if(typeof t=="object")return Array.isArray(t)?w6e(t):C6e(t);if(typeof t=="function")return I1(t);throw new Error("Expected function, string, or object as test")};function w6e(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=pne(t[n]);return I1(r);function r(...i){let o=-1;for(;++o<e.length;)if(e[o].call(this,...i))return!0;return!1}}function C6e(t){return I1(e);function e(n){let r;for(r in t)if(n[r]!==t[r])return!1;return!0}}function S6e(t){return I1(e);function e(n){return n&&n.type===t}}function I1(t){return e;function e(n,...r){return!!(n&&typeof n=="object"&&"type"in n&&t.call(this,n,...r))}}function T6e(){return!0}const x6e=!0,CW=!1,A6e="skip",I6e=function(t,e,n,r){typeof e=="function"&&typeof n!="function"&&(r=n,n=e,e=null);const i=pne(e),o=r?-1:1;a(t,void 0,[])();function a(l,u,f){const h=l&&typeof l=="object"?l:{};if(typeof h.type=="string"){const y=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(g,"name",{value:"node ("+(l.type+(y?"<"+y+">":""))+")"})}return g;function g(){let y=[],w,T,C;if((!e||i(l,u,f[f.length-1]||null))&&(y=k6e(n(l,f)),y[0]===CW))return y;if(l.children&&y[0]!==A6e)for(T=(r?l.children.length:-1)+o,C=f.concat(l);T>-1&&T<l.children.length;){if(w=a(l.children[T],T,C)(),w[0]===CW)return w;T=typeof w[1]=="number"?w[1]:T+o}return y}}};function k6e(t){return Array.isArray(t)?t:typeof t=="number"?[x6e,t]:[t]}const P4=function(t,e,n,r){typeof e=="function"&&typeof n!="function"&&(r=n,n=e,e=null),I6e(t,e,i,r);function i(o,a){const l=a[a.length-1];return n(o,l?l.children.indexOf(o):null,l)}};function R6e(t){return!t||!t.position||!t.position.start||!t.position.start.line||!t.position.start.column||!t.position.end||!t.position.end.line||!t.position.end.column}const SW={}.hasOwnProperty;function O6e(t){const e=Object.create(null);if(!t||!t.type)throw new Error("mdast-util-definitions expected node");return P4(t,"definition",r=>{const i=TW(r.identifier);i&&!SW.call(e,i)&&(e[i]=r)}),n;function n(r){const i=TW(r);return i&&SW.call(e,i)?e[i]:null}}function TW(t){return String(t||"").toUpperCase()}const hA={}.hasOwnProperty;function P6e(t,e){const n=e||{},r=n.allowDangerousHtml||!1,i={};return a.dangerous=r,a.clobberPrefix=n.clobberPrefix===void 0||n.clobberPrefix===null?"user-content-":n.clobberPrefix,a.footnoteLabel=n.footnoteLabel||"Footnotes",a.footnoteLabelTagName=n.footnoteLabelTagName||"h2",a.footnoteLabelProperties=n.footnoteLabelProperties||{className:["sr-only"]},a.footnoteBackLabel=n.footnoteBackLabel||"Back to content",a.unknownHandler=n.unknownHandler,a.passThrough=n.passThrough,a.handlers={...E6e,...n.handlers},a.definition=O6e(t),a.footnoteById=i,a.footnoteOrder=[],a.footnoteCounts={},a.patch=N6e,a.applyData=L6e,a.one=l,a.all=u,a.wrap=M6e,a.augment=o,P4(t,"footnoteDefinition",f=>{const h=String(f.identifier).toUpperCase();hA.call(i,h)||(i[h]=f)}),a;function o(f,h){if(f&&"data"in f&&f.data){const g=f.data;g.hName&&(h.type!=="element"&&(h={type:"element",tagName:"",properties:{},children:[]}),h.tagName=g.hName),h.type==="element"&&g.hProperties&&(h.properties={...h.properties,...g.hProperties}),"children"in h&&h.children&&g.hChildren&&(h.children=g.hChildren)}if(f){const g="type"in f?f:{position:f};R6e(g)||(h.position={start:R4(g),end:O4(g)})}return h}function a(f,h,g,y){return Array.isArray(g)&&(y=g,g={}),o(f,{type:"element",tagName:h,properties:g||{},children:y||[]})}function l(f,h){return mne(a,f,h)}function u(f){return N4(a,f)}}function N6e(t,e){t.position&&(e.position=p6e(t))}function L6e(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,o=t.data.hProperties;typeof r=="string"&&(n.type==="element"?n.tagName=r:n={type:"element",tagName:r,properties:{},children:[]}),n.type==="element"&&o&&(n.properties={...n.properties,...o}),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function mne(t,e,n){const r=e&&e.type;if(!r)throw new Error("Expected node, got `"+e+"`");return hA.call(t.handlers,r)?t.handlers[r](t,e,n):t.passThrough&&t.passThrough.includes(r)?"children"in e?{...e,children:N4(t,e)}:e:t.unknownHandler?t.unknownHandler(t,e,n):D6e(t,e)}function N4(t,e){const n=[];if("children"in e){const r=e.children;let i=-1;for(;++i<r.length;){const o=mne(t,r[i],e);if(o){if(i&&r[i-1].type==="break"&&(!Array.isArray(o)&&o.type==="text"&&(o.value=o.value.replace(/^\s+/,"")),!Array.isArray(o)&&o.type==="element")){const a=o.children[0];a&&a.type==="text"&&(a.value=a.value.replace(/^\s+/,""))}Array.isArray(o)?n.push(...o):n.push(o)}}}return n}function D6e(t,e){const n=e.data||{},r="value"in e&&!(hA.call(n,"hProperties")||hA.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:N4(t,e)};return t.patch(e,r),t.applyData(e,r)}function M6e(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function F6e(t){const e=[];let n=-1;for(;++n<t.footnoteOrder.length;){const r=t.footnoteById[t.footnoteOrder[n]];if(!r)continue;const i=t.all(r),o=String(r.identifier).toUpperCase(),a=g_(o.toLowerCase());let l=0;const u=[];for(;++l<=t.footnoteCounts[o];){const g={type:"element",tagName:"a",properties:{href:"#"+t.clobberPrefix+"fnref-"+a+(l>1?"-"+l:""),dataFootnoteBackref:!0,className:["data-footnote-backref"],ariaLabel:t.footnoteBackLabel},children:[{type:"text",value:""}]};l>1&&g.children.push({type:"element",tagName:"sup",children:[{type:"text",value:String(l)}]}),u.length>0&&u.push({type:"text",value:" "}),u.push(g)}const f=i[i.length-1];if(f&&f.type==="element"&&f.tagName==="p"){const g=f.children[f.children.length-1];g&&g.type==="text"?g.value+=" ":f.children.push({type:"text",value:" "}),f.children.push(...u)}else i.push(...u);const h={type:"element",tagName:"li",properties:{id:t.clobberPrefix+"fn-"+a},children:t.wrap(i,!0)};t.patch(r,h),e.push(h)}if(e.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:t.footnoteLabelTagName,properties:{...JSON.parse(JSON.stringify(t.footnoteLabelProperties)),id:"footnote-label"},children:[{type:"text",value:t.footnoteLabel}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(e,!0)},{type:"text",value:`
`}]}}function gne(t,e){const n=P6e(t,e),r=n.one(t,null),i=F6e(n);return i&&r.children.push({type:"text",value:`
`},i),Array.isArray(r)?{type:"root",children:r}:r}const U6e=function(t,e){return t&&"run"in t?V6e(t,e):B6e(t||e)};function V6e(t,e){return(n,r,i)=>{t.run(gne(n,e),r,o=>{i(o)})}}function B6e(t){return e=>gne(e,t)}class Aw{constructor(e,n,r){this.property=e,this.normal=n,r&&(this.space=r)}}Aw.prototype.property={};Aw.prototype.normal={};Aw.prototype.space=null;function vne(t,e){const n={},r={};let i=-1;for(;++i<t.length;)Object.assign(n,t[i].property),Object.assign(r,t[i].normal);return new Aw(n,r,e)}function nM(t){return t.toLowerCase()}class bu{constructor(e,n){this.property=e,this.attribute=n}}bu.prototype.space=null;bu.prototype.boolean=!1;bu.prototype.booleanish=!1;bu.prototype.overloadedBoolean=!1;bu.prototype.number=!1;bu.prototype.commaSeparated=!1;bu.prototype.spaceSeparated=!1;bu.prototype.commaOrSpaceSeparated=!1;bu.prototype.mustUseProperty=!1;bu.prototype.defined=!1;let $6e=0;const dn=bg(),vo=bg(),yne=bg(),rt=bg(),Br=bg(),ty=bg(),yl=bg();function bg(){return 2**++$6e}const rM=Object.freeze(Object.defineProperty({__proto__:null,boolean:dn,booleanish:vo,commaOrSpaceSeparated:yl,commaSeparated:ty,number:rt,overloadedBoolean:yne,spaceSeparated:Br},Symbol.toStringTag,{value:"Module"})),gP=Object.keys(rM);class L4 extends bu{constructor(e,n,r,i){let o=-1;if(super(e,n),xW(this,"space",i),typeof r=="number")for(;++o<gP.length;){const a=gP[o];xW(this,gP[o],(r&rM[a])===rM[a])}}}L4.prototype.defined=!0;function xW(t,e,n){n&&(t[e]=n)}const H6e={}.hasOwnProperty;function v_(t){const e={},n={};let r;for(r in t.properties)if(H6e.call(t.properties,r)){const i=t.properties[r],o=new L4(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),e[r]=o,n[nM(r)]=r,n[nM(o.attribute)]=r}return new Aw(e,n,t.space)}const _ne=v_({space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),bne=v_({space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function Ene(t,e){return e in t?t[e]:e}function wne(t,e){return Ene(t,e.toLowerCase())}const Cne=v_({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:wne,properties:{xmlns:null,xmlnsXLink:null}}),Sne=v_({transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:vo,ariaAutoComplete:null,ariaBusy:vo,ariaChecked:vo,ariaColCount:rt,ariaColIndex:rt,ariaColSpan:rt,ariaControls:Br,ariaCurrent:null,ariaDescribedBy:Br,ariaDetails:null,ariaDisabled:vo,ariaDropEffect:Br,ariaErrorMessage:null,ariaExpanded:vo,ariaFlowTo:Br,ariaGrabbed:vo,ariaHasPopup:null,ariaHidden:vo,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Br,ariaLevel:rt,ariaLive:null,ariaModal:vo,ariaMultiLine:vo,ariaMultiSelectable:vo,ariaOrientation:null,ariaOwns:Br,ariaPlaceholder:null,ariaPosInSet:rt,ariaPressed:vo,ariaReadOnly:vo,ariaRelevant:null,ariaRequired:vo,ariaRoleDescription:Br,ariaRowCount:rt,ariaRowIndex:rt,ariaRowSpan:rt,ariaSelected:vo,ariaSetSize:rt,ariaSort:null,ariaValueMax:rt,ariaValueMin:rt,ariaValueNow:rt,ariaValueText:null,role:null}}),j6e=v_({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:wne,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:ty,acceptCharset:Br,accessKey:Br,action:null,allow:null,allowFullScreen:dn,allowPaymentRequest:dn,allowUserMedia:dn,alt:null,as:null,async:dn,autoCapitalize:null,autoComplete:Br,autoFocus:dn,autoPlay:dn,blocking:Br,capture:null,charSet:null,checked:dn,cite:null,className:Br,cols:rt,colSpan:null,content:null,contentEditable:vo,controls:dn,controlsList:Br,coords:rt|ty,crossOrigin:null,data:null,dateTime:null,decoding:null,default:dn,defer:dn,dir:null,dirName:null,disabled:dn,download:yne,draggable:vo,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:dn,formTarget:null,headers:Br,height:rt,hidden:dn,high:rt,href:null,hrefLang:null,htmlFor:Br,httpEquiv:Br,id:null,imageSizes:null,imageSrcSet:null,inert:dn,inputMode:null,integrity:null,is:null,isMap:dn,itemId:null,itemProp:Br,itemRef:Br,itemScope:dn,itemType:Br,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:dn,low:rt,manifest:null,max:null,maxLength:rt,media:null,method:null,min:null,minLength:rt,multiple:dn,muted:dn,name:null,nonce:null,noModule:dn,noValidate:dn,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:dn,optimum:rt,pattern:null,ping:Br,placeholder:null,playsInline:dn,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:dn,referrerPolicy:null,rel:Br,required:dn,reversed:dn,rows:rt,rowSpan:rt,sandbox:Br,scope:null,scoped:dn,seamless:dn,selected:dn,shadowRootClonable:dn,shadowRootDelegatesFocus:dn,shadowRootMode:null,shape:null,size:rt,sizes:null,slot:null,span:rt,spellCheck:vo,src:null,srcDoc:null,srcLang:null,srcSet:null,start:rt,step:null,style:null,tabIndex:rt,target:null,title:null,translate:null,type:null,typeMustMatch:dn,useMap:null,value:vo,width:rt,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Br,axis:null,background:null,bgColor:null,border:rt,borderColor:null,bottomMargin:rt,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:dn,declare:dn,event:null,face:null,frame:null,frameBorder:null,hSpace:rt,leftMargin:rt,link:null,longDesc:null,lowSrc:null,marginHeight:rt,marginWidth:rt,noResize:dn,noHref:dn,noShade:dn,noWrap:dn,object:null,profile:null,prompt:null,rev:null,rightMargin:rt,rules:null,scheme:null,scrolling:vo,standby:null,summary:null,text:null,topMargin:rt,valueType:null,version:null,vAlign:null,vLink:null,vSpace:rt,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:dn,disableRemotePlayback:dn,prefix:null,property:null,results:rt,security:null,unselectable:null}}),z6e=v_({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:Ene,properties:{about:yl,accentHeight:rt,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:rt,amplitude:rt,arabicForm:null,ascent:rt,attributeName:null,attributeType:null,azimuth:rt,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:rt,by:null,calcMode:null,capHeight:rt,className:Br,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:rt,diffuseConstant:rt,direction:null,display:null,dur:null,divisor:rt,dominantBaseline:null,download:dn,dx:null,dy:null,edgeMode:null,editable:null,elevation:rt,enableBackground:null,end:null,event:null,exponent:rt,externalResourcesRequired:null,fill:null,fillOpacity:rt,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:ty,g2:ty,glyphName:ty,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:rt,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:rt,horizOriginX:rt,horizOriginY:rt,id:null,ideographic:rt,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:rt,k:rt,k1:rt,k2:rt,k3:rt,k4:rt,kernelMatrix:yl,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:rt,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:rt,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:rt,overlineThickness:rt,paintOrder:null,panose1:null,path:null,pathLength:rt,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Br,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:rt,pointsAtY:rt,pointsAtZ:rt,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:yl,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:yl,rev:yl,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:yl,requiredFeatures:yl,requiredFonts:yl,requiredFormats:yl,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:rt,specularExponent:rt,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:rt,strikethroughThickness:rt,string:null,stroke:null,strokeDashArray:yl,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:rt,strokeOpacity:rt,strokeWidth:null,style:null,surfaceScale:rt,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:yl,tabIndex:rt,tableValues:null,target:null,targetX:rt,targetY:rt,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:yl,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:rt,underlineThickness:rt,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:rt,values:null,vAlphabetic:rt,vMathematical:rt,vectorEffect:null,vHanging:rt,vIdeographic:rt,version:null,vertAdvY:rt,vertOriginX:rt,vertOriginY:rt,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:rt,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),W6e=/^data[-\w.:]+$/i,AW=/-[a-z]/g,q6e=/[A-Z]/g;function K6e(t,e){const n=nM(e);let r=e,i=bu;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&W6e.test(e)){if(e.charAt(4)==="-"){const o=e.slice(5).replace(AW,Y6e);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=e.slice(4);if(!AW.test(o)){let a=o.replace(q6e,G6e);a.charAt(0)!=="-"&&(a="-"+a),e="data"+a}}i=L4}return new i(r,e)}function G6e(t){return"-"+t.toLowerCase()}function Y6e(t){return t.charAt(1).toUpperCase()}const IW={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Q6e=vne([bne,_ne,Cne,Sne,j6e],"html"),X6e=vne([bne,_ne,Cne,Sne,z6e],"svg");function J6e(t){if(t.allowedElements&&t.disallowedElements)throw new TypeError("Only one of `allowedElements` and `disallowedElements` should be defined");if(t.allowedElements||t.disallowedElements||t.allowElement)return e=>{P4(e,"element",(n,r,i)=>{const o=i;let a;if(t.allowedElements?a=!t.allowedElements.includes(n.tagName):t.disallowedElements&&(a=t.disallowedElements.includes(n.tagName)),!a&&t.allowElement&&typeof r=="number"&&(a=!t.allowElement(n,r,o)),a&&typeof r=="number")return t.unwrapDisallowed&&n.children?o.children.splice(r,1,...n.children):o.children.splice(r,1),r})}}var Tne={exports:{}},Sr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D4=Symbol.for("react.element"),M4=Symbol.for("react.portal"),k1=Symbol.for("react.fragment"),R1=Symbol.for("react.strict_mode"),O1=Symbol.for("react.profiler"),P1=Symbol.for("react.provider"),N1=Symbol.for("react.context"),Z6e=Symbol.for("react.server_context"),L1=Symbol.for("react.forward_ref"),D1=Symbol.for("react.suspense"),M1=Symbol.for("react.suspense_list"),F1=Symbol.for("react.memo"),U1=Symbol.for("react.lazy"),e9e=Symbol.for("react.offscreen"),xne;xne=Symbol.for("react.module.reference");function Eu(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case D4:switch(t=t.type,t){case k1:case O1:case R1:case D1:case M1:return t;default:switch(t=t&&t.$$typeof,t){case Z6e:case N1:case L1:case U1:case F1:case P1:return t;default:return e}}case M4:return e}}}Sr.ContextConsumer=N1;Sr.ContextProvider=P1;Sr.Element=D4;Sr.ForwardRef=L1;Sr.Fragment=k1;Sr.Lazy=U1;Sr.Memo=F1;Sr.Portal=M4;Sr.Profiler=O1;Sr.StrictMode=R1;Sr.Suspense=D1;Sr.SuspenseList=M1;Sr.isAsyncMode=function(){return!1};Sr.isConcurrentMode=function(){return!1};Sr.isContextConsumer=function(t){return Eu(t)===N1};Sr.isContextProvider=function(t){return Eu(t)===P1};Sr.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===D4};Sr.isForwardRef=function(t){return Eu(t)===L1};Sr.isFragment=function(t){return Eu(t)===k1};Sr.isLazy=function(t){return Eu(t)===U1};Sr.isMemo=function(t){return Eu(t)===F1};Sr.isPortal=function(t){return Eu(t)===M4};Sr.isProfiler=function(t){return Eu(t)===O1};Sr.isStrictMode=function(t){return Eu(t)===R1};Sr.isSuspense=function(t){return Eu(t)===D1};Sr.isSuspenseList=function(t){return Eu(t)===M1};Sr.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===k1||t===O1||t===R1||t===D1||t===M1||t===e9e||typeof t=="object"&&t!==null&&(t.$$typeof===U1||t.$$typeof===F1||t.$$typeof===P1||t.$$typeof===N1||t.$$typeof===L1||t.$$typeof===xne||t.getModuleId!==void 0)};Sr.typeOf=Eu;Tne.exports=Sr;var t9e=Tne.exports;const n9e=ra(t9e);function r9e(t){const e=t&&typeof t=="object"&&t.type==="text"?t.value||"":t;return typeof e=="string"&&e.replace(/[ \t\n\f\r]/g,"")===""}function i9e(t){return t.join(" ").trim()}function o9e(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}var F4={exports:{}},kW=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,a9e=/\n/g,s9e=/^\s*/,l9e=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,u9e=/^:\s*/,c9e=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,f9e=/^[;\s]*/,d9e=/^\s+|\s+$/g,h9e=`
`,RW="/",OW="*",um="",p9e="comment",m9e="declaration",g9e=function(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var n=1,r=1;function i(T){var C=T.match(a9e);C&&(n+=C.length);var R=T.lastIndexOf(h9e);r=~R?T.length-R:r+T.length}function o(){var T={line:n,column:r};return function(C){return C.position=new a(T),f(),C}}function a(T){this.start=T,this.end={line:n,column:r},this.source=e.source}a.prototype.content=t;function l(T){var C=new Error(e.source+":"+n+":"+r+": "+T);if(C.reason=T,C.filename=e.source,C.line=n,C.column=r,C.source=t,!e.silent)throw C}function u(T){var C=T.exec(t);if(C){var R=C[0];return i(R),t=t.slice(R.length),C}}function f(){u(s9e)}function h(T){var C;for(T=T||[];C=g();)C!==!1&&T.push(C);return T}function g(){var T=o();if(!(RW!=t.charAt(0)||OW!=t.charAt(1))){for(var C=2;um!=t.charAt(C)&&(OW!=t.charAt(C)||RW!=t.charAt(C+1));)++C;if(C+=2,um===t.charAt(C-1))return l("End of comment missing");var R=t.slice(2,C-2);return r+=2,i(R),t=t.slice(C),r+=2,T({type:p9e,comment:R})}}function y(){var T=o(),C=u(l9e);if(C){if(g(),!u(u9e))return l("property missing ':'");var R=u(c9e),I=T({type:m9e,property:PW(C[0].replace(kW,um)),value:R?PW(R[0].replace(kW,um)):um});return u(f9e),I}}function w(){var T=[];h(T);for(var C;C=y();)C!==!1&&(T.push(C),h(T));return T}return f(),w()};function PW(t){return t?t.replace(d9e,um):um}var v9e=g9e;function Ane(t,e){var n=null;if(!t||typeof t!="string")return n;for(var r,i=v9e(t),o=typeof e=="function",a,l,u=0,f=i.length;u<f;u++)r=i[u],a=r.property,l=r.value,o?e(a,l,r):l&&(n||(n={}),n[a]=l);return n}F4.exports=Ane;F4.exports.default=Ane;var y9e=F4.exports;const _9e=ra(y9e),iM={}.hasOwnProperty,b9e=new Set(["table","thead","tbody","tfoot","tr"]);function Ine(t,e){const n=[];let r=-1,i;for(;++r<e.children.length;)i=e.children[r],i.type==="element"?n.push(E9e(t,i,r,e)):i.type==="text"?(e.type!=="element"||!b9e.has(e.tagName)||!r9e(i))&&n.push(i.value):i.type==="raw"&&!t.options.skipHtml&&n.push(i.value);return n}function E9e(t,e,n,r){const i=t.options,o=i.transformLinkUri===void 0?CBe:i.transformLinkUri,a=t.schema,l=e.tagName,u={};let f=a,h;if(a.space==="html"&&l==="svg"&&(f=X6e,t.schema=f),e.properties)for(h in e.properties)iM.call(e.properties,h)&&C9e(u,h,e.properties[h],t);(l==="ol"||l==="ul")&&t.listDepth++;const g=Ine(t,e);(l==="ol"||l==="ul")&&t.listDepth--,t.schema=a;const y=e.position||{start:{line:null,column:null,offset:null},end:{line:null,column:null,offset:null}},w=i.components&&iM.call(i.components,l)?i.components[l]:l,T=typeof w=="string"||w===Y.Fragment;if(!n9e.isValidElementType(w))throw new TypeError(`Component for name \`${l}\` not defined or is not renderable`);if(u.key=n,l==="a"&&i.linkTarget&&(u.target=typeof i.linkTarget=="function"?i.linkTarget(String(u.href||""),e.children,typeof u.title=="string"?u.title:null):i.linkTarget),l==="a"&&o&&(u.href=o(String(u.href||""),e.children,typeof u.title=="string"?u.title:null)),!T&&l==="code"&&r.type==="element"&&r.tagName!=="pre"&&(u.inline=!0),!T&&(l==="h1"||l==="h2"||l==="h3"||l==="h4"||l==="h5"||l==="h6")&&(u.level=Number.parseInt(l.charAt(1),10)),l==="img"&&i.transformImageUri&&(u.src=i.transformImageUri(String(u.src||""),String(u.alt||""),typeof u.title=="string"?u.title:null)),!T&&l==="li"&&r.type==="element"){const C=w9e(e);u.checked=C&&C.properties?!!C.properties.checked:null,u.index=vP(r,e),u.ordered=r.tagName==="ol"}return!T&&(l==="ol"||l==="ul")&&(u.ordered=l==="ol",u.depth=t.listDepth),(l==="td"||l==="th")&&(u.align&&(u.style||(u.style={}),u.style.textAlign=u.align,delete u.align),T||(u.isHeader=l==="th")),!T&&l==="tr"&&r.type==="element"&&(u.isHeader=r.tagName==="thead"),i.sourcePos&&(u["data-sourcepos"]=x9e(y)),!T&&i.rawSourcePos&&(u.sourcePosition=e.position),!T&&i.includeElementIndex&&(u.index=vP(r,e),u.siblingCount=vP(r)),T||(u.node=e),g.length>0?Y.createElement(w,u,g):Y.createElement(w,u)}function w9e(t){let e=-1;for(;++e<t.children.length;){const n=t.children[e];if(n.type==="element"&&n.tagName==="input")return n}return null}function vP(t,e){let n=-1,r=0;for(;++n<t.children.length&&t.children[n]!==e;)t.children[n].type==="element"&&r++;return r}function C9e(t,e,n,r){const i=K6e(r.schema,e);let o=n;o==null||o!==o||(Array.isArray(o)&&(o=i.commaSeparated?o9e(o):i9e(o)),i.property==="style"&&typeof o=="string"&&(o=S9e(o)),i.space&&i.property?t[iM.call(IW,i.property)?IW[i.property]:i.property]=o:i.attribute&&(t[i.attribute]=o))}function S9e(t){const e={};try{_9e(t,n)}catch{}return e;function n(r,i){const o=r.slice(0,4)==="-ms-"?`ms-${r.slice(4)}`:r;e[o.replace(/-([a-z])/g,T9e)]=i}}function T9e(t,e){return e.toUpperCase()}function x9e(t){return[t.start.line,":",t.start.column,"-",t.end.line,":",t.end.column].map(String).join("")}const NW={}.hasOwnProperty,A9e="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",MS={plugins:{to:"remarkPlugins",id:"change-plugins-to-remarkplugins"},renderers:{to:"components",id:"change-renderers-to-components"},astPlugins:{id:"remove-buggy-html-in-markdown-parser"},allowDangerousHtml:{id:"remove-buggy-html-in-markdown-parser"},escapeHtml:{id:"remove-buggy-html-in-markdown-parser"},source:{to:"children",id:"change-source-to-children"},allowNode:{to:"allowElement",id:"replace-allownode-allowedtypes-and-disallowedtypes"},allowedTypes:{to:"allowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},disallowedTypes:{to:"disallowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},includeNodeIndex:{to:"includeElementIndex",id:"change-includenodeindex-to-includeelementindex"}};function kne(t){for(const o in MS)if(NW.call(MS,o)&&NW.call(t,o)){const a=MS[o];console.warn(`[react-markdown] Warning: please ${a.to?`use \`${a.to}\` instead of`:"remove"} \`${o}\` (see <${A9e}#${a.id}> for more info)`),delete MS[o]}const e=VBe().use(G$e).use(t.remarkPlugins||[]).use(U6e,{...t.remarkRehypeOptions,allowDangerousHtml:!0}).use(t.rehypePlugins||[]).use(J6e,t),n=new Kte;typeof t.children=="string"?n.value=t.children:t.children!==void 0&&t.children!==null&&console.warn(`[react-markdown] Warning: please pass a string as \`children\` (not: \`${t.children}\`)`);const r=e.runSync(e.parse(n),n);if(r.type!=="root")throw new TypeError("Expected a `root` node");let i=Y.createElement(Y.Fragment,{},Ine({options:t,schema:Q6e,listDepth:0},r));return t.className&&(i=Y.createElement("div",{className:t.className},i)),i}kne.propTypes={children:de.string,className:de.string,allowElement:de.func,allowedElements:de.arrayOf(de.string),disallowedElements:de.arrayOf(de.string),unwrapDisallowed:de.bool,remarkPlugins:de.arrayOf(de.oneOfType([de.object,de.func,de.arrayOf(de.oneOfType([de.bool,de.string,de.object,de.func,de.arrayOf(de.any)]))])),rehypePlugins:de.arrayOf(de.oneOfType([de.object,de.func,de.arrayOf(de.oneOfType([de.bool,de.string,de.object,de.func,de.arrayOf(de.any)]))])),sourcePos:de.bool,rawSourcePos:de.bool,skipHtml:de.bool,includeElementIndex:de.bool,transformLinkUri:de.oneOfType([de.func,de.bool]),linkTarget:de.oneOfType([de.func,de.string]),transformImageUri:de.func,components:de.object};const kE=({children:t,components:e,...n})=>b(kne,{components:{...e,a:r=>b("a",{href:r.href,target:"_blank",rel:"noreferrer",children:r.children})},...n,children:t});var pA={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */pA.exports;(function(t,e){(function(){var n,r="4.17.21",i=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",l="Invalid `variable` option passed into `_.template`",u="__lodash_hash_undefined__",f=500,h="__lodash_placeholder__",g=1,y=2,w=4,T=1,C=2,R=1,I=2,k=4,O=8,A=16,V=32,D=64,P=128,N=256,$=512,q=30,z="...",K=800,Q=16,Ee=1,he=2,Je=3,He=1/0,xe=9007199254740991,Te=17976931348623157e292,J=NaN,Ae=4294967295,Ne=Ae-1,ie=Ae>>>1,lt=[["ary",P],["bind",R],["bindKey",I],["curry",O],["curryRight",A],["flip",$],["partial",V],["partialRight",D],["rearg",N]],Ge="[object Arguments]",ut="[object Array]",et="[object AsyncFunction]",_t="[object Boolean]",xt="[object Date]",Et="[object DOMException]",Dt="[object Error]",Ut="[object Function]",an="[object GeneratorFunction]",nt="[object Map]",nn="[object Number]",Wt="[object Null]",Kt="[object Object]",vn="[object Promise]",fn="[object Proxy]",Ot="[object RegExp]",En="[object Set]",fe="[object String]",Ce="[object Symbol]",ge="[object Undefined]",Re="[object WeakMap]",Me="[object WeakSet]",se="[object ArrayBuffer]",pe="[object DataView]",qe="[object Float32Array]",De="[object Float64Array]",Ze="[object Int8Array]",Tt="[object Int16Array]",hn="[object Int32Array]",pn="[object Uint8Array]",rr="[object Uint8ClampedArray]",Dr="[object Uint16Array]",Qt="[object Uint32Array]",ci=/\b__p \+= '';/g,ft=/\b(__p \+=) '' \+/g,Qs=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Tr=/&(?:amp|lt|gt|quot|#39);/g,Un=/[&<>"']/g,Jn=RegExp(Tr.source),Ai=RegExp(Un.source),Wr=/<%-([\s\S]+?)%>/g,fi=/<%([\s\S]+?)%>/g,Ar=/<%=([\s\S]+?)%>/g,Uo=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ml=/^\w*$/,Ir=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ys=/[\\^$.*+?()[\]{}|]/g,aa=RegExp(ys.source),sa=/^\s+/,Xs=/\s/,la=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ii=/\{\n\/\* \[wrapped with (.+)\] \*/,If=/,? & /,wu=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Fl=/[()=,{}\[\]\/\s]/,yc=/\\(\\)?/g,qi=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ki=/\w*$/,Vo=/^[-+]0x[0-9a-f]+$/i,Wa=/^0b[01]+$/i,_c=/^\[object .+?Constructor\]$/,Cu=/^0o[0-7]+$/i,ki=/^(?:0|[1-9]\d*)$/,Bo=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,$o=/($^)/,kf=/['\n\r\u2028\u2029\\]/g,Gi="\\ud800-\\udfff",Ul="\\u0300-\\u036f",qa="\\ufe20-\\ufe2f",Vn="\\u20d0-\\u20ff",mt=Ul+qa+Vn,Mr="\\u2700-\\u27bf",Co="a-z\\xdf-\\xf6\\xf8-\\xff",So="\\xac\\xb1\\xd7\\xf7",wn="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Aa="\\u2000-\\u206f",Ka=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",_s="A-Z\\xc0-\\xd6\\xd8-\\xde",Be="\\ufe0e\\ufe0f",Mt=So+wn+Aa+Ka,Js="[']",Ga="["+Gi+"]",Ya="["+Mt+"]",Ho="["+mt+"]",Su="\\d+",Lt="["+Mr+"]",uo="["+Co+"]",bs="[^"+Gi+Mt+Su+Mr+Co+_s+"]",jo="\\ud83c[\\udffb-\\udfff]",To="(?:"+Ho+"|"+jo+")",jn="[^"+Gi+"]",Ia="(?:\\ud83c[\\udde6-\\uddff]){2}",Ri="[\\ud800-\\udbff][\\udc00-\\udfff]",qr="["+_s+"]",Tu="\\u200d",Zs="(?:"+uo+"|"+bs+")",ua="(?:"+qr+"|"+bs+")",Vl="(?:"+Js+"(?:d|ll|m|re|s|t|ve))?",xu="(?:"+Js+"(?:D|LL|M|RE|S|T|VE))?",Au=To+"?",Es="["+Be+"]?",ca="(?:"+Tu+"(?:"+[jn,Ia,Ri].join("|")+")"+Es+Au+")*",fa="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",xo="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",ws=Es+Au+ca,da="(?:"+[Lt,Ia,Ri].join("|")+")"+ws,ha="(?:"+[jn+Ho+"?",Ho,Ia,Ri,Ga].join("|")+")",Oi=RegExp(Js,"g"),Rf=RegExp(Ho,"g"),co=RegExp(jo+"(?="+jo+")|"+ha+ws,"g"),el=RegExp([qr+"?"+uo+"+"+Vl+"(?="+[Ya,qr,"$"].join("|")+")",ua+"+"+xu+"(?="+[Ya,qr+Zs,"$"].join("|")+")",qr+"?"+Zs+"+"+Vl,qr+"+"+xu,xo,fa,Su,da].join("|"),"g"),bc=RegExp("["+Tu+Gi+mt+Be+"]"),zo=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Cs=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Iu=-1,Cn={};Cn[qe]=Cn[De]=Cn[Ze]=Cn[Tt]=Cn[hn]=Cn[pn]=Cn[rr]=Cn[Dr]=Cn[Qt]=!0,Cn[Ge]=Cn[ut]=Cn[se]=Cn[_t]=Cn[pe]=Cn[xt]=Cn[Dt]=Cn[Ut]=Cn[nt]=Cn[nn]=Cn[Kt]=Cn[Ot]=Cn[En]=Cn[fe]=Cn[Re]=!1;var Sn={};Sn[Ge]=Sn[ut]=Sn[se]=Sn[pe]=Sn[_t]=Sn[xt]=Sn[qe]=Sn[De]=Sn[Ze]=Sn[Tt]=Sn[hn]=Sn[nt]=Sn[nn]=Sn[Kt]=Sn[Ot]=Sn[En]=Sn[fe]=Sn[Ce]=Sn[pn]=Sn[rr]=Sn[Dr]=Sn[Qt]=!0,Sn[Dt]=Sn[Ut]=Sn[Re]=!1;var oe={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},ye={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Le={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},pt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},zn=parseFloat,$t=parseInt,Tn=typeof Ei=="object"&&Ei&&Ei.Object===Object&&Ei,dr=typeof self=="object"&&self&&self.Object===Object&&self,Ht=Tn||dr||Function("return this")(),Wn=e&&!e.nodeType&&e,Pn=Wn&&!0&&t&&!t.nodeType&&t,Fr=Pn&&Pn.exports===Wn,hr=Fr&&Tn.process,sn=function(){try{var be=Pn&&Pn.require&&Pn.require("util").types;return be||hr&&hr.binding&&hr.binding("util")}catch{}}(),ni=sn&&sn.isArrayBuffer,kr=sn&&sn.isDate,ri=sn&&sn.isMap,Ao=sn&&sn.isRegExp,Pi=sn&&sn.isSet,tl=sn&&sn.isTypedArray;function Kr(be,Fe,Ie){switch(Ie.length){case 0:return be.call(Fe);case 1:return be.call(Fe,Ie[0]);case 2:return be.call(Fe,Ie[0],Ie[1]);case 3:return be.call(Fe,Ie[0],Ie[1],Ie[2])}return be.apply(Fe,Ie)}function X(be,Fe,Ie,bt){for(var en=-1,qn=be==null?0:be.length;++en<qn;){var Di=be[en];Fe(bt,Di,Ie(Di),be)}return bt}function ue(be,Fe){for(var Ie=-1,bt=be==null?0:be.length;++Ie<bt&&Fe(be[Ie],Ie,be)!==!1;);return be}function ke(be,Fe){for(var Ie=be==null?0:be.length;Ie--&&Fe(be[Ie],Ie,be)!==!1;);return be}function Qe(be,Fe){for(var Ie=-1,bt=be==null?0:be.length;++Ie<bt;)if(!Fe(be[Ie],Ie,be))return!1;return!0}function At(be,Fe){for(var Ie=-1,bt=be==null?0:be.length,en=0,qn=[];++Ie<bt;){var Di=be[Ie];Fe(Di,Ie,be)&&(qn[en++]=Di)}return qn}function vt(be,Fe){var Ie=be==null?0:be.length;return!!Ie&&Ln(be,Fe,0)>-1}function Vt(be,Fe,Ie){for(var bt=-1,en=be==null?0:be.length;++bt<en;)if(Ie(Fe,be[bt]))return!0;return!1}function Xt(be,Fe){for(var Ie=-1,bt=be==null?0:be.length,en=Array(bt);++Ie<bt;)en[Ie]=Fe(be[Ie],Ie,be);return en}function Nn(be,Fe){for(var Ie=-1,bt=Fe.length,en=be.length;++Ie<bt;)be[en+Ie]=Fe[Ie];return be}function pr(be,Fe,Ie,bt){var en=-1,qn=be==null?0:be.length;for(bt&&qn&&(Ie=be[++en]);++en<qn;)Ie=Fe(Ie,be[en],en,be);return Ie}function Ni(be,Fe,Ie,bt){var en=be==null?0:be.length;for(bt&&en&&(Ie=be[--en]);en--;)Ie=Fe(Ie,be[en],en,be);return Ie}function Ur(be,Fe){for(var Ie=-1,bt=be==null?0:be.length;++Ie<bt;)if(Fe(be[Ie],Ie,be))return!0;return!1}var Rr=j("length");function Io(be){return be.split("")}function Yi(be){return be.match(wu)||[]}function Or(be,Fe,Ie){var bt;return Ie(be,function(en,qn,Di){if(Fe(en,qn,Di))return bt=qn,!1}),bt}function di(be,Fe,Ie,bt){for(var en=be.length,qn=Ie+(bt?1:-1);bt?qn--:++qn<en;)if(Fe(be[qn],qn,be))return qn;return-1}function Ln(be,Fe,Ie){return Fe===Fe?Lw(be,Fe,Ie):di(be,E,Ie)}function nl(be,Fe,Ie,bt){for(var en=Ie-1,qn=be.length;++en<qn;)if(bt(be[en],Fe))return en;return-1}function E(be){return be!==be}function M(be,Fe){var Ie=be==null?0:be.length;return Ie?st(be,Fe)/Ie:J}function j(be){return function(Fe){return Fe==null?n:Fe[be]}}function ee(be){return function(Fe){return be==null?n:be[Fe]}}function Se(be,Fe,Ie,bt,en){return en(be,function(qn,Di,mr){Ie=bt?(bt=!1,qn):Fe(Ie,qn,Di,mr)}),Ie}function Pe(be,Fe){var Ie=be.length;for(be.sort(Fe);Ie--;)be[Ie]=be[Ie].value;return be}function st(be,Fe){for(var Ie,bt=-1,en=be.length;++bt<en;){var qn=Fe(be[bt]);qn!==n&&(Ie=Ie===n?qn:Ie+qn)}return Ie}function Zn(be,Fe){for(var Ie=-1,bt=Array(be);++Ie<be;)bt[Ie]=Fe(Ie);return bt}function Qi(be,Fe){return Xt(Fe,function(Ie){return[Ie,be[Ie]]})}function An(be){return be&&be.slice(0,b_(be)+1).replace(sa,"")}function er(be){return function(Fe){return be(Fe)}}function Li(be,Fe){return Xt(Fe,function(Ie){return be[Ie]})}function Wo(be,Fe){return be.has(Fe)}function ii(be,Fe){for(var Ie=-1,bt=be.length;++Ie<bt&&Ln(Fe,be[Ie],0)>-1;);return Ie}function Bl(be,Fe){for(var Ie=be.length;Ie--&&Ln(Fe,be[Ie],0)>-1;);return Ie}function Of(be,Fe){for(var Ie=be.length,bt=0;Ie--;)be[Ie]===Fe&&++bt;return bt}var Ow=ee(oe),$l=ee(ye);function Pf(be){return"\\"+pt[be]}function __(be,Fe){return be==null?n:be[Fe]}function Od(be){return bc.test(be)}function Pw(be){return zo.test(be)}function z1(be){for(var Fe,Ie=[];!(Fe=be.next()).done;)Ie.push(Fe.value);return Ie}function Sg(be){var Fe=-1,Ie=Array(be.size);return be.forEach(function(bt,en){Ie[++Fe]=[en,bt]}),Ie}function Tg(be,Fe){return function(Ie){return be(Fe(Ie))}}function Qa(be,Fe){for(var Ie=-1,bt=be.length,en=0,qn=[];++Ie<bt;){var Di=be[Ie];(Di===Fe||Di===h)&&(be[Ie]=h,qn[en++]=Ie)}return qn}function Xa(be){var Fe=-1,Ie=Array(be.size);return be.forEach(function(bt){Ie[++Fe]=bt}),Ie}function Nw(be){var Fe=-1,Ie=Array(be.size);return be.forEach(function(bt){Ie[++Fe]=[bt,bt]}),Ie}function Lw(be,Fe,Ie){for(var bt=Ie-1,en=be.length;++bt<en;)if(be[bt]===Fe)return bt;return-1}function W1(be,Fe,Ie){for(var bt=Ie+1;bt--;)if(be[bt]===Fe)return bt;return bt}function Pd(be){return Od(be)?Ep(be):Rr(be)}function rl(be){return Od(be)?Mw(be):Io(be)}function b_(be){for(var Fe=be.length;Fe--&&Xs.test(be.charAt(Fe)););return Fe}var Dw=ee(Le);function Ep(be){for(var Fe=co.lastIndex=0;co.test(be);)++Fe;return Fe}function Mw(be){return be.match(co)||[]}function Fw(be){return be.match(el)||[]}var E_=function be(Fe){Fe=Fe==null?Ht:ku.defaults(Ht.Object(),Fe,ku.pick(Ht,Cs));var Ie=Fe.Array,bt=Fe.Date,en=Fe.Error,qn=Fe.Function,Di=Fe.Math,mr=Fe.Object,wp=Fe.RegExp,q1=Fe.String,Ss=Fe.TypeError,xg=Ie.prototype,Nf=qn.prototype,il=mr.prototype,Ru=Fe["__core-js_shared__"],Nd=Nf.toString,tr=il.hasOwnProperty,Uw=0,Ag=function(){var d=/[^.]+$/.exec(Ru&&Ru.keys&&Ru.keys.IE_PROTO||"");return d?"Symbol(src)_1."+d:""}(),Hl=il.toString,Lf=Nd.call(mr),pa=Ht._,Ec=wp("^"+Nd.call(tr).replace(ys,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ol=Fr?Fe.Buffer:n,al=Fe.Symbol,Ig=Fe.Uint8Array,w_=ol?ol.allocUnsafe:n,wc=Tg(mr.getPrototypeOf,mr),C_=mr.create,kg=il.propertyIsEnumerable,Df=xg.splice,Vw=al?al.isConcatSpreadable:n,Mf=al?al.iterator:n,Cc=al?al.toStringTag:n,Ld=function(){try{var d=Pc(mr,"defineProperty");return d({},"",{}),d}catch{}}(),S_=Fe.clearTimeout!==Ht.clearTimeout&&Fe.clearTimeout,Dd=bt&&bt.now!==Ht.Date.now&&bt.now,Rg=Fe.setTimeout!==Ht.setTimeout&&Fe.setTimeout,Cp=Di.ceil,Ff=Di.floor,T_=mr.getOwnPropertySymbols,K1=ol?ol.isBuffer:n,Bw=Fe.isFinite,x_=xg.join,A_=Tg(mr.keys,mr),Vr=Di.max,Mi=Di.min,G1=bt.now,Og=Fe.parseInt,I_=Di.random,Sp=xg.reverse,Pg=Pc(Fe,"DataView"),sl=Pc(Fe,"Map"),Uf=Pc(Fe,"Promise"),Ts=Pc(Fe,"Set"),Ou=Pc(Fe,"WeakMap"),jl=Pc(mr,"create"),Tp=Ou&&new Ou,Vf={},$w=hi(Pg),Y1=hi(sl),Bf=hi(Uf),$f=hi(Ts),Q1=hi(Ou),Ng=al?al.prototype:n,xp=Ng?Ng.valueOf:n,Hw=Ng?Ng.toString:n;function Z(d){if(Ui(d)&&!cn(d)&&!(d instanceof zt)){if(d instanceof ir)return d;if(tr.call(d,"__wrapped__"))return Ko(d)}return new ir(d)}var Md=function(){function d(){}return function(v){if(!gi(v))return{};if(C_)return C_(v);d.prototype=v;var S=new d;return d.prototype=n,S}}();function ko(){}function ir(d,v){this.__wrapped__=d,this.__actions__=[],this.__chain__=!!v,this.__index__=0,this.__values__=n}Z.templateSettings={escape:Wr,evaluate:fi,interpolate:Ar,variable:"",imports:{_:Z}},Z.prototype=ko.prototype,Z.prototype.constructor=Z,ir.prototype=Md(ko.prototype),ir.prototype.constructor=ir;function zt(d){this.__wrapped__=d,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ae,this.__views__=[]}function Xi(){var d=new zt(this.__wrapped__);return d.__actions__=ka(this.__actions__),d.__dir__=this.__dir__,d.__filtered__=this.__filtered__,d.__iteratees__=ka(this.__iteratees__),d.__takeCount__=this.__takeCount__,d.__views__=ka(this.__views__),d}function Ap(){if(this.__filtered__){var d=new zt(this);d.__dir__=-1,d.__filtered__=!0}else d=this.clone(),d.__dir__*=-1;return d}function X1(){var d=this.__wrapped__.value(),v=this.__dir__,S=cn(d),F=v<0,G=S?d.length:0,te=yk(0,G,this.__views__),ce=te.start,me=te.end,we=me-ce,$e=F?me:ce-1,je=this.__iteratees__,Ye=je.length,yt=0,Ft=Mi(we,this.__takeCount__);if(!S||!F&&G==we&&Ft==we)return Lp(d,this.__actions__);var Gt=[];e:for(;we--&&yt<Ft;){$e+=v;for(var yn=-1,Yt=d[$e];++yn<Ye;){var Dn=je[yn],Gn=Dn.iteratee,ml=Dn.type,ts=Gn(Yt);if(ml==he)Yt=ts;else if(!ts){if(ml==Ee)continue e;break e}}Gt[yt++]=Yt}return Gt}zt.prototype=Md(ko.prototype),zt.prototype.constructor=zt;function zl(d){var v=-1,S=d==null?0:d.length;for(this.clear();++v<S;){var F=d[v];this.set(F[0],F[1])}}function J1(){this.__data__=jl?jl(null):{},this.size=0}function Z1(d){var v=this.has(d)&&delete this.__data__[d];return this.size-=v?1:0,v}function ek(d){var v=this.__data__;if(jl){var S=v[d];return S===u?n:S}return tr.call(v,d)?v[d]:n}function k_(d){var v=this.__data__;return jl?v[d]!==n:tr.call(v,d)}function jw(d,v){var S=this.__data__;return this.size+=this.has(d)?0:1,S[d]=jl&&v===n?u:v,this}zl.prototype.clear=J1,zl.prototype.delete=Z1,zl.prototype.get=ek,zl.prototype.has=k_,zl.prototype.set=jw;function ll(d){var v=-1,S=d==null?0:d.length;for(this.clear();++v<S;){var F=d[v];this.set(F[0],F[1])}}function tk(){this.__data__=[],this.size=0}function R_(d){var v=this.__data__,S=Ud(v,d);if(S<0)return!1;var F=v.length-1;return S==F?v.pop():Df.call(v,S,1),--this.size,!0}function O_(d){var v=this.__data__,S=Ud(v,d);return S<0?n:v[S][1]}function zw(d){return Ud(this.__data__,d)>-1}function Ww(d,v){var S=this.__data__,F=Ud(S,d);return F<0?(++this.size,S.push([d,v])):S[F][1]=v,this}ll.prototype.clear=tk,ll.prototype.delete=R_,ll.prototype.get=O_,ll.prototype.has=zw,ll.prototype.set=Ww;function ul(d){var v=-1,S=d==null?0:d.length;for(this.clear();++v<S;){var F=d[v];this.set(F[0],F[1])}}function qw(){this.size=0,this.__data__={hash:new zl,map:new(sl||ll),string:new zl}}function Ip(d){var v=Wp(this,d).delete(d);return this.size-=v?1:0,v}function nk(d){return Wp(this,d).get(d)}function Lg(d){return Wp(this,d).has(d)}function Pu(d,v){var S=Wp(this,d),F=S.size;return S.set(d,v),this.size+=S.size==F?0:1,this}ul.prototype.clear=qw,ul.prototype.delete=Ip,ul.prototype.get=nk,ul.prototype.has=Lg,ul.prototype.set=Pu;function Sc(d){var v=-1,S=d==null?0:d.length;for(this.__data__=new ul;++v<S;)this.add(d[v])}function rk(d){return this.__data__.set(d,u),this}function Kw(d){return this.__data__.has(d)}Sc.prototype.add=Sc.prototype.push=rk,Sc.prototype.has=Kw;function Gr(d){var v=this.__data__=new ll(d);this.size=v.size}function Yn(){this.__data__=new ll,this.size=0}function cl(d){var v=this.__data__,S=v.delete(d);return this.size=v.size,S}function Tc(d){return this.__data__.get(d)}function xc(d){return this.__data__.has(d)}function Gw(d,v){var S=this.__data__;if(S instanceof ll){var F=S.__data__;if(!sl||F.length<i-1)return F.push([d,v]),this.size=++S.size,this;S=this.__data__=new ul(F)}return S.set(d,v),this.size=S.size,this}Gr.prototype.clear=Yn,Gr.prototype.delete=cl,Gr.prototype.get=Tc,Gr.prototype.has=xc,Gr.prototype.set=Gw;function Dg(d,v){var S=cn(d),F=!S&&qp(d),G=!S&&!F&&rh(d),te=!S&&!F&&!G&&Jg(d),ce=S||F||G||te,me=ce?Zn(d.length,q1):[],we=me.length;for(var $e in d)(v||tr.call(d,$e))&&!(ce&&($e=="length"||G&&($e=="offset"||$e=="parent")||te&&($e=="buffer"||$e=="byteLength"||$e=="byteOffset")||m($e,we)))&&me.push($e);return me}function P_(d){var v=d.length;return v?d[Bg(0,v-1)]:n}function ik(d,v){return ai(ka(d),Lu(v,0,d.length))}function N_(d){return ai(ka(d))}function Hf(d,v,S){(S!==n&&!Mu(d[v],S)||S===n&&!(v in d))&&Nu(d,v,S)}function Fd(d,v,S){var F=d[v];(!(tr.call(d,v)&&Mu(F,S))||S===n&&!(v in d))&&Nu(d,v,S)}function Ud(d,v){for(var S=d.length;S--;)if(Mu(d[S][0],v))return S;return-1}function Ac(d,v,S,F){return fl(d,function(G,te,ce){v(F,G,S(G),ce)}),F}function L_(d,v){return d&&hl(v,Yo(v),d)}function Yw(d,v){return d&&hl(v,ks(v),d)}function Nu(d,v,S){v=="__proto__"&&Ld?Ld(d,v,{configurable:!0,enumerable:!0,value:S,writable:!0}):d[v]=S}function Vd(d,v){for(var S=-1,F=v.length,G=Ie(F),te=d==null;++S<F;)G[S]=te?n:xk(d,v[S]);return G}function Lu(d,v,S){return d===d&&(S!==n&&(d=d<=S?d:S),v!==n&&(d=d>=v?d:v)),d}function Ja(d,v,S,F,G,te){var ce,me=v&g,we=v&y,$e=v&w;if(S&&(ce=G?S(d,F,G,te):S(d)),ce!==n)return ce;if(!gi(d))return d;var je=cn(d);if(je){if(ce=_k(d),!me)return ka(d,ce)}else{var Ye=eo(d),yt=Ye==Ut||Ye==an;if(rh(d))return W_(d,me);if(Ye==Kt||Ye==Ge||yt&&!G){if(ce=we||yt?{}:TC(d),!me)return we?pk(d,Yw(ce,d)):mC(d,L_(ce,d))}else{if(!Sn[Ye])return G?d:{};ce=Xg(d,Ye,me)}}te||(te=new Gr);var Ft=te.get(d);if(Ft)return Ft;te.set(d,ce),yB(d)?d.forEach(function(Yt){ce.add(Ja(Yt,v,S,Yt,d,te))}):gB(d)&&d.forEach(function(Yt,Dn){ce.set(Dn,Ja(Yt,v,S,Dn,d,te))});var Gt=$e?we?Qg:Yg:we?ks:Yo,yn=je?n:Gt(d);return ue(yn||d,function(Yt,Dn){yn&&(Dn=Yt,Yt=d[Dn]),Fd(ce,Dn,Ja(Yt,v,S,Dn,d,te))}),ce}function ok(d){var v=Yo(d);return function(S){return D_(S,d,v)}}function D_(d,v,S){var F=S.length;if(d==null)return!F;for(d=mr(d);F--;){var G=S[F],te=v[G],ce=d[G];if(ce===n&&!(G in d)||!te(ce))return!1}return!0}function Qw(d,v,S){if(typeof d!="function")throw new Ss(a);return Nt(function(){d.apply(n,S)},v)}function kp(d,v,S,F){var G=-1,te=vt,ce=!0,me=d.length,we=[],$e=v.length;if(!me)return we;S&&(v=Xt(v,er(S))),F?(te=Vt,ce=!1):v.length>=i&&(te=Wo,ce=!1,v=new Sc(v));e:for(;++G<me;){var je=d[G],Ye=S==null?je:S(je);if(je=F||je!==0?je:0,ce&&Ye===Ye){for(var yt=$e;yt--;)if(v[yt]===Ye)continue e;we.push(je)}else te(v,Ye,F)||we.push(je)}return we}var fl=Xd(xs),M_=Xd(Fg,!0);function ak(d,v){var S=!0;return fl(d,function(F,G,te){return S=!!v(F,G,te),S}),S}function Mg(d,v,S){for(var F=-1,G=d.length;++F<G;){var te=d[F],ce=v(te);if(ce!=null&&(me===n?ce===ce&&!pl(ce):S(ce,me)))var me=ce,we=te}return we}function Xw(d,v,S,F){var G=d.length;for(S=gn(S),S<0&&(S=-S>G?0:G+S),F=F===n||F>G?G:gn(F),F<0&&(F+=G),F=S>F?0:bB(F);S<F;)d[S++]=v;return d}function jf(d,v){var S=[];return fl(d,function(F,G,te){v(F,G,te)&&S.push(F)}),S}function Ji(d,v,S,F,G){var te=-1,ce=d.length;for(S||(S=c),G||(G=[]);++te<ce;){var me=d[te];v>0&&S(me)?v>1?Ji(me,v-1,S,F,G):Nn(G,me):F||(G[G.length]=me)}return G}var Bd=gC(),F_=gC(!0);function xs(d,v){return d&&Bd(d,v,Yo)}function Fg(d,v){return d&&F_(d,v,Yo)}function Ug(d,v){return At(v,function(S){return Qf(d[S])})}function Ic(d,v){v=Oc(v,d);for(var S=0,F=v.length;d!=null&&S<F;)d=d[Yr(v[S++])];return S&&S==F?d:n}function fo(d,v,S){var F=v(d);return cn(d)?F:Nn(F,S(d))}function ho(d){return d==null?d===n?ge:Wt:Cc&&Cc in mr(d)?vk(d):Ve(d)}function Vg(d,v){return d>v}function Jw(d,v){return d!=null&&tr.call(d,v)}function Zw(d,v){return d!=null&&v in mr(d)}function $d(d,v,S){return d>=Mi(v,S)&&d<Vr(v,S)}function Hd(d,v,S){for(var F=S?Vt:vt,G=d[0].length,te=d.length,ce=te,me=Ie(te),we=1/0,$e=[];ce--;){var je=d[ce];ce&&v&&(je=Xt(je,er(v))),we=Mi(je.length,we),me[ce]=!S&&(v||G>=120&&je.length>=120)?new Sc(ce&&je):n}je=d[0];var Ye=-1,yt=me[0];e:for(;++Ye<G&&$e.length<we;){var Ft=je[Ye],Gt=v?v(Ft):Ft;if(Ft=S||Ft!==0?Ft:0,!(yt?Wo(yt,Gt):F($e,Gt,S))){for(ce=te;--ce;){var yn=me[ce];if(!(yn?Wo(yn,Gt):F(d[ce],Gt,S)))continue e}yt&&yt.push(Gt),$e.push(Ft)}}return $e}function eC(d,v,S,F){return xs(d,function(G,te,ce){v(F,S(G),te,ce)}),F}function jd(d,v,S){v=Oc(v,d),d=ot(d,v);var F=d==null?d:d[Yr(Ql(v))];return F==null?n:Kr(F,d,S)}function U_(d){return Ui(d)&&ho(d)==Ge}function zd(d){return Ui(d)&&ho(d)==se}function tC(d){return Ui(d)&&ho(d)==xt}function kc(d,v,S,F,G){return d===v?!0:d==null||v==null||!Ui(d)&&!Ui(v)?d!==d&&v!==v:nC(d,v,S,F,kc,G)}function nC(d,v,S,F,G,te){var ce=cn(d),me=cn(v),we=ce?ut:eo(d),$e=me?ut:eo(v);we=we==Ge?Kt:we,$e=$e==Ge?Kt:$e;var je=we==Kt,Ye=$e==Kt,yt=we==$e;if(yt&&rh(d)){if(!rh(v))return!1;ce=!0,je=!1}if(yt&&!je)return te||(te=new Gr),ce||Jg(d)?As(d,v,S,F,G,te):Gg(d,v,we,S,F,G,te);if(!(S&T)){var Ft=je&&tr.call(d,"__wrapped__"),Gt=Ye&&tr.call(v,"__wrapped__");if(Ft||Gt){var yn=Ft?d.value():d,Yt=Gt?v.value():v;return te||(te=new Gr),G(yn,Yt,S,F,te)}}return yt?(te||(te=new Gr),J_(d,v,S,F,G,te)):!1}function Rp(d){return Ui(d)&&eo(d)==nt}function V_(d,v,S,F){var G=S.length,te=G,ce=!F;if(d==null)return!te;for(d=mr(d);G--;){var me=S[G];if(ce&&me[2]?me[1]!==d[me[0]]:!(me[0]in d))return!1}for(;++G<te;){me=S[G];var we=me[0],$e=d[we],je=me[1];if(ce&&me[2]){if($e===n&&!(we in d))return!1}else{var Ye=new Gr;if(F)var yt=F($e,je,we,d,v,Ye);if(!(yt===n?kc(je,$e,T|C,F,Ye):yt))return!1}}return!0}function zf(d){if(!gi(d)||U(d))return!1;var v=Qf(d)?Ec:_c;return v.test(hi(d))}function rC(d){return Ui(d)&&ho(d)==Ot}function iC(d){return Ui(d)&&eo(d)==En}function oC(d){return Ui(d)&&OC(d.length)&&!!Cn[ho(d)]}function Wd(d){return typeof d=="function"?d:d==null?Rs:typeof d=="object"?cn(d)?$_(d[0],d[1]):aC(d):OB(d)}function Wf(d){if(!W(d))return A_(d);var v=[];for(var S in mr(d))tr.call(d,S)&&S!="constructor"&&v.push(S);return v}function Op(d){if(!gi(d))return Oe(d);var v=W(d),S=[];for(var F in d)F=="constructor"&&(v||!tr.call(d,F))||S.push(F);return S}function qf(d,v){return d<v}function B_(d,v){var S=-1,F=Is(d)?Ie(d.length):[];return fl(d,function(G,te,ce){F[++S]=v(G,te,ce)}),F}function aC(d){var v=Qn(d);return v.length==1&&v[0][2]?le(v[0][0],v[0][1]):function(S){return S===d||V_(S,d,v)}}function $_(d,v){return _(d)&&re(v)?le(Yr(d),v):function(S){var F=xk(S,d);return F===n&&F===v?Ak(S,d):kc(v,F,T|C)}}function dl(d,v,S,F,G){d!==v&&Bd(v,function(te,ce){if(G||(G=new Gr),gi(te))qd(d,v,ce,S,dl,F,G);else{var me=F?F(it(d,ce),te,ce+"",d,v,G):n;me===n&&(me=te),Hf(d,ce,me)}},ks)}function qd(d,v,S,F,G,te,ce){var me=it(d,S),we=it(v,S),$e=ce.get(we);if($e){Hf(d,S,$e);return}var je=te?te(me,we,S+"",d,v,ce):n,Ye=je===n;if(Ye){var yt=cn(we),Ft=!yt&&rh(we),Gt=!yt&&!Ft&&Jg(we);je=we,yt||Ft||Gt?cn(me)?je=me:no(me)?je=ka(me):Ft?(Ye=!1,je=W_(we,!0)):Gt?(Ye=!1,je=q_(we,!0)):je=[]:tb(we)||qp(we)?(je=me,qp(me)?je=EB(me):(!gi(me)||Qf(me))&&(je=TC(we))):Ye=!1}Ye&&(ce.set(we,je),G(je,we,F,te,ce),ce.delete(we)),Hf(d,S,je)}function Kd(d,v){var S=d.length;if(S)return v+=v<0?S:0,m(v,S)?d[v]:n}function sC(d,v,S){v.length?v=Xt(v,function(te){return cn(te)?function(ce){return Ic(ce,te.length===1?te[0]:te)}:te}):v=[Rs];var F=-1;v=Xt(v,er(Bt()));var G=B_(d,function(te,ce,me){var we=Xt(v,function($e){return $e(te)});return{criteria:we,index:++F,value:te}});return Pe(G,function(te,ce){return hk(te,ce,S)})}function lC(d,v){return uC(d,v,function(S,F){return Ak(d,F)})}function uC(d,v,S){for(var F=-1,G=v.length,te={};++F<G;){var ce=v[F],me=Ic(d,ce);S(me,ce)&&Gd(te,Oc(ce,d),me)}return te}function sk(d){return function(v){return Ic(v,d)}}function H_(d,v,S,F){var G=F?nl:Ln,te=-1,ce=v.length,me=d;for(d===v&&(v=ka(v)),S&&(me=Xt(d,er(S)));++te<ce;)for(var we=0,$e=v[te],je=S?S($e):$e;(we=G(me,je,we,F))>-1;)me!==d&&Df.call(me,we,1),Df.call(d,we,1);return d}function qo(d,v){for(var S=d?v.length:0,F=S-1;S--;){var G=v[S];if(S==F||G!==te){var te=G;m(G)?Df.call(d,G,1):$g(d,G)}}return d}function Bg(d,v){return d+Ff(I_()*(v-d+1))}function lk(d,v,S,F){for(var G=-1,te=Vr(Cp((v-d)/(S||1)),0),ce=Ie(te);te--;)ce[F?te:++G]=d,d+=S;return ce}function j_(d,v){var S="";if(!d||v<1||v>xe)return S;do v%2&&(S+=d),v=Ff(v/2),v&&(d+=d);while(v);return S}function mn(d,v){return Pt(Xe(d,v,Rs),d+"")}function cC(d){return P_(Zg(d))}function fC(d,v){var S=Zg(d);return ai(S,Lu(v,0,S.length))}function Gd(d,v,S,F){if(!gi(d))return d;v=Oc(v,d);for(var G=-1,te=v.length,ce=te-1,me=d;me!=null&&++G<te;){var we=Yr(v[G]),$e=S;if(we==="__proto__"||we==="constructor"||we==="prototype")return d;if(G!=ce){var je=me[we];$e=F?F(je,we,me):n,$e===n&&($e=gi(je)?je:m(v[G+1])?[]:{})}Fd(me,we,$e),me=me[we]}return d}var dC=Tp?function(d,v){return Tp.set(d,v),d}:Rs,uk=Ld?function(d,v){return Ld(d,"toString",{configurable:!0,enumerable:!1,value:kk(v),writable:!0})}:Rs;function ck(d){return ai(Zg(d))}function Zi(d,v,S){var F=-1,G=d.length;v<0&&(v=-v>G?0:G+v),S=S>G?G:S,S<0&&(S+=G),G=v>S?0:S-v>>>0,v>>>=0;for(var te=Ie(G);++F<G;)te[F]=d[F+v];return te}function Pp(d,v){var S;return fl(d,function(F,G,te){return S=v(F,G,te),!S}),!!S}function Kf(d,v,S){var F=0,G=d==null?F:d.length;if(typeof v=="number"&&v===v&&G<=ie){for(;F<G;){var te=F+G>>>1,ce=d[te];ce!==null&&!pl(ce)&&(S?ce<=v:ce<v)?F=te+1:G=te}return G}return Gf(d,v,Rs,S)}function Gf(d,v,S,F){var G=0,te=d==null?0:d.length;if(te===0)return 0;v=S(v);for(var ce=v!==v,me=v===null,we=pl(v),$e=v===n;G<te;){var je=Ff((G+te)/2),Ye=S(d[je]),yt=Ye!==n,Ft=Ye===null,Gt=Ye===Ye,yn=pl(Ye);if(ce)var Yt=F||Gt;else $e?Yt=Gt&&(F||yt):me?Yt=Gt&&yt&&(F||!Ft):we?Yt=Gt&&yt&&!Ft&&(F||!yn):Ft||yn?Yt=!1:Yt=F?Ye<=v:Ye<v;Yt?G=je+1:te=je}return Mi(te,Ne)}function Wl(d,v){for(var S=-1,F=d.length,G=0,te=[];++S<F;){var ce=d[S],me=v?v(ce):ce;if(!S||!Mu(me,we)){var we=me;te[G++]=ce===0?0:ce}}return te}function hC(d){return typeof d=="number"?d:pl(d)?J:+d}function Za(d){if(typeof d=="string")return d;if(cn(d))return Xt(d,Za)+"";if(pl(d))return Hw?Hw.call(d):"";var v=d+"";return v=="0"&&1/d==-1/0?"-0":v}function es(d,v,S){var F=-1,G=vt,te=d.length,ce=!0,me=[],we=me;if(S)ce=!1,G=Vt;else if(te>=i){var $e=v?null:gk(d);if($e)return Xa($e);ce=!1,G=Wo,we=new Sc}else we=v?[]:me;e:for(;++F<te;){var je=d[F],Ye=v?v(je):je;if(je=S||je!==0?je:0,ce&&Ye===Ye){for(var yt=we.length;yt--;)if(we[yt]===Ye)continue e;v&&we.push(Ye),me.push(je)}else G(we,Ye,S)||(we!==me&&we.push(Ye),me.push(je))}return me}function $g(d,v){return v=Oc(v,d),d=ot(d,v),d==null||delete d[Yr(Ql(v))]}function z_(d,v,S,F){return Gd(d,v,S(Ic(d,v)),F)}function Np(d,v,S,F){for(var G=d.length,te=F?G:-1;(F?te--:++te<G)&&v(d[te],te,d););return S?Zi(d,F?0:te,F?te+1:G):Zi(d,F?te+1:0,F?G:te)}function Lp(d,v){var S=d;return S instanceof zt&&(S=S.value()),pr(v,function(F,G){return G.func.apply(G.thisArg,Nn([F],G.args))},S)}function Rc(d,v,S){var F=d.length;if(F<2)return F?es(d[0]):[];for(var G=-1,te=Ie(F);++G<F;)for(var ce=d[G],me=-1;++me<F;)me!=G&&(te[G]=kp(te[G]||ce,d[me],v,S));return es(Ji(te,1),v,S)}function Hg(d,v,S){for(var F=-1,G=d.length,te=v.length,ce={};++F<G;){var me=F<te?v[F]:n;S(ce,d[F],me)}return ce}function Dp(d){return no(d)?d:[]}function Mp(d){return typeof d=="function"?d:Rs}function Oc(d,v){return cn(d)?d:_(d,v)?[d]:Pr(gr(d))}var Fp=mn;function Du(d,v,S){var F=d.length;return S=S===n?F:S,!v&&S>=F?d:Zi(d,v,S)}var pC=S_||function(d){return Ht.clearTimeout(d)};function W_(d,v){if(v)return d.slice();var S=d.length,F=w_?w_(S):new d.constructor(S);return d.copy(F),F}function Yd(d){var v=new d.constructor(d.byteLength);return new Ig(v).set(new Ig(d)),v}function fk(d,v){var S=v?Yd(d.buffer):d.buffer;return new d.constructor(S,d.byteOffset,d.byteLength)}function dk(d){var v=new d.constructor(d.source,Ki.exec(d));return v.lastIndex=d.lastIndex,v}function Up(d){return xp?mr(xp.call(d)):{}}function q_(d,v){var S=v?Yd(d.buffer):d.buffer;return new d.constructor(S,d.byteOffset,d.length)}function K_(d,v){if(d!==v){var S=d!==n,F=d===null,G=d===d,te=pl(d),ce=v!==n,me=v===null,we=v===v,$e=pl(v);if(!me&&!$e&&!te&&d>v||te&&ce&&we&&!me&&!$e||F&&ce&&we||!S&&we||!G)return 1;if(!F&&!te&&!$e&&d<v||$e&&S&&G&&!F&&!te||me&&S&&G||!ce&&G||!we)return-1}return 0}function hk(d,v,S){for(var F=-1,G=d.criteria,te=v.criteria,ce=G.length,me=S.length;++F<ce;){var we=K_(G[F],te[F]);if(we){if(F>=me)return we;var $e=S[F];return we*($e=="desc"?-1:1)}}return d.index-v.index}function jg(d,v,S,F){for(var G=-1,te=d.length,ce=S.length,me=-1,we=v.length,$e=Vr(te-ce,0),je=Ie(we+$e),Ye=!F;++me<we;)je[me]=v[me];for(;++G<ce;)(Ye||G<te)&&(je[S[G]]=d[G]);for(;$e--;)je[me++]=d[G++];return je}function G_(d,v,S,F){for(var G=-1,te=d.length,ce=-1,me=S.length,we=-1,$e=v.length,je=Vr(te-me,0),Ye=Ie(je+$e),yt=!F;++G<je;)Ye[G]=d[G];for(var Ft=G;++we<$e;)Ye[Ft+we]=v[we];for(;++ce<me;)(yt||G<te)&&(Ye[Ft+S[ce]]=d[G++]);return Ye}function ka(d,v){var S=-1,F=d.length;for(v||(v=Ie(F));++S<F;)v[S]=d[S];return v}function hl(d,v,S,F){var G=!S;S||(S={});for(var te=-1,ce=v.length;++te<ce;){var me=v[te],we=F?F(S[me],d[me],me,S,d):n;we===n&&(we=d[me]),G?Nu(S,me,we):Fd(S,me,we)}return S}function mC(d,v){return hl(d,Nc(d),v)}function pk(d,v){return hl(d,CC(d),v)}function Qd(d,v){return function(S,F){var G=cn(S)?X:Ac,te=v?v():{};return G(S,d,Bt(F,2),te)}}function ql(d){return mn(function(v,S){var F=-1,G=S.length,te=G>1?S[G-1]:n,ce=G>2?S[2]:n;for(te=d.length>3&&typeof te=="function"?(G--,te):n,ce&&p(S[0],S[1],ce)&&(te=G<3?n:te,G=1),v=mr(v);++F<G;){var me=S[F];me&&d(v,me,F,te)}return v})}function Xd(d,v){return function(S,F){if(S==null)return S;if(!Is(S))return d(S,F);for(var G=S.length,te=v?G:-1,ce=mr(S);(v?te--:++te<G)&&F(ce[te],te,ce)!==!1;);return S}}function gC(d){return function(v,S,F){for(var G=-1,te=mr(v),ce=F(v),me=ce.length;me--;){var we=ce[d?me:++G];if(S(te[we],we,te)===!1)break}return v}}function vC(d,v,S){var F=v&R,G=Vp(d);function te(){var ce=this&&this!==Ht&&this instanceof te?G:d;return ce.apply(F?S:this,arguments)}return te}function yC(d){return function(v){v=gr(v);var S=Od(v)?rl(v):n,F=S?S[0]:v.charAt(0),G=S?Du(S,1).join(""):v.slice(1);return F[d]()+G}}function Jd(d){return function(v){return pr(kB(IB(v).replace(Oi,"")),d,"")}}function Vp(d){return function(){var v=arguments;switch(v.length){case 0:return new d;case 1:return new d(v[0]);case 2:return new d(v[0],v[1]);case 3:return new d(v[0],v[1],v[2]);case 4:return new d(v[0],v[1],v[2],v[3]);case 5:return new d(v[0],v[1],v[2],v[3],v[4]);case 6:return new d(v[0],v[1],v[2],v[3],v[4],v[5]);case 7:return new d(v[0],v[1],v[2],v[3],v[4],v[5],v[6])}var S=Md(d.prototype),F=d.apply(S,v);return gi(F)?F:S}}function mk(d,v,S){var F=Vp(d);function G(){for(var te=arguments.length,ce=Ie(te),me=te,we=eh(G);me--;)ce[me]=arguments[me];var $e=te<3&&ce[0]!==we&&ce[te-1]!==we?[]:Qa(ce,we);if(te-=$e.length,te<S)return $p(d,v,zg,G.placeholder,n,ce,$e,n,n,S-te);var je=this&&this!==Ht&&this instanceof G?F:d;return Kr(je,this,ce)}return G}function Y_(d){return function(v,S,F){var G=mr(v);if(!Is(v)){var te=Bt(S,3);v=Yo(v),S=function(me){return te(G[me],me,G)}}var ce=d(v,S,F);return ce>-1?G[te?v[ce]:ce]:n}}function _C(d){return Kl(function(v){var S=v.length,F=S,G=ir.prototype.thru;for(d&&v.reverse();F--;){var te=v[F];if(typeof te!="function")throw new Ss(a);if(G&&!ce&&zp(te)=="wrapper")var ce=new ir([],!0)}for(F=ce?F:S;++F<S;){te=v[F];var me=zp(te),we=me=="wrapper"?jp(te):n;we&&L(we[0])&&we[1]==(P|O|V|N)&&!we[4].length&&we[9]==1?ce=ce[zp(we[0])].apply(ce,we[3]):ce=te.length==1&&L(te)?ce[me]():ce.thru(te)}return function(){var $e=arguments,je=$e[0];if(ce&&$e.length==1&&cn(je))return ce.plant(je).value();for(var Ye=0,yt=S?v[Ye].apply(this,$e):je;++Ye<S;)yt=v[Ye].call(this,yt);return yt}})}function zg(d,v,S,F,G,te,ce,me,we,$e){var je=v&P,Ye=v&R,yt=v&I,Ft=v&(O|A),Gt=v&$,yn=yt?n:Vp(d);function Yt(){for(var Dn=arguments.length,Gn=Ie(Dn),ml=Dn;ml--;)Gn[ml]=arguments[ml];if(Ft)var ts=eh(Yt),gl=Of(Gn,ts);if(F&&(Gn=jg(Gn,F,G,Ft)),te&&(Gn=G_(Gn,te,ce,Ft)),Dn-=gl,Ft&&Dn<$e){var ro=Qa(Gn,ts);return $p(d,v,zg,Yt.placeholder,S,Gn,ro,me,we,$e-Dn)}var Fu=Ye?S:this,Jf=yt?Fu[d]:d;return Dn=Gn.length,me?Gn=ct(Gn,me):Gt&&Dn>1&&Gn.reverse(),je&&we<Dn&&(Gn.length=we),this&&this!==Ht&&this instanceof Yt&&(Jf=yn||Vp(Jf)),Jf.apply(Fu,Gn)}return Yt}function Q_(d,v){return function(S,F){return eC(S,d,v(F),{})}}function Zd(d,v){return function(S,F){var G;if(S===n&&F===n)return v;if(S!==n&&(G=S),F!==n){if(G===n)return F;typeof S=="string"||typeof F=="string"?(S=Za(S),F=Za(F)):(S=hC(S),F=hC(F)),G=d(S,F)}return G}}function Wg(d){return Kl(function(v){return v=Xt(v,er(Bt())),mn(function(S){var F=this;return d(v,function(G){return Kr(G,F,S)})})})}function qg(d,v){v=v===n?" ":Za(v);var S=v.length;if(S<2)return S?j_(v,d):v;var F=j_(v,Cp(d/Pd(v)));return Od(v)?Du(rl(F),0,d).join(""):F.slice(0,d)}function bC(d,v,S,F){var G=v&R,te=Vp(d);function ce(){for(var me=-1,we=arguments.length,$e=-1,je=F.length,Ye=Ie(je+we),yt=this&&this!==Ht&&this instanceof ce?te:d;++$e<je;)Ye[$e]=F[$e];for(;we--;)Ye[$e++]=arguments[++me];return Kr(yt,G?S:this,Ye)}return ce}function Yf(d){return function(v,S,F){return F&&typeof F!="number"&&p(v,S,F)&&(S=F=n),v=Xf(v),S===n?(S=v,v=0):S=Xf(S),F=F===n?v<S?1:-1:Xf(F),lk(v,S,F,d)}}function Bp(d){return function(v,S){return typeof v=="string"&&typeof S=="string"||(v=Xl(v),S=Xl(S)),d(v,S)}}function $p(d,v,S,F,G,te,ce,me,we,$e){var je=v&O,Ye=je?ce:n,yt=je?n:ce,Ft=je?te:n,Gt=je?n:te;v|=je?V:D,v&=~(je?D:V),v&k||(v&=-4);var yn=[d,v,G,Ft,Ye,Gt,yt,me,we,$e],Yt=S.apply(n,yn);return L(d)&&gt(Yt,yn),Yt.placeholder=F,rn(Yt,d,v)}function X_(d){var v=Di[d];return function(S,F){if(S=Xl(S),F=F==null?0:Mi(gn(F),292),F&&Bw(S)){var G=(gr(S)+"e").split("e"),te=v(G[0]+"e"+(+G[1]+F));return G=(gr(te)+"e").split("e"),+(G[0]+"e"+(+G[1]-F))}return v(S)}}var gk=Ts&&1/Xa(new Ts([,-0]))[1]==He?function(d){return new Ts(d)}:Pk;function EC(d){return function(v){var S=eo(v);return S==nt?Sg(v):S==En?Nw(v):Qi(v,d(v))}}function Kn(d,v,S,F,G,te,ce,me){var we=v&I;if(!we&&typeof d!="function")throw new Ss(a);var $e=F?F.length:0;if($e||(v&=-97,F=G=n),ce=ce===n?ce:Vr(gn(ce),0),me=me===n?me:gn(me),$e-=G?G.length:0,v&D){var je=F,Ye=G;F=G=n}var yt=we?n:jp(d),Ft=[d,v,S,F,G,je,Ye,te,ce,me];if(yt&&ve(Ft,yt),d=Ft[0],v=Ft[1],S=Ft[2],F=Ft[3],G=Ft[4],me=Ft[9]=Ft[9]===n?we?0:d.length:Vr(Ft[9]-$e,0),!me&&v&(O|A)&&(v&=-25),!v||v==R)var Gt=vC(d,v,S);else v==O||v==A?Gt=mk(d,v,me):(v==V||v==(R|V))&&!G.length?Gt=bC(d,v,S,F):Gt=zg.apply(n,Ft);var yn=yt?dC:gt;return rn(yn(Gt,Ft),d,v)}function wC(d,v,S,F){return d===n||Mu(d,il[S])&&!tr.call(F,S)?v:d}function Kg(d,v,S,F,G,te){return gi(d)&&gi(v)&&(te.set(v,d),dl(d,v,n,Kg,te),te.delete(v)),d}function Hp(d){return tb(d)?n:d}function As(d,v,S,F,G,te){var ce=S&T,me=d.length,we=v.length;if(me!=we&&!(ce&&we>me))return!1;var $e=te.get(d),je=te.get(v);if($e&&je)return $e==v&&je==d;var Ye=-1,yt=!0,Ft=S&C?new Sc:n;for(te.set(d,v),te.set(v,d);++Ye<me;){var Gt=d[Ye],yn=v[Ye];if(F)var Yt=ce?F(yn,Gt,Ye,v,d,te):F(Gt,yn,Ye,d,v,te);if(Yt!==n){if(Yt)continue;yt=!1;break}if(Ft){if(!Ur(v,function(Dn,Gn){if(!Wo(Ft,Gn)&&(Gt===Dn||G(Gt,Dn,S,F,te)))return Ft.push(Gn)})){yt=!1;break}}else if(!(Gt===yn||G(Gt,yn,S,F,te))){yt=!1;break}}return te.delete(d),te.delete(v),yt}function Gg(d,v,S,F,G,te,ce){switch(S){case pe:if(d.byteLength!=v.byteLength||d.byteOffset!=v.byteOffset)return!1;d=d.buffer,v=v.buffer;case se:return!(d.byteLength!=v.byteLength||!te(new Ig(d),new Ig(v)));case _t:case xt:case nn:return Mu(+d,+v);case Dt:return d.name==v.name&&d.message==v.message;case Ot:case fe:return d==v+"";case nt:var me=Sg;case En:var we=F&T;if(me||(me=Xa),d.size!=v.size&&!we)return!1;var $e=ce.get(d);if($e)return $e==v;F|=C,ce.set(d,v);var je=As(me(d),me(v),F,G,te,ce);return ce.delete(d),je;case Ce:if(xp)return xp.call(d)==xp.call(v)}return!1}function J_(d,v,S,F,G,te){var ce=S&T,me=Yg(d),we=me.length,$e=Yg(v),je=$e.length;if(we!=je&&!ce)return!1;for(var Ye=we;Ye--;){var yt=me[Ye];if(!(ce?yt in v:tr.call(v,yt)))return!1}var Ft=te.get(d),Gt=te.get(v);if(Ft&&Gt)return Ft==v&&Gt==d;var yn=!0;te.set(d,v),te.set(v,d);for(var Yt=ce;++Ye<we;){yt=me[Ye];var Dn=d[yt],Gn=v[yt];if(F)var ml=ce?F(Gn,Dn,yt,v,d,te):F(Dn,Gn,yt,d,v,te);if(!(ml===n?Dn===Gn||G(Dn,Gn,S,F,te):ml)){yn=!1;break}Yt||(Yt=yt=="constructor")}if(yn&&!Yt){var ts=d.constructor,gl=v.constructor;ts!=gl&&"constructor"in d&&"constructor"in v&&!(typeof ts=="function"&&ts instanceof ts&&typeof gl=="function"&&gl instanceof gl)&&(yn=!1)}return te.delete(d),te.delete(v),yn}function Kl(d){return Pt(Xe(d,n,Mc),d+"")}function Yg(d){return fo(d,Yo,Nc)}function Qg(d){return fo(d,ks,CC)}var jp=Tp?function(d){return Tp.get(d)}:Pk;function zp(d){for(var v=d.name+"",S=Vf[v],F=tr.call(Vf,v)?S.length:0;F--;){var G=S[F],te=G.func;if(te==null||te==d)return G.name}return v}function eh(d){var v=tr.call(Z,"placeholder")?Z:d;return v.placeholder}function Bt(){var d=Z.iteratee||Rk;return d=d===Rk?Wd:d,arguments.length?d(arguments[0],arguments[1]):d}function Wp(d,v){var S=d.__data__;return x(v)?S[typeof v=="string"?"string":"hash"]:S.map}function Qn(d){for(var v=Yo(d),S=v.length;S--;){var F=v[S],G=d[F];v[S]=[F,G,re(G)]}return v}function Pc(d,v){var S=__(d,v);return zf(S)?S:n}function vk(d){var v=tr.call(d,Cc),S=d[Cc];try{d[Cc]=n;var F=!0}catch{}var G=Hl.call(d);return F&&(v?d[Cc]=S:delete d[Cc]),G}var Nc=T_?function(d){return d==null?[]:(d=mr(d),At(T_(d),function(v){return kg.call(d,v)}))}:Nk,CC=T_?function(d){for(var v=[];d;)Nn(v,Nc(d)),d=wc(d);return v}:Nk,eo=ho;(Pg&&eo(new Pg(new ArrayBuffer(1)))!=pe||sl&&eo(new sl)!=nt||Uf&&eo(Uf.resolve())!=vn||Ts&&eo(new Ts)!=En||Ou&&eo(new Ou)!=Re)&&(eo=function(d){var v=ho(d),S=v==Kt?d.constructor:n,F=S?hi(S):"";if(F)switch(F){case $w:return pe;case Y1:return nt;case Bf:return vn;case $f:return En;case Q1:return Re}return v});function yk(d,v,S){for(var F=-1,G=S.length;++F<G;){var te=S[F],ce=te.size;switch(te.type){case"drop":d+=ce;break;case"dropRight":v-=ce;break;case"take":v=Mi(v,d+ce);break;case"takeRight":d=Vr(d,v-ce);break}}return{start:d,end:v}}function oi(d){var v=d.match(Ii);return v?v[1].split(If):[]}function SC(d,v,S){v=Oc(v,d);for(var F=-1,G=v.length,te=!1;++F<G;){var ce=Yr(v[F]);if(!(te=d!=null&&S(d,ce)))break;d=d[ce]}return te||++F!=G?te:(G=d==null?0:d.length,!!G&&OC(G)&&m(ce,G)&&(cn(d)||qp(d)))}function _k(d){var v=d.length,S=new d.constructor(v);return v&&typeof d[0]=="string"&&tr.call(d,"index")&&(S.index=d.index,S.input=d.input),S}function TC(d){return typeof d.constructor=="function"&&!W(d)?Md(wc(d)):{}}function Xg(d,v,S){var F=d.constructor;switch(v){case se:return Yd(d);case _t:case xt:return new F(+d);case pe:return fk(d,S);case qe:case De:case Ze:case Tt:case hn:case pn:case rr:case Dr:case Qt:return q_(d,S);case nt:return new F;case nn:case fe:return new F(d);case Ot:return dk(d);case En:return new F;case Ce:return Up(d)}}function s(d,v){var S=v.length;if(!S)return d;var F=S-1;return v[F]=(S>1?"& ":"")+v[F],v=v.join(S>2?", ":" "),d.replace(la,`{
/* [wrapped with `+v+`] */
`)}function c(d){return cn(d)||qp(d)||!!(Vw&&d&&d[Vw])}function m(d,v){var S=typeof d;return v=v??xe,!!v&&(S=="number"||S!="symbol"&&ki.test(d))&&d>-1&&d%1==0&&d<v}function p(d,v,S){if(!gi(S))return!1;var F=typeof v;return(F=="number"?Is(S)&&m(v,S.length):F=="string"&&v in S)?Mu(S[v],d):!1}function _(d,v){if(cn(d))return!1;var S=typeof d;return S=="number"||S=="symbol"||S=="boolean"||d==null||pl(d)?!0:Ml.test(d)||!Uo.test(d)||v!=null&&d in mr(v)}function x(d){var v=typeof d;return v=="string"||v=="number"||v=="symbol"||v=="boolean"?d!=="__proto__":d===null}function L(d){var v=zp(d),S=Z[v];if(typeof S!="function"||!(v in zt.prototype))return!1;if(d===S)return!0;var F=jp(S);return!!F&&d===F[0]}function U(d){return!!Ag&&Ag in d}var H=Ru?Qf:Lk;function W(d){var v=d&&d.constructor,S=typeof v=="function"&&v.prototype||il;return d===S}function re(d){return d===d&&!gi(d)}function le(d,v){return function(S){return S==null?!1:S[d]===v&&(v!==n||d in mr(S))}}function _e(d){var v=kC(d,function(F){return S.size===f&&S.clear(),F}),S=v.cache;return v}function ve(d,v){var S=d[1],F=v[1],G=S|F,te=G<(R|I|P),ce=F==P&&S==O||F==P&&S==N&&d[7].length<=v[8]||F==(P|N)&&v[7].length<=v[8]&&S==O;if(!(te||ce))return d;F&R&&(d[2]=v[2],G|=S&R?0:k);var me=v[3];if(me){var we=d[3];d[3]=we?jg(we,me,v[4]):me,d[4]=we?Qa(d[3],h):v[4]}return me=v[5],me&&(we=d[5],d[5]=we?G_(we,me,v[6]):me,d[6]=we?Qa(d[5],h):v[6]),me=v[7],me&&(d[7]=me),F&P&&(d[8]=d[8]==null?v[8]:Mi(d[8],v[8])),d[9]==null&&(d[9]=v[9]),d[0]=v[0],d[1]=G,d}function Oe(d){var v=[];if(d!=null)for(var S in mr(d))v.push(S);return v}function Ve(d){return Hl.call(d)}function Xe(d,v,S){return v=Vr(v===n?d.length-1:v,0),function(){for(var F=arguments,G=-1,te=Vr(F.length-v,0),ce=Ie(te);++G<te;)ce[G]=F[v+G];G=-1;for(var me=Ie(v+1);++G<v;)me[G]=F[G];return me[v]=S(ce),Kr(d,this,me)}}function ot(d,v){return v.length<2?d:Ic(d,Zi(v,0,-1))}function ct(d,v){for(var S=d.length,F=Mi(v.length,S),G=ka(d);F--;){var te=v[F];d[F]=m(te,S)?G[te]:n}return d}function it(d,v){if(!(v==="constructor"&&typeof d[v]=="function")&&v!="__proto__")return d[v]}var gt=lr(dC),Nt=Rg||function(d,v){return Ht.setTimeout(d,v)},Pt=lr(uk);function rn(d,v,S){var F=v+"";return Pt(d,s(F,pi(oi(F),S)))}function lr(d){var v=0,S=0;return function(){var F=G1(),G=Q-(F-S);if(S=F,G>0){if(++v>=K)return arguments[0]}else v=0;return d.apply(n,arguments)}}function ai(d,v){var S=-1,F=d.length,G=F-1;for(v=v===n?F:v;++S<v;){var te=Bg(S,G),ce=d[te];d[te]=d[S],d[S]=ce}return d.length=v,d}var Pr=_e(function(d){var v=[];return d.charCodeAt(0)===46&&v.push(""),d.replace(Ir,function(S,F,G,te){v.push(G?te.replace(yc,"$1"):F||S)}),v});function Yr(d){if(typeof d=="string"||pl(d))return d;var v=d+"";return v=="0"&&1/d==-1/0?"-0":v}function hi(d){if(d!=null){try{return Nd.call(d)}catch{}try{return d+""}catch{}}return""}function pi(d,v){return ue(lt,function(S){var F="_."+S[0];v&S[1]&&!vt(d,F)&&d.push(F)}),d.sort()}function Ko(d){if(d instanceof zt)return d.clone();var v=new ir(d.__wrapped__,d.__chain__);return v.__actions__=ka(d.__actions__),v.__index__=d.__index__,v.__values__=d.__values__,v}function po(d,v,S){(S?p(d,v,S):v===n)?v=1:v=Vr(gn(v),0);var F=d==null?0:d.length;if(!F||v<1)return[];for(var G=0,te=0,ce=Ie(Cp(F/v));G<F;)ce[te++]=Zi(d,G,G+=v);return ce}function Fi(d){for(var v=-1,S=d==null?0:d.length,F=0,G=[];++v<S;){var te=d[v];te&&(G[F++]=te)}return G}function mi(){var d=arguments.length;if(!d)return[];for(var v=Ie(d-1),S=arguments[0],F=d;F--;)v[F-1]=arguments[F];return Nn(cn(S)?ka(S):[S],Ji(v,1))}var Qr=mn(function(d,v){return no(d)?kp(d,Ji(v,1,no,!0)):[]}),ma=mn(function(d,v){var S=Ql(v);return no(S)&&(S=n),no(d)?kp(d,Ji(v,1,no,!0),Bt(S,2)):[]}),th=mn(function(d,v){var S=Ql(v);return no(S)&&(S=n),no(d)?kp(d,Ji(v,1,no,!0),n,S):[]});function Lc(d,v,S){var F=d==null?0:d.length;return F?(v=S||v===n?1:gn(v),Zi(d,v<0?0:v,F)):[]}function Ro(d,v,S){var F=d==null?0:d.length;return F?(v=S||v===n?1:gn(v),v=F-v,Zi(d,0,v<0?0:v)):[]}function Gl(d,v){return d&&d.length?Np(d,Bt(v,3),!0,!0):[]}function to(d,v){return d&&d.length?Np(d,Bt(v,3),!0):[]}function Z_(d,v,S,F){var G=d==null?0:d.length;return G?(S&&typeof S!="number"&&p(d,v,S)&&(S=0,F=G),Xw(d,v,S,F)):[]}function Yl(d,v,S){var F=d==null?0:d.length;if(!F)return-1;var G=S==null?0:gn(S);return G<0&&(G=Vr(F+G,0)),di(d,Bt(v,3),G)}function Dc(d,v,S){var F=d==null?0:d.length;if(!F)return-1;var G=F-1;return S!==n&&(G=gn(S),G=S<0?Vr(F+G,0):Mi(G,F-1)),di(d,Bt(v,3),G,!0)}function Mc(d){var v=d==null?0:d.length;return v?Ji(d,1):[]}function Go(d){var v=d==null?0:d.length;return v?Ji(d,He):[]}function nh(d,v){var S=d==null?0:d.length;return S?(v=v===n?1:gn(v),Ji(d,v)):[]}function eb(d){for(var v=-1,S=d==null?0:d.length,F={};++v<S;){var G=d[v];F[G[0]]=G[1]}return F}function nB(d){return d&&d.length?d[0]:n}function Ore(d,v,S){var F=d==null?0:d.length;if(!F)return-1;var G=S==null?0:gn(S);return G<0&&(G=Vr(F+G,0)),Ln(d,v,G)}function Pre(d){var v=d==null?0:d.length;return v?Zi(d,0,-1):[]}var Nre=mn(function(d){var v=Xt(d,Dp);return v.length&&v[0]===d[0]?Hd(v):[]}),Lre=mn(function(d){var v=Ql(d),S=Xt(d,Dp);return v===Ql(S)?v=n:S.pop(),S.length&&S[0]===d[0]?Hd(S,Bt(v,2)):[]}),Dre=mn(function(d){var v=Ql(d),S=Xt(d,Dp);return v=typeof v=="function"?v:n,v&&S.pop(),S.length&&S[0]===d[0]?Hd(S,n,v):[]});function Mre(d,v){return d==null?"":x_.call(d,v)}function Ql(d){var v=d==null?0:d.length;return v?d[v-1]:n}function Fre(d,v,S){var F=d==null?0:d.length;if(!F)return-1;var G=F;return S!==n&&(G=gn(S),G=G<0?Vr(F+G,0):Mi(G,F-1)),v===v?W1(d,v,G):di(d,E,G,!0)}function Ure(d,v){return d&&d.length?Kd(d,gn(v)):n}var Vre=mn(rB);function rB(d,v){return d&&d.length&&v&&v.length?H_(d,v):d}function Bre(d,v,S){return d&&d.length&&v&&v.length?H_(d,v,Bt(S,2)):d}function $re(d,v,S){return d&&d.length&&v&&v.length?H_(d,v,n,S):d}var Hre=Kl(function(d,v){var S=d==null?0:d.length,F=Vd(d,v);return qo(d,Xt(v,function(G){return m(G,S)?+G:G}).sort(K_)),F});function jre(d,v){var S=[];if(!(d&&d.length))return S;var F=-1,G=[],te=d.length;for(v=Bt(v,3);++F<te;){var ce=d[F];v(ce,F,d)&&(S.push(ce),G.push(F))}return qo(d,G),S}function bk(d){return d==null?d:Sp.call(d)}function zre(d,v,S){var F=d==null?0:d.length;return F?(S&&typeof S!="number"&&p(d,v,S)?(v=0,S=F):(v=v==null?0:gn(v),S=S===n?F:gn(S)),Zi(d,v,S)):[]}function Wre(d,v){return Kf(d,v)}function qre(d,v,S){return Gf(d,v,Bt(S,2))}function Kre(d,v){var S=d==null?0:d.length;if(S){var F=Kf(d,v);if(F<S&&Mu(d[F],v))return F}return-1}function Gre(d,v){return Kf(d,v,!0)}function Yre(d,v,S){return Gf(d,v,Bt(S,2),!0)}function Qre(d,v){var S=d==null?0:d.length;if(S){var F=Kf(d,v,!0)-1;if(Mu(d[F],v))return F}return-1}function Xre(d){return d&&d.length?Wl(d):[]}function Jre(d,v){return d&&d.length?Wl(d,Bt(v,2)):[]}function Zre(d){var v=d==null?0:d.length;return v?Zi(d,1,v):[]}function eie(d,v,S){return d&&d.length?(v=S||v===n?1:gn(v),Zi(d,0,v<0?0:v)):[]}function tie(d,v,S){var F=d==null?0:d.length;return F?(v=S||v===n?1:gn(v),v=F-v,Zi(d,v<0?0:v,F)):[]}function nie(d,v){return d&&d.length?Np(d,Bt(v,3),!1,!0):[]}function rie(d,v){return d&&d.length?Np(d,Bt(v,3)):[]}var iie=mn(function(d){return es(Ji(d,1,no,!0))}),oie=mn(function(d){var v=Ql(d);return no(v)&&(v=n),es(Ji(d,1,no,!0),Bt(v,2))}),aie=mn(function(d){var v=Ql(d);return v=typeof v=="function"?v:n,es(Ji(d,1,no,!0),n,v)});function sie(d){return d&&d.length?es(d):[]}function lie(d,v){return d&&d.length?es(d,Bt(v,2)):[]}function uie(d,v){return v=typeof v=="function"?v:n,d&&d.length?es(d,n,v):[]}function Ek(d){if(!(d&&d.length))return[];var v=0;return d=At(d,function(S){if(no(S))return v=Vr(S.length,v),!0}),Zn(v,function(S){return Xt(d,j(S))})}function iB(d,v){if(!(d&&d.length))return[];var S=Ek(d);return v==null?S:Xt(S,function(F){return Kr(v,n,F)})}var cie=mn(function(d,v){return no(d)?kp(d,v):[]}),fie=mn(function(d){return Rc(At(d,no))}),die=mn(function(d){var v=Ql(d);return no(v)&&(v=n),Rc(At(d,no),Bt(v,2))}),hie=mn(function(d){var v=Ql(d);return v=typeof v=="function"?v:n,Rc(At(d,no),n,v)}),pie=mn(Ek);function mie(d,v){return Hg(d||[],v||[],Fd)}function gie(d,v){return Hg(d||[],v||[],Gd)}var vie=mn(function(d){var v=d.length,S=v>1?d[v-1]:n;return S=typeof S=="function"?(d.pop(),S):n,iB(d,S)});function oB(d){var v=Z(d);return v.__chain__=!0,v}function yie(d,v){return v(d),d}function xC(d,v){return v(d)}var _ie=Kl(function(d){var v=d.length,S=v?d[0]:0,F=this.__wrapped__,G=function(te){return Vd(te,d)};return v>1||this.__actions__.length||!(F instanceof zt)||!m(S)?this.thru(G):(F=F.slice(S,+S+(v?1:0)),F.__actions__.push({func:xC,args:[G],thisArg:n}),new ir(F,this.__chain__).thru(function(te){return v&&!te.length&&te.push(n),te}))});function bie(){return oB(this)}function Eie(){return new ir(this.value(),this.__chain__)}function wie(){this.__values__===n&&(this.__values__=_B(this.value()));var d=this.__index__>=this.__values__.length,v=d?n:this.__values__[this.__index__++];return{done:d,value:v}}function Cie(){return this}function Sie(d){for(var v,S=this;S instanceof ko;){var F=Ko(S);F.__index__=0,F.__values__=n,v?G.__wrapped__=F:v=F;var G=F;S=S.__wrapped__}return G.__wrapped__=d,v}function Tie(){var d=this.__wrapped__;if(d instanceof zt){var v=d;return this.__actions__.length&&(v=new zt(this)),v=v.reverse(),v.__actions__.push({func:xC,args:[bk],thisArg:n}),new ir(v,this.__chain__)}return this.thru(bk)}function xie(){return Lp(this.__wrapped__,this.__actions__)}var Aie=Qd(function(d,v,S){tr.call(d,S)?++d[S]:Nu(d,S,1)});function Iie(d,v,S){var F=cn(d)?Qe:ak;return S&&p(d,v,S)&&(v=n),F(d,Bt(v,3))}function kie(d,v){var S=cn(d)?At:jf;return S(d,Bt(v,3))}var Rie=Y_(Yl),Oie=Y_(Dc);function Pie(d,v){return Ji(AC(d,v),1)}function Nie(d,v){return Ji(AC(d,v),He)}function Lie(d,v,S){return S=S===n?1:gn(S),Ji(AC(d,v),S)}function aB(d,v){var S=cn(d)?ue:fl;return S(d,Bt(v,3))}function sB(d,v){var S=cn(d)?ke:M_;return S(d,Bt(v,3))}var Die=Qd(function(d,v,S){tr.call(d,S)?d[S].push(v):Nu(d,S,[v])});function Mie(d,v,S,F){d=Is(d)?d:Zg(d),S=S&&!F?gn(S):0;var G=d.length;return S<0&&(S=Vr(G+S,0)),PC(d)?S<=G&&d.indexOf(v,S)>-1:!!G&&Ln(d,v,S)>-1}var Fie=mn(function(d,v,S){var F=-1,G=typeof v=="function",te=Is(d)?Ie(d.length):[];return fl(d,function(ce){te[++F]=G?Kr(v,ce,S):jd(ce,v,S)}),te}),Uie=Qd(function(d,v,S){Nu(d,S,v)});function AC(d,v){var S=cn(d)?Xt:B_;return S(d,Bt(v,3))}function Vie(d,v,S,F){return d==null?[]:(cn(v)||(v=v==null?[]:[v]),S=F?n:S,cn(S)||(S=S==null?[]:[S]),sC(d,v,S))}var Bie=Qd(function(d,v,S){d[S?0:1].push(v)},function(){return[[],[]]});function $ie(d,v,S){var F=cn(d)?pr:Se,G=arguments.length<3;return F(d,Bt(v,4),S,G,fl)}function Hie(d,v,S){var F=cn(d)?Ni:Se,G=arguments.length<3;return F(d,Bt(v,4),S,G,M_)}function jie(d,v){var S=cn(d)?At:jf;return S(d,RC(Bt(v,3)))}function zie(d){var v=cn(d)?P_:cC;return v(d)}function Wie(d,v,S){(S?p(d,v,S):v===n)?v=1:v=gn(v);var F=cn(d)?ik:fC;return F(d,v)}function qie(d){var v=cn(d)?N_:ck;return v(d)}function Kie(d){if(d==null)return 0;if(Is(d))return PC(d)?Pd(d):d.length;var v=eo(d);return v==nt||v==En?d.size:Wf(d).length}function Gie(d,v,S){var F=cn(d)?Ur:Pp;return S&&p(d,v,S)&&(v=n),F(d,Bt(v,3))}var Yie=mn(function(d,v){if(d==null)return[];var S=v.length;return S>1&&p(d,v[0],v[1])?v=[]:S>2&&p(v[0],v[1],v[2])&&(v=[v[0]]),sC(d,Ji(v,1),[])}),IC=Dd||function(){return Ht.Date.now()};function Qie(d,v){if(typeof v!="function")throw new Ss(a);return d=gn(d),function(){if(--d<1)return v.apply(this,arguments)}}function lB(d,v,S){return v=S?n:v,v=d&&v==null?d.length:v,Kn(d,P,n,n,n,n,v)}function uB(d,v){var S;if(typeof v!="function")throw new Ss(a);return d=gn(d),function(){return--d>0&&(S=v.apply(this,arguments)),d<=1&&(v=n),S}}var wk=mn(function(d,v,S){var F=R;if(S.length){var G=Qa(S,eh(wk));F|=V}return Kn(d,F,v,S,G)}),cB=mn(function(d,v,S){var F=R|I;if(S.length){var G=Qa(S,eh(cB));F|=V}return Kn(v,F,d,S,G)});function fB(d,v,S){v=S?n:v;var F=Kn(d,O,n,n,n,n,n,v);return F.placeholder=fB.placeholder,F}function dB(d,v,S){v=S?n:v;var F=Kn(d,A,n,n,n,n,n,v);return F.placeholder=dB.placeholder,F}function hB(d,v,S){var F,G,te,ce,me,we,$e=0,je=!1,Ye=!1,yt=!0;if(typeof d!="function")throw new Ss(a);v=Xl(v)||0,gi(S)&&(je=!!S.leading,Ye="maxWait"in S,te=Ye?Vr(Xl(S.maxWait)||0,v):te,yt="trailing"in S?!!S.trailing:yt);function Ft(ro){var Fu=F,Jf=G;return F=G=n,$e=ro,ce=d.apply(Jf,Fu),ce}function Gt(ro){return $e=ro,me=Nt(Dn,v),je?Ft(ro):ce}function yn(ro){var Fu=ro-we,Jf=ro-$e,PB=v-Fu;return Ye?Mi(PB,te-Jf):PB}function Yt(ro){var Fu=ro-we,Jf=ro-$e;return we===n||Fu>=v||Fu<0||Ye&&Jf>=te}function Dn(){var ro=IC();if(Yt(ro))return Gn(ro);me=Nt(Dn,yn(ro))}function Gn(ro){return me=n,yt&&F?Ft(ro):(F=G=n,ce)}function ml(){me!==n&&pC(me),$e=0,F=we=G=me=n}function ts(){return me===n?ce:Gn(IC())}function gl(){var ro=IC(),Fu=Yt(ro);if(F=arguments,G=this,we=ro,Fu){if(me===n)return Gt(we);if(Ye)return pC(me),me=Nt(Dn,v),Ft(we)}return me===n&&(me=Nt(Dn,v)),ce}return gl.cancel=ml,gl.flush=ts,gl}var Xie=mn(function(d,v){return Qw(d,1,v)}),Jie=mn(function(d,v,S){return Qw(d,Xl(v)||0,S)});function Zie(d){return Kn(d,$)}function kC(d,v){if(typeof d!="function"||v!=null&&typeof v!="function")throw new Ss(a);var S=function(){var F=arguments,G=v?v.apply(this,F):F[0],te=S.cache;if(te.has(G))return te.get(G);var ce=d.apply(this,F);return S.cache=te.set(G,ce)||te,ce};return S.cache=new(kC.Cache||ul),S}kC.Cache=ul;function RC(d){if(typeof d!="function")throw new Ss(a);return function(){var v=arguments;switch(v.length){case 0:return!d.call(this);case 1:return!d.call(this,v[0]);case 2:return!d.call(this,v[0],v[1]);case 3:return!d.call(this,v[0],v[1],v[2])}return!d.apply(this,v)}}function eoe(d){return uB(2,d)}var toe=Fp(function(d,v){v=v.length==1&&cn(v[0])?Xt(v[0],er(Bt())):Xt(Ji(v,1),er(Bt()));var S=v.length;return mn(function(F){for(var G=-1,te=Mi(F.length,S);++G<te;)F[G]=v[G].call(this,F[G]);return Kr(d,this,F)})}),Ck=mn(function(d,v){var S=Qa(v,eh(Ck));return Kn(d,V,n,v,S)}),pB=mn(function(d,v){var S=Qa(v,eh(pB));return Kn(d,D,n,v,S)}),noe=Kl(function(d,v){return Kn(d,N,n,n,n,v)});function roe(d,v){if(typeof d!="function")throw new Ss(a);return v=v===n?v:gn(v),mn(d,v)}function ioe(d,v){if(typeof d!="function")throw new Ss(a);return v=v==null?0:Vr(gn(v),0),mn(function(S){var F=S[v],G=Du(S,0,v);return F&&Nn(G,F),Kr(d,this,G)})}function ooe(d,v,S){var F=!0,G=!0;if(typeof d!="function")throw new Ss(a);return gi(S)&&(F="leading"in S?!!S.leading:F,G="trailing"in S?!!S.trailing:G),hB(d,v,{leading:F,maxWait:v,trailing:G})}function aoe(d){return lB(d,1)}function soe(d,v){return Ck(Mp(v),d)}function loe(){if(!arguments.length)return[];var d=arguments[0];return cn(d)?d:[d]}function uoe(d){return Ja(d,w)}function coe(d,v){return v=typeof v=="function"?v:n,Ja(d,w,v)}function foe(d){return Ja(d,g|w)}function doe(d,v){return v=typeof v=="function"?v:n,Ja(d,g|w,v)}function hoe(d,v){return v==null||D_(d,v,Yo(v))}function Mu(d,v){return d===v||d!==d&&v!==v}var poe=Bp(Vg),moe=Bp(function(d,v){return d>=v}),qp=U_(function(){return arguments}())?U_:function(d){return Ui(d)&&tr.call(d,"callee")&&!kg.call(d,"callee")},cn=Ie.isArray,goe=ni?er(ni):zd;function Is(d){return d!=null&&OC(d.length)&&!Qf(d)}function no(d){return Ui(d)&&Is(d)}function voe(d){return d===!0||d===!1||Ui(d)&&ho(d)==_t}var rh=K1||Lk,yoe=kr?er(kr):tC;function _oe(d){return Ui(d)&&d.nodeType===1&&!tb(d)}function boe(d){if(d==null)return!0;if(Is(d)&&(cn(d)||typeof d=="string"||typeof d.splice=="function"||rh(d)||Jg(d)||qp(d)))return!d.length;var v=eo(d);if(v==nt||v==En)return!d.size;if(W(d))return!Wf(d).length;for(var S in d)if(tr.call(d,S))return!1;return!0}function Eoe(d,v){return kc(d,v)}function woe(d,v,S){S=typeof S=="function"?S:n;var F=S?S(d,v):n;return F===n?kc(d,v,n,S):!!F}function Sk(d){if(!Ui(d))return!1;var v=ho(d);return v==Dt||v==Et||typeof d.message=="string"&&typeof d.name=="string"&&!tb(d)}function Coe(d){return typeof d=="number"&&Bw(d)}function Qf(d){if(!gi(d))return!1;var v=ho(d);return v==Ut||v==an||v==et||v==fn}function mB(d){return typeof d=="number"&&d==gn(d)}function OC(d){return typeof d=="number"&&d>-1&&d%1==0&&d<=xe}function gi(d){var v=typeof d;return d!=null&&(v=="object"||v=="function")}function Ui(d){return d!=null&&typeof d=="object"}var gB=ri?er(ri):Rp;function Soe(d,v){return d===v||V_(d,v,Qn(v))}function Toe(d,v,S){return S=typeof S=="function"?S:n,V_(d,v,Qn(v),S)}function xoe(d){return vB(d)&&d!=+d}function Aoe(d){if(H(d))throw new en(o);return zf(d)}function Ioe(d){return d===null}function koe(d){return d==null}function vB(d){return typeof d=="number"||Ui(d)&&ho(d)==nn}function tb(d){if(!Ui(d)||ho(d)!=Kt)return!1;var v=wc(d);if(v===null)return!0;var S=tr.call(v,"constructor")&&v.constructor;return typeof S=="function"&&S instanceof S&&Nd.call(S)==Lf}var Tk=Ao?er(Ao):rC;function Roe(d){return mB(d)&&d>=-9007199254740991&&d<=xe}var yB=Pi?er(Pi):iC;function PC(d){return typeof d=="string"||!cn(d)&&Ui(d)&&ho(d)==fe}function pl(d){return typeof d=="symbol"||Ui(d)&&ho(d)==Ce}var Jg=tl?er(tl):oC;function Ooe(d){return d===n}function Poe(d){return Ui(d)&&eo(d)==Re}function Noe(d){return Ui(d)&&ho(d)==Me}var Loe=Bp(qf),Doe=Bp(function(d,v){return d<=v});function _B(d){if(!d)return[];if(Is(d))return PC(d)?rl(d):ka(d);if(Mf&&d[Mf])return z1(d[Mf]());var v=eo(d),S=v==nt?Sg:v==En?Xa:Zg;return S(d)}function Xf(d){if(!d)return d===0?d:0;if(d=Xl(d),d===He||d===-1/0){var v=d<0?-1:1;return v*Te}return d===d?d:0}function gn(d){var v=Xf(d),S=v%1;return v===v?S?v-S:v:0}function bB(d){return d?Lu(gn(d),0,Ae):0}function Xl(d){if(typeof d=="number")return d;if(pl(d))return J;if(gi(d)){var v=typeof d.valueOf=="function"?d.valueOf():d;d=gi(v)?v+"":v}if(typeof d!="string")return d===0?d:+d;d=An(d);var S=Wa.test(d);return S||Cu.test(d)?$t(d.slice(2),S?2:8):Vo.test(d)?J:+d}function EB(d){return hl(d,ks(d))}function Moe(d){return d?Lu(gn(d),-9007199254740991,xe):d===0?d:0}function gr(d){return d==null?"":Za(d)}var Foe=ql(function(d,v){if(W(v)||Is(v)){hl(v,Yo(v),d);return}for(var S in v)tr.call(v,S)&&Fd(d,S,v[S])}),wB=ql(function(d,v){hl(v,ks(v),d)}),NC=ql(function(d,v,S,F){hl(v,ks(v),d,F)}),Uoe=ql(function(d,v,S,F){hl(v,Yo(v),d,F)}),Voe=Kl(Vd);function Boe(d,v){var S=Md(d);return v==null?S:L_(S,v)}var $oe=mn(function(d,v){d=mr(d);var S=-1,F=v.length,G=F>2?v[2]:n;for(G&&p(v[0],v[1],G)&&(F=1);++S<F;)for(var te=v[S],ce=ks(te),me=-1,we=ce.length;++me<we;){var $e=ce[me],je=d[$e];(je===n||Mu(je,il[$e])&&!tr.call(d,$e))&&(d[$e]=te[$e])}return d}),Hoe=mn(function(d){return d.push(n,Kg),Kr(CB,n,d)});function joe(d,v){return Or(d,Bt(v,3),xs)}function zoe(d,v){return Or(d,Bt(v,3),Fg)}function Woe(d,v){return d==null?d:Bd(d,Bt(v,3),ks)}function qoe(d,v){return d==null?d:F_(d,Bt(v,3),ks)}function Koe(d,v){return d&&xs(d,Bt(v,3))}function Goe(d,v){return d&&Fg(d,Bt(v,3))}function Yoe(d){return d==null?[]:Ug(d,Yo(d))}function Qoe(d){return d==null?[]:Ug(d,ks(d))}function xk(d,v,S){var F=d==null?n:Ic(d,v);return F===n?S:F}function Xoe(d,v){return d!=null&&SC(d,v,Jw)}function Ak(d,v){return d!=null&&SC(d,v,Zw)}var Joe=Q_(function(d,v,S){v!=null&&typeof v.toString!="function"&&(v=Hl.call(v)),d[v]=S},kk(Rs)),Zoe=Q_(function(d,v,S){v!=null&&typeof v.toString!="function"&&(v=Hl.call(v)),tr.call(d,v)?d[v].push(S):d[v]=[S]},Bt),eae=mn(jd);function Yo(d){return Is(d)?Dg(d):Wf(d)}function ks(d){return Is(d)?Dg(d,!0):Op(d)}function tae(d,v){var S={};return v=Bt(v,3),xs(d,function(F,G,te){Nu(S,v(F,G,te),F)}),S}function nae(d,v){var S={};return v=Bt(v,3),xs(d,function(F,G,te){Nu(S,G,v(F,G,te))}),S}var rae=ql(function(d,v,S){dl(d,v,S)}),CB=ql(function(d,v,S,F){dl(d,v,S,F)}),iae=Kl(function(d,v){var S={};if(d==null)return S;var F=!1;v=Xt(v,function(te){return te=Oc(te,d),F||(F=te.length>1),te}),hl(d,Qg(d),S),F&&(S=Ja(S,g|y|w,Hp));for(var G=v.length;G--;)$g(S,v[G]);return S});function oae(d,v){return SB(d,RC(Bt(v)))}var aae=Kl(function(d,v){return d==null?{}:lC(d,v)});function SB(d,v){if(d==null)return{};var S=Xt(Qg(d),function(F){return[F]});return v=Bt(v),uC(d,S,function(F,G){return v(F,G[0])})}function sae(d,v,S){v=Oc(v,d);var F=-1,G=v.length;for(G||(G=1,d=n);++F<G;){var te=d==null?n:d[Yr(v[F])];te===n&&(F=G,te=S),d=Qf(te)?te.call(d):te}return d}function lae(d,v,S){return d==null?d:Gd(d,v,S)}function uae(d,v,S,F){return F=typeof F=="function"?F:n,d==null?d:Gd(d,v,S,F)}var TB=EC(Yo),xB=EC(ks);function cae(d,v,S){var F=cn(d),G=F||rh(d)||Jg(d);if(v=Bt(v,4),S==null){var te=d&&d.constructor;G?S=F?new te:[]:gi(d)?S=Qf(te)?Md(wc(d)):{}:S={}}return(G?ue:xs)(d,function(ce,me,we){return v(S,ce,me,we)}),S}function fae(d,v){return d==null?!0:$g(d,v)}function dae(d,v,S){return d==null?d:z_(d,v,Mp(S))}function hae(d,v,S,F){return F=typeof F=="function"?F:n,d==null?d:z_(d,v,Mp(S),F)}function Zg(d){return d==null?[]:Li(d,Yo(d))}function pae(d){return d==null?[]:Li(d,ks(d))}function mae(d,v,S){return S===n&&(S=v,v=n),S!==n&&(S=Xl(S),S=S===S?S:0),v!==n&&(v=Xl(v),v=v===v?v:0),Lu(Xl(d),v,S)}function gae(d,v,S){return v=Xf(v),S===n?(S=v,v=0):S=Xf(S),d=Xl(d),$d(d,v,S)}function vae(d,v,S){if(S&&typeof S!="boolean"&&p(d,v,S)&&(v=S=n),S===n&&(typeof v=="boolean"?(S=v,v=n):typeof d=="boolean"&&(S=d,d=n)),d===n&&v===n?(d=0,v=1):(d=Xf(d),v===n?(v=d,d=0):v=Xf(v)),d>v){var F=d;d=v,v=F}if(S||d%1||v%1){var G=I_();return Mi(d+G*(v-d+zn("1e-"+((G+"").length-1))),v)}return Bg(d,v)}var yae=Jd(function(d,v,S){return v=v.toLowerCase(),d+(S?AB(v):v)});function AB(d){return Ik(gr(d).toLowerCase())}function IB(d){return d=gr(d),d&&d.replace(Bo,Ow).replace(Rf,"")}function _ae(d,v,S){d=gr(d),v=Za(v);var F=d.length;S=S===n?F:Lu(gn(S),0,F);var G=S;return S-=v.length,S>=0&&d.slice(S,G)==v}function bae(d){return d=gr(d),d&&Ai.test(d)?d.replace(Un,$l):d}function Eae(d){return d=gr(d),d&&aa.test(d)?d.replace(ys,"\\$&"):d}var wae=Jd(function(d,v,S){return d+(S?"-":"")+v.toLowerCase()}),Cae=Jd(function(d,v,S){return d+(S?" ":"")+v.toLowerCase()}),Sae=yC("toLowerCase");function Tae(d,v,S){d=gr(d),v=gn(v);var F=v?Pd(d):0;if(!v||F>=v)return d;var G=(v-F)/2;return qg(Ff(G),S)+d+qg(Cp(G),S)}function xae(d,v,S){d=gr(d),v=gn(v);var F=v?Pd(d):0;return v&&F<v?d+qg(v-F,S):d}function Aae(d,v,S){d=gr(d),v=gn(v);var F=v?Pd(d):0;return v&&F<v?qg(v-F,S)+d:d}function Iae(d,v,S){return S||v==null?v=0:v&&(v=+v),Og(gr(d).replace(sa,""),v||0)}function kae(d,v,S){return(S?p(d,v,S):v===n)?v=1:v=gn(v),j_(gr(d),v)}function Rae(){var d=arguments,v=gr(d[0]);return d.length<3?v:v.replace(d[1],d[2])}var Oae=Jd(function(d,v,S){return d+(S?"_":"")+v.toLowerCase()});function Pae(d,v,S){return S&&typeof S!="number"&&p(d,v,S)&&(v=S=n),S=S===n?Ae:S>>>0,S?(d=gr(d),d&&(typeof v=="string"||v!=null&&!Tk(v))&&(v=Za(v),!v&&Od(d))?Du(rl(d),0,S):d.split(v,S)):[]}var Nae=Jd(function(d,v,S){return d+(S?" ":"")+Ik(v)});function Lae(d,v,S){return d=gr(d),S=S==null?0:Lu(gn(S),0,d.length),v=Za(v),d.slice(S,S+v.length)==v}function Dae(d,v,S){var F=Z.templateSettings;S&&p(d,v,S)&&(v=n),d=gr(d),v=NC({},v,F,wC);var G=NC({},v.imports,F.imports,wC),te=Yo(G),ce=Li(G,te),me,we,$e=0,je=v.interpolate||$o,Ye="__p += '",yt=wp((v.escape||$o).source+"|"+je.source+"|"+(je===Ar?qi:$o).source+"|"+(v.evaluate||$o).source+"|$","g"),Ft="//# sourceURL="+(tr.call(v,"sourceURL")?(v.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Iu+"]")+`
`;d.replace(yt,function(Yt,Dn,Gn,ml,ts,gl){return Gn||(Gn=ml),Ye+=d.slice($e,gl).replace(kf,Pf),Dn&&(me=!0,Ye+=`' +
__e(`+Dn+`) +
'`),ts&&(we=!0,Ye+=`';
`+ts+`;
__p += '`),Gn&&(Ye+=`' +
((__t = (`+Gn+`)) == null ? '' : __t) +
'`),$e=gl+Yt.length,Yt}),Ye+=`';
`;var Gt=tr.call(v,"variable")&&v.variable;if(!Gt)Ye=`with (obj) {
`+Ye+`
}
`;else if(Fl.test(Gt))throw new en(l);Ye=(we?Ye.replace(ci,""):Ye).replace(ft,"$1").replace(Qs,"$1;"),Ye="function("+(Gt||"obj")+`) {
`+(Gt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(me?", __e = _.escape":"")+(we?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Ye+`return __p
}`;var yn=RB(function(){return qn(te,Ft+"return "+Ye).apply(n,ce)});if(yn.source=Ye,Sk(yn))throw yn;return yn}function Mae(d){return gr(d).toLowerCase()}function Fae(d){return gr(d).toUpperCase()}function Uae(d,v,S){if(d=gr(d),d&&(S||v===n))return An(d);if(!d||!(v=Za(v)))return d;var F=rl(d),G=rl(v),te=ii(F,G),ce=Bl(F,G)+1;return Du(F,te,ce).join("")}function Vae(d,v,S){if(d=gr(d),d&&(S||v===n))return d.slice(0,b_(d)+1);if(!d||!(v=Za(v)))return d;var F=rl(d),G=Bl(F,rl(v))+1;return Du(F,0,G).join("")}function Bae(d,v,S){if(d=gr(d),d&&(S||v===n))return d.replace(sa,"");if(!d||!(v=Za(v)))return d;var F=rl(d),G=ii(F,rl(v));return Du(F,G).join("")}function $ae(d,v){var S=q,F=z;if(gi(v)){var G="separator"in v?v.separator:G;S="length"in v?gn(v.length):S,F="omission"in v?Za(v.omission):F}d=gr(d);var te=d.length;if(Od(d)){var ce=rl(d);te=ce.length}if(S>=te)return d;var me=S-Pd(F);if(me<1)return F;var we=ce?Du(ce,0,me).join(""):d.slice(0,me);if(G===n)return we+F;if(ce&&(me+=we.length-me),Tk(G)){if(d.slice(me).search(G)){var $e,je=we;for(G.global||(G=wp(G.source,gr(Ki.exec(G))+"g")),G.lastIndex=0;$e=G.exec(je);)var Ye=$e.index;we=we.slice(0,Ye===n?me:Ye)}}else if(d.indexOf(Za(G),me)!=me){var yt=we.lastIndexOf(G);yt>-1&&(we=we.slice(0,yt))}return we+F}function Hae(d){return d=gr(d),d&&Jn.test(d)?d.replace(Tr,Dw):d}var jae=Jd(function(d,v,S){return d+(S?" ":"")+v.toUpperCase()}),Ik=yC("toUpperCase");function kB(d,v,S){return d=gr(d),v=S?n:v,v===n?Pw(d)?Fw(d):Yi(d):d.match(v)||[]}var RB=mn(function(d,v){try{return Kr(d,n,v)}catch(S){return Sk(S)?S:new en(S)}}),zae=Kl(function(d,v){return ue(v,function(S){S=Yr(S),Nu(d,S,wk(d[S],d))}),d});function Wae(d){var v=d==null?0:d.length,S=Bt();return d=v?Xt(d,function(F){if(typeof F[1]!="function")throw new Ss(a);return[S(F[0]),F[1]]}):[],mn(function(F){for(var G=-1;++G<v;){var te=d[G];if(Kr(te[0],this,F))return Kr(te[1],this,F)}})}function qae(d){return ok(Ja(d,g))}function kk(d){return function(){return d}}function Kae(d,v){return d==null||d!==d?v:d}var Gae=_C(),Yae=_C(!0);function Rs(d){return d}function Rk(d){return Wd(typeof d=="function"?d:Ja(d,g))}function Qae(d){return aC(Ja(d,g))}function Xae(d,v){return $_(d,Ja(v,g))}var Jae=mn(function(d,v){return function(S){return jd(S,d,v)}}),Zae=mn(function(d,v){return function(S){return jd(d,S,v)}});function Ok(d,v,S){var F=Yo(v),G=Ug(v,F);S==null&&!(gi(v)&&(G.length||!F.length))&&(S=v,v=d,d=this,G=Ug(v,Yo(v)));var te=!(gi(S)&&"chain"in S)||!!S.chain,ce=Qf(d);return ue(G,function(me){var we=v[me];d[me]=we,ce&&(d.prototype[me]=function(){var $e=this.__chain__;if(te||$e){var je=d(this.__wrapped__),Ye=je.__actions__=ka(this.__actions__);return Ye.push({func:we,args:arguments,thisArg:d}),je.__chain__=$e,je}return we.apply(d,Nn([this.value()],arguments))})}),d}function ese(){return Ht._===this&&(Ht._=pa),this}function Pk(){}function tse(d){return d=gn(d),mn(function(v){return Kd(v,d)})}var nse=Wg(Xt),rse=Wg(Qe),ise=Wg(Ur);function OB(d){return _(d)?j(Yr(d)):sk(d)}function ose(d){return function(v){return d==null?n:Ic(d,v)}}var ase=Yf(),sse=Yf(!0);function Nk(){return[]}function Lk(){return!1}function lse(){return{}}function use(){return""}function cse(){return!0}function fse(d,v){if(d=gn(d),d<1||d>xe)return[];var S=Ae,F=Mi(d,Ae);v=Bt(v),d-=Ae;for(var G=Zn(F,v);++S<d;)v(S);return G}function dse(d){return cn(d)?Xt(d,Yr):pl(d)?[d]:ka(Pr(gr(d)))}function hse(d){var v=++Uw;return gr(d)+v}var pse=Zd(function(d,v){return d+v},0),mse=X_("ceil"),gse=Zd(function(d,v){return d/v},1),vse=X_("floor");function yse(d){return d&&d.length?Mg(d,Rs,Vg):n}function _se(d,v){return d&&d.length?Mg(d,Bt(v,2),Vg):n}function bse(d){return M(d,Rs)}function Ese(d,v){return M(d,Bt(v,2))}function wse(d){return d&&d.length?Mg(d,Rs,qf):n}function Cse(d,v){return d&&d.length?Mg(d,Bt(v,2),qf):n}var Sse=Zd(function(d,v){return d*v},1),Tse=X_("round"),xse=Zd(function(d,v){return d-v},0);function Ase(d){return d&&d.length?st(d,Rs):0}function Ise(d,v){return d&&d.length?st(d,Bt(v,2)):0}return Z.after=Qie,Z.ary=lB,Z.assign=Foe,Z.assignIn=wB,Z.assignInWith=NC,Z.assignWith=Uoe,Z.at=Voe,Z.before=uB,Z.bind=wk,Z.bindAll=zae,Z.bindKey=cB,Z.castArray=loe,Z.chain=oB,Z.chunk=po,Z.compact=Fi,Z.concat=mi,Z.cond=Wae,Z.conforms=qae,Z.constant=kk,Z.countBy=Aie,Z.create=Boe,Z.curry=fB,Z.curryRight=dB,Z.debounce=hB,Z.defaults=$oe,Z.defaultsDeep=Hoe,Z.defer=Xie,Z.delay=Jie,Z.difference=Qr,Z.differenceBy=ma,Z.differenceWith=th,Z.drop=Lc,Z.dropRight=Ro,Z.dropRightWhile=Gl,Z.dropWhile=to,Z.fill=Z_,Z.filter=kie,Z.flatMap=Pie,Z.flatMapDeep=Nie,Z.flatMapDepth=Lie,Z.flatten=Mc,Z.flattenDeep=Go,Z.flattenDepth=nh,Z.flip=Zie,Z.flow=Gae,Z.flowRight=Yae,Z.fromPairs=eb,Z.functions=Yoe,Z.functionsIn=Qoe,Z.groupBy=Die,Z.initial=Pre,Z.intersection=Nre,Z.intersectionBy=Lre,Z.intersectionWith=Dre,Z.invert=Joe,Z.invertBy=Zoe,Z.invokeMap=Fie,Z.iteratee=Rk,Z.keyBy=Uie,Z.keys=Yo,Z.keysIn=ks,Z.map=AC,Z.mapKeys=tae,Z.mapValues=nae,Z.matches=Qae,Z.matchesProperty=Xae,Z.memoize=kC,Z.merge=rae,Z.mergeWith=CB,Z.method=Jae,Z.methodOf=Zae,Z.mixin=Ok,Z.negate=RC,Z.nthArg=tse,Z.omit=iae,Z.omitBy=oae,Z.once=eoe,Z.orderBy=Vie,Z.over=nse,Z.overArgs=toe,Z.overEvery=rse,Z.overSome=ise,Z.partial=Ck,Z.partialRight=pB,Z.partition=Bie,Z.pick=aae,Z.pickBy=SB,Z.property=OB,Z.propertyOf=ose,Z.pull=Vre,Z.pullAll=rB,Z.pullAllBy=Bre,Z.pullAllWith=$re,Z.pullAt=Hre,Z.range=ase,Z.rangeRight=sse,Z.rearg=noe,Z.reject=jie,Z.remove=jre,Z.rest=roe,Z.reverse=bk,Z.sampleSize=Wie,Z.set=lae,Z.setWith=uae,Z.shuffle=qie,Z.slice=zre,Z.sortBy=Yie,Z.sortedUniq=Xre,Z.sortedUniqBy=Jre,Z.split=Pae,Z.spread=ioe,Z.tail=Zre,Z.take=eie,Z.takeRight=tie,Z.takeRightWhile=nie,Z.takeWhile=rie,Z.tap=yie,Z.throttle=ooe,Z.thru=xC,Z.toArray=_B,Z.toPairs=TB,Z.toPairsIn=xB,Z.toPath=dse,Z.toPlainObject=EB,Z.transform=cae,Z.unary=aoe,Z.union=iie,Z.unionBy=oie,Z.unionWith=aie,Z.uniq=sie,Z.uniqBy=lie,Z.uniqWith=uie,Z.unset=fae,Z.unzip=Ek,Z.unzipWith=iB,Z.update=dae,Z.updateWith=hae,Z.values=Zg,Z.valuesIn=pae,Z.without=cie,Z.words=kB,Z.wrap=soe,Z.xor=fie,Z.xorBy=die,Z.xorWith=hie,Z.zip=pie,Z.zipObject=mie,Z.zipObjectDeep=gie,Z.zipWith=vie,Z.entries=TB,Z.entriesIn=xB,Z.extend=wB,Z.extendWith=NC,Ok(Z,Z),Z.add=pse,Z.attempt=RB,Z.camelCase=yae,Z.capitalize=AB,Z.ceil=mse,Z.clamp=mae,Z.clone=uoe,Z.cloneDeep=foe,Z.cloneDeepWith=doe,Z.cloneWith=coe,Z.conformsTo=hoe,Z.deburr=IB,Z.defaultTo=Kae,Z.divide=gse,Z.endsWith=_ae,Z.eq=Mu,Z.escape=bae,Z.escapeRegExp=Eae,Z.every=Iie,Z.find=Rie,Z.findIndex=Yl,Z.findKey=joe,Z.findLast=Oie,Z.findLastIndex=Dc,Z.findLastKey=zoe,Z.floor=vse,Z.forEach=aB,Z.forEachRight=sB,Z.forIn=Woe,Z.forInRight=qoe,Z.forOwn=Koe,Z.forOwnRight=Goe,Z.get=xk,Z.gt=poe,Z.gte=moe,Z.has=Xoe,Z.hasIn=Ak,Z.head=nB,Z.identity=Rs,Z.includes=Mie,Z.indexOf=Ore,Z.inRange=gae,Z.invoke=eae,Z.isArguments=qp,Z.isArray=cn,Z.isArrayBuffer=goe,Z.isArrayLike=Is,Z.isArrayLikeObject=no,Z.isBoolean=voe,Z.isBuffer=rh,Z.isDate=yoe,Z.isElement=_oe,Z.isEmpty=boe,Z.isEqual=Eoe,Z.isEqualWith=woe,Z.isError=Sk,Z.isFinite=Coe,Z.isFunction=Qf,Z.isInteger=mB,Z.isLength=OC,Z.isMap=gB,Z.isMatch=Soe,Z.isMatchWith=Toe,Z.isNaN=xoe,Z.isNative=Aoe,Z.isNil=koe,Z.isNull=Ioe,Z.isNumber=vB,Z.isObject=gi,Z.isObjectLike=Ui,Z.isPlainObject=tb,Z.isRegExp=Tk,Z.isSafeInteger=Roe,Z.isSet=yB,Z.isString=PC,Z.isSymbol=pl,Z.isTypedArray=Jg,Z.isUndefined=Ooe,Z.isWeakMap=Poe,Z.isWeakSet=Noe,Z.join=Mre,Z.kebabCase=wae,Z.last=Ql,Z.lastIndexOf=Fre,Z.lowerCase=Cae,Z.lowerFirst=Sae,Z.lt=Loe,Z.lte=Doe,Z.max=yse,Z.maxBy=_se,Z.mean=bse,Z.meanBy=Ese,Z.min=wse,Z.minBy=Cse,Z.stubArray=Nk,Z.stubFalse=Lk,Z.stubObject=lse,Z.stubString=use,Z.stubTrue=cse,Z.multiply=Sse,Z.nth=Ure,Z.noConflict=ese,Z.noop=Pk,Z.now=IC,Z.pad=Tae,Z.padEnd=xae,Z.padStart=Aae,Z.parseInt=Iae,Z.random=vae,Z.reduce=$ie,Z.reduceRight=Hie,Z.repeat=kae,Z.replace=Rae,Z.result=sae,Z.round=Tse,Z.runInContext=be,Z.sample=zie,Z.size=Kie,Z.snakeCase=Oae,Z.some=Gie,Z.sortedIndex=Wre,Z.sortedIndexBy=qre,Z.sortedIndexOf=Kre,Z.sortedLastIndex=Gre,Z.sortedLastIndexBy=Yre,Z.sortedLastIndexOf=Qre,Z.startCase=Nae,Z.startsWith=Lae,Z.subtract=xse,Z.sum=Ase,Z.sumBy=Ise,Z.template=Dae,Z.times=fse,Z.toFinite=Xf,Z.toInteger=gn,Z.toLength=bB,Z.toLower=Mae,Z.toNumber=Xl,Z.toSafeInteger=Moe,Z.toString=gr,Z.toUpper=Fae,Z.trim=Uae,Z.trimEnd=Vae,Z.trimStart=Bae,Z.truncate=$ae,Z.unescape=Hae,Z.uniqueId=hse,Z.upperCase=jae,Z.upperFirst=Ik,Z.each=aB,Z.eachRight=sB,Z.first=nB,Ok(Z,function(){var d={};return xs(Z,function(v,S){tr.call(Z.prototype,S)||(d[S]=v)}),d}(),{chain:!1}),Z.VERSION=r,ue(["bind","bindKey","curry","curryRight","partial","partialRight"],function(d){Z[d].placeholder=Z}),ue(["drop","take"],function(d,v){zt.prototype[d]=function(S){S=S===n?1:Vr(gn(S),0);var F=this.__filtered__&&!v?new zt(this):this.clone();return F.__filtered__?F.__takeCount__=Mi(S,F.__takeCount__):F.__views__.push({size:Mi(S,Ae),type:d+(F.__dir__<0?"Right":"")}),F},zt.prototype[d+"Right"]=function(S){return this.reverse()[d](S).reverse()}}),ue(["filter","map","takeWhile"],function(d,v){var S=v+1,F=S==Ee||S==Je;zt.prototype[d]=function(G){var te=this.clone();return te.__iteratees__.push({iteratee:Bt(G,3),type:S}),te.__filtered__=te.__filtered__||F,te}}),ue(["head","last"],function(d,v){var S="take"+(v?"Right":"");zt.prototype[d]=function(){return this[S](1).value()[0]}}),ue(["initial","tail"],function(d,v){var S="drop"+(v?"":"Right");zt.prototype[d]=function(){return this.__filtered__?new zt(this):this[S](1)}}),zt.prototype.compact=function(){return this.filter(Rs)},zt.prototype.find=function(d){return this.filter(d).head()},zt.prototype.findLast=function(d){return this.reverse().find(d)},zt.prototype.invokeMap=mn(function(d,v){return typeof d=="function"?new zt(this):this.map(function(S){return jd(S,d,v)})}),zt.prototype.reject=function(d){return this.filter(RC(Bt(d)))},zt.prototype.slice=function(d,v){d=gn(d);var S=this;return S.__filtered__&&(d>0||v<0)?new zt(S):(d<0?S=S.takeRight(-d):d&&(S=S.drop(d)),v!==n&&(v=gn(v),S=v<0?S.dropRight(-v):S.take(v-d)),S)},zt.prototype.takeRightWhile=function(d){return this.reverse().takeWhile(d).reverse()},zt.prototype.toArray=function(){return this.take(Ae)},xs(zt.prototype,function(d,v){var S=/^(?:filter|find|map|reject)|While$/.test(v),F=/^(?:head|last)$/.test(v),G=Z[F?"take"+(v=="last"?"Right":""):v],te=F||/^find/.test(v);G&&(Z.prototype[v]=function(){var ce=this.__wrapped__,me=F?[1]:arguments,we=ce instanceof zt,$e=me[0],je=we||cn(ce),Ye=function(Dn){var Gn=G.apply(Z,Nn([Dn],me));return F&&yt?Gn[0]:Gn};je&&S&&typeof $e=="function"&&$e.length!=1&&(we=je=!1);var yt=this.__chain__,Ft=!!this.__actions__.length,Gt=te&&!yt,yn=we&&!Ft;if(!te&&je){ce=yn?ce:new zt(this);var Yt=d.apply(ce,me);return Yt.__actions__.push({func:xC,args:[Ye],thisArg:n}),new ir(Yt,yt)}return Gt&&yn?d.apply(this,me):(Yt=this.thru(Ye),Gt?F?Yt.value()[0]:Yt.value():Yt)})}),ue(["pop","push","shift","sort","splice","unshift"],function(d){var v=xg[d],S=/^(?:push|sort|unshift)$/.test(d)?"tap":"thru",F=/^(?:pop|shift)$/.test(d);Z.prototype[d]=function(){var G=arguments;if(F&&!this.__chain__){var te=this.value();return v.apply(cn(te)?te:[],G)}return this[S](function(ce){return v.apply(cn(ce)?ce:[],G)})}}),xs(zt.prototype,function(d,v){var S=Z[v];if(S){var F=S.name+"";tr.call(Vf,F)||(Vf[F]=[]),Vf[F].push({name:v,func:S})}}),Vf[zg(n,I).name]=[{name:"wrapper",func:n}],zt.prototype.clone=Xi,zt.prototype.reverse=Ap,zt.prototype.value=X1,Z.prototype.at=_ie,Z.prototype.chain=bie,Z.prototype.commit=Eie,Z.prototype.next=wie,Z.prototype.plant=Sie,Z.prototype.reverse=Tie,Z.prototype.toJSON=Z.prototype.valueOf=Z.prototype.value=xie,Z.prototype.first=Z.prototype.head,Mf&&(Z.prototype[Mf]=Cie),Z},ku=E_();Pn?((Pn.exports=ku)._=ku,Wn._=ku):Ht._=ku}).call(Ei)})(pA,pA.exports);var Rne=pA.exports;const gv=ra(Rne);var mA={exports:{}};mA.exports;(function(t,e){var n=200,r="Expected a function",i="__lodash_hash_undefined__",o=1,a=2,l=9007199254740991,u="[object Arguments]",f="[object Array]",h="[object Boolean]",g="[object Date]",y="[object Error]",w="[object Function]",T="[object GeneratorFunction]",C="[object Map]",R="[object Number]",I="[object Object]",k="[object Promise]",O="[object RegExp]",A="[object Set]",V="[object String]",D="[object Symbol]",P="[object WeakMap]",N="[object ArrayBuffer]",$="[object DataView]",q="[object Float32Array]",z="[object Float64Array]",K="[object Int8Array]",Q="[object Int16Array]",Ee="[object Int32Array]",he="[object Uint8Array]",Je="[object Uint8ClampedArray]",He="[object Uint16Array]",xe="[object Uint32Array]",Te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,J=/^\w*$/,Ae=/^\./,Ne=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ie=/[\\^$.*+?()[\]{}|]/g,lt=/\\(\\)?/g,Ge=/^\[object .+?Constructor\]$/,ut=/^(?:0|[1-9]\d*)$/,et={};et[q]=et[z]=et[K]=et[Q]=et[Ee]=et[he]=et[Je]=et[He]=et[xe]=!0,et[u]=et[f]=et[N]=et[h]=et[$]=et[g]=et[y]=et[w]=et[C]=et[R]=et[I]=et[O]=et[A]=et[V]=et[P]=!1;var _t=typeof Ei=="object"&&Ei&&Ei.Object===Object&&Ei,xt=typeof self=="object"&&self&&self.Object===Object&&self,Et=_t||xt||Function("return this")(),Dt=e&&!e.nodeType&&e,Ut=Dt&&!0&&t&&!t.nodeType&&t,an=Ut&&Ut.exports===Dt,nt=an&&_t.process,nn=function(){try{return nt&&nt.binding("util")}catch{}}(),Wt=nn&&nn.isTypedArray;function Kt(X,ue,ke,Qe){for(var At=-1,vt=X?X.length:0;++At<vt;){var Vt=X[At];ue(Qe,Vt,ke(Vt),X)}return Qe}function vn(X,ue){for(var ke=-1,Qe=X?X.length:0;++ke<Qe;)if(ue(X[ke],ke,X))return!0;return!1}function fn(X){return function(ue){return ue==null?void 0:ue[X]}}function Ot(X,ue){for(var ke=-1,Qe=Array(X);++ke<X;)Qe[ke]=ue(ke);return Qe}function En(X){return function(ue){return X(ue)}}function fe(X,ue){return X==null?void 0:X[ue]}function Ce(X){var ue=!1;if(X!=null&&typeof X.toString!="function")try{ue=!!(X+"")}catch{}return ue}function ge(X){var ue=-1,ke=Array(X.size);return X.forEach(function(Qe,At){ke[++ue]=[At,Qe]}),ke}function Re(X,ue){return function(ke){return X(ue(ke))}}function Me(X){var ue=-1,ke=Array(X.size);return X.forEach(function(Qe){ke[++ue]=Qe}),ke}var se=Array.prototype,pe=Function.prototype,qe=Object.prototype,De=Et["__core-js_shared__"],Ze=function(){var X=/[^.]+$/.exec(De&&De.keys&&De.keys.IE_PROTO||"");return X?"Symbol(src)_1."+X:""}(),Tt=pe.toString,hn=qe.hasOwnProperty,pn=qe.toString,rr=RegExp("^"+Tt.call(hn).replace(ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Dr=Et.Symbol,Qt=Et.Uint8Array,ci=qe.propertyIsEnumerable,ft=se.splice,Qs=Re(Object.keys,Object),Tr=ha(Et,"DataView"),Un=ha(Et,"Map"),Jn=ha(Et,"Promise"),Ai=ha(Et,"Set"),Wr=ha(Et,"WeakMap"),fi=ha(Object,"create"),Ar=ye(Tr),Uo=ye(Un),Ml=ye(Jn),Ir=ye(Ai),ys=ye(Wr),aa=Dr?Dr.prototype:void 0,sa=aa?aa.valueOf:void 0,Xs=aa?aa.toString:void 0;function la(X){var ue=-1,ke=X?X.length:0;for(this.clear();++ue<ke;){var Qe=X[ue];this.set(Qe[0],Qe[1])}}function Ii(){this.__data__=fi?fi(null):{}}function If(X){return this.has(X)&&delete this.__data__[X]}function wu(X){var ue=this.__data__;if(fi){var ke=ue[X];return ke===i?void 0:ke}return hn.call(ue,X)?ue[X]:void 0}function Fl(X){var ue=this.__data__;return fi?ue[X]!==void 0:hn.call(ue,X)}function yc(X,ue){var ke=this.__data__;return ke[X]=fi&&ue===void 0?i:ue,this}la.prototype.clear=Ii,la.prototype.delete=If,la.prototype.get=wu,la.prototype.has=Fl,la.prototype.set=yc;function qi(X){var ue=-1,ke=X?X.length:0;for(this.clear();++ue<ke;){var Qe=X[ue];this.set(Qe[0],Qe[1])}}function Ki(){this.__data__=[]}function Vo(X){var ue=this.__data__,ke=Be(ue,X);if(ke<0)return!1;var Qe=ue.length-1;return ke==Qe?ue.pop():ft.call(ue,ke,1),!0}function Wa(X){var ue=this.__data__,ke=Be(ue,X);return ke<0?void 0:ue[ke][1]}function _c(X){return Be(this.__data__,X)>-1}function Cu(X,ue){var ke=this.__data__,Qe=Be(ke,X);return Qe<0?ke.push([X,ue]):ke[Qe][1]=ue,this}qi.prototype.clear=Ki,qi.prototype.delete=Vo,qi.prototype.get=Wa,qi.prototype.has=_c,qi.prototype.set=Cu;function ki(X){var ue=-1,ke=X?X.length:0;for(this.clear();++ue<ke;){var Qe=X[ue];this.set(Qe[0],Qe[1])}}function Bo(){this.__data__={hash:new la,map:new(Un||qi),string:new la}}function $o(X){return ws(this,X).delete(X)}function kf(X){return ws(this,X).get(X)}function Gi(X){return ws(this,X).has(X)}function Ul(X,ue){return ws(this,X).set(X,ue),this}ki.prototype.clear=Bo,ki.prototype.delete=$o,ki.prototype.get=kf,ki.prototype.has=Gi,ki.prototype.set=Ul;function qa(X){var ue=-1,ke=X?X.length:0;for(this.__data__=new ki;++ue<ke;)this.add(X[ue])}function Vn(X){return this.__data__.set(X,i),this}function mt(X){return this.__data__.has(X)}qa.prototype.add=qa.prototype.push=Vn,qa.prototype.has=mt;function Mr(X){this.__data__=new qi(X)}function Co(){this.__data__=new qi}function So(X){return this.__data__.delete(X)}function wn(X){return this.__data__.get(X)}function Aa(X){return this.__data__.has(X)}function Ka(X,ue){var ke=this.__data__;if(ke instanceof qi){var Qe=ke.__data__;if(!Un||Qe.length<n-1)return Qe.push([X,ue]),this;ke=this.__data__=new ki(Qe)}return ke.set(X,ue),this}Mr.prototype.clear=Co,Mr.prototype.delete=So,Mr.prototype.get=wn,Mr.prototype.has=Aa,Mr.prototype.set=Ka;function _s(X,ue){var ke=Tn(X)||$t(X)?Ot(X.length,String):[],Qe=ke.length,At=!!Qe;for(var vt in X)hn.call(X,vt)&&!(At&&(vt=="length"||co(vt,Qe)))&&ke.push(vt);return ke}function Be(X,ue){for(var ke=X.length;ke--;)if(zn(X[ke][0],ue))return ke;return-1}function Mt(X,ue,ke,Qe){return Js(X,function(At,vt,Vt){ue(Qe,At,ke(At),Vt)}),Qe}var Js=Au(Ya),Ga=Es();function Ya(X,ue){return X&&Ga(X,ue,Pi)}function Ho(X,ue){ue=el(ue,X)?[ue]:Vl(ue);for(var ke=0,Qe=ue.length;X!=null&&ke<Qe;)X=X[oe(ue[ke++])];return ke&&ke==Qe?X:void 0}function Su(X){return pn.call(X)}function Lt(X,ue){return X!=null&&ue in Object(X)}function uo(X,ue,ke,Qe,At){return X===ue?!0:X==null||ue==null||!Fr(X)&&!hr(ue)?X!==X&&ue!==ue:bs(X,ue,uo,ke,Qe,At)}function bs(X,ue,ke,Qe,At,vt){var Vt=Tn(X),Xt=Tn(ue),Nn=f,pr=f;Vt||(Nn=Oi(X),Nn=Nn==u?I:Nn),Xt||(pr=Oi(ue),pr=pr==u?I:pr);var Ni=Nn==I&&!Ce(X),Ur=pr==I&&!Ce(ue),Rr=Nn==pr;if(Rr&&!Ni)return vt||(vt=new Mr),Vt||ni(X)?ca(X,ue,ke,Qe,At,vt):fa(X,ue,Nn,ke,Qe,At,vt);if(!(At&a)){var Io=Ni&&hn.call(X,"__wrapped__"),Yi=Ur&&hn.call(ue,"__wrapped__");if(Io||Yi){var Or=Io?X.value():X,di=Yi?ue.value():ue;return vt||(vt=new Mr),ke(Or,di,Qe,At,vt)}}return Rr?(vt||(vt=new Mr),xo(X,ue,ke,Qe,At,vt)):!1}function jo(X,ue,ke,Qe){var At=ke.length,vt=At;if(X==null)return!vt;for(X=Object(X);At--;){var Vt=ke[At];if(Vt[2]?Vt[1]!==X[Vt[0]]:!(Vt[0]in X))return!1}for(;++At<vt;){Vt=ke[At];var Xt=Vt[0],Nn=X[Xt],pr=Vt[1];if(Vt[2]){if(Nn===void 0&&!(Xt in X))return!1}else{var Ni=new Mr,Ur;if(!(Ur===void 0?uo(pr,Nn,Qe,o|a,Ni):Ur))return!1}}return!0}function To(X){if(!Fr(X)||zo(X))return!1;var ue=Wn(X)||Ce(X)?rr:Ge;return ue.test(ye(X))}function jn(X){return hr(X)&&Pn(X.length)&&!!et[pn.call(X)]}function Ia(X){return typeof X=="function"?X:X==null?tl:typeof X=="object"?Tn(X)?Tu(X[0],X[1]):qr(X):Kr(X)}function Ri(X){if(!Cs(X))return Qs(X);var ue=[];for(var ke in Object(X))hn.call(X,ke)&&ke!="constructor"&&ue.push(ke);return ue}function qr(X){var ue=da(X);return ue.length==1&&ue[0][2]?Cn(ue[0][0],ue[0][1]):function(ke){return ke===X||jo(ke,X,ue)}}function Tu(X,ue){return el(X)&&Iu(ue)?Cn(oe(X),ue):function(ke){var Qe=ri(ke,X);return Qe===void 0&&Qe===ue?Ao(ke,X):uo(ue,Qe,void 0,o|a)}}function Zs(X){return function(ue){return Ho(ue,X)}}function ua(X){if(typeof X=="string")return X;if(sn(X))return Xs?Xs.call(X):"";var ue=X+"";return ue=="0"&&1/X==-1/0?"-0":ue}function Vl(X){return Tn(X)?X:Sn(X)}function xu(X,ue){return function(ke,Qe){var At=Tn(ke)?Kt:Mt,vt={};return At(ke,X,Ia(Qe),vt)}}function Au(X,ue){return function(ke,Qe){if(ke==null)return ke;if(!dr(ke))return X(ke,Qe);for(var At=ke.length,vt=-1,Vt=Object(ke);++vt<At&&Qe(Vt[vt],vt,Vt)!==!1;);return ke}}function Es(X){return function(ue,ke,Qe){for(var At=-1,vt=Object(ue),Vt=Qe(ue),Xt=Vt.length;Xt--;){var Nn=Vt[++At];if(ke(vt[Nn],Nn,vt)===!1)break}return ue}}function ca(X,ue,ke,Qe,At,vt){var Vt=At&a,Xt=X.length,Nn=ue.length;if(Xt!=Nn&&!(Vt&&Nn>Xt))return!1;var pr=vt.get(X);if(pr&&vt.get(ue))return pr==ue;var Ni=-1,Ur=!0,Rr=At&o?new qa:void 0;for(vt.set(X,ue),vt.set(ue,X);++Ni<Xt;){var Io=X[Ni],Yi=ue[Ni];if(Qe)var Or=Vt?Qe(Yi,Io,Ni,ue,X,vt):Qe(Io,Yi,Ni,X,ue,vt);if(Or!==void 0){if(Or)continue;Ur=!1;break}if(Rr){if(!vn(ue,function(di,Ln){if(!Rr.has(Ln)&&(Io===di||ke(Io,di,Qe,At,vt)))return Rr.add(Ln)})){Ur=!1;break}}else if(!(Io===Yi||ke(Io,Yi,Qe,At,vt))){Ur=!1;break}}return vt.delete(X),vt.delete(ue),Ur}function fa(X,ue,ke,Qe,At,vt,Vt){switch(ke){case $:if(X.byteLength!=ue.byteLength||X.byteOffset!=ue.byteOffset)return!1;X=X.buffer,ue=ue.buffer;case N:return!(X.byteLength!=ue.byteLength||!Qe(new Qt(X),new Qt(ue)));case h:case g:case R:return zn(+X,+ue);case y:return X.name==ue.name&&X.message==ue.message;case O:case V:return X==ue+"";case C:var Xt=ge;case A:var Nn=vt&a;if(Xt||(Xt=Me),X.size!=ue.size&&!Nn)return!1;var pr=Vt.get(X);if(pr)return pr==ue;vt|=o,Vt.set(X,ue);var Ni=ca(Xt(X),Xt(ue),Qe,At,vt,Vt);return Vt.delete(X),Ni;case D:if(sa)return sa.call(X)==sa.call(ue)}return!1}function xo(X,ue,ke,Qe,At,vt){var Vt=At&a,Xt=Pi(X),Nn=Xt.length,pr=Pi(ue),Ni=pr.length;if(Nn!=Ni&&!Vt)return!1;for(var Ur=Nn;Ur--;){var Rr=Xt[Ur];if(!(Vt?Rr in ue:hn.call(ue,Rr)))return!1}var Io=vt.get(X);if(Io&&vt.get(ue))return Io==ue;var Yi=!0;vt.set(X,ue),vt.set(ue,X);for(var Or=Vt;++Ur<Nn;){Rr=Xt[Ur];var di=X[Rr],Ln=ue[Rr];if(Qe)var nl=Vt?Qe(Ln,di,Rr,ue,X,vt):Qe(di,Ln,Rr,X,ue,vt);if(!(nl===void 0?di===Ln||ke(di,Ln,Qe,At,vt):nl)){Yi=!1;break}Or||(Or=Rr=="constructor")}if(Yi&&!Or){var E=X.constructor,M=ue.constructor;E!=M&&"constructor"in X&&"constructor"in ue&&!(typeof E=="function"&&E instanceof E&&typeof M=="function"&&M instanceof M)&&(Yi=!1)}return vt.delete(X),vt.delete(ue),Yi}function ws(X,ue){var ke=X.__data__;return bc(ue)?ke[typeof ue=="string"?"string":"hash"]:ke.map}function da(X){for(var ue=Pi(X),ke=ue.length;ke--;){var Qe=ue[ke],At=X[Qe];ue[ke]=[Qe,At,Iu(At)]}return ue}function ha(X,ue){var ke=fe(X,ue);return To(ke)?ke:void 0}var Oi=Su;(Tr&&Oi(new Tr(new ArrayBuffer(1)))!=$||Un&&Oi(new Un)!=C||Jn&&Oi(Jn.resolve())!=k||Ai&&Oi(new Ai)!=A||Wr&&Oi(new Wr)!=P)&&(Oi=function(X){var ue=pn.call(X),ke=ue==I?X.constructor:void 0,Qe=ke?ye(ke):void 0;if(Qe)switch(Qe){case Ar:return $;case Uo:return C;case Ml:return k;case Ir:return A;case ys:return P}return ue});function Rf(X,ue,ke){ue=el(ue,X)?[ue]:Vl(ue);for(var Qe,At=-1,Vt=ue.length;++At<Vt;){var vt=oe(ue[At]);if(!(Qe=X!=null&&ke(X,vt)))break;X=X[vt]}if(Qe)return Qe;var Vt=X?X.length:0;return!!Vt&&Pn(Vt)&&co(vt,Vt)&&(Tn(X)||$t(X))}function co(X,ue){return ue=ue??l,!!ue&&(typeof X=="number"||ut.test(X))&&X>-1&&X%1==0&&X<ue}function el(X,ue){if(Tn(X))return!1;var ke=typeof X;return ke=="number"||ke=="symbol"||ke=="boolean"||X==null||sn(X)?!0:J.test(X)||!Te.test(X)||ue!=null&&X in Object(ue)}function bc(X){var ue=typeof X;return ue=="string"||ue=="number"||ue=="symbol"||ue=="boolean"?X!=="__proto__":X===null}function zo(X){return!!Ze&&Ze in X}function Cs(X){var ue=X&&X.constructor,ke=typeof ue=="function"&&ue.prototype||qe;return X===ke}function Iu(X){return X===X&&!Fr(X)}function Cn(X,ue){return function(ke){return ke==null?!1:ke[X]===ue&&(ue!==void 0||X in Object(ke))}}var Sn=pt(function(X){X=kr(X);var ue=[];return Ae.test(X)&&ue.push(""),X.replace(Ne,function(ke,Qe,At,vt){ue.push(At?vt.replace(lt,"$1"):Qe||ke)}),ue});function oe(X){if(typeof X=="string"||sn(X))return X;var ue=X+"";return ue=="0"&&1/X==-1/0?"-0":ue}function ye(X){if(X!=null){try{return Tt.call(X)}catch{}try{return X+""}catch{}}return""}var Le=xu(function(X,ue,ke){X[ke]=ue});function pt(X,ue){if(typeof X!="function"||ue&&typeof ue!="function")throw new TypeError(r);var ke=function(){var Qe=arguments,At=ue?ue.apply(this,Qe):Qe[0],vt=ke.cache;if(vt.has(At))return vt.get(At);var Vt=X.apply(this,Qe);return ke.cache=vt.set(At,Vt),Vt};return ke.cache=new(pt.Cache||ki),ke}pt.Cache=ki;function zn(X,ue){return X===ue||X!==X&&ue!==ue}function $t(X){return Ht(X)&&hn.call(X,"callee")&&(!ci.call(X,"callee")||pn.call(X)==u)}var Tn=Array.isArray;function dr(X){return X!=null&&Pn(X.length)&&!Wn(X)}function Ht(X){return hr(X)&&dr(X)}function Wn(X){var ue=Fr(X)?pn.call(X):"";return ue==w||ue==T}function Pn(X){return typeof X=="number"&&X>-1&&X%1==0&&X<=l}function Fr(X){var ue=typeof X;return!!X&&(ue=="object"||ue=="function")}function hr(X){return!!X&&typeof X=="object"}function sn(X){return typeof X=="symbol"||hr(X)&&pn.call(X)==D}var ni=Wt?En(Wt):jn;function kr(X){return X==null?"":ua(X)}function ri(X,ue,ke){var Qe=X==null?void 0:Ho(X,ue);return Qe===void 0?ke:Qe}function Ao(X,ue){return X!=null&&Rf(X,ue,Lt)}function Pi(X){return dr(X)?_s(X):Ri(X)}function tl(X){return X}function Kr(X){return el(X)?fn(oe(X)):Zs(X)}t.exports=Le})(mA,mA.exports);var I9e=mA.exports;const k9e=ra(I9e);var E0=(t=>(t.STRING="STRING",t.SELECT="SELECT",t.MULTISELECT="MULTISELECT",t.SECRET="SECRET",t))(E0||{});const R9e="_wrapper_1dcnt_16",O9e="_eventPrefixValue_1dcnt_26",P9e="_eventValue_1dcnt_30",lh={wrapper:R9e,eventPrefixValue:O9e,eventValue:P9e},N9e="_paramWrapper_14p8l_16",L9e="_paramHeader_14p8l_39",D9e="_paramValue_14p8l_47",M9e="_description_14p8l_52",F9e="_learnButton_14p8l_56",Pv={paramWrapper:N9e,paramHeader:L9e,paramValue:D9e,description:M9e,learnButton:F9e},TT=({value:t,type:e})=>{const[n,r]=B.useState(!1);return t?e!==E0.SECRET?b("div",{children:t}):n?ne("div",{className:Pv.paramValue,children:[b(ao,{use:"secondary",children:b(bn,{onClick:()=>r(!1),icon:{icon:"visibility_off"},"aria-label":"Hide value"})}),b("div",{children:t})]}):ne("div",{className:Pv.paramValue,children:[b(ao,{use:"secondary",children:b(bn,{onClick:()=>r(!0),icon:{icon:"visibility"},theme:"secondary","aria-label":"Show value"})}),b("div",{children:"***"})]}):b(Ue,{use:"body1",theme:"secondary",children:"Not specified"})};function U9e(){var l;const t=Af(),e=t.events?k9e(t.events,function(u){return u.type}):{},n=Rne.groupBy(t.allowedEventTypes??[],function(u){return u.split(".").slice(0,-1).join(".")}),r=Object.keys(n).sort().map(u=>{var h;const f=(h=n[u])==null?void 0:h.map(g=>{var y;return ne("div",{className:lh.eventValue,children:[b(TT,{value:g,type:E0.STRING}),b(Ue,{use:"body1",theme:"secondary",children:((y=e[g])==null?void 0:y.description)??"Not Specified"})]},g)});return ne("div",{className:lh.eventPrefixValue,children:[b(TT,{value:u,type:E0.STRING}),f]},`${u}`)}),i=(l=t.allowedEventTypes)!=null&&l.length?ne("div",{className:lh.wrapper,"data-testid":"allowed-event-types-config",children:[b(IE,{expansionLabel:"Description",title:b(Ue,{use:"body2",theme:"secondary",children:"Types of events"}),children:b(Ue,{className:lh.description,use:"caption",tag:"div",theme:"secondary",children:b(kE,{children:"Which events do you want to be emitted from this extension? Only selected events will be published to Eventarc, all other events will be ignored and will not be counted against Eventarc usage."})})}),r]},"allowedEventTypes"):null,o=t.eventarcChannel?ne("div",{className:lh.wrapper,"data-testid":"channel-location-config",children:[b(IE,{expansionLabel:"Description",title:b(Ue,{use:"body2",theme:"secondary",children:"Channel location"}),children:b(Ue,{className:lh.description,use:"caption",tag:"div",theme:"secondary",children:b(kE,{children:"Where do you want to deploy the Eventarc channel where events will be published? You usually want a location close to where your extension is deployed, but choosing the default location (us-central1) makes it easier to create event handler functions."})})}),b(TT,{value:t.eventarcChannel.split("/")[3]??"",type:E0.STRING})]},"channelLocation"):null,a=t.eventarcChannel&&t.allowedEventTypes?ne("div",{className:lh.wrapper,children:[b("h4",{children:"Enabled Events"}),b(ji,{aside:!0,type:"note",children:"Events aren't emitted to production Eventarc in the emulator, and there won't be any cost."}),b(Ue,{className:lh.description,use:"caption",tag:"div",theme:"secondary",children:ne("p",{children:["If you enable events, you can"," ",b("a",{href:"https://firebase.google.com/docs/extensions/install-extensions#eventarc",children:"write custom event handlers"})," ","that respond to these events. Events will be emitted via Eventarc."," ",b("a",{href:"https://cloud.google.com/eventarc/pricing",children:"Fees apply."}),b("br",{}),b("a",{href:`/extensions/${t.id}`,children:"How do events in this extension work?"})]})}),o,i]}):null;return b("div",{children:a})}function V9e(){const t=Af(),e=jte(t),n=e?"extensions/manage-installed-extensions?interface=sdk#reconfigure":"extensions/manifest",r=b(Ue,{use:"body2",children:"Reconfigure is not available in the emulator. You can reconfigure parameters by updating them in the code."}),i=ne(Rt,{children:[b(Ue,{use:"body2",children:"Reconfigure is not available in the emulator. You can reconfigure parameters by updating your .env files with:"}),b("br",{}),ne("code",{children:["firebase ext:configure ",t.id," --local"]}),")"]});return ne("div",{children:[b("div",{className:Pv.paramHeader,children:ne(ji,{aside:!0,type:"note",children:[e?r:i,b("div",{className:Pv.learnButton,children:b("a",{href:Wte+n,target:"_blank",rel:"noopener noreferrer",tabIndex:-1,children:b(fr,{children:"Learn more"})})})]})}),(t.params||[]).map(o=>ne("div",{className:Pv.paramWrapper,children:[b(IE,{expansionLabel:"Description",title:b(Ue,{use:"body2",theme:"secondary",children:o.label}),children:b(Ue,{className:Pv.description,use:"caption",tag:"div",theme:"secondary",children:b(kE,{children:o.description||""})})}),b(TT,{value:o.value||o.default||"",type:o.type})]},o.param)),b(U9e,{})]})}function B9e(){const t=Af();if(t.eventarcChannel&&t.allowedEventTypes&&t.allowedEventTypes.length>0){const e=`
   ### Create Custom Event Handlers
   
   This extension publishes events to the \`${t.eventarcChannel}\` channel. You can create custom handlers that respond to events on this channel. For example:
   
     import { onCustomEventPublished } from "firebase-functions/v2/eventarc";
 
     export const eventhandler = onCustomEventPublished(
       "${t.allowedEventTypes?t.allowedEventTypes[0]:""}",
       (e) => {
           // Handle extension event here.
       });
     `;return b(kE,{"data-testid":"events-code-snippet",children:e})}return null}const $9e="_wrapper_y5z0g_16",H9e={wrapper:$9e};function j9e(){const t=Af();return ne("div",{className:H9e.wrapper,children:[b(kE,{children:t.postinstallContent}),b(B9e,{})]})}const z9e=({extension:t})=>{var i,o;const e={tabs:[{label:"How this extension works",tab:b(j9e,{})},{label:"Extension configuration",tab:b(V9e,{})}]};((i=t.apis)!=null&&i.length||(o=t.resources)!=null&&o.length)&&e.tabs.push({label:"APIs and resources",tab:b(pBe,{})}),t.roles&&e.tabs.push({label:"Access and roles",tab:b(oBe,{})});const{tabs:n,content:r}=H4e(e);return b(xa,{className:LS.detailsCard,children:b(hu,{z:"2",wrap:!0,children:ne("div",{className:LS.detailsWrapper,children:[ne("aside",{className:LS.detailsAside,children:[b(J4e,{}),b("div",{children:n})]}),b("div",{className:LS.content,children:r})]})})})},W9e="_extensionTable_24w8f_16",q9e={extensionTable:W9e},K9e="_iconCell_1ftf9_16",G9e="_infoCell_1ftf9_17",Y9e="_infoHeader_1ftf9_31",Xp={iconCell:K9e,infoCell:G9e,infoHeader:Y9e},Q9e=({extension:t})=>{const e=yf();return ne(lf,{className:Xp.extensionRow,children:[b(bi,{className:`${Xp.iconCell} iconCell`,children:b("img",{src:t.iconUri,"aria-hidden":!0,className:"extensionLogo",alt:"Extension logo"})}),ne(bi,{className:Xp.infoCell,children:[ne("div",{className:Xp.infoHeader,children:[t.publisherIconUri&&b("img",{className:"publisherLogo","aria-hidden":!0,alt:"Publisher logo",src:t.publisherIconUri}),b(Ue,{use:"body1",theme:"textPrimaryOnBackground",className:"extensionName",children:t.displayName})]}),b("div",{children:b(Ue,{use:"body2",theme:"textSecondaryOnBackground",children:t.ref})}),b("div",{children:b(Ue,{use:"body2",theme:"textSecondaryOnBackground",children:t.id})})]}),b(bi,{className:`${Xp.actionCell} actionCell`,children:b(fr,{onClick:()=>{e.push(`/extensions/${t.id}`)},className:Xp.manageButton,label:b("div",{className:Xp.manageButtonText,children:"Manage"}),"aria-label":"Manage "+t.displayName})})]},t.ref)},One=({extensions:t})=>b(zE,{className:q9e.extensionTable,children:b(WE,{children:b(qE,{children:t.map(e=>b(Q9e,{extension:e},e.id))})})}),X9e=({extension:t})=>b(xa,{className:"detailsHeader",children:b(hu,{z:"2",wrap:!0,children:b(One,{extensions:[t]})})}),J9e=()=>{const t=Af();return t?ne(_r,{span:12,className:"Extensions",children:[b(V4e,{name:t.displayName||""}),b(X9e,{extension:t}),b(z9e,{extension:t})]}):b(cHe,{})},Z9e="_callout_191t2_16",eHe="_link_191t2_20",yP={callout:Z9e,link:eHe},tHe=()=>b("div",{className:yP.callout,children:b(ji,{aside:!0,actions:b("div",{className:yP.link,children:b(x1,{href:"extensions/manage-installed-extensions",target:"_blank",rel:"noopener noreferrer",children:b(Ue,{theme:"primary",use:"body2",className:yP.link,children:"Learn how to manage your extensions"})})}),children:"Extensions in the emulator show up here."})}),nHe="_wrapper_po2rt_16",LW={wrapper:nHe},rHe=()=>b("div",{className:LW.wrapper,children:b(Ue,{use:"body2",className:LW.noResultsWrapper,theme:"textSecondaryOnBackground",children:"No extensions for this project yet"})}),iHe=()=>{const t=I4e();return ne(_r,{span:12,className:"Extensions",children:[b(U4e,{}),b(tHe,{}),b(hu,{z:"2",wrap:!0,children:b(xa,{children:t.length?b(One,{extensions:t}):b(rHe,{})})})]})},oHe=()=>b(B.Suspense,{fallback:b(uHe,{}),children:b(aHe,{children:b(sHe,{})})}),aHe=({children:t})=>{const e=P4e();return b(A4e,{extensions:e,children:t})},sHe=()=>ne(dp,{children:[b(ms,{path:"/extensions/:instanceId",component:lHe}),b(ms,{path:"/extensions",component:iHe})]}),lHe=()=>{const t=pI().instanceId;return b(D4e,{instanceId:t,children:b(J9e,{})})},uHe=()=>rg("extensions")?b(Ope,{}):b(ja,{span:12,message:"Extensions Emulator Loading..."}),cHe=()=>b(Ju,{to:"/extensions"});function fHe(){const t=za("eventarc"),e="google.firebase.firebasealerts.alerts.v1.published-google",n=async i=>await(await Do(i.toString())).json(),{data:r}=hf(`//${t.hostAndPort}/google/getTriggers`,n,{suspense:!0});return r[e]}const Pne=B.createContext([]),dHe=({children:t,triggers:e})=>b(Pne.Provider,{value:e,children:t});function hHe(){return B.useContext(Pne)}/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var ad={CLOSING:"mdc-snackbar--closing",OPEN:"mdc-snackbar--open",OPENING:"mdc-snackbar--opening"},V1={ACTION_SELECTOR:".mdc-snackbar__action",ARIA_LIVE_LABEL_TEXT_ATTR:"data-mdc-snackbar-label-text",CLOSED_EVENT:"MDCSnackbar:closed",CLOSING_EVENT:"MDCSnackbar:closing",DISMISS_SELECTOR:".mdc-snackbar__dismiss",LABEL_SELECTOR:".mdc-snackbar__label",OPENED_EVENT:"MDCSnackbar:opened",OPENING_EVENT:"MDCSnackbar:opening",REASON_ACTION:"action",REASON_DISMISS:"dismiss",SURFACE_SELECTOR:".mdc-snackbar__surface"},Bc={DEFAULT_AUTO_DISMISS_TIMEOUT_MS:5e3,INDETERMINATE:-1,MAX_AUTO_DISMISS_TIMEOUT_MS:1e4,MIN_AUTO_DISMISS_TIMEOUT_MS:4e3,SNACKBAR_ANIMATION_CLOSE_TIME_MS:75,SNACKBAR_ANIMATION_OPEN_TIME_MS:150,ARIA_LIVE_DELAY_MS:1e3};/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var pHe=Bc.ARIA_LIVE_DELAY_MS,DW=V1.ARIA_LIVE_LABEL_TEXT_ATTR;function mHe(t,e){e===void 0&&(e=t);var n=t.getAttribute("aria-live"),r=e.textContent.trim();!r||!n||(t.setAttribute("aria-live","off"),e.textContent="",e.innerHTML='<span style="display: inline-block; width: 0; height: 1px;">&nbsp;</span>',e.setAttribute(DW,r),setTimeout(function(){t.setAttribute("aria-live",n),e.removeAttribute(DW),e.textContent=r},pHe))}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var oM=function(t,e){return oM=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},oM(t,e)};function gHe(t,e){oM(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var aM=function(){return aM=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},aM.apply(this,arguments)};/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var MW=ad.OPENING,FW=ad.OPEN,UW=ad.CLOSING,vHe=V1.REASON_ACTION,_P=V1.REASON_DISMISS,U4=function(t){gHe(e,t);function e(n){var r=t.call(this,aM({},e.defaultAdapter,n))||this;return r.isOpen_=!1,r.animationFrame_=0,r.animationTimer_=0,r.autoDismissTimer_=0,r.autoDismissTimeoutMs_=Bc.DEFAULT_AUTO_DISMISS_TIMEOUT_MS,r.closeOnEscape_=!0,r}return Object.defineProperty(e,"cssClasses",{get:function(){return ad},enumerable:!0,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return V1},enumerable:!0,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return Bc},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},announce:function(){},notifyClosed:function(){},notifyClosing:function(){},notifyOpened:function(){},notifyOpening:function(){},removeClass:function(){}}},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this.clearAutoDismissTimer_(),cancelAnimationFrame(this.animationFrame_),this.animationFrame_=0,clearTimeout(this.animationTimer_),this.animationTimer_=0,this.adapter_.removeClass(MW),this.adapter_.removeClass(FW),this.adapter_.removeClass(UW)},e.prototype.open=function(){var n=this;this.clearAutoDismissTimer_(),this.isOpen_=!0,this.adapter_.notifyOpening(),this.adapter_.removeClass(UW),this.adapter_.addClass(MW),this.adapter_.announce(),this.runNextAnimationFrame_(function(){n.adapter_.addClass(FW),n.animationTimer_=setTimeout(function(){var r=n.getTimeoutMs();n.handleAnimationTimerEnd_(),n.adapter_.notifyOpened(),r!==Bc.INDETERMINATE&&(n.autoDismissTimer_=setTimeout(function(){n.close(_P)},r))},Bc.SNACKBAR_ANIMATION_OPEN_TIME_MS)})},e.prototype.close=function(n){var r=this;n===void 0&&(n=""),this.isOpen_&&(cancelAnimationFrame(this.animationFrame_),this.animationFrame_=0,this.clearAutoDismissTimer_(),this.isOpen_=!1,this.adapter_.notifyClosing(n),this.adapter_.addClass(ad.CLOSING),this.adapter_.removeClass(ad.OPEN),this.adapter_.removeClass(ad.OPENING),clearTimeout(this.animationTimer_),this.animationTimer_=setTimeout(function(){r.handleAnimationTimerEnd_(),r.adapter_.notifyClosed(n)},Bc.SNACKBAR_ANIMATION_CLOSE_TIME_MS))},e.prototype.isOpen=function(){return this.isOpen_},e.prototype.getTimeoutMs=function(){return this.autoDismissTimeoutMs_},e.prototype.setTimeoutMs=function(n){var r=Bc.MIN_AUTO_DISMISS_TIMEOUT_MS,i=Bc.MAX_AUTO_DISMISS_TIMEOUT_MS,o=Bc.INDETERMINATE;if(n===Bc.INDETERMINATE||n<=i&&n>=r)this.autoDismissTimeoutMs_=n;else throw new Error(`
        timeoutMs must be an integer in the range `+r+""+i+`
        (or `+o+" to disable), but got '"+n+"'")},e.prototype.getCloseOnEscape=function(){return this.closeOnEscape_},e.prototype.setCloseOnEscape=function(n){this.closeOnEscape_=n},e.prototype.handleKeyDown=function(n){var r=n.key==="Escape"||n.keyCode===27;r&&this.getCloseOnEscape()&&this.close(_P)},e.prototype.handleActionButtonClick=function(n){this.close(vHe)},e.prototype.handleActionIconClick=function(n){this.close(_P)},e.prototype.clearAutoDismissTimer_=function(){clearTimeout(this.autoDismissTimer_),this.autoDismissTimer_=0},e.prototype.handleAnimationTimerEnd_=function(){this.animationTimer_=0,this.adapter_.removeClass(ad.OPENING),this.adapter_.removeClass(ad.CLOSING)},e.prototype.runNextAnimationFrame_=function(n){var r=this;cancelAnimationFrame(this.animationFrame_),this.animationFrame_=requestAnimationFrame(function(){r.animationFrame_=0,clearTimeout(r.animationTimer_),r.animationTimer_=setTimeout(n,0)})},e}(ui);U4.prototype.handleActionButtonClick=function(t,e){this.close(e)};function yHe(t){var e=li({props:t,elements:{rootEl:!0,surfaceEl:!0,labelEl:!0},foundation:function(u){var f=u.rootEl,h=u.labelEl,g=u.emit;return new U4({addClass:function(y){return f.addClass(y)},removeClass:function(y){return f.removeClass(y)},announce:function(){return h.ref&&mHe(h.ref)},notifyOpening:function(){return g("onOpen",{})},notifyOpened:function(){A5(),g("onOpened",{})},notifyClosing:function(y){g("onClose",y?{reason:y}:{})},notifyClosed:function(y){return g("onClosed",y?{reason:y}:{})}})}}),n=e.foundation,r=Ke(e,["foundation"]),i=r.rootEl,o=r.surfaceEl,a=function(u){t.onKeyDown&&t.onKeyDown(u),n.handleKeyDown(u)},l=function(u){if(u.target instanceof Element){var f=u.target,h=yA(f,".mdc-button");h&&(f=h),t.dismissesOnAction&&f.classList.contains("mdc-snackbar__action")?n.handleActionButtonClick(u,f.dataset.mdcSnackbarAction):f.classList.contains("mdc-snackbar__dismiss")&&n.handleActionIconClick(u)}};return i.setProp("onKeyDown",a,!0),o.setProp("onClick",l,!0),B.useEffect(function(){t.open?n.open():n.close()},[t.open,n]),B.useEffect(function(){t.timeout&&(t.timeout===-1?n.setTimeoutMs(t.timeout):n.autoDismissTimeoutMs_=t.timeout)},[t.timeout,n]),ae({foundation:n},r)}var Nne=ht(function(e,n){var r=yHe(e),i=r.rootEl,o=r.surfaceEl,a=r.labelEl;e.open;var l=e.message;e.timeout;var u=e.dismissIcon;e.onOpen,e.onClose;var f=e.children,h=e.action,g=e.icon,y=e.leading,w=e.stacked;e.dismissesOnAction,e.foundationRef;var T=Ke(e,["open","message","timeout","dismissIcon","onOpen","onClose","children","action","icon","leading","stacked","dismissesOnAction","foundationRef"]),C=St(e,["mdc-snackbar",{"mdc-snackbar--leading":y,"mdc-snackbar--stacked":w}]),R=Array.isArray(h)?h:h?[h]:[];return Y.createElement(kt,ae({},T,{ref:n,element:i,"aria-live":"assertive","aria-atomic":!0,"aria-hidden":!0,className:C}),Y.createElement("div",ae({},o.props({}),{className:"mdc-snackbar__surface"}),!!g&&Y.createElement(Mn,{style:{color:"rgba(255, 255, 255, 0.87)",fill:"currentColor",marginLeft:"1rem"},icon:g}),Y.createElement(_He,null,l,Y.createElement("div",{style:{display:"none"},ref:a.setRef})),Y.createElement(bHe,null,R.map(function(I,k){return Y.createElement(Y.Fragment,{key:k},I)}),u&&Y.createElement(EHe,{icon:u===!0?"close":u})),f))});function _He(t){return Y.createElement("div",ae({role:"status","aria-live":"polite",className:"mdc-snackbar__label"},t))}function bHe(t){return Y.createElement("div",ae({className:"mdc-snackbar__actions"},t))}ht(function(e,n){var r=St(e,["mdc-snackbar__action"]),i=e.action,o=i===void 0?U4.strings.REASON_ACTION:i,a=Ke(e,["action"]);return Y.createElement(fr,ae({},a,{className:r,ref:n,"data-mdc-snackbar-action":o}))});function EHe(t){return Y.createElement(bn,ae({},t,{className:"mdc-snackbar__dismiss"}))}const wHe="_AlertSentNotification_13ak7_16",CHe={AlertSentNotification:wHe},SHe="Alert Sent!",THe=({showAlertSentNotification:t,setShowAlertSentNotification:e})=>b(Nne,{className:CHe.AlertSentNotification,open:t,onClose:()=>e(!1),message:SHe,icon:{icon:"check_circle",size:"medium"},timeout:2e3}),y_={appVersion:"1 (1.0.0)",id:"1",title:"TestApp.main",subtitle:"Runtime Error"},xHe={"@type":"type.googleapis.com/google.events.firebase.firebasealerts.v1.CrashlyticsNewFatalIssuePayload",issue:y_},AHe={"@type":"type.googleapis.com/google.events.firebase.firebasealerts.v1.CrashlyticsNewNonfatalIssuePayload",issue:y_},IHe={"@type":"type.googleapis.com/google.events.firebase.firebasealerts.v1.CrashlyticsRegressionAlertPayload",type:"fatal",issue:y_,resolveTime:new Date().toISOString()},kHe={type:"fatal",issue:y_,eventCount:100,userCount:100},RHe={"@type":"type.googleapis.com/google.events.firebase.firebasealerts.v1.CrashlyticsVelocityAlertPayload",issue:y_,createTime:new Date().toISOString(),crashCount:100,crashPercentage:80,firstVersion:"1 (1.0.0)"},OHe={"@type":"type.googleapis.com/google.events.firebase.firebasealerts.v1.CrashlyticsStabilityDigestPayload",digestDate:new Date().toISOString(),trendingIssues:[kHe]},PHe={"@type":"type.googleapis.com/google.events.firebase.firebasealerts.v1.CrashlyticsNewAnrIssuePayload",issue:y_},NHe={"@type":"type.googleapis.com/google.events.firebase.firebasealerts.v1.BillingPlanUpdatePayload",billingPlan:"defaultBillingPlan",principalEmail:"username@gmail.com",notificationType:"downgrade"},LHe={"@type":"type.googleapis.com/google.events.firebase.firebasealerts.v1.BillingPlanAutomatedUpdatePayload",billingPlan:"defaultBillingPlan",notificationType:"downgrade"},DHe={"@type":"type.googleapis.com/google.events.firebase.firebasealerts.v1.AppDistroNewTesterIosDevicePayload",testerName:"Test User",testerEmail:"username@gmail.com",testerDeviceModelName:"Google Pixel 10",testerDeviceIdentifier:"12345"},MHe={"@type":"type.googleapis.com/google.events.firebase.firebasealerts.v1.AppDistroInAppFeedbackPayload",feedbackReport:"",feedbackConsoleUri:"",testerName:"Test User",testerEmail:"username@gmail.com",appVersion:"1 (1.0.0)",text:"",screenshotUri:""},FHe={metricType:"duration",appVersion:"1 (1.0.0)",violationValue:.205629,thresholdUnit:"seconds",violationUnit:"seconds","@type":"type.googleapis.com/google.events.firebase.firebasealerts.v1.FireperfThresholdAlertPayload",numSamples:"200",eventName:"custom-trace",thresholdValue:.15,eventType:"duration_trace",conditionPercentile:90,investigateUri:""},UHe=(t,e)=>{const n="1234567890";return{alerttype:t,id:Math.random().toString().slice(2),source:`//firebasealerts.googleapis.com/projects/${n}`,specVersion:"1.0",appid:`1:${n}:web:${crypto.getRandomValues(new Uint8Array(16)).reduce((r,i)=>r+`${i.toString(16)}`,"")}`,time:new Date().toISOString(),type:"google.firebase.firebasealerts.alerts.v1.published",project:n,data:{"@type":"type.googleapis.com/google.events.firebase.firebasealerts.v1.AlertData",createTime:new Date().toISOString(),endTime:new Date().toISOString(),payload:e}}},rm={"crashlytics.newFatalIssue":{name:"Crashlytics: New Fatal Issue",default:xHe,link:"https://firebase.google.com/docs/reference/functions/2nd-gen/node/firebase-functions.alerts.crashlytics.newfatalissuepayload"},"crashlytics.newNonfatalIssue":{name:"Crashlytics: New Non-Fatal Issue",default:AHe,link:"https://firebase.google.com/docs/reference/functions/2nd-gen/node/firebase-functions.alerts.crashlytics.newnonfatalissuepayload"},"crashlytics.regression":{name:"Crashlytics: Regression",default:IHe,link:"https://firebase.google.com/docs/reference/functions/2nd-gen/node/firebase-functions.alerts.crashlytics.regressionalertpayload"},"crashlytics.stabilityDigest":{name:"Crashlytics: Stablity Digest",default:OHe,link:"https://firebase.google.com/docs/reference/functions/2nd-gen/node/firebase-functions.alerts.crashlytics.stabilitydigestpayload"},"crashlytics.velocity":{name:"Crashlytics: Velocity",default:RHe,link:"https://firebase.google.com/docs/reference/functions/2nd-gen/node/firebase-functions.alerts.crashlytics.velocityalertpayload"},"crashlytics.newAnrIssue":{name:"Crahslytics: New ANR Issue",default:PHe,link:"https://firebase.google.com/docs/reference/functions/2nd-gen/node/firebase-functions.alerts.crashlytics.newanrissuepayload"},"billing.planUpdate":{name:"Billing: Plan Update",default:NHe,link:"https://firebase.google.com/docs/reference/functions/2nd-gen/node/firebase-functions.alerts.billing.planupdatepayload"},"billing.planAutomatedUpdate":{name:"Billing: Plan Automated Update",default:LHe,link:"https://firebase.google.com/docs/reference/functions/2nd-gen/node/firebase-functions.alerts.billing.planautomatedupdatepayload"},"appDistribution.newTesterIosDevice":{name:"App Distribution: New Tester IOS Device",default:DHe,link:"https://firebase.google.com/docs/reference/functions/2nd-gen/node/firebase-functions.alerts.appdistribution.newtesterdevicepayload"},"appDistribution.inAppFeedback":{name:"App Distribution: In App Feedback",default:MHe,link:"https://firebase.google.com/docs/reference/functions/2nd-gen/node/firebase-functions.alerts.appdistribution.inappfeedbackpayload"},"performance.threshold":{name:"Performance Threshold",default:FHe,link:"https://firebase.google.com/docs/reference/functions/2nd-gen/node/firebase-functions.alerts.performance.thresholdalertpayload"}},VHe="_container_s0fmc_16",BHe="_eventForm_s0fmc_20",$He="_FirealertsLog_s0fmc_39",HHe="_jsonBlock_s0fmc_46",jHe="_arrayBlock_s0fmc_51",ny={container:VHe,eventForm:BHe,FirealertsLog:$He,jsonBlock:HHe,arrayBlock:jHe};class V4{constructor(e){Zf(this,"state",0);Zf(this,"listener");Zf(this,"interval");Zf(this,"ws");this.connect(e),this.interval=setInterval(()=>this.connect(e),1e3)}connect(e){if(this.state!==0)return;const n=new WebSocket(e);this.ws=n,this.state=2,n.onopen=()=>{this.state=1},n.onclose=()=>{this.state=0},n.onmessage=r=>{const i=JSON.parse(r.data);this.listener&&this.listener(i)}}cleanup(){this.listener=void 0,this.interval&&clearInterval(this.interval),this.ws&&this.ws.close(),this.ws=void 0}}class Lne{constructor(){Zf(this,"getters",{})}getOrCompile(e,n){if(!this.getters[e])try{this.getters[e]=new Function("obj","return obj."+e+";")}catch(r){console.warn(r);return}try{return this.getters[e](n)}catch{return}}}const VW=t=>t.match(/^[A-Z|_]+$/i)?{mode:1,key:t}:{mode:2,key:t},bP=t=>t.map(e=>{switch(e.mode){case 0:return e.key;case 2:return`["${e.key}"]`;case 1:return`.${e.key}`;case 3:return`[${JSON.stringify(e.key)}]`}return""}).join(""),zHe=({data:t,appendToQuery:e,compiledGetters:n})=>{const r=JSON.stringify(t,null,2).split(`
`);if(r.length===1)return b("div",{className:"log-message-single",children:b(Rt,{children:t})});let i=!1,o=[{mode:0,key:"user"}];const a=(u,f)=>n.getOrCompile(f,{user:u}),l=r.map((u,f)=>{const h=u.split('"').length-1,g=f===0&&u.startsWith("{"),y=f===r.length-1&&u.endsWith("}"),w=u.endsWith("[]")||u.endsWith("[],"),T=u.endsWith("{}")||u.endsWith("{},"),C=h>=2&&(u.endsWith("{")||T),R=h>=2&&(u.endsWith("[")||w),I=!R&&(u.endsWith("[")||w),k=!I&&(u.endsWith("{")||T),O=!u.endsWith("[")&&!u.endsWith("{")&&!u.endsWith("}")&&!u.endsWith("},"),A=u.endsWith("}")||u.endsWith("},"),V=u.endsWith("]")||u.endsWith("],");if(g)return i=!0,b("div",{className:"line start",children:u},f);if(y)return b("div",{className:"line end",children:u},f);if(k||I||O){const D=o[o.length-1];D.mode===3&&(D.key+=1)}if(k&&o.push({mode:0,key:""}),I&&(o.push({mode:0,key:""}),o.push({mode:3,key:-1})),C||R){const[D,...P]=u.split(":"),[N,...$]=D.split('"'),q=$.filter(Q=>Q).join('"'),z=P.join(":");o.push(VW(q));const K=bP(o);return R&&o.push({mode:3,key:-1}),V&&(o.pop(),o.pop()),A&&o.pop(),ne("div",{className:"line object-start",children:[N,ne("div",{className:"clickable key",onClick:()=>e(K,"*"),children:['"',q,'"']}),":",z]},f)}if(A)return o[o.length-1].mode!==3&&o.pop(),b("div",{className:"line object-end",children:u},f);if(V)return o.pop(),o.pop(),b("div",{className:"line array-end",children:u},f);if(O){if(!i)return b("div",{className:"line literal",children:b("div",{className:"value clickable",children:u})},f);const[D,...P]=u.split(":"),$=D.split('"').slice(1).filter(K=>K).join('"'),q=P.join(":").trim(),z=new Array(u.length-u.trim().length+1).join(" ");if($&&q){const K=bP([...o,VW($)]);return ne("div",{className:"line literal",children:[z,ne("div",{className:"key clickable",onClick:()=>e(K,"*"),children:['"',$,'"']}),":"," ",b("div",{className:"clickable value",onClick:()=>e(K,a(t,K)),children:q})]},f)}else{const K=bP(o);return ne("div",{className:"line literal",children:[z,b("div",{className:"clickable value",onClick:()=>e(K,a(t,K)),children:u.trim()})]},f)}}return b("div",{className:"line generic",children:u},f)});return b("div",{className:"HighlightedJSON",children:l})},WHe=t=>{const e=[];for(const n in t)e.push(`${n}=${JSON.stringify(t[n])}`);return e.sort().join(`
`)},qHe=(t,e,n)=>{for(const r of Object.keys(t.filters))if(r==="search"){if(JSON.stringify(e).toLowerCase().indexOf(t.filters[r].toLowerCase())===-1)return!1}else{let i=r;(i.startsWith("user.")||i.startsWith("metadata.")||i.startsWith("user[")||i.startsWith("metadata["))&&(i=`data.${i}`);const o=t.filters[r],a=n.getOrCompile(i,e);if(!a||o!==void 0&&o!=="*"&&o.toString()!==a.toString())return!1}return!0},KHe=["level","search","metadata.emulator","metadata.emulator.name","metadata.extension.instanceId","metadata.function","metadata.function.name"];function B4(t){let e="",n=!1;for(const h of t)n?(e+="",n=!1):(e+=h,h==="\\"&&(n=!0));const i=e.split('"').map((h,g)=>g%2?h.replace(/ /g,""):h).join('"').split(`
`).reduce((h,g)=>[...h,...g.split(/((?:[^\s]+)\s?=\s?(?:[^\s]+))/),`
`],[]),o={},a=[];let l=0;const u=i.map((h,g)=>{const y=t.slice(l,l+h.length);l+=h.length;const T=y.indexOf("=")>-1&&y[0]!=="="&&y.slice(-1)[0]!=="=";if(y===`
`)return b("br",{},g);if(!T)return a.push(y),b("span",{className:"text",children:y},g);const R=y.split("=")[0].trim();if(T&&KHe.indexOf(R)===-1&&!(R.startsWith("user.")||R.startsWith("user[")))return b("span",{children:b("span",{className:"invalid_pair",children:y})},g);const[I,k]=y.split("=");try{o[I.trim()]=JSON.parse(k)}catch{o[I.trim()]=k}return ne("span",{children:[ne("span",{className:"key",children:[I,"="]}),b("span",{className:"value",children:k})]},g)}),f=[o.search,a.filter(h=>h).join(" ").trim()].filter(h=>h).join(" ");return f.length&&(o.search=f),{elements:u,filters:o}}const GHe=({query:t,setQuery:e})=>{const[n,r]=B.useState("");B.useEffect(()=>{r(t)},[t]);const i=B4(n);return ne("div",{className:"QueryBar",children:[b("div",{className:"QueryBar-render",children:i.elements}),b("textarea",{rows:1,className:"QueryBar-input",spellCheck:!1,value:n,onChange:o=>r(o.target.value),onKeyUp:o=>{(o==null?void 0:o.key)==="Enter"&&!o.shiftKey&&e(n)},placeholder:"Filter or search logs..."}),ne("div",{className:"QueryBar-actions",children:[b(fr,{unelevated:!0,onClick:()=>e(n),disabled:t===n,children:"Apply"}),b(fr,{unelevated:!0,disabled:!n.length,onClick:()=>{r(""),e("")},children:"Reset"})]})]})},YHe=({appendToQuery:t,log:e})=>{var i,o,a,l;const n=e.data.metadata;let r;return(i=n==null?void 0:n.function)!=null&&i.name?r=ne("div",{children:[ne("div",{className:"log-tag-button",onClick:()=>{var u;return t("metadata.function.name",(u=n.function)==null?void 0:u.name)},children:["function[",n.function.name,"]"]}),((o=n.extension)==null?void 0:o.instanceId)&&ne("div",{className:"log-tag-button",onClick:()=>{var u;return t("metadata.extension.instanceId",(u=n.extension)==null?void 0:u.instanceId)},children:["extension[",(a=n.extension)==null?void 0:a.instanceId,"]"]})]}):(l=n==null?void 0:n.emulator)!=null&&l.name&&(r=b("div",{className:"log-tag-button",onClick:()=>{var u;return t("metadata.emulator.name",(u=n.emulator)==null?void 0:u.name)},children:n.emulator.name})),b("div",{className:"log-tag",children:r})},Dne=({parsedQuery:t,setQuery:e,logs:n,compiledGetters:r})=>{const i=n.filter(f=>qHe(t,f,r)),o=B.useRef(null),a=()=>{var f,h;o&&o.current&&((h=(f=o.current).scrollIntoView)==null||h.call(f))};B.useEffect(a,[i]);const l=(f,h)=>{e(WHe({...t.filters,[f]:h}))},u=f=>{var h,g;return((h=f==null?void 0:f.data)==null?void 0:h.user)&&Object.keys((g=f==null?void 0:f.data)==null?void 0:g.user).length};return ne(rc,{options:{surface:qy},className:"LogHistory",children:[i.length?i.slice(-100).map((f,h)=>ne("div",{id:`log_${h}`,className:"log-entry",children:[b("span",{className:"log-timestamp",children:new Date(f.timestamp).toLocaleTimeString("en-US",{hour12:!1})}),b($a,{content:`Log with level: ${f.level}`,children:b("button",{"aria-label":`Limit results to logs with log level ${f.level}`,className:`log-level ${f.level}`,onClick:()=>l("level",f.level),children:f.level[0].toUpperCase()})}),b(YHe,{appendToQuery:l,log:f}),u(f)?b(zHe,{data:f.data.user,appendToQuery:l,compiledGetters:r}):b("div",{className:"log-message-single",children:f.message})]},h)):b("div",{className:"LogHistoryEmpty",children:"No logs are found which match your filters."}),b("div",{ref:o})]})},QHe=new Lne,XHe=()=>{var i;const[t,e]=B.useState([]),n=(i=FE())==null?void 0:i.logging;B.useEffect(()=>{if(!n)return;e([]);const o=document.location.protocol==="https:"?"wss:":"ws:",a=new V4(`${o}//${n.hostAndPort}`);return a.listener=l=>{e(u=>[...u,l])},()=>a.cleanup()},[n,e]);const r=B4('metadata.emulator.name="functions"');return b(_r,{span:12,children:b("div",{className:ny.FirealertsLog,children:b(Dne,{parsedQuery:r,setQuery:()=>{},compiledGetters:QHe,logs:t})})})},JHe="_wrapper_1a01w_16",BW={wrapper:JHe},$W=()=>b("div",{className:BW.wrapper,children:b(Ue,{use:"body2",className:BW.noResultsWrapper,theme:"textSecondaryOnBackground",children:"No FireAlerts triggers for this project yet"})}),ZHe=()=>{var C,R,I;const t=hHe(),e=tje(t),n=Object.keys(e),r=za("eventarc"),[i,o]=B.useState(n[0]),[a,l]=B.useState(gv.cloneDeep((C=rm[i])==null?void 0:C.default)),[u,f]=B.useState(gv.cloneDeep((R=rm[i])==null?void 0:R.default)),[h,g]=B.useState(!1);B.useEffect(()=>{var k,O;l(gv.cloneDeep((k=rm[i])==null?void 0:k.default)),f(gv.cloneDeep((O=rm[i])==null?void 0:O.default))},[i]);const y=(k,O)=>{k=k.slice(1);const A={...a};gv.set(A,k,O),l(A)},w=async()=>{const O={events:[UHe(i,a)]},A=`//${r.hostAndPort}/google/publishEvents`;await Do(A,{method:"POST",body:JSON.stringify(O)}),g(!0)},T=k=>{const O=k.triggerName.split("-");return O[O.length-2]};return!t||t.length===0?b(_r,{span:12,children:b($W,{})}):ne(Rt,{children:[b(_r,{span:12,children:!t||t.length===0?b($W,{}):ne(Fm,{children:[b(_r,{span:12,children:ne(Ue,{use:"headline6",children:["Send Test ",rm[i].name," Alert"]})}),b(_r,{span:12,children:ne(ji,{children:["For more information on what the fields mean see"," ",b("a",{href:rm[i].link,children:"here"})]})}),b(_r,{span:12,children:ne(xa,{className:ny.container,children:[b(Y0,{outlined:!0,label:"Select Alert Type",defaultValue:i,onChange:k=>o(k.target.value),children:n.sort().map(k=>{var O;return b("option",{value:k,disabled:((O=e[k])==null?void 0:O.length)===0,children:k},k)})}),ne(Ue,{use:"body2",theme:"textSecondaryOnBackground",children:[" ","Triggers:"," ",(I=e[i])==null?void 0:I.map(T).join(", ")]}),b("form",{className:ny.eventForm,children:b(sM,{alertData:a,parent:"",defaultObject:u,update:y})}),b(Fm,{children:b(_r,{span:2,children:b(fr,{label:"Send Alert",unelevated:!0,icon:"send",onClick:w})})}),b(XHe,{})]})})]})}),b(THe,{showAlertSentNotification:h,setShowAlertSentNotification:g})]})},eje=t=>typeof t=="object"&&!Array.isArray(t)&&t!==null,sM=({alertData:t,parent:e,defaultObject:n,update:r})=>ne(Rt,{children:["{",Object.keys(t).map(i=>ne("div",{className:ny.jsonBlock,children:[ne("label",{children:[JSON.stringify(i),": "]}),eje(t[i])?b(sM,{alertData:t[i],parent:`${e}.${i}`,defaultObject:n,update:r}):Array.isArray(t[i])?ne(Rt,{children:[b("br",{}),"[",ne("div",{className:ny.arrayBlock,children:[t[i].map((o,a)=>ne("div",{children:[b(bn,{style:{fontSize:"1em"},label:"delete",type:"button",icon:"delete",onClick:()=>{t[i].splice(a,1),r(`${e}.${i}`,[...t[i]])}}),b(sM,{alertData:o,parent:`${e}.${i}[${a}]`,defaultObject:n,update:r})]},`${e}.${i}`)),b(bn,{style:{fontSize:"1em"},label:"Add field",type:"button",icon:"add",onClick:o=>{o.preventDefault();const a=`${e}.${i}`.slice(1)+"[0]",l=gv.get(n,a);r(`${e}.${i}`,[...t[i],l])}})]}),"],"]}):b(Rt,{children:b("input",{type:"text",className:ny.fieldInput,value:t[i],onChange:o=>{r(`${e}.${i}`,o.target.value)}})})]},`${e}.${i}`)),"},"]}),tje=t=>{if(!t||t.length===0)return{};const e=Object.keys(rm),n={};return e.forEach(r=>{const i=t.filter(o=>o.eventTrigger.eventFilters.alerttype===r);n[r]=i||[]}),n},nje=()=>b(B.Suspense,{fallback:b(ije,{}),children:b(rje,{children:b(ZHe,{})})}),rje=({children:t})=>{const e=fHe();return b(dHe,{triggers:e,children:t})},ije=()=>rg("eventarc")?b(UE,{productName:"FireAlerts"}):b(ja,{span:12,message:"FireAlerts Emulator Loading..."});var $4=Y.createContext({onTabInteraction:function(t){},registerTab:function(t){},unregisterTab:function(t){},indicatorTransition:"slide"});/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Mne={ANIMATING:"mdc-tab-scroller--animating",SCROLL_AREA_SCROLL:"mdc-tab-scroller__scroll-area--scroll",SCROLL_TEST:"mdc-tab-scroller__test"},oje={AREA_SELECTOR:".mdc-tab-scroller__scroll-area",CONTENT_SELECTOR:".mdc-tab-scroller__scroll-content"};/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var EP;function aje(t,e){if(e===void 0&&(e=!0),e&&typeof EP<"u")return EP;var n=t.createElement("div");n.classList.add(Mne.SCROLL_TEST),t.body.appendChild(n);var r=n.offsetHeight-n.clientHeight;return t.body.removeChild(n),e&&(EP=r),r}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var lM=function(t,e){return lM=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},lM(t,e)};function B1(t,e){lM(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var uM=function(){return uM=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},uM.apply(this,arguments)};function sje(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(l){a={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o}/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var H4=function(){function t(e){this.adapter_=e}return t}();/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var lje=function(t){B1(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getScrollPositionRTL=function(){var n=this.adapter_.getScrollAreaScrollLeft(),r=this.calculateScrollEdges_().right;return Math.round(r-n)},e.prototype.scrollToRTL=function(n){var r=this.calculateScrollEdges_(),i=this.adapter_.getScrollAreaScrollLeft(),o=this.clampScrollValue_(r.right-n);return{finalScrollPosition:o,scrollDelta:o-i}},e.prototype.incrementScrollRTL=function(n){var r=this.adapter_.getScrollAreaScrollLeft(),i=this.clampScrollValue_(r-n);return{finalScrollPosition:i,scrollDelta:i-r}},e.prototype.getAnimatingScrollPosition=function(n){return n},e.prototype.calculateScrollEdges_=function(){var n=this.adapter_.getScrollContentOffsetWidth(),r=this.adapter_.getScrollAreaOffsetWidth();return{left:0,right:n-r}},e.prototype.clampScrollValue_=function(n){var r=this.calculateScrollEdges_();return Math.min(Math.max(r.left,n),r.right)},e}(H4);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var uje=function(t){B1(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getScrollPositionRTL=function(n){var r=this.adapter_.getScrollAreaScrollLeft();return Math.round(n-r)},e.prototype.scrollToRTL=function(n){var r=this.adapter_.getScrollAreaScrollLeft(),i=this.clampScrollValue_(-n);return{finalScrollPosition:i,scrollDelta:i-r}},e.prototype.incrementScrollRTL=function(n){var r=this.adapter_.getScrollAreaScrollLeft(),i=this.clampScrollValue_(r-n);return{finalScrollPosition:i,scrollDelta:i-r}},e.prototype.getAnimatingScrollPosition=function(n,r){return n-r},e.prototype.calculateScrollEdges_=function(){var n=this.adapter_.getScrollContentOffsetWidth(),r=this.adapter_.getScrollAreaOffsetWidth();return{left:r-n,right:0}},e.prototype.clampScrollValue_=function(n){var r=this.calculateScrollEdges_();return Math.max(Math.min(r.right,n),r.left)},e}(H4);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var cje=function(t){B1(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getScrollPositionRTL=function(n){var r=this.adapter_.getScrollAreaScrollLeft();return Math.round(r-n)},e.prototype.scrollToRTL=function(n){var r=this.adapter_.getScrollAreaScrollLeft(),i=this.clampScrollValue_(n);return{finalScrollPosition:i,scrollDelta:r-i}},e.prototype.incrementScrollRTL=function(n){var r=this.adapter_.getScrollAreaScrollLeft(),i=this.clampScrollValue_(r+n);return{finalScrollPosition:i,scrollDelta:r-i}},e.prototype.getAnimatingScrollPosition=function(n,r){return n+r},e.prototype.calculateScrollEdges_=function(){var n=this.adapter_.getScrollContentOffsetWidth(),r=this.adapter_.getScrollAreaOffsetWidth();return{left:n-r,right:0}},e.prototype.clampScrollValue_=function(n){var r=this.calculateScrollEdges_();return Math.min(Math.max(r.right,n),r.left)},e}(H4);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var fje=function(t){B1(e,t);function e(n){var r=t.call(this,uM({},e.defaultAdapter,n))||this;return r.isAnimating_=!1,r}return Object.defineProperty(e,"cssClasses",{get:function(){return Mne},enumerable:!0,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return oje},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{eventTargetMatchesSelector:function(){return!1},addClass:function(){},removeClass:function(){},addScrollAreaClass:function(){},setScrollAreaStyleProperty:function(){},setScrollContentStyleProperty:function(){},getScrollContentStyleValue:function(){return""},setScrollAreaScrollLeft:function(){},getScrollAreaScrollLeft:function(){return 0},getScrollContentOffsetWidth:function(){return 0},getScrollAreaOffsetWidth:function(){return 0},computeScrollAreaClientRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},computeScrollContentClientRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},computeHorizontalScrollbarHeight:function(){return 0}}},enumerable:!0,configurable:!0}),e.prototype.init=function(){var n=this.adapter_.computeHorizontalScrollbarHeight();this.adapter_.setScrollAreaStyleProperty("margin-bottom",-n+"px"),this.adapter_.addScrollAreaClass(e.cssClasses.SCROLL_AREA_SCROLL)},e.prototype.getScrollPosition=function(){if(this.isRTL_())return this.computeCurrentScrollPositionRTL_();var n=this.calculateCurrentTranslateX_(),r=this.adapter_.getScrollAreaScrollLeft();return r-n},e.prototype.handleInteraction=function(){this.isAnimating_&&this.stopScrollAnimation_()},e.prototype.handleTransitionEnd=function(n){var r=n.target;!this.isAnimating_||!this.adapter_.eventTargetMatchesSelector(r,e.strings.CONTENT_SELECTOR)||(this.isAnimating_=!1,this.adapter_.removeClass(e.cssClasses.ANIMATING))},e.prototype.incrementScroll=function(n){n!==0&&this.animate_(this.getIncrementScrollOperation_(n))},e.prototype.incrementScrollImmediate=function(n){if(n!==0){var r=this.getIncrementScrollOperation_(n);r.scrollDelta!==0&&(this.stopScrollAnimation_(),this.adapter_.setScrollAreaScrollLeft(r.finalScrollPosition))}},e.prototype.scrollTo=function(n){if(this.isRTL_())return this.scrollToRTL_(n);this.scrollTo_(n)},e.prototype.getRTLScroller=function(){return this.rtlScrollerInstance_||(this.rtlScrollerInstance_=this.rtlScrollerFactory_()),this.rtlScrollerInstance_},e.prototype.calculateCurrentTranslateX_=function(){var n=this.adapter_.getScrollContentStyleValue("transform");if(n==="none")return 0;var r=/\((.+?)\)/.exec(n);if(!r)return 0;var i=r[1],o=sje(i.split(","),6);o[0],o[1],o[2],o[3];var a=o[4];return o[5],parseFloat(a)},e.prototype.clampScrollValue_=function(n){var r=this.calculateScrollEdges_();return Math.min(Math.max(r.left,n),r.right)},e.prototype.computeCurrentScrollPositionRTL_=function(){var n=this.calculateCurrentTranslateX_();return this.getRTLScroller().getScrollPositionRTL(n)},e.prototype.calculateScrollEdges_=function(){var n=this.adapter_.getScrollContentOffsetWidth(),r=this.adapter_.getScrollAreaOffsetWidth();return{left:0,right:n-r}},e.prototype.scrollTo_=function(n){var r=this.getScrollPosition(),i=this.clampScrollValue_(n),o=i-r;this.animate_({finalScrollPosition:i,scrollDelta:o})},e.prototype.scrollToRTL_=function(n){var r=this.getRTLScroller().scrollToRTL(n);this.animate_(r)},e.prototype.getIncrementScrollOperation_=function(n){if(this.isRTL_())return this.getRTLScroller().incrementScrollRTL(n);var r=this.getScrollPosition(),i=n+r,o=this.clampScrollValue_(i),a=o-r;return{finalScrollPosition:o,scrollDelta:a}},e.prototype.animate_=function(n){var r=this;n.scrollDelta!==0&&(this.stopScrollAnimation_(),this.adapter_.setScrollAreaScrollLeft(n.finalScrollPosition),this.adapter_.setScrollContentStyleProperty("transform","translateX("+n.scrollDelta+"px)"),this.adapter_.computeScrollAreaClientRect(),requestAnimationFrame(function(){r.adapter_.addClass(e.cssClasses.ANIMATING),r.adapter_.setScrollContentStyleProperty("transform","none")}),this.isAnimating_=!0)},e.prototype.stopScrollAnimation_=function(){this.isAnimating_=!1;var n=this.getAnimatingScrollPosition_();this.adapter_.removeClass(e.cssClasses.ANIMATING),this.adapter_.setScrollContentStyleProperty("transform","translateX(0px)"),this.adapter_.setScrollAreaScrollLeft(n)},e.prototype.getAnimatingScrollPosition_=function(){var n=this.calculateCurrentTranslateX_(),r=this.adapter_.getScrollAreaScrollLeft();return this.isRTL_()?this.getRTLScroller().getAnimatingScrollPosition(r,n):r-n},e.prototype.rtlScrollerFactory_=function(){var n=this.adapter_.getScrollAreaScrollLeft();this.adapter_.setScrollAreaScrollLeft(n-1);var r=this.adapter_.getScrollAreaScrollLeft();if(r<0)return this.adapter_.setScrollAreaScrollLeft(n),new uje(this.adapter_);var i=this.adapter_.computeScrollAreaClientRect(),o=this.adapter_.computeScrollContentClientRect(),a=Math.round(o.right-i.right);return this.adapter_.setScrollAreaScrollLeft(n),a===r?new cje(this.adapter_):new lje(this.adapter_)},e.prototype.isRTL_=function(){return this.adapter_.getScrollContentStyleValue("direction")==="rtl"},e}(ui),dje=function(t){var e=li({props:t,api:function(u){var f=u.foundation,h=u.contentEl,g=f;return{scrollTo:function(y){return g.scrollTo(y)},incrementScroll:function(y){return g.incrementScroll(y)},getScrollPosition:function(){return g.getScrollPosition()},getScrollContentWidth:function(){var y;return((y=h.ref)===null||y===void 0?void 0:y.offsetWidth)||0}}},elements:{rootEl:!0,areaEl:!0,contentEl:!0},foundation:function(u){var f=u.rootEl,h=u.areaEl,g=u.contentEl;return new fje({eventTargetMatchesSelector:function(y,w){return PE(y,w)},addClass:function(y){return f.addClass(y)},removeClass:function(y){return f.removeClass(y)},addScrollAreaClass:function(y){return h.addClass(y)},setScrollAreaStyleProperty:function(y,w){return h.setStyle(y,w)},setScrollContentStyleProperty:function(y,w){return g.setStyle(y,w)},getScrollContentStyleValue:function(y){var w=g.ref&&window.getComputedStyle(g.ref).getPropertyValue(y);return w||"none"},setScrollAreaScrollLeft:function(y){return h.ref&&(h.ref.scrollLeft=y)},getScrollAreaScrollLeft:function(){return h.ref?h.ref.scrollLeft:0},getScrollContentOffsetWidth:function(){return g.ref?g.ref.offsetWidth:0},getScrollAreaOffsetWidth:function(){return h.ref?h.ref.offsetWidth:0},computeScrollAreaClientRect:function(){return h.ref?h.ref.getBoundingClientRect():ry},computeScrollContentClientRect:function(){return g.ref?g.ref.getBoundingClientRect():ry},computeHorizontalScrollbarHeight:function(){return aje(document)}})}}),n=e.foundation,r=Ke(e,["foundation"]),i=r.areaEl,o=r.contentEl,a=function(){n.handleInteraction()},l=function(u){n.handleTransitionEnd(u)};return i.setProp("onWheel",a,!0),i.setProp("onTouchStart",a,!0),i.setProp("onPointerDown",a,!0),i.setProp("onMouseDown",a,!0),i.setProp("onKeyDown",a,!0),o.setProp("onTransitionEnd",l,!0),ae({},r)};function hje(t){var e=t.children;t.apiRef;var n=Ke(t,["children","apiRef"]),r=dje(t),i=r.rootEl,o=r.areaEl,a=r.contentEl;return Y.createElement(kt,ae({},n,{ref:null,element:i,className:"mdc-tab-scroller"}),Y.createElement(kt,{element:o,className:"mdc-tab-scroller__scroll-area"},Y.createElement(kt,{element:a,className:"mdc-tab-scroller__scroll-content"},e)))}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var cM=function(t,e){return cM=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},cM(t,e)};function pje(t,e){cM(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var fM=function(){return fM=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},fM.apply(this,arguments)};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var dM=function(t,e){return dM=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},dM(t,e)};function mje(t,e){dM(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var hM=function(){return hM=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},hM.apply(this,arguments)};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var pM=function(t,e){return pM=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},pM(t,e)};function j4(t,e){pM(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var mM=function(){return mM=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},mM.apply(this,arguments)};/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var gje={ACTIVE:"mdc-tab-indicator--active",FADE:"mdc-tab-indicator--fade",NO_TRANSITION:"mdc-tab-indicator--no-transition"},vje={CONTENT_SELECTOR:".mdc-tab-indicator__content"};/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var sd=function(t){j4(e,t);function e(n){return t.call(this,mM({},e.defaultAdapter,n))||this}return Object.defineProperty(e,"cssClasses",{get:function(){return gje},enumerable:!0,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return vje},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},computeContentClientRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},setContentStyleProperty:function(){}}},enumerable:!0,configurable:!0}),e.prototype.computeContentClientRect=function(){return this.adapter_.computeContentClientRect()},e}(ui);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var yje=function(t){j4(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.activate=function(){this.adapter_.addClass(sd.cssClasses.ACTIVE)},e.prototype.deactivate=function(){this.adapter_.removeClass(sd.cssClasses.ACTIVE)},e}(sd);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var _je=function(t){j4(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.activate=function(n){if(!n){this.adapter_.addClass(sd.cssClasses.ACTIVE);return}var r=this.computeContentClientRect(),i=n.width/r.width,o=n.left-r.left;this.adapter_.addClass(sd.cssClasses.NO_TRANSITION),this.adapter_.setContentStyleProperty("transform","translateX("+o+"px) scaleX("+i+")"),this.computeContentClientRect(),this.adapter_.removeClass(sd.cssClasses.NO_TRANSITION),this.adapter_.addClass(sd.cssClasses.ACTIVE),this.adapter_.setContentStyleProperty("transform","")},e.prototype.deactivate=function(){this.adapter_.removeClass(sd.cssClasses.ACTIVE)},e}(sd);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var FS={ACTIVE:"mdc-tab--active"},Ib={ARIA_SELECTED:"aria-selected",CONTENT_SELECTOR:".mdc-tab__content",INTERACTED_EVENT:"MDCTab:interacted",RIPPLE_SELECTOR:".mdc-tab__ripple",TABINDEX:"tabIndex",TAB_INDICATOR_SELECTOR:".mdc-tab-indicator"};/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var bje=function(t){mje(e,t);function e(n){var r=t.call(this,hM({},e.defaultAdapter,n))||this;return r.focusOnActivate_=!0,r}return Object.defineProperty(e,"cssClasses",{get:function(){return FS},enumerable:!0,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return Ib},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},setAttr:function(){},activateIndicator:function(){},deactivateIndicator:function(){},notifyInteracted:function(){},getOffsetLeft:function(){return 0},getOffsetWidth:function(){return 0},getContentOffsetLeft:function(){return 0},getContentOffsetWidth:function(){return 0},focus:function(){}}},enumerable:!0,configurable:!0}),e.prototype.handleClick=function(){this.adapter_.notifyInteracted()},e.prototype.isActive=function(){return this.adapter_.hasClass(FS.ACTIVE)},e.prototype.setFocusOnActivate=function(n){this.focusOnActivate_=n},e.prototype.activate=function(n){this.adapter_.addClass(FS.ACTIVE),this.adapter_.setAttr(Ib.ARIA_SELECTED,"true"),this.adapter_.setAttr(Ib.TABINDEX,"0"),this.adapter_.activateIndicator(n),this.focusOnActivate_&&this.adapter_.focus()},e.prototype.deactivate=function(){this.isActive()&&(this.adapter_.removeClass(FS.ACTIVE),this.adapter_.setAttr(Ib.ARIA_SELECTED,"false"),this.adapter_.setAttr(Ib.TABINDEX,"-1"),this.adapter_.deactivateIndicator())},e.prototype.computeDimensions=function(){var n=this.adapter_.getOffsetWidth(),r=this.adapter_.getOffsetLeft(),i=this.adapter_.getContentOffsetWidth(),o=this.adapter_.getContentOffsetLeft();return{contentLeft:r+o,contentRight:r+o+i,rootLeft:r,rootRight:r+n}},e}(ui);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var yo={ARROW_LEFT_KEY:"ArrowLeft",ARROW_RIGHT_KEY:"ArrowRight",END_KEY:"End",ENTER_KEY:"Enter",HOME_KEY:"Home",SPACE_KEY:"Space",TAB_ACTIVATED_EVENT:"MDCTabBar:activated",TAB_SCROLLER_SELECTOR:".mdc-tab-scroller",TAB_SELECTOR:".mdc-tab"},Ku={ARROW_LEFT_KEYCODE:37,ARROW_RIGHT_KEYCODE:39,END_KEYCODE:35,ENTER_KEYCODE:13,EXTRA_SCROLL_AMOUNT:20,HOME_KEYCODE:36,SPACE_KEYCODE:32};/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Eg=new Set;Eg.add(yo.ARROW_LEFT_KEY);Eg.add(yo.ARROW_RIGHT_KEY);Eg.add(yo.END_KEY);Eg.add(yo.HOME_KEY);Eg.add(yo.ENTER_KEY);Eg.add(yo.SPACE_KEY);var wg=new Map;wg.set(Ku.ARROW_LEFT_KEYCODE,yo.ARROW_LEFT_KEY);wg.set(Ku.ARROW_RIGHT_KEYCODE,yo.ARROW_RIGHT_KEY);wg.set(Ku.END_KEYCODE,yo.END_KEY);wg.set(Ku.HOME_KEYCODE,yo.HOME_KEY);wg.set(Ku.ENTER_KEYCODE,yo.ENTER_KEY);wg.set(Ku.SPACE_KEYCODE,yo.SPACE_KEY);var HW=function(t){pje(e,t);function e(n){var r=t.call(this,fM({},e.defaultAdapter,n))||this;return r.useAutomaticActivation_=!1,r}return Object.defineProperty(e,"strings",{get:function(){return yo},enumerable:!0,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return Ku},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{scrollTo:function(){},incrementScroll:function(){},getScrollPosition:function(){return 0},getScrollContentWidth:function(){return 0},getOffsetWidth:function(){return 0},isRTL:function(){return!1},setActiveTab:function(){},activateTabAtIndex:function(){},deactivateTabAtIndex:function(){},focusTabAtIndex:function(){},getTabIndicatorClientRectAtIndex:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},getTabDimensionsAtIndex:function(){return{rootLeft:0,rootRight:0,contentLeft:0,contentRight:0}},getPreviousActiveTabIndex:function(){return-1},getFocusedTabIndex:function(){return-1},getIndexOfTabById:function(){return-1},getTabListLength:function(){return 0},notifyTabActivated:function(){}}},enumerable:!0,configurable:!0}),e.prototype.setUseAutomaticActivation=function(n){this.useAutomaticActivation_=n},e.prototype.activateTab=function(n){var r=this.adapter_.getPreviousActiveTabIndex();if(!(!this.indexIsInRange_(n)||n===r)){var i;r!==-1&&(this.adapter_.deactivateTabAtIndex(r),i=this.adapter_.getTabIndicatorClientRectAtIndex(r)),this.adapter_.activateTabAtIndex(n,i),this.scrollIntoView(n),this.adapter_.notifyTabActivated(n)}},e.prototype.handleKeyDown=function(n){var r=this.getKeyFromEvent_(n);if(r!==void 0)if(this.isActivationKey_(r)||n.preventDefault(),this.useAutomaticActivation_){if(this.isActivationKey_(r))return;var i=this.determineTargetFromKey_(this.adapter_.getPreviousActiveTabIndex(),r);this.adapter_.setActiveTab(i),this.scrollIntoView(i)}else{var o=this.adapter_.getFocusedTabIndex();if(this.isActivationKey_(r))this.adapter_.setActiveTab(o);else{var i=this.determineTargetFromKey_(o,r);this.adapter_.focusTabAtIndex(i),this.scrollIntoView(i)}}},e.prototype.handleTabInteraction=function(n){this.adapter_.setActiveTab(this.adapter_.getIndexOfTabById(n.detail.tabId))},e.prototype.scrollIntoView=function(n){if(this.indexIsInRange_(n)){if(n===0)return this.adapter_.scrollTo(0);if(n===this.adapter_.getTabListLength()-1)return this.adapter_.scrollTo(this.adapter_.getScrollContentWidth());if(this.isRTL_())return this.scrollIntoViewRTL_(n);this.scrollIntoView_(n)}},e.prototype.determineTargetFromKey_=function(n,r){var i=this.isRTL_(),o=this.adapter_.getTabListLength()-1,a=r===yo.END_KEY,l=r===yo.ARROW_LEFT_KEY&&!i||r===yo.ARROW_RIGHT_KEY&&i,u=r===yo.ARROW_RIGHT_KEY&&!i||r===yo.ARROW_LEFT_KEY&&i,f=n;return a?f=o:l?f-=1:u?f+=1:f=0,f<0?f=o:f>o&&(f=0),f},e.prototype.calculateScrollIncrement_=function(n,r,i,o){var a=this.adapter_.getTabDimensionsAtIndex(r),l=a.contentLeft-i-o,u=a.contentRight-i,f=u-Ku.EXTRA_SCROLL_AMOUNT,h=l+Ku.EXTRA_SCROLL_AMOUNT;return r<n?Math.min(f,0):Math.max(h,0)},e.prototype.calculateScrollIncrementRTL_=function(n,r,i,o,a){var l=this.adapter_.getTabDimensionsAtIndex(r),u=a-l.contentLeft-i,f=a-l.contentRight-i-o,h=f+Ku.EXTRA_SCROLL_AMOUNT,g=u-Ku.EXTRA_SCROLL_AMOUNT;return r>n?Math.max(h,0):Math.min(g,0)},e.prototype.findAdjacentTabIndexClosestToEdge_=function(n,r,i,o){var a=r.rootLeft-i,l=r.rootRight-i-o,u=a+l,f=a<0||u<0,h=l>0||u>0;return f?n-1:h?n+1:-1},e.prototype.findAdjacentTabIndexClosestToEdgeRTL_=function(n,r,i,o,a){var l=a-r.rootLeft-o-i,u=a-r.rootRight-i,f=l+u,h=l>0||f>0,g=u<0||f<0;return h?n+1:g?n-1:-1},e.prototype.getKeyFromEvent_=function(n){return Eg.has(n.key)?n.key:wg.get(n.keyCode)},e.prototype.isActivationKey_=function(n){return n===yo.SPACE_KEY||n===yo.ENTER_KEY},e.prototype.indexIsInRange_=function(n){return n>=0&&n<this.adapter_.getTabListLength()},e.prototype.isRTL_=function(){return this.adapter_.isRTL()},e.prototype.scrollIntoView_=function(n){var r=this.adapter_.getScrollPosition(),i=this.adapter_.getOffsetWidth(),o=this.adapter_.getTabDimensionsAtIndex(n),a=this.findAdjacentTabIndexClosestToEdge_(n,o,r,i);if(this.indexIsInRange_(a)){var l=this.calculateScrollIncrement_(n,a,r,i);this.adapter_.incrementScroll(l)}},e.prototype.scrollIntoViewRTL_=function(n){var r=this.adapter_.getScrollPosition(),i=this.adapter_.getOffsetWidth(),o=this.adapter_.getTabDimensionsAtIndex(n),a=this.adapter_.getScrollContentWidth(),l=this.findAdjacentTabIndexClosestToEdgeRTL_(n,o,r,i,a);if(this.indexIsInRange_(l)){var u=this.calculateScrollIncrementRTL_(n,l,r,i,a);this.adapter_.incrementScroll(u)}},e}(ui),Eje=function(t){var e=_n(B.useState(t.activeTabIndex||0),2),n=e[0],r=e[1],i=B.useRef(),o=function(C){return i.current=C},a=B.useRef([]),l=li({props:t,elements:{rootEl:!0},foundation:function(C){var R=C.rootEl,I=C.emit;return C.getProps,new HW({scrollTo:function(k){i.current&&i.current.scrollTo(k)},incrementScroll:function(k){var O;(O=i.current)===null||O===void 0||O.incrementScroll(k)},getScrollPosition:function(){var k;return((k=i.current)===null||k===void 0?void 0:k.getScrollPosition())||0},getScrollContentWidth:function(){var k;return((k=i.current)===null||k===void 0?void 0:k.getScrollContentWidth())||0},getOffsetWidth:function(){return R.ref?R.ref.offsetWidth:0},isRTL:function(){return!!R.ref&&window.getComputedStyle(R.ref).getPropertyValue("direction")==="rtl"},setActiveTab:function(k){t.activeTabIndex===k||t.activeTabIndex===void 0?r(k):u.adapter_.notifyTabActivated(k)},activateTabAtIndex:function(k,O){a.current[k]&&a.current[k].activate(O)},deactivateTabAtIndex:function(k){return a.current[k]&&a.current[k].deactivate()},focusTabAtIndex:function(k){return a.current[k].focus()},getTabIndicatorClientRectAtIndex:function(k){return a.current[k]&&a.current[k].computeIndicatorClientRect()},getTabDimensionsAtIndex:function(k){return a.current[k]&&a.current[k].computeDimensions()},getPreviousActiveTabIndex:function(){for(var k=0;k<a.current.length;k++)if(a.current[k].getActive())return k;return-1},getFocusedTabIndex:function(){var k,O=[].slice.call((k=R.ref)===null||k===void 0?void 0:k.querySelectorAll(HW.strings.TAB_SELECTOR)),A=document.activeElement;return O?O.indexOf(A):-1},getIndexOfTabById:function(k){for(var O=0;O<a.current.length;O++)if(a.current[O].id===k)return O;return-1},getTabListLength:function(){return a.current.length},notifyTabActivated:function(k){return I("onActivate",{index:k},!0)}})}}),u=l.foundation,f=Ke(l,["foundation"]),h=f.rootEl,g=function(C){a.current.push(C),a.current.sort(function(R,I){return R.getIndex()-I.getIndex()})},y=function(C){a.current.splice(a.current.indexOf(C),1),a.current.sort(function(R,I){return R.getIndex()-I.getIndex()})},w=B.useCallback(function(C){u.handleTabInteraction(C)},[u]),T=function(C){var R;(R=t.onKeyDown)===null||R===void 0||R.call(t,C),u.handleKeyDown(C)};return h.setProp("onKeyDown",T,!0),B.useEffect(function(){t.activeTabIndex!==void 0&&r(t.activeTabIndex)},[t.activeTabIndex]),B.useEffect(function(){var C=n,R=u.adapter_,I=R.getPreviousActiveTabIndex();if(!(!u.indexIsInRange_(C)||C===I))return R.notifyTabActivated(C),window.requestAnimationFrame(function(){R.activateTabAtIndex(C,R.getTabIndicatorClientRectAtIndex(I)),u.scrollIntoView(C)}),function(){window.requestAnimationFrame(function(){R.deactivateTabAtIndex(C)})}},[n,u]),B.useEffect(function(){var C=window.document.activeElement,R=_n([window.scrollX,window.scrollY],2),I=R[0],k=R[1];window.requestAnimationFrame(function(){C&&C.focus(),window.scrollTo(I,k)})},[]),ae(ae({},f),{setTabScrollerApi:o,handleTabInteraction:w,registerTab:g,unregisterTab:y})},Fne=ht(function(e,n){var r=e.children;e.activeTabIndex,e.onActivate,e.foundationRef;var i=Ke(e,["children","activeTabIndex","onActivate","foundationRef"]),o=Eje(e),a=o.rootEl,l=o.handleTabInteraction,u=o.setTabScrollerApi,f=o.registerTab,h=o.unregisterTab,g=B.useRef({onTabInteraction:function(w){return l(w)},registerTab:f,unregisterTab:h,indicatorTransition:e.indicatorTransition||"slide"}),y=St(e,["mdc-tab-bar"]);return b($4.Provider,{value:g.current,children:b(kt,{...ae({tag:"nav",element:a},i,{className:y,ref:n}),children:b(hje,{apiRef:u,children:r})})})}),wje=function(t){var e=li({props:t,elements:{rootEl:!0,contentEl:!0},foundation:function(r){var i=r.rootEl,o=r.contentEl,a={addClass:function(l){i.addClass(l)},removeClass:function(l){i.removeClass(l)},computeContentClientRect:function(){return o.ref?o.ref.getBoundingClientRect():ry},setContentStyleProperty:function(l,u){o.setStyle(l,u)}};return t.transition==="fade"?new yje(a):new _je(a)},api:function(r){var i=r.foundation;return{activate:function(o){i.activate(o)},deactivate:function(){i.deactivate()},computeContentClientRect:function(){return i.computeContentClientRect()}}}});e.foundation;var n=Ke(e,["foundation"]);return ae({},n)};function Cje(t){var e=wje(t),n=e.rootEl,r=e.contentEl,i=t.icon,o=t.transition;return Y.createElement(kt,{tag:"span",element:n,className:Lr("mdc-tab-indicator",{"mdc-tab-indicator--fade":o==="fade"})},Y.createElement(kt,{tag:i?Mn:"span","aria-hidden":"true",icon:i,element:r,className:"mdc-tab-indicator__content mdc-tab-indicator__content--"+(i?"icon":"underline")}))}var Sje=function(t){var e=B.useRef(),n=function(g){return e.current=g},r=B.useContext($4),i=vA("tab",t),o=li({props:t,elements:{rootEl:!0,contentEl:!0},foundation:function(g){var y=g.rootEl,w=g.contentEl,T=g.emit;return g.getProps,new bje({setAttr:function(C,R){return y.setProp(C,R)},addClass:function(C){return y.addClass(C)},removeClass:function(C){return y.removeClass(C)},hasClass:function(C){return y.hasClass(C)},activateIndicator:function(C){var R;return(R=e.current)===null||R===void 0?void 0:R.activate(C)},deactivateIndicator:function(){var C;return(C=e.current)===null||C===void 0?void 0:C.deactivate()},notifyInteracted:function(){var C=T("onInteraction",{tabId:i},!0);r.onTabInteraction(C)},getOffsetLeft:function(){var C;return((C=y.ref)===null||C===void 0?void 0:C.offsetLeft)||0},getOffsetWidth:function(){var C;return((C=y.ref)===null||C===void 0?void 0:C.offsetWidth)||0},getContentOffsetLeft:function(){var C;return((C=w.ref)===null||C===void 0?void 0:C.offsetLeft)||0},getContentOffsetWidth:function(){var C;return((C=w.ref)===null||C===void 0?void 0:C.offsetWidth)||0},focus:function(){return y.ref&&y.ref.focus&&y.ref.focus()}})}}),a=o.foundation,l=Ke(o,["foundation"]),u=l.rootEl,f=function(g){var y;(y=t.onClick)===null||y===void 0||y.call(t,g),a.handleClick()};u.setProp("onClick",f,!0);var h=B.useMemo(function(){return{getActive:function(){return a.isActive()},activate:function(g){return a.activate(g)},deactivate:function(){return a.deactivate()},computeIndicatorClientRect:function(){var g;return((g=e.current)===null||g===void 0?void 0:g.computeContentClientRect())||ry},computeDimensions:function(){return a.computeDimensions()},focus:function(){return u.ref&&u.ref.focus()},id:i,getIndex:function(){var g;return!((g=u.ref)===null||g===void 0)&&g.parentElement?Array.from(u.ref.parentElement.children).indexOf(u.ref):-1}}},[a,u.ref,i]);return B.useEffect(function(){return r.registerTab(h),function(){r.unregisterTab(h)}},[r,h]),B.useEffect(function(){t.focusOnActivate!==void 0&&a.setFocusOnActivate(t.focusOnActivate)},[a,t.focusOnActivate]),ae(ae({},l),{setTabIndicatorApi:n})},Tje=cc({surface:!1})(ht(function(e,n){var r=e.stacked,i=e.minWidth,o=Ke(e,["stacked","minWidth"]),a=St(e,["mdc-tab",{"mdc-tab--stacked":r,"mdc-tab--min-width":i}]);return Y.createElement(kt,ae({tag:"button"},o,{className:a,ref:n}))})),xje=Y.memo(function(e){return Y.createElement(Mn,ae({},e,{className:"mdc-tab__icon"}))}),Une=ht(function(e,n){var r=e.children,i=e.label,o=e.icon,a=e.stacked,l=e.restrictIndicator;e.onInteraction;var u=e.iconIndicator;e.foundationRef,e.focusOnActivate;var f=Ke(e,["children","label","icon","stacked","restrictIndicator","onInteraction","iconIndicator","foundationRef","focusOnActivate"]),h=Sje(e),g=h.rootEl,y=h.contentEl,w=h.setTabIndicatorApi,T=Y.useContext($4),C=Y.createElement(Cje,{apiRef:w,transition:T.indicatorTransition,icon:u});return Y.createElement(Tje,ae({element:g,stacked:a},f,{ref:n}),Y.createElement("div",{className:"mdc-tab__content",ref:y.setRef},!!o&&Y.createElement(xje,{icon:o}),(r!==void 0||i!==void 0)&&Y.createElement("span",{className:"mdc-tab__text-label"},i,r),!!l&&C),!l&&C,Y.createElement(ape,{className:"mdc-tab__ripple"}))});const Aje=()=>pp({title:"Delete all data?",body:`Proceeding will delete all your collections, sub-collections and
             documents within your database.`,acceptLabel:null,cancelLabel:null,footer:ne(Rt,{children:[b($n,{type:"button",theme:"secondary",action:"close",children:"Cancel"}),b($n,{unelevated:!0,action:"accept",isDefaultAction:!0,danger:!0,children:"Clear"})]})});function Vne(){const[t,e]=B.useState(!1);return{isTextCopied:t,writeText:B.useCallback(n=>navigator.clipboard.writeText(n).then(()=>e(!0)).catch(()=>e(r=>r)),[])}}function z4({textToCopy:t,label:e,theme:n,icon:r="content_copy"}){e=e||"Copy",n=n||"textPrimaryOnBackground";const{writeText:i}=Vne();return b(bn,{theme:n,icon:r,label:e,onClick:()=>i(t)})}const Ije="_badge_l31qp_24",wP={"query-panel":"_query-panel_l31qp_16","button-wrapper":"_button-wrapper_l31qp_20",badge:Ije},Bne=Hn("@firestore/addCollectionFilter")(),$ne=Hn("@firestore/removeCollectionFilter")(),W4={collectionFilters:{}},Hne=B.createContext({store:W4,dispatch:()=>{}}),kje=vI(W4).handleAction(Bne,(t,{payload:e})=>Nr(t,n=>{const{path:r,...i}=e;n.collectionFilters[e.path]=i})).handleAction($ne,(t,{payload:e})=>Nr(t,n=>{delete n.collectionFilters[e.path]})),Rje=(t,e)=>kje.handlers[e.type](t,e),Oje=({initState:t=W4,children:e})=>{const[n,r]=B.useReducer(Rje,t);return b(Hne.Provider,{value:{store:n,dispatch:r},children:e})};function jne(){const t=B.useContext(Hne);if(t===void 0)throw new Error("useFirestoreStore must be used within a <FirestoreStore>");return t}function Pje(){const{dispatch:t}=jne();return B.useMemo(()=>t,[t])}function zne(t){const{store:e}=jne();return e.collectionFilters[t]}const Nje="_header_oaols_50",Lje="_headerTitle_oaols_54",Dje="_preview_oaols_60",Mje="_children_oaols_65",Fje="_previewFilter_oaols_81",Uje="_conditionEntries_oaols_85",Vje="_removeFilter_oaols_100",Bje="_hidden_oaols_107",$je="_conditionEntry_oaols_112",Hje="_conditionEntryType_oaols_117",jje="_conditionEntryValue_oaols_121",zje="_actions_oaols_125",Ba={header:Nje,headerTitle:Lje,preview:Dje,children:Mje,previewFilter:Fje,conditionEntries:Uje,removeFilter:Vje,hidden:Bje,conditionEntry:$je,conditionEntryType:Hje,conditionEntryValue:jje,actions:zje};function Wje(t){return bte(t)?"boolean":wte(t)?"number":"string"}const Wne=Y.memo(({name:t,error:e})=>{const{setValue:n,watch:r}=yu(),i=r(t),[o,a]=B.useState(Wje(i));return B.useEffect(()=>{i===void 0&&n(t,"")},[i,n,t]),ne("div",{className:Ba.conditionEntry,children:[b(Gy,{options:["string","number","boolean"],value:o,onChange:l=>{a(l.currentTarget.value)},fieldClassName:Ba.conditionEntryType}),o==="string"&&b(pf,{name:t,defaultValue:"",render:({field:{ref:l,...u}})=>b(ar,{error:e,fieldClassName:Ba.conditionEntryValue,"aria-label":"Value",...u})}),o==="number"&&b(pf,{name:t,defaultValue:"",rules:{pattern:{value:WD,message:"Must be a number"}},render:({field:{ref:l,...u}})=>b(ar,{error:e,fieldClassName:Ba.conditionEntryValue,"aria-label":"Value",...u,onChange:f=>{const h=f.target.value,g=h.match(WD)?parseFloat(h):h;u.onChange(g)}})}),o==="boolean"&&b(qje,{name:t})]})}),qje=({name:t})=>{const{register:e,setValue:n,unregister:r,watch:i}=yu();B.useEffect(()=>(e(t),n(t,!0),()=>r(t)),[e,r,n,t]);const o=i(t);return b(Gy,{name:t,options:["true","false"],value:o,onChange:a=>n(t,a.currentTarget.value==="true"),fieldClassName:Ba.conditionEntryValue,"aria-label":"Value"})},Kje=({name:t})=>{const{formState:{errors:e,touchedFields:n}}=yu(),{fields:r,append:i,remove:o}=yG({name:t});return B.useEffect(()=>{r.length<1&&i("")},[i,r]),ne("ul",{className:Ba.conditionEntries,children:[r.map((a,l)=>{const u=`${t}[${l}]`;return ne("li",{children:[b(Wne,{name:u,error:n[u]&&e[u]}),b(bn,{className:r.length>1?Ba.removeFilter:Ba.hidden,icon:"delete",label:"Remove filter",type:"button",onClick:()=>o(l)})]},a.id)}),b(fr,{type:"button",icon:"add",onClick:()=>i(""),children:"Add value"})]})},Gje=({name:t,disabled:e})=>{const{register:n,setValue:r,unregister:i,watch:o}=yu();B.useEffect(()=>(e?r(t,void 0):n(t),()=>i(t)),[n,i,e,t,r]);const a=o(t);return ne(Rt,{children:[b(fx,{value:"asc",label:"Ascending",checked:a==="asc",onChange:()=>r(t,"asc"),disabled:e}),b(fx,{value:"desc",label:"Descending",checked:a==="desc",onChange:()=>r(t,"desc"),disabled:e})]})},Yje=({className:t,path:e,onClose:n})=>{var u;const r=zne(e),i=Pje(),o=b2({mode:"onChange",defaultValues:r}),a=o.watch(),l=f=>{i(Bne({path:e,...f})),n==null||n()};return b(Qje,{children:b(sG,{...o,children:ne("form",{onSubmit:o.handleSubmit(l),className:t,children:[b(CP,{title:"Filter by field",preview:a.field,defaultOpen:!0,children:b(pf,{name:"field",rules:{required:"Required"},defaultValue:"",render:({field:{ref:f,...h}})=>{var g;return b(ar,{label:"Enter field",...h,error:o.formState.touchedFields.field&&((g=o.formState.errors.field)==null?void 0:g.message)})}})}),b(CP,{title:"Add condition",preview:b(qne,{cf:a}),defaultOpen:!0,children:ne(Jje,{children:[a&&w1(a)&&b(Wne,{name:"value",error:o.formState.touchedFields.value&&((u=o.formState.errors.value)==null?void 0:u.message)}),a&&C1(a)&&b(Kje,{name:"values"})]})}),b(CP,{title:"Sort results",preview:uA(a)&&a.sort,defaultOpen:!0,children:b(Gje,{name:"sort",disabled:!uA(a)})}),b(Xje,{path:e,cf:a}),ne(EI,{className:Ba.actions,children:[b(ix,{children:b(rf,{type:"button",onClick:()=>{i($ne({path:e})),n==null||n()},children:"Clear"})}),ne(ix,{children:[b(rf,{type:"button",onClick:()=>n==null?void 0:n(),children:"Cancel"}),b(rf,{unelevated:!0,type:"submit",disabled:!o.formState.isValid,children:"Apply"})]})]})]})})})},Qje=({children:t})=>b(rc,{options:{background:qy,surface:"#fff"},children:b(ao,{use:["background"],tag:"div",children:t})}),qne=({cf:t})=>{const e=`"${t.operator}"`;return w1(t)?b("span",{children:`${e}, ${JSON.stringify(t.value)}`}):C1(t)?b("span",{children:`${e}, ${JSON.stringify(t.values)}`}):null},Xje=({path:t,cf:e})=>{const n=t.split("/").pop();return ne("code",{className:Ba.preview,"aria-label":"Code preview",children:[ne("div",{children:[".collection(",`${JSON.stringify(n)}`,")"]}),(w1(e)||C1(e))&&ne("div",{className:Ba.previewFilter,children:['.where("',e.field,'", ',b(qne,{cf:e}),")"]}),uA(e)&&!!e.sort&&ne("div",{className:Ba.previewFilter,children:[".orderBy(",`"${e.field}", "${e.sort}"`,")"]})]})},Jje=({children:t})=>{const e=[{label:"(==) equal to",value:"=="},{label:"(!=) not equal to",value:"!="},{label:"(>) greater than",value:">"},{label:"(>=) greater than or equal to",value:">="},{label:"(<) less than",value:"<"},{label:"(<=) less than or equal to",value:"<="},{label:"(in) equal to any of the following",value:"in"},{label:"(not-in) not equal to any of the following",value:"not-in"},{label:"(array-contains) an array containing",value:"array-contains"},{label:"(array-contains-any) an array containing any",value:"array-contains-any"}];return ne(Rt,{children:[b(pf,{name:"operator",render:({field:{ref:n,...r}})=>b(Gy,{label:"Only show documents where the specified field is...",placeholder:"No condition",options:e,...r,onChange:i=>{r.onChange(i.currentTarget.value||void 0)}})}),t]})},CP=({title:t,preview:e,defaultOpen:n,children:r})=>{const[i,o]=B.useState(n);return b(Zve,{className:Ba.listItem,defaultOpen:i,handle:b(Jve,{text:ne("div",{className:Ba.headerTitle,children:[b(Ue,{use:"body1",children:t}),!i&&e&&b(Ue,{use:"caption",children:e})]}),metaIcon:"chevron_right",className:Ba.header}),onOpen:()=>o(!0),onClose:()=>o(!1),children:b("div",{className:Ba.children,children:r})})},Kne=({collectionRef:t,onChange:e})=>{const[n,r]=B.useState(o_(t).id),[i,o]=B.useState(),a=B.useCallback(()=>{try{return{id:n,data:i}}catch{return{id:n,data:{invalidData:!0}}}},[n,i]);B.useEffect(()=>{e(a())},[a,e]);const l=u=>{r(u.target.value),e(a())};return ne(Rt,{children:[b(ar,{id:"add-document-path",fullwidth:!0,disabled:!0,label:"Parent path",value:t.path}),b(ar,{id:"add-document-id",fullwidth:!0,label:"Document ID",value:n,onChange:l,required:!0}),b(Vte,{value:{"":""},onChange:u=>o(u)})]})},Zje=({collectionRef:t,onClose:e,onValue:n,...r})=>{const[i,o]=B.useState({id:"",data:void 0});return ne(hc,{...r,onClose:l=>{n(l.detail.action==="accept"?i:null),e&&e(l)},children:[b(pc,{children:"Add a document"}),b(mc,{children:b(Kne,{collectionRef:t,onChange:o})}),ne(Ef,{children:[b($n,{action:"close",type:"button",theme:"secondary",children:"Cancel"}),b($n,{unelevated:!0,action:"accept",isDefaultAction:!0,disabled:!i.data||!i.id,children:"Save"})]})]})},eze=t=>pp({title:"Delete collection",body:ne("div",{className:"Firestore--dialog-body",children:[b(ji,{aside:!0,type:"warning",children:"This will permanently delete the collection, including all nested documents and collections."}),b(ar,{label:"Collection path",value:`/${t.path}`,fullwidth:!0,disabled:!0}),ne(ji,{aside:!0,type:"note",children:["Cloud Functions triggers ",b("b",{children:"will not"})," be executed."]})]}),acceptLabel:null,cancelLabel:null,footer:ne(Rt,{children:[b($n,{action:"close",type:"button",theme:"secondary",children:"Cancel"}),b($n,{unelevated:!0,action:"accept",isDefaultAction:!0,danger:!0,children:"Delete"})]})}),tze="_missing_1nq8p_16",nze={missing:tze},jW=({docId:t,url:e,queryFieldValue:n,missing:r})=>{const o=Lr("Firestore-List-Item",{[nze.missing]:r}),a=encodeURIComponent(t);return b(ao,{use:[r?"textSecondaryOnBackground":"textPrimaryOnBackground"],children:b(wf,{className:o,tag:fq,to:`${e}/${a}`,"aria-label":`View contents of document with id: ${a}`,activeClassName:"mdc-list-item--activated","data-testid":"firestore-document-list-item",children:n===void 0?b(hx,{children:t}):ne(hx,{"data-testid":"twoLine",children:[b(zK,{children:Im(n,20)}),b(WK,{children:t})]})})})};function q4(t,e=n=>n.json()){return async n=>await Do(n,{...t,headers:{...t.headers,Authorization:"Bearer owner"}}).then(e)}function K4(t,e,{refreshInterval:n=0}){const r=q4(e);return hf(t,r,{refreshInterval:n,suspense:!0,refreshWhenOffline:!0})}const rze={},ize=Y.memo(({children:t})=>{const e=za("firestore"),n=RE(),r=S4("firestore",rze,B.useCallback(i=>{const o=GX(i,n);KX(o,e.host,e.port,{mockUserToken:"owner"})},[e,n]));return r?b(vV,{firebaseApp:r,children:b(oze,{children:t})}):null}),oze=({children:t})=>{const e=JJ(),n=GX(e,RE());return b(cPe,{sdk:n,children:t})};function Iw(){const t=za("firestore"),{projectId:e}=jy();return{baseUrl:`//${t.hostAndPort}/v1/projects/${e}/databases/${RE()}`,baseEmulatorUrl:`//${t.hostAndPort}/emulator/v1/projects/${e}/databases/${RE()}`}}function RE(){var t=_f().pathname.split("/")[2];return t==="default"&&(t="(default)"),t}function aze(){return _f().pathname.split("/")[2]}function sze(){const{baseUrl:t}=Iw(),e=gw(),n=`${t}/documents:listCollectionIds`,{data:r}=K4(n,{method:"POST"},{refreshInterval:1e4});return((r==null?void 0:r.collectionIds)||[]).map(o=>ip(e,o))}function lze(t){const{baseUrl:e}=Iw(),n=G4(t.path),r=`${e}/documents/${n}:listCollectionIds`,{data:i}=K4(r,{method:"POST"},{refreshInterval:1e4});return((i==null?void 0:i.collectionIds)||[]).map(a=>ip(t,a))}const uze=/projects\/(?<project>.*)\/databases\/(?<database>.*)\/documents\/(?<path>.*)/;function cze(t){var o;const{baseUrl:e}=Iw(),n=G4(t.path),r=`${e}/documents/${n}?mask.fieldPaths=_none_&pageSize=300&showMissing=true`,{data:i}=K4(r,{method:"GET"},{refreshInterval:1e4});return((o=i==null?void 0:i.documents)==null?void 0:o.filter(a=>!a.createTime).map(a=>{const l=uze.exec(a.name);if(!l)throw new Error(`Document path "${a.name}" returned by API does not match regex.`);const[,,,u]=l;return{path:u}}))||[]}function fze(){const{baseEmulatorUrl:t}=Iw(),e=`${t}/documents`,n=q4({method:"DELETE"});return async()=>(bI("*"),await n(e))}function Gne(){const{baseEmulatorUrl:t}=Iw(),e=q4({method:"DELETE"});return async n=>{bI("*");const r=G4(n.path),i=`${t}/documents/${r}`;return await e(i)}}function G4(t){return t.split("/").map(e=>encodeURIComponent(e)).join("/")}const Fy=({id:t,icon:e,children:n})=>b("div",{className:"Firestore-PanelHeader",children:ne(jE,{children:[ne("div",{className:"Firestore-PanelHeader-icon-title",children:[b(ao,{use:"secondary",className:"Firestore-PanelHeader-icon",children:e}),b(Ue,{use:"body2",className:"Firestore-PanelHeader-title",children:t})]}),b(EG,{children:n})]})});function Yne(t){const{url:e}=Hy(),{pathname:n}=_f(),[r,i]=B.useState(null);return B.useEffect(()=>{const o=e.split("/"),a=(o.length===4||o.length===5)&&o[1]==="firestore"&&o[3]==="data",l=e===n,u=t==null?void 0:t[0];i(a&&l&&u?b(Ju,{to:`${e}/${encodeURIComponent(u.id)}`}):null)},[n,e,t,i]),r}const dze=[];function hze(t){return({collection:e,maxFetchedDocumentsPerCollection:n})=>{const[r,i]=B.useState(),o=zne(e.path),a=gze(e,o,n),l=lPe(a,{suspense:!0}),u=yf(),{url:f}=Hy(),h=cze(e),g=l.data.docs.length?l.data.docs:dze,y=Yne(g),w=async T=>{T&&T.id&&(await t1(o_(e,T.id),T.data),i(T.id))};return B.useEffect(()=>{r&&(u.push(`${f}/${encodeURIComponent(r)}`),i(""))},[u,f,r,i]),r?null:y?b(Rt,{children:y}):b(t,{collection:e,collectionFilter:o,addDocument:w,docs:g,missingDocs:h,url:f})}}const pze=({collection:t})=>ne("div",{className:"Firestore-Collection",children:[b(Fy,{id:t.id,icon:b(Mn,{icon:{icon:"collections_bookmark",size:"small"}})}),b(ja,{message:"Loading collection"})]}),mze=({collection:t,collectionFilter:e,addDocument:n,docs:r,missingDocs:i,url:o})=>{const a=Gne(),[l,u]=B.useState(!1),[f,h]=B.useState(!1),[g,y]=B.useState(!1),w=async()=>{await eze(t)&&a(t)};return ne(Rt,{children:[ne("div",{className:"Firestore-Collection",children:[b(Fy,{id:t.id,icon:b(Mn,{icon:{icon:"collections_bookmark",size:"small"}}),children:ne(JK,{children:[b(XK,{open:f,onClose:()=>h(!1),children:f&&b(Yje,{className:wP["query-panel"],path:t.path,onClose:()=>h(!1)})}),b(m2,{open:l,onClose:()=>u(!1),renderToPortal:!0,children:b(sf,{onClick:w,children:"Delete collection"})}),b(z4,{textToCopy:t.id,label:"Copy collection ID"}),b("div",{className:Lr(wP["button-wrapper"],e&&wP.badge),children:b(bn,{icon:"filter_list",label:"Filter documents in this collection",onClick:()=>h(!f)})}),b(bn,{icon:"more_vert",label:"Menu",onClick:()=>u(!l)})]})}),g&&b(Zje,{collectionRef:t,open:g,onValue:n,onClose:()=>y(!1)}),b(Kh,{dense:!0,className:"List-Actions",tag:"div",children:b(wf,{className:"list-button",tag:fr,label:"Add document",dense:!0,icon:"add",onClick:()=>y(!0)})}),ne(Kh,{dense:!0,className:"Firestore-Document-List",tag:"div",twoLine:e==null?void 0:e.operator,children:[r.map(T=>b(jW,{url:o,docId:T.ref.id,queryFieldValue:e!=null&&e.operator?Dy(T.data(),e.field):void 0},T.ref.id)),i.map(T=>{const C=T.path.replace(t.path,"").split("/")[1];return b(jW,{missing:!0,url:o,docId:C,queryFieldValue:void 0},C)})]})]}),b(ms,{path:`${o}/:id`,render:({match:T})=>{const C=decodeURIComponent(T.params.id),R=o_(t,C);return b(Mze,{reference:R})}})]})};function gze(t,e,n=9500){let r=t;return e&&w1(e)&&(r=hS(r,BH(e.field,e.operator,e.value))),e&&C1(e)&&(r=hS(r,BH(e.field,e.operator,e.values))),e&&uA(e)&&(r=hS(r,_1e(e.field,e.sort))),r&&(r=hS(r,b1e(n))),r}const vze=hze(mze),yze=({onChange:t})=>{const[e,n]=B.useState("");return b(Rt,{children:b(ar,{label:"Collection ID",required:!0,value:e,onChange:i=>{n(i.target.value),t(i.target.value)}})})},_ze=({documentRef:t,onValue:e,onClose:n,...r})=>{const i=gw(),[o,a]=B.useState(""),[l,u]=B.useState({id:"",data:void 0}),f=()=>({collectionId:o,document:l}),h=y=>{e(y.detail.action==="accept"?f():null),n&&n(y)};function g(y){return y||"<parent Collection ID>"}return ne(hc,{...r,onClose:h,children:[b(pc,{children:"Start a collection"}),ne(mc,{children:[b(yze,{onChange:a}),b(Kne,{collectionRef:ip(t||i,g(o)),onChange:u})]}),ne(Ef,{children:[b($n,{action:"close",type:"button",theme:"secondary",children:"Cancel"}),b($n,{unelevated:!0,action:"accept",isDefaultAction:!0,disabled:!l.data||!l.id||!o,children:"Save"})]})]})},bze=()=>{const t=sze();return b(Qne,{collections:t})},Eze=({reference:t})=>{const e=lze(t);return b(Qne,{collections:e,reference:t})},Qne=({collections:t,reference:e})=>{const{url:n}=Hy(),r=yf(),i=gw(),o=Yne(t),a=aze(),[l,u]=B.useState(!1),f=async h=>{if(h!=null&&h.collectionId&&(h!=null&&h.document.id)){const g=ip(e||i,h.collectionId);await t1(o_(g,h.document.id),h.document.data);const y=encodeURIComponent(h.collectionId);if(e){const w=e.path.split("/").map(T=>encodeURIComponent(T)).join("/");r.push(`/firestore/${a}/data/${w}/${y}`)}else r.push(`/firestore/${a}/data/${y}`)}};return ne("div",{className:Lr("Firestore-CollectionList",t.length===0&&"Firestore-CollectionList-empty"),"data-testid":"collection-list",children:[o,l&&b(_ze,{documentRef:e,open:l,onValue:f,onClose:()=>u(!1)}),b(Kh,{dense:!0,className:"List-Actions",tag:"div",children:b(wf,{className:"list-button",tag:fr,dense:!0,icon:"add",label:"Start collection",onClick:()=>u(!0)})}),b(Kh,{dense:!0,tag:"div",children:t&&t.map(h=>b(wze,{collectionId:h.id,routeMatchUrl:n},h.id))})]})},wze=({collectionId:t,routeMatchUrl:e})=>b(wf,{className:"Firestore-List-Item",tag:fq,to:`${e}/${encodeURIComponent(t)}`,"aria-label":`View contents of collection with id: "${t}"`,activeClassName:"mdc-list-item--activated","data-testid":"firestore-collection-list-item",children:t},t),Cze=({documentRef:t,onConfirm:e,onClose:n,...r})=>{const[i,o]=B.useState(!1);return ne(hc,{...r,onClose:l=>{l.detail.action==="accept"&&e({recursive:i}),n&&n(l)},children:[b(pc,{children:"Delete document"}),b(mc,{children:ne("div",{className:"Firestore--dialog-body",children:[b(ji,{aside:!0,type:"warning",children:"This will permanently delete the document."}),b(ar,{label:"Document location",value:`/${t.path}`,disabled:!0}),b("div",{children:b(vw,{label:"Also delete nested collections and documents",checked:i,onChange:l=>{o(l.currentTarget.checked)}})}),i&&ne(ji,{aside:!0,type:"note",children:["Cloud Functions triggers ",b("b",{children:"will not"})," be executed."]})]})}),ne(Ef,{children:[b($n,{action:"close",type:"button",theme:"secondary",children:"Cancel"}),b($n,{unelevated:!0,action:"accept",isDefaultAction:!0,danger:!0,children:"Delete"})]})]})},Sze=t=>pp({title:"Delete data",body:ne("div",{className:"Firestore--dialog-body",children:[b(ji,{aside:!0,type:"warning",children:"This will delete all fields of the document, excluding subcollections."}),b(ar,{label:"Document location",value:`/${t.path}`,fullwidth:!0,disabled:!0})]}),acceptLabel:null,cancelLabel:null,footer:ne(Rt,{children:[b($n,{action:"close",type:"button",theme:"secondary",children:"Cancel"}),b($n,{unelevated:!0,action:"accept",isDefaultAction:!0,danger:!0,children:"Delete"})]})}),gM=I1e();function Tze(t,e,n){const r=Xne(e,n,gM);iJ(t,...r)}function zb(t,e,n,r){const i=Xne(e,n,r);iJ(t,...i)}async function xze(t,e,n){if((await T1e(t)).exists())throw new Error(".set() on an existing document would delete other fields");await t1(t,{[e]:n})}function Xne(t,e,n){let r=t,i=[];for(const o of e){if(r===void 0||!Hh(r))throw new Error(`Tried to set field ${o} on non-map value.`);if(r=r[o],i.push(o),i.length<e.length&&qc(r)){const a=new Iy(...i),l=e.slice(i.length);return n===gM||gM.isEqual(n)?[a,EVe(r,l)]:[a,bVe(r,l,n)]}}return[new Iy(...e),n]}const Aze=()=>pp({title:"Delete data",body:b("div",{className:"Firestore--dialog-body",children:b(ji,{aside:!0,type:"warning",children:"This will delete the selected field."})}),acceptLabel:null,cancelLabel:null,footer:ne(Rt,{children:[b($n,{action:"close",type:"button",theme:"secondary",children:"Cancel"}),b($n,{unelevated:!0,action:"accept",isDefaultAction:!0,danger:!0,children:"Delete"})]})}),Y4=Y.createContext(void 0),Ize=({value:t,children:e})=>b(Y4.Provider,{value:t,children:e});function Jne(){const t=Y.useContext(Y4);if(t===void 0)throw new Error("useDocumentState must be used within a DocumentStateProvider");return t}function zW(t){const e=Jne();return t.length===0?e:Dy(e,t)}const Zne=Y.createContext(void 0),kze=({value:t,children:e})=>b(Zne.Provider,{value:t,children:e});function Rze(t,e){const n=Y.useContext(Y4),r=Y.useContext(Zne);if(n!==void 0){const i=t.length===0?n:Dy(n,t);let o=null;Hh(i)?o=Object.keys(i).sort(cA).map(l=>[...t,l]):qc(i)&&(o=i.map((l,u)=>[...t,`${u}`]));const a=Im(i,e.maxSummaryLen);return{title:Ete(i)?i.toDate().toISOString():a,summary:a,childPaths:o,typeDisp:m_(i)}}else if(r!==void 0){let i=t.length===0?r:Dy(r,t),o=null;if(i.mapValue?o=Object.keys(i.mapValue.fields??{}).sort(cA).map(a=>[...t,"mapValue","fields",a]):i.listValue?o=(i.listValue.values??[]).map((a,l)=>[...t,"listValue","values",`${l}`]):i.setValue&&(o=(i.setValue.values??[]).map((a,l)=>[...t,"setValue","values",`${l}`])),i.constraintValue)return{title:"",summary:Pze(i.constraintValue,e.maxSummaryLen),childPaths:null,typeDisp:"constraint"};{const a=w0(i,e.maxSummaryLen);return{title:i.timestampValue?new Date(i.timestampValue).toISOString():a,summary:a,childPaths:o,typeDisp:i.pathValue?"path":(Object.keys(i)[0]||"unknown").replace("Value","")}}}else throw new Error("useFieldInfo must be used within a DocumentStateProvider or ExpressionValueStateProvider")}function w0(t,e){var n,r,i,o,a,l;if("nullValue"in t)return"null";if("boolValue"in t)return Im(t.boolValue||!1,e);if("intValue"in t)return WW(t.intValue);if("floatValue"in t)return WW(t.floatValue);if("stringValue"in t)return Im(t.stringValue||"",e);if("bytesValue"in t)return Im(op.fromBase64String(t.bytesValue||""),e);if("durationValue"in t)return t.durationValue||"0s";if("timestampValue"in t){const u=new Date(t.timestampValue||0);return Ste(u)}else{if("latlngValue"in t)return xte(((n=t.latlngValue)==null?void 0:n.latitude)||0,((r=t.latlngValue)==null?void 0:r.longitude)||0);if("listValue"in t)return qD(((i=t.listValue)==null?void 0:i.values)??[],e,w0);if("setValue"in t)return qD(((o=t.setValue)==null?void 0:o.values)??[],e,w0);if("mapValue"in t)return Tte(((a=t.mapValue)==null?void 0:a.fields)??{},e,w0);if("pathValue"in t)return"/"+ere(t.pathValue);if("constraintValue"in t)return"(Constraint)";if("mapDiffValue"in t)return"(MapDiff)";if("undefined"in t)return`(Error: ${((l=t.undefined)==null?void 0:l.causeMessage)||"unknown"})`;{const u=JSON.stringify(t);return console.warn(`Unknown ExpressionValue type: ${u}`),u}}}function WW(t){return t===void 0?"0":typeof t=="string"?t:t.toString()}function ere(t,e){return!t||!t.segments?"":t.segments.map(n=>Oze(n)).join("/")}function Oze(t,e){return t.simple?t.simple:t.capture?t.capture.boundValue||`{${t.capture.variableName}}`:t.globCapture?t.globCapture.boundValue?ere(t.globCapture.boundValue):`{${t.globCapture.variableName}=**}`:""}function Pze(t,e){var o;const n=b("span",{className:"Constraint-unknown",children:""});if(!((o=t==null?void 0:t.simpleConstraints)!=null&&o.length))return n;let r=!0;const i=[];for(const a of t.simpleConstraints){r?(i.push(b("span",{className:"Constraint-hint",children:"where "})),r=!1):i.push(b("span",{className:"Constraint-and",children:" && "}));const{comparator:l,value:u}=a;if(!u)throw new Error(`Constraint value unset in ${JSON.stringify(a)}`);const f=w0(u,e);if(!l||l==="UNSET_COMPARATOR")throw new Error(`Constraint comparator unset in ${JSON.stringify(a)}`);l==="LIST_CONTAINS"?i.push(ne("span",{children:["(",f," in ",n,")"]})):i.push(ne("span",{children:[n," ",Nze[l]||l," ",f]}))}return ne("span",{children:[n," (",i,")"]})}const Nze={EQ:"==",NEQ:"!=",GT:">",GTE:">=",LT:"<",LTE:"<="},Q4=({path:t,maxSummaryLen:e,children:n,actions:r,childComponent:i=Q4})=>{const{summary:o,title:a,typeDisp:l,childPaths:u}=Rze(t,{maxSummaryLen:e}),[f,h]=B.useState(!u||u.length>0);return ne(Rt,{children:[ne(wf,{onClick:()=>t.length&&h(!f),className:Lr("FieldPreview",{"FieldPreview--primitive":!u,"FieldPreview--expanded":u&&f}),children:[b(Mn,{className:"FieldPreview-expand-icon",icon:{size:"xsmall",icon:f?"arrow_drop_down":"arrow_right"}}),b(ao,{use:"secondary",tag:"span",className:"FieldPreview-key",children:t[t.length-1]||""}),b("span",{className:"FieldPreview-summary",title:a,children:o}),ne(KK,{className:"FieldPreview-actions",children:[ne(ao,{use:"secondary",tag:"span",className:"FieldPreview-type",children:["(",l,")"]}),r]})]}),n,u&&f&&b("div",{className:t.length?"FieldPreview-children":"FieldPreview-top-level-fields",children:u.map(g=>b(i,{path:g,maxSummaryLen:e},My(g)))})]})},tre=({path:t,documentRef:e,maxSummaryLen:n})=>{const r=Jne(),i=zW(t.slice(0,-1)),o=zW(t),[a,l]=B.useState(!1),[u,f]=B.useState(!1),h=B.useCallback(y=>b(tre,{documentRef:e,...y}),[e]);async function g(){await Aze()&&Tze(e,r,t)}return a?ne(Rt,{children:[qc(i)&&b(Sh,{value:[o],onCancel:()=>{l(!1)},onSave:(y,w)=>{zb(e,r,t,w),l(!1)},areRootKeysMutable:!1,firestore:e.firestore}),Hh(i)&&b(Sh,{value:{[My(t)]:o},onCancel:()=>{l(!1)},onSave:(y,w)=>{zb(e,r,[...E4(t),y],w),l(!1)},areRootKeysMutable:!1,firestore:e.firestore})]}):ne(Q4,{path:t,maxSummaryLen:n,childComponent:h,actions:ne(Rt,{children:[Cte(o)&&qVe(o)&&b(bn,{icon:"edit",label:"Edit field",onClick:y=>{y.stopPropagation(),l(!0)}})," ",(qc(o)||Hh(o))&&b(bn,{icon:"add",label:"Add field",onClick:y=>{y.stopPropagation(),f(!0)}}),b(bn,{icon:"delete",label:"Remove field",onClick:y=>{y.stopPropagation(),g()}})]}),children:[u&&qc(o)&&b(Sh,{value:[""],onCancel:()=>{f(!1)},startingIndex:o.length,onSave:(y,w)=>{const T=[...t,`${o.length}`];zb(e,r,T,w),f(!1)},areRootKeysMutable:!qc(o),firestore:e.firestore}),u&&Hh(o)&&b(Sh,{value:{"":""},onCancel:()=>{f(!1)},onSave:(y,w)=>{const T=[...t,y];zb(e,r,T,w),f(!1)},areRootKeysMutable:!qc(o),firestore:e.firestore})]})},Lze=({reference:t,maxSummaryLen:e=20})=>{const n=sPe(t,{suspense:!0}).data,[r,i]=B.useState(!1),o=n.exists(),a=o?n.data():{},l=o&&Object.keys(a).length===0;return b(Rt,{children:b(Ize,{value:a||{},children:ne(Kh,{dense:!0,className:"List-Actions Firestore-Document-Fields",tag:"div",children:[b(wf,{className:"list-button",tag:fr,label:"Add field",dense:!0,icon:"add",onClick:()=>i(!0)}),r&&b(Sh,{value:{"":""},onCancel:()=>{i(!1)},onSave:async(u,f)=>{o?zb(t,a,[u],f):await xze(t,u,f),i(!1)},areRootKeysMutable:!0,firestore:t.firestore}),o&&!l&&b("div",{className:"Firestore-Field-List",children:Object.keys(a).sort(cA).map(u=>b(tre,{path:[u],documentRef:t,maxSummaryLen:e},u))}),!o&&b(qW,{children:"This document does not exist, it will not appear in queries or snapshots"}),l&&b(qW,{children:"This document has no data"})]})})})},qW=({children:t})=>b(Ue,{theme:"secondary",use:"body2",className:"Firestore-Document-Warning",children:b("i",{children:t})}),nre=({collectionById:t,children:e})=>{const{url:n}=Hy();return ne(Rt,{children:[b("div",{className:"Firestore-Document",children:e}),b(ms,{path:`${n}/:id`,render:({match:r})=>b(B.Suspense,{fallback:b(pze,{collection:t(decodeURIComponent(r.params.id))}),children:b(vze,{collection:t(decodeURIComponent(r.params.id))})})})]})},Dze=()=>{const t=gw();return ne(nre,{id:"Root",collectionById:e=>ip(t,e),children:[b(Fy,{id:"Root",icon:b(Zq,{})}),b(B.Suspense,{fallback:b(ja,{message:"Loading collections"}),children:b(bze,{})})]})},Mze=({reference:t})=>{const e=Gne(),[n,r]=B.useState(!1),i=async()=>{await Sze(t)&&t1(t,{})},o=["Delete document","Delete all fields"];return ne(nre,{id:t.id,collectionById:a=>ip(t,a),children:[n&&b(Cze,{documentRef:t,open:n,onConfirm:({recursive:a})=>a?e(t):x1e(t),onClose:()=>r(!1)}),ne(Fy,{id:t.id,icon:b(Mn,{icon:{icon:"insert_drive_file",size:"small"}}),children:[b(z4,{textToCopy:t.id,label:"Copy document ID"}),b(BE,{handle:b(bn,{icon:"more_vert",label:"Menu"}),renderToPortal:!0,onSelect:a=>{switch(o[a.detail.index]){case"Delete document":r(!0);break;case"Delete all fields":i();break}},children:o.map(a=>b(sf,{children:a}))})]}),b(B.Suspense,{fallback:b(ja,{message:"Loading collections"}),children:b(Eze,{reference:t})}),b(Ky,{tag:"div"}),b(B.Suspense,{fallback:b(ja,{message:"Loading document"}),children:b(Lze,{reference:t})})]})},Fze="Request path copied to clipboard",Uze=({showCopyNotification:t,setShowCopyNotification:e,timeout:n})=>b(Nne,{className:"Firestore-Requests-Copy-Path-Snackbar",open:t,onClose:()=>e(!1),message:Fze,icon:{icon:"check_circle",size:"medium"},timeout:n}),rre=Y.createContext(void 0),Vze=({children:t})=>{const[e,n]=B.useState(),r=FE(),i=r==null?void 0:r.projectId,o=r==null?void 0:r.firestore;B.useEffect(()=>{if(!i||!o||!o.webSocketHost||!o.webSocketPort)n(void 0);else{const u=new URL("ws://placeholder/requests");u.protocol=document.location.protocol==="https:"?"wss:":"ws:",u.host=o.webSocketHost,u.port=o.webSocketPort.toString();const f=new V4(u.toString());return f.listener=h=>{h instanceof Array?n(h.filter(l)):l(h)&&n(g=>[...g||[],h])},()=>f.cleanup()}function l(u){return u.rulesReleaseName?u.rulesReleaseName.startsWith(`projects/${i}/`):!0}},[i,o,n]);const a=YF(e);return b(rre.Provider,{value:{requests:e,promise:a},children:t})};function ire(t){const e=Y.useContext(rre);if(e===void 0)throw new Error("useFirestoreRequests must be used within a <FirestoreRequestsProvider>");if(!e.requests)throw e.promise;let n=e.requests;return t&&(n=n.filter(r=>r.rulesContext.path.includes(t))),{requests:n}}function Bze(){const t=za("firestore");return!!(t.webSocketHost&&t.webSocketPort)}function $ze(t){const{requests:e}=ire();return e.find(n=>n.requestId===t)}var Hze="Expected a function",KW=NaN,jze="[object Symbol]",zze=/^\s+|\s+$/g,Wze=/^[-+]0x[0-9a-f]+$/i,qze=/^0b[01]+$/i,Kze=/^0o[0-7]+$/i,Gze=parseInt,Yze=typeof Ei=="object"&&Ei&&Ei.Object===Object&&Ei,Qze=typeof self=="object"&&self&&self.Object===Object&&self,Xze=Yze||Qze||Function("return this")(),Jze=Object.prototype,Zze=Jze.toString,eWe=Math.max,tWe=Math.min,SP=function(){return Xze.Date.now()};function nWe(t,e,n){var r,i,o,a,l,u,f=0,h=!1,g=!1,y=!0;if(typeof t!="function")throw new TypeError(Hze);e=GW(e)||0,vM(n)&&(h=!!n.leading,g="maxWait"in n,o=g?eWe(GW(n.maxWait)||0,e):o,y="trailing"in n?!!n.trailing:y);function w(D){var P=r,N=i;return r=i=void 0,f=D,a=t.apply(N,P),a}function T(D){return f=D,l=setTimeout(I,e),h?w(D):a}function C(D){var P=D-u,N=D-f,$=e-P;return g?tWe($,o-N):$}function R(D){var P=D-u,N=D-f;return u===void 0||P>=e||P<0||g&&N>=o}function I(){var D=SP();if(R(D))return k(D);l=setTimeout(I,C(D))}function k(D){return l=void 0,y&&r?w(D):(r=i=void 0,a)}function O(){l!==void 0&&clearTimeout(l),f=0,r=u=i=l=void 0}function A(){return l===void 0?a:k(SP())}function V(){var D=SP(),P=R(D);if(r=arguments,i=this,u=D,P){if(l===void 0)return T(u);if(g)return l=setTimeout(I,e),w(u)}return l===void 0&&(l=setTimeout(I,e)),a}return V.cancel=O,V.flush=A,V}function vM(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function rWe(t){return!!t&&typeof t=="object"}function iWe(t){return typeof t=="symbol"||rWe(t)&&Zze.call(t)==jze}function GW(t){if(typeof t=="number")return t;if(iWe(t))return KW;if(vM(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=vM(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(zze,"");var n=qze.test(t);return n||Kze.test(t)?Gze(t.slice(2),n?2:8):Wze.test(t)?KW:+t}var oWe=nWe;const aWe=ra(oWe),Wb={allow:"check_circle",deny:"remove_circle",error:"report_problem",admin:"security"},ore={allow:{theme:"success",icon:Wb.allow,label:"ALLOW"},deny:{theme:"warning",icon:Wb.deny,label:"DENY"},error:{theme:"warning",icon:Wb.error,label:"ERROR"},admin:{theme:"success",icon:Wb.admin,label:"ADMIN"}};function are(t){const[e,n]=B.useState();return B.useEffect(()=>{const r=()=>{var o;return(o=t==null?void 0:t.current)==null?void 0:o.offsetWidth},i=aWe(()=>{n(r())},150);return n(r()),window==null||window.addEventListener("resize",i),()=>window==null?void 0:window.removeEventListener("resize",i)},[n,t]),e}var TP={exports:{}},YW;function kw(){return YW||(YW=1,function(t,e){(function(n,r){t.exports=r()})(Ei,function(){var n=navigator.userAgent,r=navigator.platform,i=/gecko\/\d/i.test(n),o=/MSIE \d/.test(n),a=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(n),l=/Edge\/(\d+)/.exec(n),u=o||a||l,f=u&&(o?document.documentMode||6:+(l||a)[1]),h=!l&&/WebKit\//.test(n),g=h&&/Qt\/\d+\.\d+/.test(n),y=!l&&/Chrome\/(\d+)/.exec(n),w=y&&+y[1],T=/Opera\//.test(n),C=/Apple Computer/.test(navigator.vendor),R=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(n),I=/PhantomJS/.test(n),k=C&&(/Mobile\/\w+/.test(n)||navigator.maxTouchPoints>2),O=/Android/.test(n),A=k||O||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(n),V=k||/Mac/.test(r),D=/\bCrOS\b/.test(n),P=/win/i.test(r),N=T&&n.match(/Version\/(\d*\.\d*)/);N&&(N=Number(N[1])),N&&N>=15&&(T=!1,h=!0);var $=V&&(g||T&&(N==null||N<12.11)),q=i||u&&f>=9;function z(s){return new RegExp("(^|\\s)"+s+"(?:$|\\s)\\s*")}var K=function(s,c){var m=s.className,p=z(c).exec(m);if(p){var _=m.slice(p.index+p[0].length);s.className=m.slice(0,p.index)+(_?p[1]+_:"")}};function Q(s){for(var c=s.childNodes.length;c>0;--c)s.removeChild(s.firstChild);return s}function Ee(s,c){return Q(s).appendChild(c)}function he(s,c,m,p){var _=document.createElement(s);if(m&&(_.className=m),p&&(_.style.cssText=p),typeof c=="string")_.appendChild(document.createTextNode(c));else if(c)for(var x=0;x<c.length;++x)_.appendChild(c[x]);return _}function Je(s,c,m,p){var _=he(s,c,m,p);return _.setAttribute("role","presentation"),_}var He;document.createRange?He=function(s,c,m,p){var _=document.createRange();return _.setEnd(p||s,m),_.setStart(s,c),_}:He=function(s,c,m){var p=document.body.createTextRange();try{p.moveToElementText(s.parentNode)}catch{return p}return p.collapse(!0),p.moveEnd("character",m),p.moveStart("character",c),p};function xe(s,c){if(c.nodeType==3&&(c=c.parentNode),s.contains)return s.contains(c);do if(c.nodeType==11&&(c=c.host),c==s)return!0;while(c=c.parentNode)}function Te(s){var c=s.ownerDocument||s,m;try{m=s.activeElement}catch{m=c.body||null}for(;m&&m.shadowRoot&&m.shadowRoot.activeElement;)m=m.shadowRoot.activeElement;return m}function J(s,c){var m=s.className;z(c).test(m)||(s.className+=(m?" ":"")+c)}function Ae(s,c){for(var m=s.split(" "),p=0;p<m.length;p++)m[p]&&!z(m[p]).test(c)&&(c+=" "+m[p]);return c}var Ne=function(s){s.select()};k?Ne=function(s){s.selectionStart=0,s.selectionEnd=s.value.length}:u&&(Ne=function(s){try{s.select()}catch{}});function ie(s){return s.display.wrapper.ownerDocument}function lt(s){return Ge(s.display.wrapper)}function Ge(s){return s.getRootNode?s.getRootNode():s.ownerDocument}function ut(s){return ie(s).defaultView}function et(s){var c=Array.prototype.slice.call(arguments,1);return function(){return s.apply(null,c)}}function _t(s,c,m){c||(c={});for(var p in s)s.hasOwnProperty(p)&&(m!==!1||!c.hasOwnProperty(p))&&(c[p]=s[p]);return c}function xt(s,c,m,p,_){c==null&&(c=s.search(/[^\s\u00a0]/),c==-1&&(c=s.length));for(var x=p||0,L=_||0;;){var U=s.indexOf("	",x);if(U<0||U>=c)return L+(c-x);L+=U-x,L+=m-L%m,x=U+1}}var Et=function(){this.id=null,this.f=null,this.time=0,this.handler=et(this.onTimeout,this)};Et.prototype.onTimeout=function(s){s.id=0,s.time<=+new Date?s.f():setTimeout(s.handler,s.time-+new Date)},Et.prototype.set=function(s,c){this.f=c;var m=+new Date+s;(!this.id||m<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,s),this.time=m)};function Dt(s,c){for(var m=0;m<s.length;++m)if(s[m]==c)return m;return-1}var Ut=50,an={toString:function(){return"CodeMirror.Pass"}},nt={scroll:!1},nn={origin:"*mouse"},Wt={origin:"+move"};function Kt(s,c,m){for(var p=0,_=0;;){var x=s.indexOf("	",p);x==-1&&(x=s.length);var L=x-p;if(x==s.length||_+L>=c)return p+Math.min(L,c-_);if(_+=x-p,_+=m-_%m,p=x+1,_>=c)return p}}var vn=[""];function fn(s){for(;vn.length<=s;)vn.push(Ot(vn)+" ");return vn[s]}function Ot(s){return s[s.length-1]}function En(s,c){for(var m=[],p=0;p<s.length;p++)m[p]=c(s[p],p);return m}function fe(s,c,m){for(var p=0,_=m(c);p<s.length&&m(s[p])<=_;)p++;s.splice(p,0,c)}function Ce(){}function ge(s,c){var m;return Object.create?m=Object.create(s):(Ce.prototype=s,m=new Ce),c&&_t(c,m),m}var Re=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function Me(s){return/\w/.test(s)||s>""&&(s.toUpperCase()!=s.toLowerCase()||Re.test(s))}function se(s,c){return c?c.source.indexOf("\\w")>-1&&Me(s)?!0:c.test(s):Me(s)}function pe(s){for(var c in s)if(s.hasOwnProperty(c)&&s[c])return!1;return!0}var qe=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function De(s){return s.charCodeAt(0)>=768&&qe.test(s)}function Ze(s,c,m){for(;(m<0?c>0:c<s.length)&&De(s.charAt(c));)c+=m;return c}function Tt(s,c,m){for(var p=c>m?-1:1;;){if(c==m)return c;var _=(c+m)/2,x=p<0?Math.ceil(_):Math.floor(_);if(x==c)return s(x)?c:m;s(x)?m=x:c=x+p}}function hn(s,c,m,p){if(!s)return p(c,m,"ltr",0);for(var _=!1,x=0;x<s.length;++x){var L=s[x];(L.from<m&&L.to>c||c==m&&L.to==c)&&(p(Math.max(L.from,c),Math.min(L.to,m),L.level==1?"rtl":"ltr",x),_=!0)}_||p(c,m,"ltr")}var pn=null;function rr(s,c,m){var p;pn=null;for(var _=0;_<s.length;++_){var x=s[_];if(x.from<c&&x.to>c)return _;x.to==c&&(x.from!=x.to&&m=="before"?p=_:pn=_),x.from==c&&(x.from!=x.to&&m!="before"?p=_:pn=_)}return p??pn}var Dr=function(){var s="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",c="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function m(W){return W<=247?s.charAt(W):1424<=W&&W<=1524?"R":1536<=W&&W<=1785?c.charAt(W-1536):1774<=W&&W<=2220?"r":8192<=W&&W<=8203?"w":W==8204?"b":"L"}var p=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,_=/[stwN]/,x=/[LRr]/,L=/[Lb1n]/,U=/[1n]/;function H(W,re,le){this.level=W,this.from=re,this.to=le}return function(W,re){var le=re=="ltr"?"L":"R";if(W.length==0||re=="ltr"&&!p.test(W))return!1;for(var _e=W.length,ve=[],Oe=0;Oe<_e;++Oe)ve.push(m(W.charCodeAt(Oe)));for(var Ve=0,Xe=le;Ve<_e;++Ve){var ot=ve[Ve];ot=="m"?ve[Ve]=Xe:Xe=ot}for(var ct=0,it=le;ct<_e;++ct){var gt=ve[ct];gt=="1"&&it=="r"?ve[ct]="n":x.test(gt)&&(it=gt,gt=="r"&&(ve[ct]="R"))}for(var Nt=1,Pt=ve[0];Nt<_e-1;++Nt){var rn=ve[Nt];rn=="+"&&Pt=="1"&&ve[Nt+1]=="1"?ve[Nt]="1":rn==","&&Pt==ve[Nt+1]&&(Pt=="1"||Pt=="n")&&(ve[Nt]=Pt),Pt=rn}for(var lr=0;lr<_e;++lr){var ai=ve[lr];if(ai==",")ve[lr]="N";else if(ai=="%"){var Pr=void 0;for(Pr=lr+1;Pr<_e&&ve[Pr]=="%";++Pr);for(var Yr=lr&&ve[lr-1]=="!"||Pr<_e&&ve[Pr]=="1"?"1":"N",hi=lr;hi<Pr;++hi)ve[hi]=Yr;lr=Pr-1}}for(var pi=0,Ko=le;pi<_e;++pi){var po=ve[pi];Ko=="L"&&po=="1"?ve[pi]="L":x.test(po)&&(Ko=po)}for(var Fi=0;Fi<_e;++Fi)if(_.test(ve[Fi])){var mi=void 0;for(mi=Fi+1;mi<_e&&_.test(ve[mi]);++mi);for(var Qr=(Fi?ve[Fi-1]:le)=="L",ma=(mi<_e?ve[mi]:le)=="L",th=Qr==ma?Qr?"L":"R":le,Lc=Fi;Lc<mi;++Lc)ve[Lc]=th;Fi=mi-1}for(var Ro=[],Gl,to=0;to<_e;)if(L.test(ve[to])){var Z_=to;for(++to;to<_e&&L.test(ve[to]);++to);Ro.push(new H(0,Z_,to))}else{var Yl=to,Dc=Ro.length,Mc=re=="rtl"?1:0;for(++to;to<_e&&ve[to]!="L";++to);for(var Go=Yl;Go<to;)if(U.test(ve[Go])){Yl<Go&&(Ro.splice(Dc,0,new H(1,Yl,Go)),Dc+=Mc);var nh=Go;for(++Go;Go<to&&U.test(ve[Go]);++Go);Ro.splice(Dc,0,new H(2,nh,Go)),Dc+=Mc,Yl=Go}else++Go;Yl<to&&Ro.splice(Dc,0,new H(1,Yl,to))}return re=="ltr"&&(Ro[0].level==1&&(Gl=W.match(/^\s+/))&&(Ro[0].from=Gl[0].length,Ro.unshift(new H(0,0,Gl[0].length))),Ot(Ro).level==1&&(Gl=W.match(/\s+$/))&&(Ot(Ro).to-=Gl[0].length,Ro.push(new H(0,_e-Gl[0].length,_e)))),re=="rtl"?Ro.reverse():Ro}}();function Qt(s,c){var m=s.order;return m==null&&(m=s.order=Dr(s.text,c)),m}var ci=[],ft=function(s,c,m){if(s.addEventListener)s.addEventListener(c,m,!1);else if(s.attachEvent)s.attachEvent("on"+c,m);else{var p=s._handlers||(s._handlers={});p[c]=(p[c]||ci).concat(m)}};function Qs(s,c){return s._handlers&&s._handlers[c]||ci}function Tr(s,c,m){if(s.removeEventListener)s.removeEventListener(c,m,!1);else if(s.detachEvent)s.detachEvent("on"+c,m);else{var p=s._handlers,_=p&&p[c];if(_){var x=Dt(_,m);x>-1&&(p[c]=_.slice(0,x).concat(_.slice(x+1)))}}}function Un(s,c){var m=Qs(s,c);if(m.length)for(var p=Array.prototype.slice.call(arguments,2),_=0;_<m.length;++_)m[_].apply(null,p)}function Jn(s,c,m){return typeof c=="string"&&(c={type:c,preventDefault:function(){this.defaultPrevented=!0}}),Un(s,m||c.type,s,c),Ml(c)||c.codemirrorIgnore}function Ai(s){var c=s._handlers&&s._handlers.cursorActivity;if(c)for(var m=s.curOp.cursorActivityHandlers||(s.curOp.cursorActivityHandlers=[]),p=0;p<c.length;++p)Dt(m,c[p])==-1&&m.push(c[p])}function Wr(s,c){return Qs(s,c).length>0}function fi(s){s.prototype.on=function(c,m){ft(this,c,m)},s.prototype.off=function(c,m){Tr(this,c,m)}}function Ar(s){s.preventDefault?s.preventDefault():s.returnValue=!1}function Uo(s){s.stopPropagation?s.stopPropagation():s.cancelBubble=!0}function Ml(s){return s.defaultPrevented!=null?s.defaultPrevented:s.returnValue==!1}function Ir(s){Ar(s),Uo(s)}function ys(s){return s.target||s.srcElement}function aa(s){var c=s.which;return c==null&&(s.button&1?c=1:s.button&2?c=3:s.button&4&&(c=2)),V&&s.ctrlKey&&c==1&&(c=3),c}var sa=function(){if(u&&f<9)return!1;var s=he("div");return"draggable"in s||"dragDrop"in s}(),Xs;function la(s){if(Xs==null){var c=he("span","");Ee(s,he("span",[c,document.createTextNode("x")])),s.firstChild.offsetHeight!=0&&(Xs=c.offsetWidth<=1&&c.offsetHeight>2&&!(u&&f<8))}var m=Xs?he("span",""):he("span","",null,"display: inline-block; width: 1px; margin-right: -1px");return m.setAttribute("cm-text",""),m}var Ii;function If(s){if(Ii!=null)return Ii;var c=Ee(s,document.createTextNode("AA")),m=He(c,0,1).getBoundingClientRect(),p=He(c,1,2).getBoundingClientRect();return Q(s),!m||m.left==m.right?!1:Ii=p.right-m.right<3}var wu=`

b`.split(/\n/).length!=3?function(s){for(var c=0,m=[],p=s.length;c<=p;){var _=s.indexOf(`
`,c);_==-1&&(_=s.length);var x=s.slice(c,s.charAt(_-1)=="\r"?_-1:_),L=x.indexOf("\r");L!=-1?(m.push(x.slice(0,L)),c+=L+1):(m.push(x),c=_+1)}return m}:function(s){return s.split(/\r\n?|\n/)},Fl=window.getSelection?function(s){try{return s.selectionStart!=s.selectionEnd}catch{return!1}}:function(s){var c;try{c=s.ownerDocument.selection.createRange()}catch{}return!c||c.parentElement()!=s?!1:c.compareEndPoints("StartToEnd",c)!=0},yc=function(){var s=he("div");return"oncopy"in s?!0:(s.setAttribute("oncopy","return;"),typeof s.oncopy=="function")}(),qi=null;function Ki(s){if(qi!=null)return qi;var c=Ee(s,he("span","x")),m=c.getBoundingClientRect(),p=He(c,0,1).getBoundingClientRect();return qi=Math.abs(m.left-p.left)>1}var Vo={},Wa={};function _c(s,c){arguments.length>2&&(c.dependencies=Array.prototype.slice.call(arguments,2)),Vo[s]=c}function Cu(s,c){Wa[s]=c}function ki(s){if(typeof s=="string"&&Wa.hasOwnProperty(s))s=Wa[s];else if(s&&typeof s.name=="string"&&Wa.hasOwnProperty(s.name)){var c=Wa[s.name];typeof c=="string"&&(c={name:c}),s=ge(c,s),s.name=c.name}else{if(typeof s=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(s))return ki("application/xml");if(typeof s=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(s))return ki("application/json")}return typeof s=="string"?{name:s}:s||{name:"null"}}function Bo(s,c){c=ki(c);var m=Vo[c.name];if(!m)return Bo(s,"text/plain");var p=m(s,c);if($o.hasOwnProperty(c.name)){var _=$o[c.name];for(var x in _)_.hasOwnProperty(x)&&(p.hasOwnProperty(x)&&(p["_"+x]=p[x]),p[x]=_[x])}if(p.name=c.name,c.helperType&&(p.helperType=c.helperType),c.modeProps)for(var L in c.modeProps)p[L]=c.modeProps[L];return p}var $o={};function kf(s,c){var m=$o.hasOwnProperty(s)?$o[s]:$o[s]={};_t(c,m)}function Gi(s,c){if(c===!0)return c;if(s.copyState)return s.copyState(c);var m={};for(var p in c){var _=c[p];_ instanceof Array&&(_=_.concat([])),m[p]=_}return m}function Ul(s,c){for(var m;s.innerMode&&(m=s.innerMode(c),!(!m||m.mode==s));)c=m.state,s=m.mode;return m||{mode:s,state:c}}function qa(s,c,m){return s.startState?s.startState(c,m):!0}var Vn=function(s,c,m){this.pos=this.start=0,this.string=s,this.tabSize=c||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=m};Vn.prototype.eol=function(){return this.pos>=this.string.length},Vn.prototype.sol=function(){return this.pos==this.lineStart},Vn.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Vn.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Vn.prototype.eat=function(s){var c=this.string.charAt(this.pos),m;if(typeof s=="string"?m=c==s:m=c&&(s.test?s.test(c):s(c)),m)return++this.pos,c},Vn.prototype.eatWhile=function(s){for(var c=this.pos;this.eat(s););return this.pos>c},Vn.prototype.eatSpace=function(){for(var s=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>s},Vn.prototype.skipToEnd=function(){this.pos=this.string.length},Vn.prototype.skipTo=function(s){var c=this.string.indexOf(s,this.pos);if(c>-1)return this.pos=c,!0},Vn.prototype.backUp=function(s){this.pos-=s},Vn.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=xt(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?xt(this.string,this.lineStart,this.tabSize):0)},Vn.prototype.indentation=function(){return xt(this.string,null,this.tabSize)-(this.lineStart?xt(this.string,this.lineStart,this.tabSize):0)},Vn.prototype.match=function(s,c,m){if(typeof s=="string"){var p=function(L){return m?L.toLowerCase():L},_=this.string.substr(this.pos,s.length);if(p(_)==p(s))return c!==!1&&(this.pos+=s.length),!0}else{var x=this.string.slice(this.pos).match(s);return x&&x.index>0?null:(x&&c!==!1&&(this.pos+=x[0].length),x)}},Vn.prototype.current=function(){return this.string.slice(this.start,this.pos)},Vn.prototype.hideFirstChars=function(s,c){this.lineStart+=s;try{return c()}finally{this.lineStart-=s}},Vn.prototype.lookAhead=function(s){var c=this.lineOracle;return c&&c.lookAhead(s)},Vn.prototype.baseToken=function(){var s=this.lineOracle;return s&&s.baseToken(this.pos)};function mt(s,c){if(c-=s.first,c<0||c>=s.size)throw new Error("There is no line "+(c+s.first)+" in the document.");for(var m=s;!m.lines;)for(var p=0;;++p){var _=m.children[p],x=_.chunkSize();if(c<x){m=_;break}c-=x}return m.lines[c]}function Mr(s,c,m){var p=[],_=c.line;return s.iter(c.line,m.line+1,function(x){var L=x.text;_==m.line&&(L=L.slice(0,m.ch)),_==c.line&&(L=L.slice(c.ch)),p.push(L),++_}),p}function Co(s,c,m){var p=[];return s.iter(c,m,function(_){p.push(_.text)}),p}function So(s,c){var m=c-s.height;if(m)for(var p=s;p;p=p.parent)p.height+=m}function wn(s){if(s.parent==null)return null;for(var c=s.parent,m=Dt(c.lines,s),p=c.parent;p;c=p,p=p.parent)for(var _=0;p.children[_]!=c;++_)m+=p.children[_].chunkSize();return m+c.first}function Aa(s,c){var m=s.first;e:do{for(var p=0;p<s.children.length;++p){var _=s.children[p],x=_.height;if(c<x){s=_;continue e}c-=x,m+=_.chunkSize()}return m}while(!s.lines);for(var L=0;L<s.lines.length;++L){var U=s.lines[L],H=U.height;if(c<H)break;c-=H}return m+L}function Ka(s,c){return c>=s.first&&c<s.first+s.size}function _s(s,c){return String(s.lineNumberFormatter(c+s.firstLineNumber))}function Be(s,c,m){if(m===void 0&&(m=null),!(this instanceof Be))return new Be(s,c,m);this.line=s,this.ch=c,this.sticky=m}function Mt(s,c){return s.line-c.line||s.ch-c.ch}function Js(s,c){return s.sticky==c.sticky&&Mt(s,c)==0}function Ga(s){return Be(s.line,s.ch)}function Ya(s,c){return Mt(s,c)<0?c:s}function Ho(s,c){return Mt(s,c)<0?s:c}function Su(s,c){return Math.max(s.first,Math.min(c,s.first+s.size-1))}function Lt(s,c){if(c.line<s.first)return Be(s.first,0);var m=s.first+s.size-1;return c.line>m?Be(m,mt(s,m).text.length):uo(c,mt(s,c.line).text.length)}function uo(s,c){var m=s.ch;return m==null||m>c?Be(s.line,c):m<0?Be(s.line,0):s}function bs(s,c){for(var m=[],p=0;p<c.length;p++)m[p]=Lt(s,c[p]);return m}var jo=function(s,c){this.state=s,this.lookAhead=c},To=function(s,c,m,p){this.state=c,this.doc=s,this.line=m,this.maxLookAhead=p||0,this.baseTokens=null,this.baseTokenPos=1};To.prototype.lookAhead=function(s){var c=this.doc.getLine(this.line+s);return c!=null&&s>this.maxLookAhead&&(this.maxLookAhead=s),c},To.prototype.baseToken=function(s){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=s;)this.baseTokenPos+=2;var c=this.baseTokens[this.baseTokenPos+1];return{type:c&&c.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-s}},To.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},To.fromSaved=function(s,c,m){return c instanceof jo?new To(s,Gi(s.mode,c.state),m,c.lookAhead):new To(s,Gi(s.mode,c),m)},To.prototype.save=function(s){var c=s!==!1?Gi(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new jo(c,this.maxLookAhead):c};function jn(s,c,m,p){var _=[s.state.modeGen],x={};Au(s,c.text,s.doc.mode,m,function(W,re){return _.push(W,re)},x,p);for(var L=m.state,U=function(W){m.baseTokens=_;var re=s.state.overlays[W],le=1,_e=0;m.state=!0,Au(s,c.text,re.mode,m,function(ve,Oe){for(var Ve=le;_e<ve;){var Xe=_[le];Xe>ve&&_.splice(le,1,ve,_[le+1],Xe),le+=2,_e=Math.min(ve,Xe)}if(Oe)if(re.opaque)_.splice(Ve,le-Ve,ve,"overlay "+Oe),le=Ve+2;else for(;Ve<le;Ve+=2){var ot=_[Ve+1];_[Ve+1]=(ot?ot+" ":"")+"overlay "+Oe}},x),m.state=L,m.baseTokens=null,m.baseTokenPos=1},H=0;H<s.state.overlays.length;++H)U(H);return{styles:_,classes:x.bgClass||x.textClass?x:null}}function Ia(s,c,m){if(!c.styles||c.styles[0]!=s.state.modeGen){var p=Ri(s,wn(c)),_=c.text.length>s.options.maxHighlightLength&&Gi(s.doc.mode,p.state),x=jn(s,c,p);_&&(p.state=_),c.stateAfter=p.save(!_),c.styles=x.styles,x.classes?c.styleClasses=x.classes:c.styleClasses&&(c.styleClasses=null),m===s.doc.highlightFrontier&&(s.doc.modeFrontier=Math.max(s.doc.modeFrontier,++s.doc.highlightFrontier))}return c.styles}function Ri(s,c,m){var p=s.doc,_=s.display;if(!p.mode.startState)return new To(p,!0,c);var x=Es(s,c,m),L=x>p.first&&mt(p,x-1).stateAfter,U=L?To.fromSaved(p,L,x):new To(p,qa(p.mode),x);return p.iter(x,c,function(H){qr(s,H.text,U);var W=U.line;H.stateAfter=W==c-1||W%5==0||W>=_.viewFrom&&W<_.viewTo?U.save():null,U.nextLine()}),m&&(p.modeFrontier=U.line),U}function qr(s,c,m,p){var _=s.doc.mode,x=new Vn(c,s.options.tabSize,m);for(x.start=x.pos=p||0,c==""&&Tu(_,m.state);!x.eol();)Zs(_,x,m.state),x.start=x.pos}function Tu(s,c){if(s.blankLine)return s.blankLine(c);if(s.innerMode){var m=Ul(s,c);if(m.mode.blankLine)return m.mode.blankLine(m.state)}}function Zs(s,c,m,p){for(var _=0;_<10;_++){p&&(p[0]=Ul(s,m).mode);var x=s.token(c,m);if(c.pos>c.start)return x}throw new Error("Mode "+s.name+" failed to advance stream.")}var ua=function(s,c,m){this.start=s.start,this.end=s.pos,this.string=s.current(),this.type=c||null,this.state=m};function Vl(s,c,m,p){var _=s.doc,x=_.mode,L;c=Lt(_,c);var U=mt(_,c.line),H=Ri(s,c.line,m),W=new Vn(U.text,s.options.tabSize,H),re;for(p&&(re=[]);(p||W.pos<c.ch)&&!W.eol();)W.start=W.pos,L=Zs(x,W,H.state),p&&re.push(new ua(W,L,Gi(_.mode,H.state)));return p?re:new ua(W,L,H.state)}function xu(s,c){if(s)for(;;){var m=s.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!m)break;s=s.slice(0,m.index)+s.slice(m.index+m[0].length);var p=m[1]?"bgClass":"textClass";c[p]==null?c[p]=m[2]:new RegExp("(?:^|\\s)"+m[2]+"(?:$|\\s)").test(c[p])||(c[p]+=" "+m[2])}return s}function Au(s,c,m,p,_,x,L){var U=m.flattenSpans;U==null&&(U=s.options.flattenSpans);var H=0,W=null,re=new Vn(c,s.options.tabSize,p),le,_e=s.options.addModeClass&&[null];for(c==""&&xu(Tu(m,p.state),x);!re.eol();){if(re.pos>s.options.maxHighlightLength?(U=!1,L&&qr(s,c,p,re.pos),re.pos=c.length,le=null):le=xu(Zs(m,re,p.state,_e),x),_e){var ve=_e[0].name;ve&&(le="m-"+(le?ve+" "+le:ve))}if(!U||W!=le){for(;H<re.start;)H=Math.min(re.start,H+5e3),_(H,W);W=le}re.start=re.pos}for(;H<re.pos;){var Oe=Math.min(re.pos,H+5e3);_(Oe,W),H=Oe}}function Es(s,c,m){for(var p,_,x=s.doc,L=m?-1:c-(s.doc.mode.innerMode?1e3:100),U=c;U>L;--U){if(U<=x.first)return x.first;var H=mt(x,U-1),W=H.stateAfter;if(W&&(!m||U+(W instanceof jo?W.lookAhead:0)<=x.modeFrontier))return U;var re=xt(H.text,null,s.options.tabSize);(_==null||p>re)&&(_=U-1,p=re)}return _}function ca(s,c){if(s.modeFrontier=Math.min(s.modeFrontier,c),!(s.highlightFrontier<c-10)){for(var m=s.first,p=c-1;p>m;p--){var _=mt(s,p).stateAfter;if(_&&(!(_ instanceof jo)||p+_.lookAhead<c)){m=p+1;break}}s.highlightFrontier=Math.min(s.highlightFrontier,m)}}var fa=!1,xo=!1;function ws(){fa=!0}function da(){xo=!0}function ha(s,c,m){this.marker=s,this.from=c,this.to=m}function Oi(s,c){if(s)for(var m=0;m<s.length;++m){var p=s[m];if(p.marker==c)return p}}function Rf(s,c){for(var m,p=0;p<s.length;++p)s[p]!=c&&(m||(m=[])).push(s[p]);return m}function co(s,c,m){var p=m&&window.WeakSet&&(m.markedSpans||(m.markedSpans=new WeakSet));p&&s.markedSpans&&p.has(s.markedSpans)?s.markedSpans.push(c):(s.markedSpans=s.markedSpans?s.markedSpans.concat([c]):[c],p&&p.add(s.markedSpans)),c.marker.attachLine(s)}function el(s,c,m){var p;if(s)for(var _=0;_<s.length;++_){var x=s[_],L=x.marker,U=x.from==null||(L.inclusiveLeft?x.from<=c:x.from<c);if(U||x.from==c&&L.type=="bookmark"&&(!m||!x.marker.insertLeft)){var H=x.to==null||(L.inclusiveRight?x.to>=c:x.to>c);(p||(p=[])).push(new ha(L,x.from,H?null:x.to))}}return p}function bc(s,c,m){var p;if(s)for(var _=0;_<s.length;++_){var x=s[_],L=x.marker,U=x.to==null||(L.inclusiveRight?x.to>=c:x.to>c);if(U||x.from==c&&L.type=="bookmark"&&(!m||x.marker.insertLeft)){var H=x.from==null||(L.inclusiveLeft?x.from<=c:x.from<c);(p||(p=[])).push(new ha(L,H?null:x.from-c,x.to==null?null:x.to-c))}}return p}function zo(s,c){if(c.full)return null;var m=Ka(s,c.from.line)&&mt(s,c.from.line).markedSpans,p=Ka(s,c.to.line)&&mt(s,c.to.line).markedSpans;if(!m&&!p)return null;var _=c.from.ch,x=c.to.ch,L=Mt(c.from,c.to)==0,U=el(m,_,L),H=bc(p,x,L),W=c.text.length==1,re=Ot(c.text).length+(W?_:0);if(U)for(var le=0;le<U.length;++le){var _e=U[le];if(_e.to==null){var ve=Oi(H,_e.marker);ve?W&&(_e.to=ve.to==null?null:ve.to+re):_e.to=_}}if(H)for(var Oe=0;Oe<H.length;++Oe){var Ve=H[Oe];if(Ve.to!=null&&(Ve.to+=re),Ve.from==null){var Xe=Oi(U,Ve.marker);Xe||(Ve.from=re,W&&(U||(U=[])).push(Ve))}else Ve.from+=re,W&&(U||(U=[])).push(Ve)}U&&(U=Cs(U)),H&&H!=U&&(H=Cs(H));var ot=[U];if(!W){var ct=c.text.length-2,it;if(ct>0&&U)for(var gt=0;gt<U.length;++gt)U[gt].to==null&&(it||(it=[])).push(new ha(U[gt].marker,null,null));for(var Nt=0;Nt<ct;++Nt)ot.push(it);ot.push(H)}return ot}function Cs(s){for(var c=0;c<s.length;++c){var m=s[c];m.from!=null&&m.from==m.to&&m.marker.clearWhenEmpty!==!1&&s.splice(c--,1)}return s.length?s:null}function Iu(s,c,m){var p=null;if(s.iter(c.line,m.line+1,function(ve){if(ve.markedSpans)for(var Oe=0;Oe<ve.markedSpans.length;++Oe){var Ve=ve.markedSpans[Oe].marker;Ve.readOnly&&(!p||Dt(p,Ve)==-1)&&(p||(p=[])).push(Ve)}}),!p)return null;for(var _=[{from:c,to:m}],x=0;x<p.length;++x)for(var L=p[x],U=L.find(0),H=0;H<_.length;++H){var W=_[H];if(!(Mt(W.to,U.from)<0||Mt(W.from,U.to)>0)){var re=[H,1],le=Mt(W.from,U.from),_e=Mt(W.to,U.to);(le<0||!L.inclusiveLeft&&!le)&&re.push({from:W.from,to:U.from}),(_e>0||!L.inclusiveRight&&!_e)&&re.push({from:U.to,to:W.to}),_.splice.apply(_,re),H+=re.length-3}}return _}function Cn(s){var c=s.markedSpans;if(c){for(var m=0;m<c.length;++m)c[m].marker.detachLine(s);s.markedSpans=null}}function Sn(s,c){if(c){for(var m=0;m<c.length;++m)c[m].marker.attachLine(s);s.markedSpans=c}}function oe(s){return s.inclusiveLeft?-1:0}function ye(s){return s.inclusiveRight?1:0}function Le(s,c){var m=s.lines.length-c.lines.length;if(m!=0)return m;var p=s.find(),_=c.find(),x=Mt(p.from,_.from)||oe(s)-oe(c);if(x)return-x;var L=Mt(p.to,_.to)||ye(s)-ye(c);return L||c.id-s.id}function pt(s,c){var m=xo&&s.markedSpans,p;if(m)for(var _=void 0,x=0;x<m.length;++x)_=m[x],_.marker.collapsed&&(c?_.from:_.to)==null&&(!p||Le(p,_.marker)<0)&&(p=_.marker);return p}function zn(s){return pt(s,!0)}function $t(s){return pt(s,!1)}function Tn(s,c){var m=xo&&s.markedSpans,p;if(m)for(var _=0;_<m.length;++_){var x=m[_];x.marker.collapsed&&(x.from==null||x.from<c)&&(x.to==null||x.to>c)&&(!p||Le(p,x.marker)<0)&&(p=x.marker)}return p}function dr(s,c,m,p,_){var x=mt(s,c),L=xo&&x.markedSpans;if(L)for(var U=0;U<L.length;++U){var H=L[U];if(H.marker.collapsed){var W=H.marker.find(0),re=Mt(W.from,m)||oe(H.marker)-oe(_),le=Mt(W.to,p)||ye(H.marker)-ye(_);if(!(re>=0&&le<=0||re<=0&&le>=0)&&(re<=0&&(H.marker.inclusiveRight&&_.inclusiveLeft?Mt(W.to,m)>=0:Mt(W.to,m)>0)||re>=0&&(H.marker.inclusiveRight&&_.inclusiveLeft?Mt(W.from,p)<=0:Mt(W.from,p)<0)))return!0}}}function Ht(s){for(var c;c=zn(s);)s=c.find(-1,!0).line;return s}function Wn(s){for(var c;c=$t(s);)s=c.find(1,!0).line;return s}function Pn(s){for(var c,m;c=$t(s);)s=c.find(1,!0).line,(m||(m=[])).push(s);return m}function Fr(s,c){var m=mt(s,c),p=Ht(m);return m==p?c:wn(p)}function hr(s,c){if(c>s.lastLine())return c;var m=mt(s,c),p;if(!sn(s,m))return c;for(;p=$t(m);)m=p.find(1,!0).line;return wn(m)+1}function sn(s,c){var m=xo&&c.markedSpans;if(m){for(var p=void 0,_=0;_<m.length;++_)if(p=m[_],!!p.marker.collapsed){if(p.from==null)return!0;if(!p.marker.widgetNode&&p.from==0&&p.marker.inclusiveLeft&&ni(s,c,p))return!0}}}function ni(s,c,m){if(m.to==null){var p=m.marker.find(1,!0);return ni(s,p.line,Oi(p.line.markedSpans,m.marker))}if(m.marker.inclusiveRight&&m.to==c.text.length)return!0;for(var _=void 0,x=0;x<c.markedSpans.length;++x)if(_=c.markedSpans[x],_.marker.collapsed&&!_.marker.widgetNode&&_.from==m.to&&(_.to==null||_.to!=m.from)&&(_.marker.inclusiveLeft||m.marker.inclusiveRight)&&ni(s,c,_))return!0}function kr(s){s=Ht(s);for(var c=0,m=s.parent,p=0;p<m.lines.length;++p){var _=m.lines[p];if(_==s)break;c+=_.height}for(var x=m.parent;x;m=x,x=m.parent)for(var L=0;L<x.children.length;++L){var U=x.children[L];if(U==m)break;c+=U.height}return c}function ri(s){if(s.height==0)return 0;for(var c=s.text.length,m,p=s;m=zn(p);){var _=m.find(0,!0);p=_.from.line,c+=_.from.ch-_.to.ch}for(p=s;m=$t(p);){var x=m.find(0,!0);c-=p.text.length-x.from.ch,p=x.to.line,c+=p.text.length-x.to.ch}return c}function Ao(s){var c=s.display,m=s.doc;c.maxLine=mt(m,m.first),c.maxLineLength=ri(c.maxLine),c.maxLineChanged=!0,m.iter(function(p){var _=ri(p);_>c.maxLineLength&&(c.maxLineLength=_,c.maxLine=p)})}var Pi=function(s,c,m){this.text=s,Sn(this,c),this.height=m?m(this):1};Pi.prototype.lineNo=function(){return wn(this)},fi(Pi);function tl(s,c,m,p){s.text=c,s.stateAfter&&(s.stateAfter=null),s.styles&&(s.styles=null),s.order!=null&&(s.order=null),Cn(s),Sn(s,m);var _=p?p(s):1;_!=s.height&&So(s,_)}function Kr(s){s.parent=null,Cn(s)}var X={},ue={};function ke(s,c){if(!s||/^\s*$/.test(s))return null;var m=c.addModeClass?ue:X;return m[s]||(m[s]=s.replace(/\S+/g,"cm-$&"))}function Qe(s,c){var m=Je("span",null,null,h?"padding-right: .1px":null),p={pre:Je("pre",[m],"CodeMirror-line"),content:m,col:0,pos:0,cm:s,trailingSpace:!1,splitSpaces:s.getOption("lineWrapping")};c.measure={};for(var _=0;_<=(c.rest?c.rest.length:0);_++){var x=_?c.rest[_-1]:c.line,L=void 0;p.pos=0,p.addToken=vt,If(s.display.measure)&&(L=Qt(x,s.doc.direction))&&(p.addToken=Xt(p.addToken,L)),p.map=[];var U=c!=s.display.externalMeasured&&wn(x);pr(x,p,Ia(s,x,U)),x.styleClasses&&(x.styleClasses.bgClass&&(p.bgClass=Ae(x.styleClasses.bgClass,p.bgClass||"")),x.styleClasses.textClass&&(p.textClass=Ae(x.styleClasses.textClass,p.textClass||""))),p.map.length==0&&p.map.push(0,0,p.content.appendChild(la(s.display.measure))),_==0?(c.measure.map=p.map,c.measure.cache={}):((c.measure.maps||(c.measure.maps=[])).push(p.map),(c.measure.caches||(c.measure.caches=[])).push({}))}if(h){var H=p.content.lastChild;(/\bcm-tab\b/.test(H.className)||H.querySelector&&H.querySelector(".cm-tab"))&&(p.content.className="cm-tab-wrap-hack")}return Un(s,"renderLine",s,c.line,p.pre),p.pre.className&&(p.textClass=Ae(p.pre.className,p.textClass||"")),p}function At(s){var c=he("span","","cm-invalidchar");return c.title="\\u"+s.charCodeAt(0).toString(16),c.setAttribute("aria-label",c.title),c}function vt(s,c,m,p,_,x,L){if(c){var U=s.splitSpaces?Vt(c,s.trailingSpace):c,H=s.cm.state.specialChars,W=!1,re;if(!H.test(c))s.col+=c.length,re=document.createTextNode(U),s.map.push(s.pos,s.pos+c.length,re),u&&f<9&&(W=!0),s.pos+=c.length;else{re=document.createDocumentFragment();for(var le=0;;){H.lastIndex=le;var _e=H.exec(c),ve=_e?_e.index-le:c.length-le;if(ve){var Oe=document.createTextNode(U.slice(le,le+ve));u&&f<9?re.appendChild(he("span",[Oe])):re.appendChild(Oe),s.map.push(s.pos,s.pos+ve,Oe),s.col+=ve,s.pos+=ve}if(!_e)break;le+=ve+1;var Ve=void 0;if(_e[0]=="	"){var Xe=s.cm.options.tabSize,ot=Xe-s.col%Xe;Ve=re.appendChild(he("span",fn(ot),"cm-tab")),Ve.setAttribute("role","presentation"),Ve.setAttribute("cm-text","	"),s.col+=ot}else _e[0]=="\r"||_e[0]==`
`?(Ve=re.appendChild(he("span",_e[0]=="\r"?"":"","cm-invalidchar")),Ve.setAttribute("cm-text",_e[0]),s.col+=1):(Ve=s.cm.options.specialCharPlaceholder(_e[0]),Ve.setAttribute("cm-text",_e[0]),u&&f<9?re.appendChild(he("span",[Ve])):re.appendChild(Ve),s.col+=1);s.map.push(s.pos,s.pos+1,Ve),s.pos++}}if(s.trailingSpace=U.charCodeAt(c.length-1)==32,m||p||_||W||x||L){var ct=m||"";p&&(ct+=p),_&&(ct+=_);var it=he("span",[re],ct,x);if(L)for(var gt in L)L.hasOwnProperty(gt)&&gt!="style"&&gt!="class"&&it.setAttribute(gt,L[gt]);return s.content.appendChild(it)}s.content.appendChild(re)}}function Vt(s,c){if(s.length>1&&!/  /.test(s))return s;for(var m=c,p="",_=0;_<s.length;_++){var x=s.charAt(_);x==" "&&m&&(_==s.length-1||s.charCodeAt(_+1)==32)&&(x=""),p+=x,m=x==" "}return p}function Xt(s,c){return function(m,p,_,x,L,U,H){_=_?_+" cm-force-border":"cm-force-border";for(var W=m.pos,re=W+p.length;;){for(var le=void 0,_e=0;_e<c.length&&(le=c[_e],!(le.to>W&&le.from<=W));_e++);if(le.to>=re)return s(m,p,_,x,L,U,H);s(m,p.slice(0,le.to-W),_,x,null,U,H),x=null,p=p.slice(le.to-W),W=le.to}}}function Nn(s,c,m,p){var _=!p&&m.widgetNode;_&&s.map.push(s.pos,s.pos+c,_),!p&&s.cm.display.input.needsContentAttribute&&(_||(_=s.content.appendChild(document.createElement("span"))),_.setAttribute("cm-marker",m.id)),_&&(s.cm.display.input.setUneditable(_),s.content.appendChild(_)),s.pos+=c,s.trailingSpace=!1}function pr(s,c,m){var p=s.markedSpans,_=s.text,x=0;if(!p){for(var L=1;L<m.length;L+=2)c.addToken(c,_.slice(x,x=m[L]),ke(m[L+1],c.cm.options));return}for(var U=_.length,H=0,W=1,re="",le,_e,ve=0,Oe,Ve,Xe,ot,ct;;){if(ve==H){Oe=Ve=Xe=_e="",ct=null,ot=null,ve=1/0;for(var it=[],gt=void 0,Nt=0;Nt<p.length;++Nt){var Pt=p[Nt],rn=Pt.marker;if(rn.type=="bookmark"&&Pt.from==H&&rn.widgetNode)it.push(rn);else if(Pt.from<=H&&(Pt.to==null||Pt.to>H||rn.collapsed&&Pt.to==H&&Pt.from==H)){if(Pt.to!=null&&Pt.to!=H&&ve>Pt.to&&(ve=Pt.to,Ve=""),rn.className&&(Oe+=" "+rn.className),rn.css&&(_e=(_e?_e+";":"")+rn.css),rn.startStyle&&Pt.from==H&&(Xe+=" "+rn.startStyle),rn.endStyle&&Pt.to==ve&&(gt||(gt=[])).push(rn.endStyle,Pt.to),rn.title&&((ct||(ct={})).title=rn.title),rn.attributes)for(var lr in rn.attributes)(ct||(ct={}))[lr]=rn.attributes[lr];rn.collapsed&&(!ot||Le(ot.marker,rn)<0)&&(ot=Pt)}else Pt.from>H&&ve>Pt.from&&(ve=Pt.from)}if(gt)for(var ai=0;ai<gt.length;ai+=2)gt[ai+1]==ve&&(Ve+=" "+gt[ai]);if(!ot||ot.from==H)for(var Pr=0;Pr<it.length;++Pr)Nn(c,0,it[Pr]);if(ot&&(ot.from||0)==H){if(Nn(c,(ot.to==null?U+1:ot.to)-H,ot.marker,ot.from==null),ot.to==null)return;ot.to==H&&(ot=!1)}}if(H>=U)break;for(var Yr=Math.min(U,ve);;){if(re){var hi=H+re.length;if(!ot){var pi=hi>Yr?re.slice(0,Yr-H):re;c.addToken(c,pi,le?le+Oe:Oe,Xe,H+pi.length==ve?Ve:"",_e,ct)}if(hi>=Yr){re=re.slice(Yr-H),H=Yr;break}H=hi,Xe=""}re=_.slice(x,x=m[W++]),le=ke(m[W++],c.cm.options)}}}function Ni(s,c,m){this.line=c,this.rest=Pn(c),this.size=this.rest?wn(Ot(this.rest))-m+1:1,this.node=this.text=null,this.hidden=sn(s,c)}function Ur(s,c,m){for(var p=[],_,x=c;x<m;x=_){var L=new Ni(s.doc,mt(s.doc,x),x);_=x+L.size,p.push(L)}return p}var Rr=null;function Io(s){Rr?Rr.ops.push(s):s.ownsGroup=Rr={ops:[s],delayedCallbacks:[]}}function Yi(s){var c=s.delayedCallbacks,m=0;do{for(;m<c.length;m++)c[m].call(null);for(var p=0;p<s.ops.length;p++){var _=s.ops[p];if(_.cursorActivityHandlers)for(;_.cursorActivityCalled<_.cursorActivityHandlers.length;)_.cursorActivityHandlers[_.cursorActivityCalled++].call(null,_.cm)}}while(m<c.length)}function Or(s,c){var m=s.ownsGroup;if(m)try{Yi(m)}finally{Rr=null,c(m)}}var di=null;function Ln(s,c){var m=Qs(s,c);if(m.length){var p=Array.prototype.slice.call(arguments,2),_;Rr?_=Rr.delayedCallbacks:di?_=di:(_=di=[],setTimeout(nl,0));for(var x=function(U){_.push(function(){return m[U].apply(null,p)})},L=0;L<m.length;++L)x(L)}}function nl(){var s=di;di=null;for(var c=0;c<s.length;++c)s[c]()}function E(s,c,m,p){for(var _=0;_<c.changes.length;_++){var x=c.changes[_];x=="text"?Se(s,c):x=="gutter"?st(s,c,m,p):x=="class"?Pe(s,c):x=="widget"&&Zn(s,c,p)}c.changes=null}function M(s){return s.node==s.text&&(s.node=he("div",null,null,"position: relative"),s.text.parentNode&&s.text.parentNode.replaceChild(s.node,s.text),s.node.appendChild(s.text),u&&f<8&&(s.node.style.zIndex=2)),s.node}function j(s,c){var m=c.bgClass?c.bgClass+" "+(c.line.bgClass||""):c.line.bgClass;if(m&&(m+=" CodeMirror-linebackground"),c.background)m?c.background.className=m:(c.background.parentNode.removeChild(c.background),c.background=null);else if(m){var p=M(c);c.background=p.insertBefore(he("div",null,m),p.firstChild),s.display.input.setUneditable(c.background)}}function ee(s,c){var m=s.display.externalMeasured;return m&&m.line==c.line?(s.display.externalMeasured=null,c.measure=m.measure,m.built):Qe(s,c)}function Se(s,c){var m=c.text.className,p=ee(s,c);c.text==c.node&&(c.node=p.pre),c.text.parentNode.replaceChild(p.pre,c.text),c.text=p.pre,p.bgClass!=c.bgClass||p.textClass!=c.textClass?(c.bgClass=p.bgClass,c.textClass=p.textClass,Pe(s,c)):m&&(c.text.className=m)}function Pe(s,c){j(s,c),c.line.wrapClass?M(c).className=c.line.wrapClass:c.node!=c.text&&(c.node.className="");var m=c.textClass?c.textClass+" "+(c.line.textClass||""):c.line.textClass;c.text.className=m||""}function st(s,c,m,p){if(c.gutter&&(c.node.removeChild(c.gutter),c.gutter=null),c.gutterBackground&&(c.node.removeChild(c.gutterBackground),c.gutterBackground=null),c.line.gutterClass){var _=M(c);c.gutterBackground=he("div",null,"CodeMirror-gutter-background "+c.line.gutterClass,"left: "+(s.options.fixedGutter?p.fixedPos:-p.gutterTotalWidth)+"px; width: "+p.gutterTotalWidth+"px"),s.display.input.setUneditable(c.gutterBackground),_.insertBefore(c.gutterBackground,c.text)}var x=c.line.gutterMarkers;if(s.options.lineNumbers||x){var L=M(c),U=c.gutter=he("div",null,"CodeMirror-gutter-wrapper","left: "+(s.options.fixedGutter?p.fixedPos:-p.gutterTotalWidth)+"px");if(U.setAttribute("aria-hidden","true"),s.display.input.setUneditable(U),L.insertBefore(U,c.text),c.line.gutterClass&&(U.className+=" "+c.line.gutterClass),s.options.lineNumbers&&(!x||!x["CodeMirror-linenumbers"])&&(c.lineNumber=U.appendChild(he("div",_s(s.options,m),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+p.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+s.display.lineNumInnerWidth+"px"))),x)for(var H=0;H<s.display.gutterSpecs.length;++H){var W=s.display.gutterSpecs[H].className,re=x.hasOwnProperty(W)&&x[W];re&&U.appendChild(he("div",[re],"CodeMirror-gutter-elt","left: "+p.gutterLeft[W]+"px; width: "+p.gutterWidth[W]+"px"))}}}function Zn(s,c,m){c.alignable&&(c.alignable=null);for(var p=z("CodeMirror-linewidget"),_=c.node.firstChild,x=void 0;_;_=x)x=_.nextSibling,p.test(_.className)&&c.node.removeChild(_);An(s,c,m)}function Qi(s,c,m,p){var _=ee(s,c);return c.text=c.node=_.pre,_.bgClass&&(c.bgClass=_.bgClass),_.textClass&&(c.textClass=_.textClass),Pe(s,c),st(s,c,m,p),An(s,c,p),c.node}function An(s,c,m){if(er(s,c.line,c,m,!0),c.rest)for(var p=0;p<c.rest.length;p++)er(s,c.rest[p],c,m,!1)}function er(s,c,m,p,_){if(c.widgets)for(var x=M(m),L=0,U=c.widgets;L<U.length;++L){var H=U[L],W=he("div",[H.node],"CodeMirror-linewidget"+(H.className?" "+H.className:""));H.handleMouseEvents||W.setAttribute("cm-ignore-events","true"),Li(H,W,m,p),s.display.input.setUneditable(W),_&&H.above?x.insertBefore(W,m.gutter||m.text):x.appendChild(W),Ln(H,"redraw")}}function Li(s,c,m,p){if(s.noHScroll){(m.alignable||(m.alignable=[])).push(c);var _=p.wrapperWidth;c.style.left=p.fixedPos+"px",s.coverGutter||(_-=p.gutterTotalWidth,c.style.paddingLeft=p.gutterTotalWidth+"px"),c.style.width=_+"px"}s.coverGutter&&(c.style.zIndex=5,c.style.position="relative",s.noHScroll||(c.style.marginLeft=-p.gutterTotalWidth+"px"))}function Wo(s){if(s.height!=null)return s.height;var c=s.doc.cm;if(!c)return 0;if(!xe(document.body,s.node)){var m="position: relative;";s.coverGutter&&(m+="margin-left: -"+c.display.gutters.offsetWidth+"px;"),s.noHScroll&&(m+="width: "+c.display.wrapper.clientWidth+"px;"),Ee(c.display.measure,he("div",[s.node],null,m))}return s.height=s.node.parentNode.offsetHeight}function ii(s,c){for(var m=ys(c);m!=s.wrapper;m=m.parentNode)if(!m||m.nodeType==1&&m.getAttribute("cm-ignore-events")=="true"||m.parentNode==s.sizer&&m!=s.mover)return!0}function Bl(s){return s.lineSpace.offsetTop}function Of(s){return s.mover.offsetHeight-s.lineSpace.offsetHeight}function Ow(s){if(s.cachedPaddingH)return s.cachedPaddingH;var c=Ee(s.measure,he("pre","x","CodeMirror-line-like")),m=window.getComputedStyle?window.getComputedStyle(c):c.currentStyle,p={left:parseInt(m.paddingLeft),right:parseInt(m.paddingRight)};return!isNaN(p.left)&&!isNaN(p.right)&&(s.cachedPaddingH=p),p}function $l(s){return Ut-s.display.nativeBarWidth}function Pf(s){return s.display.scroller.clientWidth-$l(s)-s.display.barWidth}function __(s){return s.display.scroller.clientHeight-$l(s)-s.display.barHeight}function Od(s,c,m){var p=s.options.lineWrapping,_=p&&Pf(s);if(!c.measure.heights||p&&c.measure.width!=_){var x=c.measure.heights=[];if(p){c.measure.width=_;for(var L=c.text.firstChild.getClientRects(),U=0;U<L.length-1;U++){var H=L[U],W=L[U+1];Math.abs(H.bottom-W.bottom)>2&&x.push((H.bottom+W.top)/2-m.top)}}x.push(m.bottom-m.top)}}function Pw(s,c,m){if(s.line==c)return{map:s.measure.map,cache:s.measure.cache};if(s.rest){for(var p=0;p<s.rest.length;p++)if(s.rest[p]==c)return{map:s.measure.maps[p],cache:s.measure.caches[p]};for(var _=0;_<s.rest.length;_++)if(wn(s.rest[_])>m)return{map:s.measure.maps[_],cache:s.measure.caches[_],before:!0}}}function z1(s,c){c=Ht(c);var m=wn(c),p=s.display.externalMeasured=new Ni(s.doc,c,m);p.lineN=m;var _=p.built=Qe(s,p);return p.text=_.pre,Ee(s.display.lineMeasure,_.pre),p}function Sg(s,c,m,p){return Xa(s,Qa(s,c),m,p)}function Tg(s,c){if(c>=s.display.viewFrom&&c<s.display.viewTo)return s.display.view[Lf(s,c)];var m=s.display.externalMeasured;if(m&&c>=m.lineN&&c<m.lineN+m.size)return m}function Qa(s,c){var m=wn(c),p=Tg(s,m);p&&!p.text?p=null:p&&p.changes&&(E(s,p,m,Nd(s)),s.curOp.forceUpdate=!0),p||(p=z1(s,c));var _=Pw(p,c,m);return{line:c,view:p,rect:null,map:_.map,cache:_.cache,before:_.before,hasHeights:!1}}function Xa(s,c,m,p,_){c.before&&(m=-1);var x=m+(p||""),L;return c.cache.hasOwnProperty(x)?L=c.cache[x]:(c.rect||(c.rect=c.view.text.getBoundingClientRect()),c.hasHeights||(Od(s,c.view,c.rect),c.hasHeights=!0),L=Pd(s,c,m,p),L.bogus||(c.cache[x]=L)),{left:L.left,right:L.right,top:_?L.rtop:L.top,bottom:_?L.rbottom:L.bottom}}var Nw={left:0,right:0,top:0,bottom:0};function Lw(s,c,m){for(var p,_,x,L,U,H,W=0;W<s.length;W+=3)if(U=s[W],H=s[W+1],c<U?(_=0,x=1,L="left"):c<H?(_=c-U,x=_+1):(W==s.length-3||c==H&&s[W+3]>c)&&(x=H-U,_=x-1,c>=H&&(L="right")),_!=null){if(p=s[W+2],U==H&&m==(p.insertLeft?"left":"right")&&(L=m),m=="left"&&_==0)for(;W&&s[W-2]==s[W-3]&&s[W-1].insertLeft;)p=s[(W-=3)+2],L="left";if(m=="right"&&_==H-U)for(;W<s.length-3&&s[W+3]==s[W+4]&&!s[W+5].insertLeft;)p=s[(W+=3)+2],L="right";break}return{node:p,start:_,end:x,collapse:L,coverStart:U,coverEnd:H}}function W1(s,c){var m=Nw;if(c=="left")for(var p=0;p<s.length&&(m=s[p]).left==m.right;p++);else for(var _=s.length-1;_>=0&&(m=s[_]).left==m.right;_--);return m}function Pd(s,c,m,p){var _=Lw(c.map,m,p),x=_.node,L=_.start,U=_.end,H=_.collapse,W;if(x.nodeType==3){for(var re=0;re<4;re++){for(;L&&De(c.line.text.charAt(_.coverStart+L));)--L;for(;_.coverStart+U<_.coverEnd&&De(c.line.text.charAt(_.coverStart+U));)++U;if(u&&f<9&&L==0&&U==_.coverEnd-_.coverStart?W=x.parentNode.getBoundingClientRect():W=W1(He(x,L,U).getClientRects(),p),W.left||W.right||L==0)break;U=L,L=L-1,H="right"}u&&f<11&&(W=rl(s.display.measure,W))}else{L>0&&(H=p="right");var le;s.options.lineWrapping&&(le=x.getClientRects()).length>1?W=le[p=="right"?le.length-1:0]:W=x.getBoundingClientRect()}if(u&&f<9&&!L&&(!W||!W.left&&!W.right)){var _e=x.parentNode.getClientRects()[0];_e?W={left:_e.left,right:_e.left+Ru(s.display),top:_e.top,bottom:_e.bottom}:W=Nw}for(var ve=W.top-c.rect.top,Oe=W.bottom-c.rect.top,Ve=(ve+Oe)/2,Xe=c.view.measure.heights,ot=0;ot<Xe.length-1&&!(Ve<Xe[ot]);ot++);var ct=ot?Xe[ot-1]:0,it=Xe[ot],gt={left:(H=="right"?W.right:W.left)-c.rect.left,right:(H=="left"?W.left:W.right)-c.rect.left,top:ct,bottom:it};return!W.left&&!W.right&&(gt.bogus=!0),s.options.singleCursorHeightPerLine||(gt.rtop=ve,gt.rbottom=Oe),gt}function rl(s,c){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!Ki(s))return c;var m=screen.logicalXDPI/screen.deviceXDPI,p=screen.logicalYDPI/screen.deviceYDPI;return{left:c.left*m,right:c.right*m,top:c.top*p,bottom:c.bottom*p}}function b_(s){if(s.measure&&(s.measure.cache={},s.measure.heights=null,s.rest))for(var c=0;c<s.rest.length;c++)s.measure.caches[c]={}}function Dw(s){s.display.externalMeasure=null,Q(s.display.lineMeasure);for(var c=0;c<s.display.view.length;c++)b_(s.display.view[c])}function Ep(s){Dw(s),s.display.cachedCharWidth=s.display.cachedTextHeight=s.display.cachedPaddingH=null,s.options.lineWrapping||(s.display.maxLineChanged=!0),s.display.lineNumChars=null}function Mw(s){return y&&O?-(s.body.getBoundingClientRect().left-parseInt(getComputedStyle(s.body).marginLeft)):s.defaultView.pageXOffset||(s.documentElement||s.body).scrollLeft}function Fw(s){return y&&O?-(s.body.getBoundingClientRect().top-parseInt(getComputedStyle(s.body).marginTop)):s.defaultView.pageYOffset||(s.documentElement||s.body).scrollTop}function E_(s){var c=Ht(s),m=c.widgets,p=0;if(m)for(var _=0;_<m.length;++_)m[_].above&&(p+=Wo(m[_]));return p}function ku(s,c,m,p,_){if(!_){var x=E_(c);m.top+=x,m.bottom+=x}if(p=="line")return m;p||(p="local");var L=kr(c);if(p=="local"?L+=Bl(s.display):L-=s.display.viewOffset,p=="page"||p=="window"){var U=s.display.lineSpace.getBoundingClientRect();L+=U.top+(p=="window"?0:Fw(ie(s)));var H=U.left+(p=="window"?0:Mw(ie(s)));m.left+=H,m.right+=H}return m.top+=L,m.bottom+=L,m}function be(s,c,m){if(m=="div")return c;var p=c.left,_=c.top;if(m=="page")p-=Mw(ie(s)),_-=Fw(ie(s));else if(m=="local"||!m){var x=s.display.sizer.getBoundingClientRect();p+=x.left,_+=x.top}var L=s.display.lineSpace.getBoundingClientRect();return{left:p-L.left,top:_-L.top}}function Fe(s,c,m,p,_){return p||(p=mt(s.doc,c.line)),ku(s,p,Sg(s,p,c.ch,_),m)}function Ie(s,c,m,p,_,x){p=p||mt(s.doc,c.line),_||(_=Qa(s,p));function L(Oe,Ve){var Xe=Xa(s,_,Oe,Ve?"right":"left",x);return Ve?Xe.left=Xe.right:Xe.right=Xe.left,ku(s,p,Xe,m)}var U=Qt(p,s.doc.direction),H=c.ch,W=c.sticky;if(H>=p.text.length?(H=p.text.length,W="before"):H<=0&&(H=0,W="after"),!U)return L(W=="before"?H-1:H,W=="before");function re(Oe,Ve,Xe){var ot=U[Ve],ct=ot.level==1;return L(Xe?Oe-1:Oe,ct!=Xe)}var le=rr(U,H,W),_e=pn,ve=re(H,le,W=="before");return _e!=null&&(ve.other=re(H,_e,W!="before")),ve}function bt(s,c){var m=0;c=Lt(s.doc,c),s.options.lineWrapping||(m=Ru(s.display)*c.ch);var p=mt(s.doc,c.line),_=kr(p)+Bl(s.display);return{left:m,right:m,top:_,bottom:_+p.height}}function en(s,c,m,p,_){var x=Be(s,c,m);return x.xRel=_,p&&(x.outside=p),x}function qn(s,c,m){var p=s.doc;if(m+=s.display.viewOffset,m<0)return en(p.first,0,null,-1,-1);var _=Aa(p,m),x=p.first+p.size-1;if(_>x)return en(p.first+p.size-1,mt(p,x).text.length,null,1,1);c<0&&(c=0);for(var L=mt(p,_);;){var U=q1(s,L,_,c,m),H=Tn(L,U.ch+(U.xRel>0||U.outside>0?1:0));if(!H)return U;var W=H.find(1);if(W.line==_)return W;L=mt(p,_=W.line)}}function Di(s,c,m,p){p-=E_(c);var _=c.text.length,x=Tt(function(L){return Xa(s,m,L-1).bottom<=p},_,0);return _=Tt(function(L){return Xa(s,m,L).top>p},x,_),{begin:x,end:_}}function mr(s,c,m,p){m||(m=Qa(s,c));var _=ku(s,c,Xa(s,m,p),"line").top;return Di(s,c,m,_)}function wp(s,c,m,p){return s.bottom<=m?!1:s.top>m?!0:(p?s.left:s.right)>c}function q1(s,c,m,p,_){_-=kr(c);var x=Qa(s,c),L=E_(c),U=0,H=c.text.length,W=!0,re=Qt(c,s.doc.direction);if(re){var le=(s.options.lineWrapping?xg:Ss)(s,c,m,x,re,p,_);W=le.level!=1,U=W?le.from:le.to-1,H=W?le.to:le.from-1}var _e=null,ve=null,Oe=Tt(function(Nt){var Pt=Xa(s,x,Nt);return Pt.top+=L,Pt.bottom+=L,wp(Pt,p,_,!1)?(Pt.top<=_&&Pt.left<=p&&(_e=Nt,ve=Pt),!0):!1},U,H),Ve,Xe,ot=!1;if(ve){var ct=p-ve.left<ve.right-p,it=ct==W;Oe=_e+(it?0:1),Xe=it?"after":"before",Ve=ct?ve.left:ve.right}else{!W&&(Oe==H||Oe==U)&&Oe++,Xe=Oe==0?"after":Oe==c.text.length?"before":Xa(s,x,Oe-(W?1:0)).bottom+L<=_==W?"after":"before";var gt=Ie(s,Be(m,Oe,Xe),"line",c,x);Ve=gt.left,ot=_<gt.top?-1:_>=gt.bottom?1:0}return Oe=Ze(c.text,Oe,1),en(m,Oe,Xe,ot,p-Ve)}function Ss(s,c,m,p,_,x,L){var U=Tt(function(le){var _e=_[le],ve=_e.level!=1;return wp(Ie(s,Be(m,ve?_e.to:_e.from,ve?"before":"after"),"line",c,p),x,L,!0)},0,_.length-1),H=_[U];if(U>0){var W=H.level!=1,re=Ie(s,Be(m,W?H.from:H.to,W?"after":"before"),"line",c,p);wp(re,x,L,!0)&&re.top>L&&(H=_[U-1])}return H}function xg(s,c,m,p,_,x,L){var U=Di(s,c,p,L),H=U.begin,W=U.end;/\s/.test(c.text.charAt(W-1))&&W--;for(var re=null,le=null,_e=0;_e<_.length;_e++){var ve=_[_e];if(!(ve.from>=W||ve.to<=H)){var Oe=ve.level!=1,Ve=Xa(s,p,Oe?Math.min(W,ve.to)-1:Math.max(H,ve.from)).right,Xe=Ve<x?x-Ve+1e9:Ve-x;(!re||le>Xe)&&(re=ve,le=Xe)}}return re||(re=_[_.length-1]),re.from<H&&(re={from:H,to:re.to,level:re.level}),re.to>W&&(re={from:re.from,to:W,level:re.level}),re}var Nf;function il(s){if(s.cachedTextHeight!=null)return s.cachedTextHeight;if(Nf==null){Nf=he("pre",null,"CodeMirror-line-like");for(var c=0;c<49;++c)Nf.appendChild(document.createTextNode("x")),Nf.appendChild(he("br"));Nf.appendChild(document.createTextNode("x"))}Ee(s.measure,Nf);var m=Nf.offsetHeight/50;return m>3&&(s.cachedTextHeight=m),Q(s.measure),m||1}function Ru(s){if(s.cachedCharWidth!=null)return s.cachedCharWidth;var c=he("span","xxxxxxxxxx"),m=he("pre",[c],"CodeMirror-line-like");Ee(s.measure,m);var p=c.getBoundingClientRect(),_=(p.right-p.left)/10;return _>2&&(s.cachedCharWidth=_),_||10}function Nd(s){for(var c=s.display,m={},p={},_=c.gutters.clientLeft,x=c.gutters.firstChild,L=0;x;x=x.nextSibling,++L){var U=s.display.gutterSpecs[L].className;m[U]=x.offsetLeft+x.clientLeft+_,p[U]=x.clientWidth}return{fixedPos:tr(c),gutterTotalWidth:c.gutters.offsetWidth,gutterLeft:m,gutterWidth:p,wrapperWidth:c.wrapper.clientWidth}}function tr(s){return s.scroller.getBoundingClientRect().left-s.sizer.getBoundingClientRect().left}function Uw(s){var c=il(s.display),m=s.options.lineWrapping,p=m&&Math.max(5,s.display.scroller.clientWidth/Ru(s.display)-3);return function(_){if(sn(s.doc,_))return 0;var x=0;if(_.widgets)for(var L=0;L<_.widgets.length;L++)_.widgets[L].height&&(x+=_.widgets[L].height);return m?x+(Math.ceil(_.text.length/p)||1)*c:x+c}}function Ag(s){var c=s.doc,m=Uw(s);c.iter(function(p){var _=m(p);_!=p.height&&So(p,_)})}function Hl(s,c,m,p){var _=s.display;if(!m&&ys(c).getAttribute("cm-not-content")=="true")return null;var x,L,U=_.lineSpace.getBoundingClientRect();try{x=c.clientX-U.left,L=c.clientY-U.top}catch{return null}var H=qn(s,x,L),W;if(p&&H.xRel>0&&(W=mt(s.doc,H.line).text).length==H.ch){var re=xt(W,W.length,s.options.tabSize)-W.length;H=Be(H.line,Math.max(0,Math.round((x-Ow(s.display).left)/Ru(s.display))-re))}return H}function Lf(s,c){if(c>=s.display.viewTo||(c-=s.display.viewFrom,c<0))return null;for(var m=s.display.view,p=0;p<m.length;p++)if(c-=m[p].size,c<0)return p}function pa(s,c,m,p){c==null&&(c=s.doc.first),m==null&&(m=s.doc.first+s.doc.size),p||(p=0);var _=s.display;if(p&&m<_.viewTo&&(_.updateLineNumbers==null||_.updateLineNumbers>c)&&(_.updateLineNumbers=c),s.curOp.viewChanged=!0,c>=_.viewTo)xo&&Fr(s.doc,c)<_.viewTo&&ol(s);else if(m<=_.viewFrom)xo&&hr(s.doc,m+p)>_.viewFrom?ol(s):(_.viewFrom+=p,_.viewTo+=p);else if(c<=_.viewFrom&&m>=_.viewTo)ol(s);else if(c<=_.viewFrom){var x=al(s,m,m+p,1);x?(_.view=_.view.slice(x.index),_.viewFrom=x.lineN,_.viewTo+=p):ol(s)}else if(m>=_.viewTo){var L=al(s,c,c,-1);L?(_.view=_.view.slice(0,L.index),_.viewTo=L.lineN):ol(s)}else{var U=al(s,c,c,-1),H=al(s,m,m+p,1);U&&H?(_.view=_.view.slice(0,U.index).concat(Ur(s,U.lineN,H.lineN)).concat(_.view.slice(H.index)),_.viewTo+=p):ol(s)}var W=_.externalMeasured;W&&(m<W.lineN?W.lineN+=p:c<W.lineN+W.size&&(_.externalMeasured=null))}function Ec(s,c,m){s.curOp.viewChanged=!0;var p=s.display,_=s.display.externalMeasured;if(_&&c>=_.lineN&&c<_.lineN+_.size&&(p.externalMeasured=null),!(c<p.viewFrom||c>=p.viewTo)){var x=p.view[Lf(s,c)];if(x.node!=null){var L=x.changes||(x.changes=[]);Dt(L,m)==-1&&L.push(m)}}}function ol(s){s.display.viewFrom=s.display.viewTo=s.doc.first,s.display.view=[],s.display.viewOffset=0}function al(s,c,m,p){var _=Lf(s,c),x,L=s.display.view;if(!xo||m==s.doc.first+s.doc.size)return{index:_,lineN:m};for(var U=s.display.viewFrom,H=0;H<_;H++)U+=L[H].size;if(U!=c){if(p>0){if(_==L.length-1)return null;x=U+L[_].size-c,_++}else x=U-c;c+=x,m+=x}for(;Fr(s.doc,m)!=m;){if(_==(p<0?0:L.length-1))return null;m+=p*L[_-(p<0?1:0)].size,_+=p}return{index:_,lineN:m}}function Ig(s,c,m){var p=s.display,_=p.view;_.length==0||c>=p.viewTo||m<=p.viewFrom?(p.view=Ur(s,c,m),p.viewFrom=c):(p.viewFrom>c?p.view=Ur(s,c,p.viewFrom).concat(p.view):p.viewFrom<c&&(p.view=p.view.slice(Lf(s,c))),p.viewFrom=c,p.viewTo<m?p.view=p.view.concat(Ur(s,p.viewTo,m)):p.viewTo>m&&(p.view=p.view.slice(0,Lf(s,m)))),p.viewTo=m}function w_(s){for(var c=s.display.view,m=0,p=0;p<c.length;p++){var _=c[p];!_.hidden&&(!_.node||_.changes)&&++m}return m}function wc(s){s.display.input.showSelection(s.display.input.prepareSelection())}function C_(s,c){c===void 0&&(c=!0);var m=s.doc,p={},_=p.cursors=document.createDocumentFragment(),x=p.selection=document.createDocumentFragment(),L=s.options.$customCursor;L&&(c=!0);for(var U=0;U<m.sel.ranges.length;U++)if(!(!c&&U==m.sel.primIndex)){var H=m.sel.ranges[U];if(!(H.from().line>=s.display.viewTo||H.to().line<s.display.viewFrom)){var W=H.empty();if(L){var re=L(s,H);re&&kg(s,re,_)}else(W||s.options.showCursorWhenSelecting)&&kg(s,H.head,_);W||Vw(s,H,x)}}return p}function kg(s,c,m){var p=Ie(s,c,"div",null,null,!s.options.singleCursorHeightPerLine),_=m.appendChild(he("div","","CodeMirror-cursor"));if(_.style.left=p.left+"px",_.style.top=p.top+"px",_.style.height=Math.max(0,p.bottom-p.top)*s.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(s.getWrapperElement().className)){var x=Fe(s,c,"div",null,null),L=x.right-x.left;_.style.width=(L>0?L:s.defaultCharWidth())+"px"}if(p.other){var U=m.appendChild(he("div","","CodeMirror-cursor CodeMirror-secondarycursor"));U.style.display="",U.style.left=p.other.left+"px",U.style.top=p.other.top+"px",U.style.height=(p.other.bottom-p.other.top)*.85+"px"}}function Df(s,c){return s.top-c.top||s.left-c.left}function Vw(s,c,m){var p=s.display,_=s.doc,x=document.createDocumentFragment(),L=Ow(s.display),U=L.left,H=Math.max(p.sizerWidth,Pf(s)-p.sizer.offsetLeft)-L.right,W=_.direction=="ltr";function re(it,gt,Nt,Pt){gt<0&&(gt=0),gt=Math.round(gt),Pt=Math.round(Pt),x.appendChild(he("div",null,"CodeMirror-selected","position: absolute; left: "+it+`px;
                             top: `+gt+"px; width: "+(Nt??H-it)+`px;
                             height: `+(Pt-gt)+"px"))}function le(it,gt,Nt){var Pt=mt(_,it),rn=Pt.text.length,lr,ai;function Pr(pi,Ko){return Fe(s,Be(it,pi),"div",Pt,Ko)}function Yr(pi,Ko,po){var Fi=mr(s,Pt,null,pi),mi=Ko=="ltr"==(po=="after")?"left":"right",Qr=po=="after"?Fi.begin:Fi.end-(/\s/.test(Pt.text.charAt(Fi.end-1))?2:1);return Pr(Qr,mi)[mi]}var hi=Qt(Pt,_.direction);return hn(hi,gt||0,Nt??rn,function(pi,Ko,po,Fi){var mi=po=="ltr",Qr=Pr(pi,mi?"left":"right"),ma=Pr(Ko-1,mi?"right":"left"),th=gt==null&&pi==0,Lc=Nt==null&&Ko==rn,Ro=Fi==0,Gl=!hi||Fi==hi.length-1;if(ma.top-Qr.top<=3){var to=(W?th:Lc)&&Ro,Z_=(W?Lc:th)&&Gl,Yl=to?U:(mi?Qr:ma).left,Dc=Z_?H:(mi?ma:Qr).right;re(Yl,Qr.top,Dc-Yl,Qr.bottom)}else{var Mc,Go,nh,eb;mi?(Mc=W&&th&&Ro?U:Qr.left,Go=W?H:Yr(pi,po,"before"),nh=W?U:Yr(Ko,po,"after"),eb=W&&Lc&&Gl?H:ma.right):(Mc=W?Yr(pi,po,"before"):U,Go=!W&&th&&Ro?H:Qr.right,nh=!W&&Lc&&Gl?U:ma.left,eb=W?Yr(Ko,po,"after"):H),re(Mc,Qr.top,Go-Mc,Qr.bottom),Qr.bottom<ma.top&&re(U,Qr.bottom,null,ma.top),re(nh,ma.top,eb-nh,ma.bottom)}(!lr||Df(Qr,lr)<0)&&(lr=Qr),Df(ma,lr)<0&&(lr=ma),(!ai||Df(Qr,ai)<0)&&(ai=Qr),Df(ma,ai)<0&&(ai=ma)}),{start:lr,end:ai}}var _e=c.from(),ve=c.to();if(_e.line==ve.line)le(_e.line,_e.ch,ve.ch);else{var Oe=mt(_,_e.line),Ve=mt(_,ve.line),Xe=Ht(Oe)==Ht(Ve),ot=le(_e.line,_e.ch,Xe?Oe.text.length+1:null).end,ct=le(ve.line,Xe?0:null,ve.ch).start;Xe&&(ot.top<ct.top-2?(re(ot.right,ot.top,null,ot.bottom),re(U,ct.top,ct.left,ct.bottom)):re(ot.right,ot.top,ct.left-ot.right,ot.bottom)),ot.bottom<ct.top&&re(U,ot.bottom,null,ct.top)}m.appendChild(x)}function Mf(s){if(s.state.focused){var c=s.display;clearInterval(c.blinker);var m=!0;c.cursorDiv.style.visibility="",s.options.cursorBlinkRate>0?c.blinker=setInterval(function(){s.hasFocus()||Dd(s),c.cursorDiv.style.visibility=(m=!m)?"":"hidden"},s.options.cursorBlinkRate):s.options.cursorBlinkRate<0&&(c.cursorDiv.style.visibility="hidden")}}function Cc(s){s.hasFocus()||(s.display.input.focus(),s.state.focused||S_(s))}function Ld(s){s.state.delayingBlurEvent=!0,setTimeout(function(){s.state.delayingBlurEvent&&(s.state.delayingBlurEvent=!1,s.state.focused&&Dd(s))},100)}function S_(s,c){s.state.delayingBlurEvent&&!s.state.draggingText&&(s.state.delayingBlurEvent=!1),s.options.readOnly!="nocursor"&&(s.state.focused||(Un(s,"focus",s,c),s.state.focused=!0,J(s.display.wrapper,"CodeMirror-focused"),!s.curOp&&s.display.selForContextMenu!=s.doc.sel&&(s.display.input.reset(),h&&setTimeout(function(){return s.display.input.reset(!0)},20)),s.display.input.receivedFocus()),Mf(s))}function Dd(s,c){s.state.delayingBlurEvent||(s.state.focused&&(Un(s,"blur",s,c),s.state.focused=!1,K(s.display.wrapper,"CodeMirror-focused")),clearInterval(s.display.blinker),setTimeout(function(){s.state.focused||(s.display.shift=!1)},150))}function Rg(s){for(var c=s.display,m=c.lineDiv.offsetTop,p=Math.max(0,c.scroller.getBoundingClientRect().top),_=c.lineDiv.getBoundingClientRect().top,x=0,L=0;L<c.view.length;L++){var U=c.view[L],H=s.options.lineWrapping,W=void 0,re=0;if(!U.hidden){if(_+=U.line.height,u&&f<8){var le=U.node.offsetTop+U.node.offsetHeight;W=le-m,m=le}else{var _e=U.node.getBoundingClientRect();W=_e.bottom-_e.top,!H&&U.text.firstChild&&(re=U.text.firstChild.getBoundingClientRect().right-_e.left-1)}var ve=U.line.height-W;if((ve>.005||ve<-.005)&&(_<p&&(x-=ve),So(U.line,W),Cp(U.line),U.rest))for(var Oe=0;Oe<U.rest.length;Oe++)Cp(U.rest[Oe]);if(re>s.display.sizerWidth){var Ve=Math.ceil(re/Ru(s.display));Ve>s.display.maxLineLength&&(s.display.maxLineLength=Ve,s.display.maxLine=U.line,s.display.maxLineChanged=!0)}}}Math.abs(x)>2&&(c.scroller.scrollTop+=x)}function Cp(s){if(s.widgets)for(var c=0;c<s.widgets.length;++c){var m=s.widgets[c],p=m.node.parentNode;p&&(m.height=p.offsetHeight)}}function Ff(s,c,m){var p=m&&m.top!=null?Math.max(0,m.top):s.scroller.scrollTop;p=Math.floor(p-Bl(s));var _=m&&m.bottom!=null?m.bottom:p+s.wrapper.clientHeight,x=Aa(c,p),L=Aa(c,_);if(m&&m.ensure){var U=m.ensure.from.line,H=m.ensure.to.line;U<x?(x=U,L=Aa(c,kr(mt(c,U))+s.wrapper.clientHeight)):Math.min(H,c.lastLine())>=L&&(x=Aa(c,kr(mt(c,H))-s.wrapper.clientHeight),L=H)}return{from:x,to:Math.max(L,x+1)}}function T_(s,c){if(!Jn(s,"scrollCursorIntoView")){var m=s.display,p=m.sizer.getBoundingClientRect(),_=null,x=m.wrapper.ownerDocument;if(c.top+p.top<0?_=!0:c.bottom+p.top>(x.defaultView.innerHeight||x.documentElement.clientHeight)&&(_=!1),_!=null&&!I){var L=he("div","",null,`position: absolute;
                         top: `+(c.top-m.viewOffset-Bl(s.display))+`px;
                         height: `+(c.bottom-c.top+$l(s)+m.barHeight)+`px;
                         left: `+c.left+"px; width: "+Math.max(2,c.right-c.left)+"px;");s.display.lineSpace.appendChild(L),L.scrollIntoView(_),s.display.lineSpace.removeChild(L)}}}function K1(s,c,m,p){p==null&&(p=0);var _;!s.options.lineWrapping&&c==m&&(m=c.sticky=="before"?Be(c.line,c.ch+1,"before"):c,c=c.ch?Be(c.line,c.sticky=="before"?c.ch-1:c.ch,"after"):c);for(var x=0;x<5;x++){var L=!1,U=Ie(s,c),H=!m||m==c?U:Ie(s,m);_={left:Math.min(U.left,H.left),top:Math.min(U.top,H.top)-p,right:Math.max(U.left,H.left),bottom:Math.max(U.bottom,H.bottom)+p};var W=x_(s,_),re=s.doc.scrollTop,le=s.doc.scrollLeft;if(W.scrollTop!=null&&(Sp(s,W.scrollTop),Math.abs(s.doc.scrollTop-re)>1&&(L=!0)),W.scrollLeft!=null&&(sl(s,W.scrollLeft),Math.abs(s.doc.scrollLeft-le)>1&&(L=!0)),!L)break}return _}function Bw(s,c){var m=x_(s,c);m.scrollTop!=null&&Sp(s,m.scrollTop),m.scrollLeft!=null&&sl(s,m.scrollLeft)}function x_(s,c){var m=s.display,p=il(s.display);c.top<0&&(c.top=0);var _=s.curOp&&s.curOp.scrollTop!=null?s.curOp.scrollTop:m.scroller.scrollTop,x=__(s),L={};c.bottom-c.top>x&&(c.bottom=c.top+x);var U=s.doc.height+Of(m),H=c.top<p,W=c.bottom>U-p;if(c.top<_)L.scrollTop=H?0:c.top;else if(c.bottom>_+x){var re=Math.min(c.top,(W?U:c.bottom)-x);re!=_&&(L.scrollTop=re)}var le=s.options.fixedGutter?0:m.gutters.offsetWidth,_e=s.curOp&&s.curOp.scrollLeft!=null?s.curOp.scrollLeft:m.scroller.scrollLeft-le,ve=Pf(s)-m.gutters.offsetWidth,Oe=c.right-c.left>ve;return Oe&&(c.right=c.left+ve),c.left<10?L.scrollLeft=0:c.left<_e?L.scrollLeft=Math.max(0,c.left+le-(Oe?0:10)):c.right>ve+_e-3&&(L.scrollLeft=c.right+(Oe?0:10)-ve),L}function A_(s,c){c!=null&&(Og(s),s.curOp.scrollTop=(s.curOp.scrollTop==null?s.doc.scrollTop:s.curOp.scrollTop)+c)}function Vr(s){Og(s);var c=s.getCursor();s.curOp.scrollToPos={from:c,to:c,margin:s.options.cursorScrollMargin}}function Mi(s,c,m){(c!=null||m!=null)&&Og(s),c!=null&&(s.curOp.scrollLeft=c),m!=null&&(s.curOp.scrollTop=m)}function G1(s,c){Og(s),s.curOp.scrollToPos=c}function Og(s){var c=s.curOp.scrollToPos;if(c){s.curOp.scrollToPos=null;var m=bt(s,c.from),p=bt(s,c.to);I_(s,m,p,c.margin)}}function I_(s,c,m,p){var _=x_(s,{left:Math.min(c.left,m.left),top:Math.min(c.top,m.top)-p,right:Math.max(c.right,m.right),bottom:Math.max(c.bottom,m.bottom)+p});Mi(s,_.scrollLeft,_.scrollTop)}function Sp(s,c){Math.abs(s.doc.scrollTop-c)<2||(i||ll(s,{top:c}),Pg(s,c,!0),i&&ll(s),Ap(s,100))}function Pg(s,c,m){c=Math.max(0,Math.min(s.display.scroller.scrollHeight-s.display.scroller.clientHeight,c)),!(s.display.scroller.scrollTop==c&&!m)&&(s.doc.scrollTop=c,s.display.scrollbars.setScrollTop(c),s.display.scroller.scrollTop!=c&&(s.display.scroller.scrollTop=c))}function sl(s,c,m,p){c=Math.max(0,Math.min(c,s.display.scroller.scrollWidth-s.display.scroller.clientWidth)),!((m?c==s.doc.scrollLeft:Math.abs(s.doc.scrollLeft-c)<2)&&!p)&&(s.doc.scrollLeft=c,zw(s),s.display.scroller.scrollLeft!=c&&(s.display.scroller.scrollLeft=c),s.display.scrollbars.setScrollLeft(c))}function Uf(s){var c=s.display,m=c.gutters.offsetWidth,p=Math.round(s.doc.height+Of(s.display));return{clientHeight:c.scroller.clientHeight,viewHeight:c.wrapper.clientHeight,scrollWidth:c.scroller.scrollWidth,clientWidth:c.scroller.clientWidth,viewWidth:c.wrapper.clientWidth,barLeft:s.options.fixedGutter?m:0,docHeight:p,scrollHeight:p+$l(s)+c.barHeight,nativeBarWidth:c.nativeBarWidth,gutterWidth:m}}var Ts=function(s,c,m){this.cm=m;var p=this.vert=he("div",[he("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),_=this.horiz=he("div",[he("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");p.tabIndex=_.tabIndex=-1,s(p),s(_),ft(p,"scroll",function(){p.clientHeight&&c(p.scrollTop,"vertical")}),ft(_,"scroll",function(){_.clientWidth&&c(_.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,u&&f<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Ts.prototype.update=function(s){var c=s.scrollWidth>s.clientWidth+1,m=s.scrollHeight>s.clientHeight+1,p=s.nativeBarWidth;if(m){this.vert.style.display="block",this.vert.style.bottom=c?p+"px":"0";var _=s.viewHeight-(c?p:0);this.vert.firstChild.style.height=Math.max(0,s.scrollHeight-s.clientHeight+_)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(c){this.horiz.style.display="block",this.horiz.style.right=m?p+"px":"0",this.horiz.style.left=s.barLeft+"px";var x=s.viewWidth-s.barLeft-(m?p:0);this.horiz.firstChild.style.width=Math.max(0,s.scrollWidth-s.clientWidth+x)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&s.clientHeight>0&&(p==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:m?p:0,bottom:c?p:0}},Ts.prototype.setScrollLeft=function(s){this.horiz.scrollLeft!=s&&(this.horiz.scrollLeft=s),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Ts.prototype.setScrollTop=function(s){this.vert.scrollTop!=s&&(this.vert.scrollTop=s),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Ts.prototype.zeroWidthHack=function(){var s=V&&!R?"12px":"18px";this.horiz.style.height=this.vert.style.width=s,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new Et,this.disableVert=new Et},Ts.prototype.enableZeroWidthBar=function(s,c,m){s.style.visibility="";function p(){var _=s.getBoundingClientRect(),x=m=="vert"?document.elementFromPoint(_.right-1,(_.top+_.bottom)/2):document.elementFromPoint((_.right+_.left)/2,_.bottom-1);x!=s?s.style.visibility="hidden":c.set(1e3,p)}c.set(1e3,p)},Ts.prototype.clear=function(){var s=this.horiz.parentNode;s.removeChild(this.horiz),s.removeChild(this.vert)};var Ou=function(){};Ou.prototype.update=function(){return{bottom:0,right:0}},Ou.prototype.setScrollLeft=function(){},Ou.prototype.setScrollTop=function(){},Ou.prototype.clear=function(){};function jl(s,c){c||(c=Uf(s));var m=s.display.barWidth,p=s.display.barHeight;Tp(s,c);for(var _=0;_<4&&m!=s.display.barWidth||p!=s.display.barHeight;_++)m!=s.display.barWidth&&s.options.lineWrapping&&Rg(s),Tp(s,Uf(s)),m=s.display.barWidth,p=s.display.barHeight}function Tp(s,c){var m=s.display,p=m.scrollbars.update(c);m.sizer.style.paddingRight=(m.barWidth=p.right)+"px",m.sizer.style.paddingBottom=(m.barHeight=p.bottom)+"px",m.heightForcer.style.borderBottom=p.bottom+"px solid transparent",p.right&&p.bottom?(m.scrollbarFiller.style.display="block",m.scrollbarFiller.style.height=p.bottom+"px",m.scrollbarFiller.style.width=p.right+"px"):m.scrollbarFiller.style.display="",p.bottom&&s.options.coverGutterNextToScrollbar&&s.options.fixedGutter?(m.gutterFiller.style.display="block",m.gutterFiller.style.height=p.bottom+"px",m.gutterFiller.style.width=c.gutterWidth+"px"):m.gutterFiller.style.display=""}var Vf={native:Ts,null:Ou};function $w(s){s.display.scrollbars&&(s.display.scrollbars.clear(),s.display.scrollbars.addClass&&K(s.display.wrapper,s.display.scrollbars.addClass)),s.display.scrollbars=new Vf[s.options.scrollbarStyle](function(c){s.display.wrapper.insertBefore(c,s.display.scrollbarFiller),ft(c,"mousedown",function(){s.state.focused&&setTimeout(function(){return s.display.input.focus()},0)}),c.setAttribute("cm-not-content","true")},function(c,m){m=="horizontal"?sl(s,c):Sp(s,c)},s),s.display.scrollbars.addClass&&J(s.display.wrapper,s.display.scrollbars.addClass)}var Y1=0;function Bf(s){s.curOp={cm:s,viewChanged:!1,startHeight:s.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Y1,markArrays:null},Io(s.curOp)}function $f(s){var c=s.curOp;c&&Or(c,function(m){for(var p=0;p<m.ops.length;p++)m.ops[p].cm.curOp=null;Q1(m)})}function Q1(s){for(var c=s.ops,m=0;m<c.length;m++)Ng(c[m]);for(var p=0;p<c.length;p++)xp(c[p]);for(var _=0;_<c.length;_++)Hw(c[_]);for(var x=0;x<c.length;x++)Z(c[x]);for(var L=0;L<c.length;L++)Md(c[L])}function Ng(s){var c=s.cm,m=c.display;J1(c),s.updateMaxLine&&Ao(c),s.mustUpdate=s.viewChanged||s.forceUpdate||s.scrollTop!=null||s.scrollToPos&&(s.scrollToPos.from.line<m.viewFrom||s.scrollToPos.to.line>=m.viewTo)||m.maxLineChanged&&c.options.lineWrapping,s.update=s.mustUpdate&&new zl(c,s.mustUpdate&&{top:s.scrollTop,ensure:s.scrollToPos},s.forceUpdate)}function xp(s){s.updatedDisplay=s.mustUpdate&&k_(s.cm,s.update)}function Hw(s){var c=s.cm,m=c.display;s.updatedDisplay&&Rg(c),s.barMeasure=Uf(c),m.maxLineChanged&&!c.options.lineWrapping&&(s.adjustWidthTo=Sg(c,m.maxLine,m.maxLine.text.length).left+3,c.display.sizerWidth=s.adjustWidthTo,s.barMeasure.scrollWidth=Math.max(m.scroller.clientWidth,m.sizer.offsetLeft+s.adjustWidthTo+$l(c)+c.display.barWidth),s.maxScrollLeft=Math.max(0,m.sizer.offsetLeft+s.adjustWidthTo-Pf(c))),(s.updatedDisplay||s.selectionChanged)&&(s.preparedSelection=m.input.prepareSelection())}function Z(s){var c=s.cm;s.adjustWidthTo!=null&&(c.display.sizer.style.minWidth=s.adjustWidthTo+"px",s.maxScrollLeft<c.doc.scrollLeft&&sl(c,Math.min(c.display.scroller.scrollLeft,s.maxScrollLeft),!0),c.display.maxLineChanged=!1);var m=s.focus&&s.focus==Te(lt(c));s.preparedSelection&&c.display.input.showSelection(s.preparedSelection,m),(s.updatedDisplay||s.startHeight!=c.doc.height)&&jl(c,s.barMeasure),s.updatedDisplay&&O_(c,s.barMeasure),s.selectionChanged&&Mf(c),c.state.focused&&s.updateInput&&c.display.input.reset(s.typing),m&&Cc(s.cm)}function Md(s){var c=s.cm,m=c.display,p=c.doc;if(s.updatedDisplay&&jw(c,s.update),m.wheelStartX!=null&&(s.scrollTop!=null||s.scrollLeft!=null||s.scrollToPos)&&(m.wheelStartX=m.wheelStartY=null),s.scrollTop!=null&&Pg(c,s.scrollTop,s.forceScroll),s.scrollLeft!=null&&sl(c,s.scrollLeft,!0,!0),s.scrollToPos){var _=K1(c,Lt(p,s.scrollToPos.from),Lt(p,s.scrollToPos.to),s.scrollToPos.margin);T_(c,_)}var x=s.maybeHiddenMarkers,L=s.maybeUnhiddenMarkers;if(x)for(var U=0;U<x.length;++U)x[U].lines.length||Un(x[U],"hide");if(L)for(var H=0;H<L.length;++H)L[H].lines.length&&Un(L[H],"unhide");m.wrapper.offsetHeight&&(p.scrollTop=c.display.scroller.scrollTop),s.changeObjs&&Un(c,"changes",c,s.changeObjs),s.update&&s.update.finish()}function ko(s,c){if(s.curOp)return c();Bf(s);try{return c()}finally{$f(s)}}function ir(s,c){return function(){if(s.curOp)return c.apply(s,arguments);Bf(s);try{return c.apply(s,arguments)}finally{$f(s)}}}function zt(s){return function(){if(this.curOp)return s.apply(this,arguments);Bf(this);try{return s.apply(this,arguments)}finally{$f(this)}}}function Xi(s){return function(){var c=this.cm;if(!c||c.curOp)return s.apply(this,arguments);Bf(c);try{return s.apply(this,arguments)}finally{$f(c)}}}function Ap(s,c){s.doc.highlightFrontier<s.display.viewTo&&s.state.highlight.set(c,et(X1,s))}function X1(s){var c=s.doc;if(!(c.highlightFrontier>=s.display.viewTo)){var m=+new Date+s.options.workTime,p=Ri(s,c.highlightFrontier),_=[];c.iter(p.line,Math.min(c.first+c.size,s.display.viewTo+500),function(x){if(p.line>=s.display.viewFrom){var L=x.styles,U=x.text.length>s.options.maxHighlightLength?Gi(c.mode,p.state):null,H=jn(s,x,p,!0);U&&(p.state=U),x.styles=H.styles;var W=x.styleClasses,re=H.classes;re?x.styleClasses=re:W&&(x.styleClasses=null);for(var le=!L||L.length!=x.styles.length||W!=re&&(!W||!re||W.bgClass!=re.bgClass||W.textClass!=re.textClass),_e=0;!le&&_e<L.length;++_e)le=L[_e]!=x.styles[_e];le&&_.push(p.line),x.stateAfter=p.save(),p.nextLine()}else x.text.length<=s.options.maxHighlightLength&&qr(s,x.text,p),x.stateAfter=p.line%5==0?p.save():null,p.nextLine();if(+new Date>m)return Ap(s,s.options.workDelay),!0}),c.highlightFrontier=p.line,c.modeFrontier=Math.max(c.modeFrontier,p.line),_.length&&ko(s,function(){for(var x=0;x<_.length;x++)Ec(s,_[x],"text")})}}var zl=function(s,c,m){var p=s.display;this.viewport=c,this.visible=Ff(p,s.doc,c),this.editorIsHidden=!p.wrapper.offsetWidth,this.wrapperHeight=p.wrapper.clientHeight,this.wrapperWidth=p.wrapper.clientWidth,this.oldDisplayWidth=Pf(s),this.force=m,this.dims=Nd(s),this.events=[]};zl.prototype.signal=function(s,c){Wr(s,c)&&this.events.push(arguments)},zl.prototype.finish=function(){for(var s=0;s<this.events.length;s++)Un.apply(null,this.events[s])};function J1(s){var c=s.display;!c.scrollbarsClipped&&c.scroller.offsetWidth&&(c.nativeBarWidth=c.scroller.offsetWidth-c.scroller.clientWidth,c.heightForcer.style.height=$l(s)+"px",c.sizer.style.marginBottom=-c.nativeBarWidth+"px",c.sizer.style.borderRightWidth=$l(s)+"px",c.scrollbarsClipped=!0)}function Z1(s){if(s.hasFocus())return null;var c=Te(lt(s));if(!c||!xe(s.display.lineDiv,c))return null;var m={activeElt:c};if(window.getSelection){var p=ut(s).getSelection();p.anchorNode&&p.extend&&xe(s.display.lineDiv,p.anchorNode)&&(m.anchorNode=p.anchorNode,m.anchorOffset=p.anchorOffset,m.focusNode=p.focusNode,m.focusOffset=p.focusOffset)}return m}function ek(s){if(!(!s||!s.activeElt||s.activeElt==Te(Ge(s.activeElt)))&&(s.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(s.activeElt.nodeName)&&s.anchorNode&&xe(document.body,s.anchorNode)&&xe(document.body,s.focusNode))){var c=s.activeElt.ownerDocument,m=c.defaultView.getSelection(),p=c.createRange();p.setEnd(s.anchorNode,s.anchorOffset),p.collapse(!1),m.removeAllRanges(),m.addRange(p),m.extend(s.focusNode,s.focusOffset)}}function k_(s,c){var m=s.display,p=s.doc;if(c.editorIsHidden)return ol(s),!1;if(!c.force&&c.visible.from>=m.viewFrom&&c.visible.to<=m.viewTo&&(m.updateLineNumbers==null||m.updateLineNumbers>=m.viewTo)&&m.renderedView==m.view&&w_(s)==0)return!1;Ww(s)&&(ol(s),c.dims=Nd(s));var _=p.first+p.size,x=Math.max(c.visible.from-s.options.viewportMargin,p.first),L=Math.min(_,c.visible.to+s.options.viewportMargin);m.viewFrom<x&&x-m.viewFrom<20&&(x=Math.max(p.first,m.viewFrom)),m.viewTo>L&&m.viewTo-L<20&&(L=Math.min(_,m.viewTo)),xo&&(x=Fr(s.doc,x),L=hr(s.doc,L));var U=x!=m.viewFrom||L!=m.viewTo||m.lastWrapHeight!=c.wrapperHeight||m.lastWrapWidth!=c.wrapperWidth;Ig(s,x,L),m.viewOffset=kr(mt(s.doc,m.viewFrom)),s.display.mover.style.top=m.viewOffset+"px";var H=w_(s);if(!U&&H==0&&!c.force&&m.renderedView==m.view&&(m.updateLineNumbers==null||m.updateLineNumbers>=m.viewTo))return!1;var W=Z1(s);return H>4&&(m.lineDiv.style.display="none"),tk(s,m.updateLineNumbers,c.dims),H>4&&(m.lineDiv.style.display=""),m.renderedView=m.view,ek(W),Q(m.cursorDiv),Q(m.selectionDiv),m.gutters.style.height=m.sizer.style.minHeight=0,U&&(m.lastWrapHeight=c.wrapperHeight,m.lastWrapWidth=c.wrapperWidth,Ap(s,400)),m.updateLineNumbers=null,!0}function jw(s,c){for(var m=c.viewport,p=!0;;p=!1){if(!p||!s.options.lineWrapping||c.oldDisplayWidth==Pf(s)){if(m&&m.top!=null&&(m={top:Math.min(s.doc.height+Of(s.display)-__(s),m.top)}),c.visible=Ff(s.display,s.doc,m),c.visible.from>=s.display.viewFrom&&c.visible.to<=s.display.viewTo)break}else p&&(c.visible=Ff(s.display,s.doc,m));if(!k_(s,c))break;Rg(s);var _=Uf(s);wc(s),jl(s,_),O_(s,_),c.force=!1}c.signal(s,"update",s),(s.display.viewFrom!=s.display.reportedViewFrom||s.display.viewTo!=s.display.reportedViewTo)&&(c.signal(s,"viewportChange",s,s.display.viewFrom,s.display.viewTo),s.display.reportedViewFrom=s.display.viewFrom,s.display.reportedViewTo=s.display.viewTo)}function ll(s,c){var m=new zl(s,c);if(k_(s,m)){Rg(s),jw(s,m);var p=Uf(s);wc(s),jl(s,p),O_(s,p),m.finish()}}function tk(s,c,m){var p=s.display,_=s.options.lineNumbers,x=p.lineDiv,L=x.firstChild;function U(Oe){var Ve=Oe.nextSibling;return h&&V&&s.display.currentWheelTarget==Oe?Oe.style.display="none":Oe.parentNode.removeChild(Oe),Ve}for(var H=p.view,W=p.viewFrom,re=0;re<H.length;re++){var le=H[re];if(!le.hidden)if(!le.node||le.node.parentNode!=x){var _e=Qi(s,le,W,m);x.insertBefore(_e,L)}else{for(;L!=le.node;)L=U(L);var ve=_&&c!=null&&c<=W&&le.lineNumber;le.changes&&(Dt(le.changes,"gutter")>-1&&(ve=!1),E(s,le,W,m)),ve&&(Q(le.lineNumber),le.lineNumber.appendChild(document.createTextNode(_s(s.options,W)))),L=le.node.nextSibling}W+=le.size}for(;L;)L=U(L)}function R_(s){var c=s.gutters.offsetWidth;s.sizer.style.marginLeft=c+"px",Ln(s,"gutterChanged",s)}function O_(s,c){s.display.sizer.style.minHeight=c.docHeight+"px",s.display.heightForcer.style.top=c.docHeight+"px",s.display.gutters.style.height=c.docHeight+s.display.barHeight+$l(s)+"px"}function zw(s){var c=s.display,m=c.view;if(!(!c.alignWidgets&&(!c.gutters.firstChild||!s.options.fixedGutter))){for(var p=tr(c)-c.scroller.scrollLeft+s.doc.scrollLeft,_=c.gutters.offsetWidth,x=p+"px",L=0;L<m.length;L++)if(!m[L].hidden){s.options.fixedGutter&&(m[L].gutter&&(m[L].gutter.style.left=x),m[L].gutterBackground&&(m[L].gutterBackground.style.left=x));var U=m[L].alignable;if(U)for(var H=0;H<U.length;H++)U[H].style.left=x}s.options.fixedGutter&&(c.gutters.style.left=p+_+"px")}}function Ww(s){if(!s.options.lineNumbers)return!1;var c=s.doc,m=_s(s.options,c.first+c.size-1),p=s.display;if(m.length!=p.lineNumChars){var _=p.measure.appendChild(he("div",[he("div",m)],"CodeMirror-linenumber CodeMirror-gutter-elt")),x=_.firstChild.offsetWidth,L=_.offsetWidth-x;return p.lineGutter.style.width="",p.lineNumInnerWidth=Math.max(x,p.lineGutter.offsetWidth-L)+1,p.lineNumWidth=p.lineNumInnerWidth+L,p.lineNumChars=p.lineNumInnerWidth?m.length:-1,p.lineGutter.style.width=p.lineNumWidth+"px",R_(s.display),!0}return!1}function ul(s,c){for(var m=[],p=!1,_=0;_<s.length;_++){var x=s[_],L=null;if(typeof x!="string"&&(L=x.style,x=x.className),x=="CodeMirror-linenumbers")if(c)p=!0;else continue;m.push({className:x,style:L})}return c&&!p&&m.push({className:"CodeMirror-linenumbers",style:null}),m}function qw(s){var c=s.gutters,m=s.gutterSpecs;Q(c),s.lineGutter=null;for(var p=0;p<m.length;++p){var _=m[p],x=_.className,L=_.style,U=c.appendChild(he("div",null,"CodeMirror-gutter "+x));L&&(U.style.cssText=L),x=="CodeMirror-linenumbers"&&(s.lineGutter=U,U.style.width=(s.lineNumWidth||1)+"px")}c.style.display=m.length?"":"none",R_(s)}function Ip(s){qw(s.display),pa(s),zw(s)}function nk(s,c,m,p){var _=this;this.input=m,_.scrollbarFiller=he("div",null,"CodeMirror-scrollbar-filler"),_.scrollbarFiller.setAttribute("cm-not-content","true"),_.gutterFiller=he("div",null,"CodeMirror-gutter-filler"),_.gutterFiller.setAttribute("cm-not-content","true"),_.lineDiv=Je("div",null,"CodeMirror-code"),_.selectionDiv=he("div",null,null,"position: relative; z-index: 1"),_.cursorDiv=he("div",null,"CodeMirror-cursors"),_.measure=he("div",null,"CodeMirror-measure"),_.lineMeasure=he("div",null,"CodeMirror-measure"),_.lineSpace=Je("div",[_.measure,_.lineMeasure,_.selectionDiv,_.cursorDiv,_.lineDiv],null,"position: relative; outline: none");var x=Je("div",[_.lineSpace],"CodeMirror-lines");_.mover=he("div",[x],null,"position: relative"),_.sizer=he("div",[_.mover],"CodeMirror-sizer"),_.sizerWidth=null,_.heightForcer=he("div",null,null,"position: absolute; height: "+Ut+"px; width: 1px;"),_.gutters=he("div",null,"CodeMirror-gutters"),_.lineGutter=null,_.scroller=he("div",[_.sizer,_.heightForcer,_.gutters],"CodeMirror-scroll"),_.scroller.setAttribute("tabIndex","-1"),_.wrapper=he("div",[_.scrollbarFiller,_.gutterFiller,_.scroller],"CodeMirror"),y&&w>=105&&(_.wrapper.style.clipPath="inset(0px)"),_.wrapper.setAttribute("translate","no"),u&&f<8&&(_.gutters.style.zIndex=-1,_.scroller.style.paddingRight=0),!h&&!(i&&A)&&(_.scroller.draggable=!0),s&&(s.appendChild?s.appendChild(_.wrapper):s(_.wrapper)),_.viewFrom=_.viewTo=c.first,_.reportedViewFrom=_.reportedViewTo=c.first,_.view=[],_.renderedView=null,_.externalMeasured=null,_.viewOffset=0,_.lastWrapHeight=_.lastWrapWidth=0,_.updateLineNumbers=null,_.nativeBarWidth=_.barHeight=_.barWidth=0,_.scrollbarsClipped=!1,_.lineNumWidth=_.lineNumInnerWidth=_.lineNumChars=null,_.alignWidgets=!1,_.cachedCharWidth=_.cachedTextHeight=_.cachedPaddingH=null,_.maxLine=null,_.maxLineLength=0,_.maxLineChanged=!1,_.wheelDX=_.wheelDY=_.wheelStartX=_.wheelStartY=null,_.shift=!1,_.selForContextMenu=null,_.activeTouch=null,_.gutterSpecs=ul(p.gutters,p.lineNumbers),qw(_),m.init(_)}var Lg=0,Pu=null;u?Pu=-.53:i?Pu=15:y?Pu=-.7:C&&(Pu=-1/3);function Sc(s){var c=s.wheelDeltaX,m=s.wheelDeltaY;return c==null&&s.detail&&s.axis==s.HORIZONTAL_AXIS&&(c=s.detail),m==null&&s.detail&&s.axis==s.VERTICAL_AXIS?m=s.detail:m==null&&(m=s.wheelDelta),{x:c,y:m}}function rk(s){var c=Sc(s);return c.x*=Pu,c.y*=Pu,c}function Kw(s,c){y&&w==102&&(s.display.chromeScrollHack==null?s.display.sizer.style.pointerEvents="none":clearTimeout(s.display.chromeScrollHack),s.display.chromeScrollHack=setTimeout(function(){s.display.chromeScrollHack=null,s.display.sizer.style.pointerEvents=""},100));var m=Sc(c),p=m.x,_=m.y,x=Pu;c.deltaMode===0&&(p=c.deltaX,_=c.deltaY,x=1);var L=s.display,U=L.scroller,H=U.scrollWidth>U.clientWidth,W=U.scrollHeight>U.clientHeight;if(p&&H||_&&W){if(_&&V&&h){e:for(var re=c.target,le=L.view;re!=U;re=re.parentNode)for(var _e=0;_e<le.length;_e++)if(le[_e].node==re){s.display.currentWheelTarget=re;break e}}if(p&&!i&&!T&&x!=null){_&&W&&Sp(s,Math.max(0,U.scrollTop+_*x)),sl(s,Math.max(0,U.scrollLeft+p*x)),(!_||_&&W)&&Ar(c),L.wheelStartX=null;return}if(_&&x!=null){var ve=_*x,Oe=s.doc.scrollTop,Ve=Oe+L.wrapper.clientHeight;ve<0?Oe=Math.max(0,Oe+ve-50):Ve=Math.min(s.doc.height,Ve+ve+50),ll(s,{top:Oe,bottom:Ve})}Lg<20&&c.deltaMode!==0&&(L.wheelStartX==null?(L.wheelStartX=U.scrollLeft,L.wheelStartY=U.scrollTop,L.wheelDX=p,L.wheelDY=_,setTimeout(function(){if(L.wheelStartX!=null){var Xe=U.scrollLeft-L.wheelStartX,ot=U.scrollTop-L.wheelStartY,ct=ot&&L.wheelDY&&ot/L.wheelDY||Xe&&L.wheelDX&&Xe/L.wheelDX;L.wheelStartX=L.wheelStartY=null,ct&&(Pu=(Pu*Lg+ct)/(Lg+1),++Lg)}},200)):(L.wheelDX+=p,L.wheelDY+=_))}}var Gr=function(s,c){this.ranges=s,this.primIndex=c};Gr.prototype.primary=function(){return this.ranges[this.primIndex]},Gr.prototype.equals=function(s){if(s==this)return!0;if(s.primIndex!=this.primIndex||s.ranges.length!=this.ranges.length)return!1;for(var c=0;c<this.ranges.length;c++){var m=this.ranges[c],p=s.ranges[c];if(!Js(m.anchor,p.anchor)||!Js(m.head,p.head))return!1}return!0},Gr.prototype.deepCopy=function(){for(var s=[],c=0;c<this.ranges.length;c++)s[c]=new Yn(Ga(this.ranges[c].anchor),Ga(this.ranges[c].head));return new Gr(s,this.primIndex)},Gr.prototype.somethingSelected=function(){for(var s=0;s<this.ranges.length;s++)if(!this.ranges[s].empty())return!0;return!1},Gr.prototype.contains=function(s,c){c||(c=s);for(var m=0;m<this.ranges.length;m++){var p=this.ranges[m];if(Mt(c,p.from())>=0&&Mt(s,p.to())<=0)return m}return-1};var Yn=function(s,c){this.anchor=s,this.head=c};Yn.prototype.from=function(){return Ho(this.anchor,this.head)},Yn.prototype.to=function(){return Ya(this.anchor,this.head)},Yn.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function cl(s,c,m){var p=s&&s.options.selectionsMayTouch,_=c[m];c.sort(function(_e,ve){return Mt(_e.from(),ve.from())}),m=Dt(c,_);for(var x=1;x<c.length;x++){var L=c[x],U=c[x-1],H=Mt(U.to(),L.from());if(p&&!L.empty()?H>0:H>=0){var W=Ho(U.from(),L.from()),re=Ya(U.to(),L.to()),le=U.empty()?L.from()==L.head:U.from()==U.head;x<=m&&--m,c.splice(--x,2,new Yn(le?re:W,le?W:re))}}return new Gr(c,m)}function Tc(s,c){return new Gr([new Yn(s,c||s)],0)}function xc(s){return s.text?Be(s.from.line+s.text.length-1,Ot(s.text).length+(s.text.length==1?s.from.ch:0)):s.to}function Gw(s,c){if(Mt(s,c.from)<0)return s;if(Mt(s,c.to)<=0)return xc(c);var m=s.line+c.text.length-(c.to.line-c.from.line)-1,p=s.ch;return s.line==c.to.line&&(p+=xc(c).ch-c.to.ch),Be(m,p)}function Dg(s,c){for(var m=[],p=0;p<s.sel.ranges.length;p++){var _=s.sel.ranges[p];m.push(new Yn(Gw(_.anchor,c),Gw(_.head,c)))}return cl(s.cm,m,s.sel.primIndex)}function P_(s,c,m){return s.line==c.line?Be(m.line,s.ch-c.ch+m.ch):Be(m.line+(s.line-c.line),s.ch)}function ik(s,c,m){for(var p=[],_=Be(s.first,0),x=_,L=0;L<c.length;L++){var U=c[L],H=P_(U.from,_,x),W=P_(xc(U),_,x);if(_=U.to,x=W,m=="around"){var re=s.sel.ranges[L],le=Mt(re.head,re.anchor)<0;p[L]=new Yn(le?W:H,le?H:W)}else p[L]=new Yn(H,H)}return new Gr(p,s.sel.primIndex)}function N_(s){s.doc.mode=Bo(s.options,s.doc.modeOption),Hf(s)}function Hf(s){s.doc.iter(function(c){c.stateAfter&&(c.stateAfter=null),c.styles&&(c.styles=null)}),s.doc.modeFrontier=s.doc.highlightFrontier=s.doc.first,Ap(s,100),s.state.modeGen++,s.curOp&&pa(s)}function Fd(s,c){return c.from.ch==0&&c.to.ch==0&&Ot(c.text)==""&&(!s.cm||s.cm.options.wholeLineUpdateBefore)}function Ud(s,c,m,p){function _(ct){return m?m[ct]:null}function x(ct,it,gt){tl(ct,it,gt,p),Ln(ct,"change",ct,c)}function L(ct,it){for(var gt=[],Nt=ct;Nt<it;++Nt)gt.push(new Pi(W[Nt],_(Nt),p));return gt}var U=c.from,H=c.to,W=c.text,re=mt(s,U.line),le=mt(s,H.line),_e=Ot(W),ve=_(W.length-1),Oe=H.line-U.line;if(c.full)s.insert(0,L(0,W.length)),s.remove(W.length,s.size-W.length);else if(Fd(s,c)){var Ve=L(0,W.length-1);x(le,le.text,ve),Oe&&s.remove(U.line,Oe),Ve.length&&s.insert(U.line,Ve)}else if(re==le)if(W.length==1)x(re,re.text.slice(0,U.ch)+_e+re.text.slice(H.ch),ve);else{var Xe=L(1,W.length-1);Xe.push(new Pi(_e+re.text.slice(H.ch),ve,p)),x(re,re.text.slice(0,U.ch)+W[0],_(0)),s.insert(U.line+1,Xe)}else if(W.length==1)x(re,re.text.slice(0,U.ch)+W[0]+le.text.slice(H.ch),_(0)),s.remove(U.line+1,Oe);else{x(re,re.text.slice(0,U.ch)+W[0],_(0)),x(le,_e+le.text.slice(H.ch),ve);var ot=L(1,W.length-1);Oe>1&&s.remove(U.line+1,Oe-1),s.insert(U.line+1,ot)}Ln(s,"change",s,c)}function Ac(s,c,m){function p(_,x,L){if(_.linked)for(var U=0;U<_.linked.length;++U){var H=_.linked[U];if(H.doc!=x){var W=L&&H.sharedHist;m&&!W||(c(H.doc,W),p(H.doc,_,W))}}}p(s,null,!0)}function L_(s,c){if(c.cm)throw new Error("This document is already in use.");s.doc=c,c.cm=s,Ag(s),N_(s),Yw(s),s.options.direction=c.direction,s.options.lineWrapping||Ao(s),s.options.mode=c.modeOption,pa(s)}function Yw(s){(s.doc.direction=="rtl"?J:K)(s.display.lineDiv,"CodeMirror-rtl")}function Nu(s){ko(s,function(){Yw(s),pa(s)})}function Vd(s){this.done=[],this.undone=[],this.undoDepth=s?s.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=s?s.maxGeneration:1}function Lu(s,c){var m={from:Ga(c.from),to:xc(c),text:Mr(s,c.from,c.to)};return M_(s,m,c.from.line,c.to.line+1),Ac(s,function(p){return M_(p,m,c.from.line,c.to.line+1)},!0),m}function Ja(s){for(;s.length;){var c=Ot(s);if(c.ranges)s.pop();else break}}function ok(s,c){if(c)return Ja(s.done),Ot(s.done);if(s.done.length&&!Ot(s.done).ranges)return Ot(s.done);if(s.done.length>1&&!s.done[s.done.length-2].ranges)return s.done.pop(),Ot(s.done)}function D_(s,c,m,p){var _=s.history;_.undone.length=0;var x=+new Date,L,U;if((_.lastOp==p||_.lastOrigin==c.origin&&c.origin&&(c.origin.charAt(0)=="+"&&_.lastModTime>x-(s.cm?s.cm.options.historyEventDelay:500)||c.origin.charAt(0)=="*"))&&(L=ok(_,_.lastOp==p)))U=Ot(L.changes),Mt(c.from,c.to)==0&&Mt(c.from,U.to)==0?U.to=xc(c):L.changes.push(Lu(s,c));else{var H=Ot(_.done);for((!H||!H.ranges)&&fl(s.sel,_.done),L={changes:[Lu(s,c)],generation:_.generation},_.done.push(L);_.done.length>_.undoDepth;)_.done.shift(),_.done[0].ranges||_.done.shift()}_.done.push(m),_.generation=++_.maxGeneration,_.lastModTime=_.lastSelTime=x,_.lastOp=_.lastSelOp=p,_.lastOrigin=_.lastSelOrigin=c.origin,U||Un(s,"historyAdded")}function Qw(s,c,m,p){var _=c.charAt(0);return _=="*"||_=="+"&&m.ranges.length==p.ranges.length&&m.somethingSelected()==p.somethingSelected()&&new Date-s.history.lastSelTime<=(s.cm?s.cm.options.historyEventDelay:500)}function kp(s,c,m,p){var _=s.history,x=p&&p.origin;m==_.lastSelOp||x&&_.lastSelOrigin==x&&(_.lastModTime==_.lastSelTime&&_.lastOrigin==x||Qw(s,x,Ot(_.done),c))?_.done[_.done.length-1]=c:fl(c,_.done),_.lastSelTime=+new Date,_.lastSelOrigin=x,_.lastSelOp=m,p&&p.clearRedo!==!1&&Ja(_.undone)}function fl(s,c){var m=Ot(c);m&&m.ranges&&m.equals(s)||c.push(s)}function M_(s,c,m,p){var _=c["spans_"+s.id],x=0;s.iter(Math.max(s.first,m),Math.min(s.first+s.size,p),function(L){L.markedSpans&&((_||(_=c["spans_"+s.id]={}))[x]=L.markedSpans),++x})}function ak(s){if(!s)return null;for(var c,m=0;m<s.length;++m)s[m].marker.explicitlyCleared?c||(c=s.slice(0,m)):c&&c.push(s[m]);return c?c.length?c:null:s}function Mg(s,c){var m=c["spans_"+s.id];if(!m)return null;for(var p=[],_=0;_<c.text.length;++_)p.push(ak(m[_]));return p}function Xw(s,c){var m=Mg(s,c),p=zo(s,c);if(!m)return p;if(!p)return m;for(var _=0;_<m.length;++_){var x=m[_],L=p[_];if(x&&L)e:for(var U=0;U<L.length;++U){for(var H=L[U],W=0;W<x.length;++W)if(x[W].marker==H.marker)continue e;x.push(H)}else L&&(m[_]=L)}return m}function jf(s,c,m){for(var p=[],_=0;_<s.length;++_){var x=s[_];if(x.ranges){p.push(m?Gr.prototype.deepCopy.call(x):x);continue}var L=x.changes,U=[];p.push({changes:U});for(var H=0;H<L.length;++H){var W=L[H],re=void 0;if(U.push({from:W.from,to:W.to,text:W.text}),c)for(var le in W)(re=le.match(/^spans_(\d+)$/))&&Dt(c,Number(re[1]))>-1&&(Ot(U)[le]=W[le],delete W[le])}}return p}function Ji(s,c,m,p){if(p){var _=s.anchor;if(m){var x=Mt(c,_)<0;x!=Mt(m,_)<0?(_=c,c=m):x!=Mt(c,m)<0&&(c=m)}return new Yn(_,c)}else return new Yn(m||c,c)}function Bd(s,c,m,p,_){_==null&&(_=s.cm&&(s.cm.display.shift||s.extend)),fo(s,new Gr([Ji(s.sel.primary(),c,m,_)],0),p)}function F_(s,c,m){for(var p=[],_=s.cm&&(s.cm.display.shift||s.extend),x=0;x<s.sel.ranges.length;x++)p[x]=Ji(s.sel.ranges[x],c[x],null,_);var L=cl(s.cm,p,s.sel.primIndex);fo(s,L,m)}function xs(s,c,m,p){var _=s.sel.ranges.slice(0);_[c]=m,fo(s,cl(s.cm,_,s.sel.primIndex),p)}function Fg(s,c,m,p){fo(s,Tc(c,m),p)}function Ug(s,c,m){var p={ranges:c.ranges,update:function(_){this.ranges=[];for(var x=0;x<_.length;x++)this.ranges[x]=new Yn(Lt(s,_[x].anchor),Lt(s,_[x].head))},origin:m&&m.origin};return Un(s,"beforeSelectionChange",s,p),s.cm&&Un(s.cm,"beforeSelectionChange",s.cm,p),p.ranges!=c.ranges?cl(s.cm,p.ranges,p.ranges.length-1):c}function Ic(s,c,m){var p=s.history.done,_=Ot(p);_&&_.ranges?(p[p.length-1]=c,ho(s,c,m)):fo(s,c,m)}function fo(s,c,m){ho(s,c,m),kp(s,s.sel,s.cm?s.cm.curOp.id:NaN,m)}function ho(s,c,m){(Wr(s,"beforeSelectionChange")||s.cm&&Wr(s.cm,"beforeSelectionChange"))&&(c=Ug(s,c,m));var p=m&&m.bias||(Mt(c.primary().head,s.sel.primary().head)<0?-1:1);Vg(s,Zw(s,c,p,!0)),!(m&&m.scroll===!1)&&s.cm&&s.cm.getOption("readOnly")!="nocursor"&&Vr(s.cm)}function Vg(s,c){c.equals(s.sel)||(s.sel=c,s.cm&&(s.cm.curOp.updateInput=1,s.cm.curOp.selectionChanged=!0,Ai(s.cm)),Ln(s,"cursorActivity",s))}function Jw(s){Vg(s,Zw(s,s.sel,null,!1))}function Zw(s,c,m,p){for(var _,x=0;x<c.ranges.length;x++){var L=c.ranges[x],U=c.ranges.length==s.sel.ranges.length&&s.sel.ranges[x],H=Hd(s,L.anchor,U&&U.anchor,m,p),W=L.head==L.anchor?H:Hd(s,L.head,U&&U.head,m,p);(_||H!=L.anchor||W!=L.head)&&(_||(_=c.ranges.slice(0,x)),_[x]=new Yn(H,W))}return _?cl(s.cm,_,c.primIndex):c}function $d(s,c,m,p,_){var x=mt(s,c.line);if(x.markedSpans)for(var L=0;L<x.markedSpans.length;++L){var U=x.markedSpans[L],H=U.marker,W="selectLeft"in H?!H.selectLeft:H.inclusiveLeft,re="selectRight"in H?!H.selectRight:H.inclusiveRight;if((U.from==null||(W?U.from<=c.ch:U.from<c.ch))&&(U.to==null||(re?U.to>=c.ch:U.to>c.ch))){if(_&&(Un(H,"beforeCursorEnter"),H.explicitlyCleared))if(x.markedSpans){--L;continue}else break;if(!H.atomic)continue;if(m){var le=H.find(p<0?1:-1),_e=void 0;if((p<0?re:W)&&(le=eC(s,le,-p,le&&le.line==c.line?x:null)),le&&le.line==c.line&&(_e=Mt(le,m))&&(p<0?_e<0:_e>0))return $d(s,le,c,p,_)}var ve=H.find(p<0?-1:1);return(p<0?W:re)&&(ve=eC(s,ve,p,ve.line==c.line?x:null)),ve?$d(s,ve,c,p,_):null}}return c}function Hd(s,c,m,p,_){var x=p||1,L=$d(s,c,m,x,_)||!_&&$d(s,c,m,x,!0)||$d(s,c,m,-x,_)||!_&&$d(s,c,m,-x,!0);return L||(s.cantEdit=!0,Be(s.first,0))}function eC(s,c,m,p){return m<0&&c.ch==0?c.line>s.first?Lt(s,Be(c.line-1)):null:m>0&&c.ch==(p||mt(s,c.line)).text.length?c.line<s.first+s.size-1?Be(c.line+1,0):null:new Be(c.line,c.ch+m)}function jd(s){s.setSelection(Be(s.firstLine(),0),Be(s.lastLine()),nt)}function U_(s,c,m){var p={canceled:!1,from:c.from,to:c.to,text:c.text,origin:c.origin,cancel:function(){return p.canceled=!0}};return m&&(p.update=function(_,x,L,U){_&&(p.from=Lt(s,_)),x&&(p.to=Lt(s,x)),L&&(p.text=L),U!==void 0&&(p.origin=U)}),Un(s,"beforeChange",s,p),s.cm&&Un(s.cm,"beforeChange",s.cm,p),p.canceled?(s.cm&&(s.cm.curOp.updateInput=2),null):{from:p.from,to:p.to,text:p.text,origin:p.origin}}function zd(s,c,m){if(s.cm){if(!s.cm.curOp)return ir(s.cm,zd)(s,c,m);if(s.cm.state.suppressEdits)return}if(!((Wr(s,"beforeChange")||s.cm&&Wr(s.cm,"beforeChange"))&&(c=U_(s,c,!0),!c))){var p=fa&&!m&&Iu(s,c.from,c.to);if(p)for(var _=p.length-1;_>=0;--_)tC(s,{from:p[_].from,to:p[_].to,text:_?[""]:c.text,origin:c.origin});else tC(s,c)}}function tC(s,c){if(!(c.text.length==1&&c.text[0]==""&&Mt(c.from,c.to)==0)){var m=Dg(s,c);D_(s,c,m,s.cm?s.cm.curOp.id:NaN),Rp(s,c,m,zo(s,c));var p=[];Ac(s,function(_,x){!x&&Dt(p,_.history)==-1&&(oC(_.history,c),p.push(_.history)),Rp(_,c,null,zo(_,c))})}}function kc(s,c,m){var p=s.cm&&s.cm.state.suppressEdits;if(!(p&&!m)){for(var _=s.history,x,L=s.sel,U=c=="undo"?_.done:_.undone,H=c=="undo"?_.undone:_.done,W=0;W<U.length&&(x=U[W],!(m?x.ranges&&!x.equals(s.sel):!x.ranges));W++);if(W!=U.length){for(_.lastOrigin=_.lastSelOrigin=null;;)if(x=U.pop(),x.ranges){if(fl(x,H),m&&!x.equals(s.sel)){fo(s,x,{clearRedo:!1});return}L=x}else if(p){U.push(x);return}else break;var re=[];fl(L,H),H.push({changes:re,generation:_.generation}),_.generation=x.generation||++_.maxGeneration;for(var le=Wr(s,"beforeChange")||s.cm&&Wr(s.cm,"beforeChange"),_e=function(Ve){var Xe=x.changes[Ve];if(Xe.origin=c,le&&!U_(s,Xe,!1))return U.length=0,{};re.push(Lu(s,Xe));var ot=Ve?Dg(s,Xe):Ot(U);Rp(s,Xe,ot,Xw(s,Xe)),!Ve&&s.cm&&s.cm.scrollIntoView({from:Xe.from,to:xc(Xe)});var ct=[];Ac(s,function(it,gt){!gt&&Dt(ct,it.history)==-1&&(oC(it.history,Xe),ct.push(it.history)),Rp(it,Xe,null,Xw(it,Xe))})},ve=x.changes.length-1;ve>=0;--ve){var Oe=_e(ve);if(Oe)return Oe.v}}}}function nC(s,c){if(c!=0&&(s.first+=c,s.sel=new Gr(En(s.sel.ranges,function(_){return new Yn(Be(_.anchor.line+c,_.anchor.ch),Be(_.head.line+c,_.head.ch))}),s.sel.primIndex),s.cm)){pa(s.cm,s.first,s.first-c,c);for(var m=s.cm.display,p=m.viewFrom;p<m.viewTo;p++)Ec(s.cm,p,"gutter")}}function Rp(s,c,m,p){if(s.cm&&!s.cm.curOp)return ir(s.cm,Rp)(s,c,m,p);if(c.to.line<s.first){nC(s,c.text.length-1-(c.to.line-c.from.line));return}if(!(c.from.line>s.lastLine())){if(c.from.line<s.first){var _=c.text.length-1-(s.first-c.from.line);nC(s,_),c={from:Be(s.first,0),to:Be(c.to.line+_,c.to.ch),text:[Ot(c.text)],origin:c.origin}}var x=s.lastLine();c.to.line>x&&(c={from:c.from,to:Be(x,mt(s,x).text.length),text:[c.text[0]],origin:c.origin}),c.removed=Mr(s,c.from,c.to),m||(m=Dg(s,c)),s.cm?V_(s.cm,c,p):Ud(s,c,p),ho(s,m,nt),s.cantEdit&&Hd(s,Be(s.firstLine(),0))&&(s.cantEdit=!1)}}function V_(s,c,m){var p=s.doc,_=s.display,x=c.from,L=c.to,U=!1,H=x.line;s.options.lineWrapping||(H=wn(Ht(mt(p,x.line))),p.iter(H,L.line+1,function(ve){if(ve==_.maxLine)return U=!0,!0})),p.sel.contains(c.from,c.to)>-1&&Ai(s),Ud(p,c,m,Uw(s)),s.options.lineWrapping||(p.iter(H,x.line+c.text.length,function(ve){var Oe=ri(ve);Oe>_.maxLineLength&&(_.maxLine=ve,_.maxLineLength=Oe,_.maxLineChanged=!0,U=!1)}),U&&(s.curOp.updateMaxLine=!0)),ca(p,x.line),Ap(s,400);var W=c.text.length-(L.line-x.line)-1;c.full?pa(s):x.line==L.line&&c.text.length==1&&!Fd(s.doc,c)?Ec(s,x.line,"text"):pa(s,x.line,L.line+1,W);var re=Wr(s,"changes"),le=Wr(s,"change");if(le||re){var _e={from:x,to:L,text:c.text,removed:c.removed,origin:c.origin};le&&Ln(s,"change",s,_e),re&&(s.curOp.changeObjs||(s.curOp.changeObjs=[])).push(_e)}s.display.selForContextMenu=null}function zf(s,c,m,p,_){var x;p||(p=m),Mt(p,m)<0&&(x=[p,m],m=x[0],p=x[1]),typeof c=="string"&&(c=s.splitLines(c)),zd(s,{from:m,to:p,text:c,origin:_})}function rC(s,c,m,p){m<s.line?s.line+=p:c<s.line&&(s.line=c,s.ch=0)}function iC(s,c,m,p){for(var _=0;_<s.length;++_){var x=s[_],L=!0;if(x.ranges){x.copied||(x=s[_]=x.deepCopy(),x.copied=!0);for(var U=0;U<x.ranges.length;U++)rC(x.ranges[U].anchor,c,m,p),rC(x.ranges[U].head,c,m,p);continue}for(var H=0;H<x.changes.length;++H){var W=x.changes[H];if(m<W.from.line)W.from=Be(W.from.line+p,W.from.ch),W.to=Be(W.to.line+p,W.to.ch);else if(c<=W.to.line){L=!1;break}}L||(s.splice(0,_+1),_=0)}}function oC(s,c){var m=c.from.line,p=c.to.line,_=c.text.length-(p-m)-1;iC(s.done,m,p,_),iC(s.undone,m,p,_)}function Wd(s,c,m,p){var _=c,x=c;return typeof c=="number"?x=mt(s,Su(s,c)):_=wn(c),_==null?null:(p(x,_)&&s.cm&&Ec(s.cm,_,m),x)}function Wf(s){this.lines=s,this.parent=null;for(var c=0,m=0;m<s.length;++m)s[m].parent=this,c+=s[m].height;this.height=c}Wf.prototype={chunkSize:function(){return this.lines.length},removeInner:function(s,c){for(var m=s,p=s+c;m<p;++m){var _=this.lines[m];this.height-=_.height,Kr(_),Ln(_,"delete")}this.lines.splice(s,c)},collapse:function(s){s.push.apply(s,this.lines)},insertInner:function(s,c,m){this.height+=m,this.lines=this.lines.slice(0,s).concat(c).concat(this.lines.slice(s));for(var p=0;p<c.length;++p)c[p].parent=this},iterN:function(s,c,m){for(var p=s+c;s<p;++s)if(m(this.lines[s]))return!0}};function Op(s){this.children=s;for(var c=0,m=0,p=0;p<s.length;++p){var _=s[p];c+=_.chunkSize(),m+=_.height,_.parent=this}this.size=c,this.height=m,this.parent=null}Op.prototype={chunkSize:function(){return this.size},removeInner:function(s,c){this.size-=c;for(var m=0;m<this.children.length;++m){var p=this.children[m],_=p.chunkSize();if(s<_){var x=Math.min(c,_-s),L=p.height;if(p.removeInner(s,x),this.height-=L-p.height,_==x&&(this.children.splice(m--,1),p.parent=null),(c-=x)==0)break;s=0}else s-=_}if(this.size-c<25&&(this.children.length>1||!(this.children[0]instanceof Wf))){var U=[];this.collapse(U),this.children=[new Wf(U)],this.children[0].parent=this}},collapse:function(s){for(var c=0;c<this.children.length;++c)this.children[c].collapse(s)},insertInner:function(s,c,m){this.size+=c.length,this.height+=m;for(var p=0;p<this.children.length;++p){var _=this.children[p],x=_.chunkSize();if(s<=x){if(_.insertInner(s,c,m),_.lines&&_.lines.length>50){for(var L=_.lines.length%25+25,U=L;U<_.lines.length;){var H=new Wf(_.lines.slice(U,U+=25));_.height-=H.height,this.children.splice(++p,0,H),H.parent=this}_.lines=_.lines.slice(0,L),this.maybeSpill()}break}s-=x}},maybeSpill:function(){if(!(this.children.length<=10)){var s=this;do{var c=s.children.splice(s.children.length-5,5),m=new Op(c);if(s.parent){s.size-=m.size,s.height-=m.height;var _=Dt(s.parent.children,s);s.parent.children.splice(_+1,0,m)}else{var p=new Op(s.children);p.parent=s,s.children=[p,m],s=p}m.parent=s.parent}while(s.children.length>10);s.parent.maybeSpill()}},iterN:function(s,c,m){for(var p=0;p<this.children.length;++p){var _=this.children[p],x=_.chunkSize();if(s<x){var L=Math.min(c,x-s);if(_.iterN(s,L,m))return!0;if((c-=L)==0)break;s=0}else s-=x}}};var qf=function(s,c,m){if(m)for(var p in m)m.hasOwnProperty(p)&&(this[p]=m[p]);this.doc=s,this.node=c};qf.prototype.clear=function(){var s=this.doc.cm,c=this.line.widgets,m=this.line,p=wn(m);if(!(p==null||!c)){for(var _=0;_<c.length;++_)c[_]==this&&c.splice(_--,1);c.length||(m.widgets=null);var x=Wo(this);So(m,Math.max(0,m.height-x)),s&&(ko(s,function(){B_(s,m,-x),Ec(s,p,"widget")}),Ln(s,"lineWidgetCleared",s,this,p))}},qf.prototype.changed=function(){var s=this,c=this.height,m=this.doc.cm,p=this.line;this.height=null;var _=Wo(this)-c;_&&(sn(this.doc,p)||So(p,p.height+_),m&&ko(m,function(){m.curOp.forceUpdate=!0,B_(m,p,_),Ln(m,"lineWidgetChanged",m,s,wn(p))}))},fi(qf);function B_(s,c,m){kr(c)<(s.curOp&&s.curOp.scrollTop||s.doc.scrollTop)&&A_(s,m)}function aC(s,c,m,p){var _=new qf(s,m,p),x=s.cm;return x&&_.noHScroll&&(x.display.alignWidgets=!0),Wd(s,c,"widget",function(L){var U=L.widgets||(L.widgets=[]);if(_.insertAt==null?U.push(_):U.splice(Math.min(U.length,Math.max(0,_.insertAt)),0,_),_.line=L,x&&!sn(s,L)){var H=kr(L)<s.scrollTop;So(L,L.height+Wo(_)),H&&A_(x,_.height),x.curOp.forceUpdate=!0}return!0}),x&&Ln(x,"lineWidgetAdded",x,_,typeof c=="number"?c:wn(c)),_}var $_=0,dl=function(s,c){this.lines=[],this.type=c,this.doc=s,this.id=++$_};dl.prototype.clear=function(){if(!this.explicitlyCleared){var s=this.doc.cm,c=s&&!s.curOp;if(c&&Bf(s),Wr(this,"clear")){var m=this.find();m&&Ln(this,"clear",m.from,m.to)}for(var p=null,_=null,x=0;x<this.lines.length;++x){var L=this.lines[x],U=Oi(L.markedSpans,this);s&&!this.collapsed?Ec(s,wn(L),"text"):s&&(U.to!=null&&(_=wn(L)),U.from!=null&&(p=wn(L))),L.markedSpans=Rf(L.markedSpans,U),U.from==null&&this.collapsed&&!sn(this.doc,L)&&s&&So(L,il(s.display))}if(s&&this.collapsed&&!s.options.lineWrapping)for(var H=0;H<this.lines.length;++H){var W=Ht(this.lines[H]),re=ri(W);re>s.display.maxLineLength&&(s.display.maxLine=W,s.display.maxLineLength=re,s.display.maxLineChanged=!0)}p!=null&&s&&this.collapsed&&pa(s,p,_+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,s&&Jw(s.doc)),s&&Ln(s,"markerCleared",s,this,p,_),c&&$f(s),this.parent&&this.parent.clear()}},dl.prototype.find=function(s,c){s==null&&this.type=="bookmark"&&(s=1);for(var m,p,_=0;_<this.lines.length;++_){var x=this.lines[_],L=Oi(x.markedSpans,this);if(L.from!=null&&(m=Be(c?x:wn(x),L.from),s==-1))return m;if(L.to!=null&&(p=Be(c?x:wn(x),L.to),s==1))return p}return m&&{from:m,to:p}},dl.prototype.changed=function(){var s=this,c=this.find(-1,!0),m=this,p=this.doc.cm;!c||!p||ko(p,function(){var _=c.line,x=wn(c.line),L=Tg(p,x);if(L&&(b_(L),p.curOp.selectionChanged=p.curOp.forceUpdate=!0),p.curOp.updateMaxLine=!0,!sn(m.doc,_)&&m.height!=null){var U=m.height;m.height=null;var H=Wo(m)-U;H&&So(_,_.height+H)}Ln(p,"markerChanged",p,s)})},dl.prototype.attachLine=function(s){if(!this.lines.length&&this.doc.cm){var c=this.doc.cm.curOp;(!c.maybeHiddenMarkers||Dt(c.maybeHiddenMarkers,this)==-1)&&(c.maybeUnhiddenMarkers||(c.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(s)},dl.prototype.detachLine=function(s){if(this.lines.splice(Dt(this.lines,s),1),!this.lines.length&&this.doc.cm){var c=this.doc.cm.curOp;(c.maybeHiddenMarkers||(c.maybeHiddenMarkers=[])).push(this)}},fi(dl);function qd(s,c,m,p,_){if(p&&p.shared)return sC(s,c,m,p,_);if(s.cm&&!s.cm.curOp)return ir(s.cm,qd)(s,c,m,p,_);var x=new dl(s,_),L=Mt(c,m);if(p&&_t(p,x,!1),L>0||L==0&&x.clearWhenEmpty!==!1)return x;if(x.replacedWith&&(x.collapsed=!0,x.widgetNode=Je("span",[x.replacedWith],"CodeMirror-widget"),p.handleMouseEvents||x.widgetNode.setAttribute("cm-ignore-events","true"),p.insertLeft&&(x.widgetNode.insertLeft=!0)),x.collapsed){if(dr(s,c.line,c,m,x)||c.line!=m.line&&dr(s,m.line,c,m,x))throw new Error("Inserting collapsed marker partially overlapping an existing one");da()}x.addToHistory&&D_(s,{from:c,to:m,origin:"markText"},s.sel,NaN);var U=c.line,H=s.cm,W;if(s.iter(U,m.line+1,function(le){H&&x.collapsed&&!H.options.lineWrapping&&Ht(le)==H.display.maxLine&&(W=!0),x.collapsed&&U!=c.line&&So(le,0),co(le,new ha(x,U==c.line?c.ch:null,U==m.line?m.ch:null),s.cm&&s.cm.curOp),++U}),x.collapsed&&s.iter(c.line,m.line+1,function(le){sn(s,le)&&So(le,0)}),x.clearOnEnter&&ft(x,"beforeCursorEnter",function(){return x.clear()}),x.readOnly&&(ws(),(s.history.done.length||s.history.undone.length)&&s.clearHistory()),x.collapsed&&(x.id=++$_,x.atomic=!0),H){if(W&&(H.curOp.updateMaxLine=!0),x.collapsed)pa(H,c.line,m.line+1);else if(x.className||x.startStyle||x.endStyle||x.css||x.attributes||x.title)for(var re=c.line;re<=m.line;re++)Ec(H,re,"text");x.atomic&&Jw(H.doc),Ln(H,"markerAdded",H,x)}return x}var Kd=function(s,c){this.markers=s,this.primary=c;for(var m=0;m<s.length;++m)s[m].parent=this};Kd.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var s=0;s<this.markers.length;++s)this.markers[s].clear();Ln(this,"clear")}},Kd.prototype.find=function(s,c){return this.primary.find(s,c)},fi(Kd);function sC(s,c,m,p,_){p=_t(p),p.shared=!1;var x=[qd(s,c,m,p,_)],L=x[0],U=p.widgetNode;return Ac(s,function(H){U&&(p.widgetNode=U.cloneNode(!0)),x.push(qd(H,Lt(H,c),Lt(H,m),p,_));for(var W=0;W<H.linked.length;++W)if(H.linked[W].isParent)return;L=Ot(x)}),new Kd(x,L)}function lC(s){return s.findMarks(Be(s.first,0),s.clipPos(Be(s.lastLine())),function(c){return c.parent})}function uC(s,c){for(var m=0;m<c.length;m++){var p=c[m],_=p.find(),x=s.clipPos(_.from),L=s.clipPos(_.to);if(Mt(x,L)){var U=qd(s,x,L,p.primary,p.primary.type);p.markers.push(U),U.parent=p}}}function sk(s){for(var c=function(p){var _=s[p],x=[_.primary.doc];Ac(_.primary.doc,function(H){return x.push(H)});for(var L=0;L<_.markers.length;L++){var U=_.markers[L];Dt(x,U.doc)==-1&&(U.parent=null,_.markers.splice(L--,1))}},m=0;m<s.length;m++)c(m)}var H_=0,qo=function(s,c,m,p,_){if(!(this instanceof qo))return new qo(s,c,m,p,_);m==null&&(m=0),Op.call(this,[new Wf([new Pi("",null)])]),this.first=m,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=m;var x=Be(m,0);this.sel=Tc(x),this.history=new Vd(null),this.id=++H_,this.modeOption=c,this.lineSep=p,this.direction=_=="rtl"?"rtl":"ltr",this.extend=!1,typeof s=="string"&&(s=this.splitLines(s)),Ud(this,{from:x,to:x,text:s}),fo(this,Tc(x),nt)};qo.prototype=ge(Op.prototype,{constructor:qo,iter:function(s,c,m){m?this.iterN(s-this.first,c-s,m):this.iterN(this.first,this.first+this.size,s)},insert:function(s,c){for(var m=0,p=0;p<c.length;++p)m+=c[p].height;this.insertInner(s-this.first,c,m)},remove:function(s,c){this.removeInner(s-this.first,c)},getValue:function(s){var c=Co(this,this.first,this.first+this.size);return s===!1?c:c.join(s||this.lineSeparator())},setValue:Xi(function(s){var c=Be(this.first,0),m=this.first+this.size-1;zd(this,{from:c,to:Be(m,mt(this,m).text.length),text:this.splitLines(s),origin:"setValue",full:!0},!0),this.cm&&Mi(this.cm,0,0),fo(this,Tc(c),nt)}),replaceRange:function(s,c,m,p){c=Lt(this,c),m=m?Lt(this,m):c,zf(this,s,c,m,p)},getRange:function(s,c,m){var p=Mr(this,Lt(this,s),Lt(this,c));return m===!1?p:m===""?p.join(""):p.join(m||this.lineSeparator())},getLine:function(s){var c=this.getLineHandle(s);return c&&c.text},getLineHandle:function(s){if(Ka(this,s))return mt(this,s)},getLineNumber:function(s){return wn(s)},getLineHandleVisualStart:function(s){return typeof s=="number"&&(s=mt(this,s)),Ht(s)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(s){return Lt(this,s)},getCursor:function(s){var c=this.sel.primary(),m;return s==null||s=="head"?m=c.head:s=="anchor"?m=c.anchor:s=="end"||s=="to"||s===!1?m=c.to():m=c.from(),m},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Xi(function(s,c,m){Fg(this,Lt(this,typeof s=="number"?Be(s,c||0):s),null,m)}),setSelection:Xi(function(s,c,m){Fg(this,Lt(this,s),Lt(this,c||s),m)}),extendSelection:Xi(function(s,c,m){Bd(this,Lt(this,s),c&&Lt(this,c),m)}),extendSelections:Xi(function(s,c){F_(this,bs(this,s),c)}),extendSelectionsBy:Xi(function(s,c){var m=En(this.sel.ranges,s);F_(this,bs(this,m),c)}),setSelections:Xi(function(s,c,m){if(s.length){for(var p=[],_=0;_<s.length;_++)p[_]=new Yn(Lt(this,s[_].anchor),Lt(this,s[_].head||s[_].anchor));c==null&&(c=Math.min(s.length-1,this.sel.primIndex)),fo(this,cl(this.cm,p,c),m)}}),addSelection:Xi(function(s,c,m){var p=this.sel.ranges.slice(0);p.push(new Yn(Lt(this,s),Lt(this,c||s))),fo(this,cl(this.cm,p,p.length-1),m)}),getSelection:function(s){for(var c=this.sel.ranges,m,p=0;p<c.length;p++){var _=Mr(this,c[p].from(),c[p].to());m=m?m.concat(_):_}return s===!1?m:m.join(s||this.lineSeparator())},getSelections:function(s){for(var c=[],m=this.sel.ranges,p=0;p<m.length;p++){var _=Mr(this,m[p].from(),m[p].to());s!==!1&&(_=_.join(s||this.lineSeparator())),c[p]=_}return c},replaceSelection:function(s,c,m){for(var p=[],_=0;_<this.sel.ranges.length;_++)p[_]=s;this.replaceSelections(p,c,m||"+input")},replaceSelections:Xi(function(s,c,m){for(var p=[],_=this.sel,x=0;x<_.ranges.length;x++){var L=_.ranges[x];p[x]={from:L.from(),to:L.to(),text:this.splitLines(s[x]),origin:m}}for(var U=c&&c!="end"&&ik(this,p,c),H=p.length-1;H>=0;H--)zd(this,p[H]);U?Ic(this,U):this.cm&&Vr(this.cm)}),undo:Xi(function(){kc(this,"undo")}),redo:Xi(function(){kc(this,"redo")}),undoSelection:Xi(function(){kc(this,"undo",!0)}),redoSelection:Xi(function(){kc(this,"redo",!0)}),setExtending:function(s){this.extend=s},getExtending:function(){return this.extend},historySize:function(){for(var s=this.history,c=0,m=0,p=0;p<s.done.length;p++)s.done[p].ranges||++c;for(var _=0;_<s.undone.length;_++)s.undone[_].ranges||++m;return{undo:c,redo:m}},clearHistory:function(){var s=this;this.history=new Vd(this.history),Ac(this,function(c){return c.history=s.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(s){return s&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(s){return this.history.generation==(s||this.cleanGeneration)},getHistory:function(){return{done:jf(this.history.done),undone:jf(this.history.undone)}},setHistory:function(s){var c=this.history=new Vd(this.history);c.done=jf(s.done.slice(0),null,!0),c.undone=jf(s.undone.slice(0),null,!0)},setGutterMarker:Xi(function(s,c,m){return Wd(this,s,"gutter",function(p){var _=p.gutterMarkers||(p.gutterMarkers={});return _[c]=m,!m&&pe(_)&&(p.gutterMarkers=null),!0})}),clearGutter:Xi(function(s){var c=this;this.iter(function(m){m.gutterMarkers&&m.gutterMarkers[s]&&Wd(c,m,"gutter",function(){return m.gutterMarkers[s]=null,pe(m.gutterMarkers)&&(m.gutterMarkers=null),!0})})}),lineInfo:function(s){var c;if(typeof s=="number"){if(!Ka(this,s)||(c=s,s=mt(this,s),!s))return null}else if(c=wn(s),c==null)return null;return{line:c,handle:s,text:s.text,gutterMarkers:s.gutterMarkers,textClass:s.textClass,bgClass:s.bgClass,wrapClass:s.wrapClass,widgets:s.widgets}},addLineClass:Xi(function(s,c,m){return Wd(this,s,c=="gutter"?"gutter":"class",function(p){var _=c=="text"?"textClass":c=="background"?"bgClass":c=="gutter"?"gutterClass":"wrapClass";if(!p[_])p[_]=m;else{if(z(m).test(p[_]))return!1;p[_]+=" "+m}return!0})}),removeLineClass:Xi(function(s,c,m){return Wd(this,s,c=="gutter"?"gutter":"class",function(p){var _=c=="text"?"textClass":c=="background"?"bgClass":c=="gutter"?"gutterClass":"wrapClass",x=p[_];if(x)if(m==null)p[_]=null;else{var L=x.match(z(m));if(!L)return!1;var U=L.index+L[0].length;p[_]=x.slice(0,L.index)+(!L.index||U==x.length?"":" ")+x.slice(U)||null}else return!1;return!0})}),addLineWidget:Xi(function(s,c,m){return aC(this,s,c,m)}),removeLineWidget:function(s){s.clear()},markText:function(s,c,m){return qd(this,Lt(this,s),Lt(this,c),m,m&&m.type||"range")},setBookmark:function(s,c){var m={replacedWith:c&&(c.nodeType==null?c.widget:c),insertLeft:c&&c.insertLeft,clearWhenEmpty:!1,shared:c&&c.shared,handleMouseEvents:c&&c.handleMouseEvents};return s=Lt(this,s),qd(this,s,s,m,"bookmark")},findMarksAt:function(s){s=Lt(this,s);var c=[],m=mt(this,s.line).markedSpans;if(m)for(var p=0;p<m.length;++p){var _=m[p];(_.from==null||_.from<=s.ch)&&(_.to==null||_.to>=s.ch)&&c.push(_.marker.parent||_.marker)}return c},findMarks:function(s,c,m){s=Lt(this,s),c=Lt(this,c);var p=[],_=s.line;return this.iter(s.line,c.line+1,function(x){var L=x.markedSpans;if(L)for(var U=0;U<L.length;U++){var H=L[U];!(H.to!=null&&_==s.line&&s.ch>=H.to||H.from==null&&_!=s.line||H.from!=null&&_==c.line&&H.from>=c.ch)&&(!m||m(H.marker))&&p.push(H.marker.parent||H.marker)}++_}),p},getAllMarks:function(){var s=[];return this.iter(function(c){var m=c.markedSpans;if(m)for(var p=0;p<m.length;++p)m[p].from!=null&&s.push(m[p].marker)}),s},posFromIndex:function(s){var c,m=this.first,p=this.lineSeparator().length;return this.iter(function(_){var x=_.text.length+p;if(x>s)return c=s,!0;s-=x,++m}),Lt(this,Be(m,c))},indexFromPos:function(s){s=Lt(this,s);var c=s.ch;if(s.line<this.first||s.ch<0)return 0;var m=this.lineSeparator().length;return this.iter(this.first,s.line,function(p){c+=p.text.length+m}),c},copy:function(s){var c=new qo(Co(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return c.scrollTop=this.scrollTop,c.scrollLeft=this.scrollLeft,c.sel=this.sel,c.extend=!1,s&&(c.history.undoDepth=this.history.undoDepth,c.setHistory(this.getHistory())),c},linkedDoc:function(s){s||(s={});var c=this.first,m=this.first+this.size;s.from!=null&&s.from>c&&(c=s.from),s.to!=null&&s.to<m&&(m=s.to);var p=new qo(Co(this,c,m),s.mode||this.modeOption,c,this.lineSep,this.direction);return s.sharedHist&&(p.history=this.history),(this.linked||(this.linked=[])).push({doc:p,sharedHist:s.sharedHist}),p.linked=[{doc:this,isParent:!0,sharedHist:s.sharedHist}],uC(p,lC(this)),p},unlinkDoc:function(s){if(s instanceof Kn&&(s=s.doc),this.linked)for(var c=0;c<this.linked.length;++c){var m=this.linked[c];if(m.doc==s){this.linked.splice(c,1),s.unlinkDoc(this),sk(lC(this));break}}if(s.history==this.history){var p=[s.id];Ac(s,function(_){return p.push(_.id)},!0),s.history=new Vd(null),s.history.done=jf(this.history.done,p),s.history.undone=jf(this.history.undone,p)}},iterLinkedDocs:function(s){Ac(this,s)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(s){return this.lineSep?s.split(this.lineSep):wu(s)},lineSeparator:function(){return this.lineSep||`
`},setDirection:Xi(function(s){s!="rtl"&&(s="ltr"),s!=this.direction&&(this.direction=s,this.iter(function(c){return c.order=null}),this.cm&&Nu(this.cm))})}),qo.prototype.eachLine=qo.prototype.iter;var Bg=0;function lk(s){var c=this;if(cC(c),!(Jn(c,s)||ii(c.display,s))){Ar(s),u&&(Bg=+new Date);var m=Hl(c,s,!0),p=s.dataTransfer.files;if(!(!m||c.isReadOnly()))if(p&&p.length&&window.FileReader&&window.File)for(var _=p.length,x=Array(_),L=0,U=function(){++L==_&&ir(c,function(){m=Lt(c.doc,m);var ve={from:m,to:m,text:c.doc.splitLines(x.filter(function(Oe){return Oe!=null}).join(c.doc.lineSeparator())),origin:"paste"};zd(c.doc,ve),Ic(c.doc,Tc(Lt(c.doc,m),Lt(c.doc,xc(ve))))})()},H=function(ve,Oe){if(c.options.allowDropFileTypes&&Dt(c.options.allowDropFileTypes,ve.type)==-1){U();return}var Ve=new FileReader;Ve.onerror=function(){return U()},Ve.onload=function(){var Xe=Ve.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(Xe)){U();return}x[Oe]=Xe,U()},Ve.readAsText(ve)},W=0;W<p.length;W++)H(p[W],W);else{if(c.state.draggingText&&c.doc.sel.contains(m)>-1){c.state.draggingText(s),setTimeout(function(){return c.display.input.focus()},20);return}try{var re=s.dataTransfer.getData("Text");if(re){var le;if(c.state.draggingText&&!c.state.draggingText.copy&&(le=c.listSelections()),ho(c.doc,Tc(m,m)),le)for(var _e=0;_e<le.length;++_e)zf(c.doc,"",le[_e].anchor,le[_e].head,"drag");c.replaceSelection(re,"around","paste"),c.display.input.focus()}}catch{}}}}function j_(s,c){if(u&&(!s.state.draggingText||+new Date-Bg<100)){Ir(c);return}if(!(Jn(s,c)||ii(s.display,c))&&(c.dataTransfer.setData("Text",s.getSelection()),c.dataTransfer.effectAllowed="copyMove",c.dataTransfer.setDragImage&&!C)){var m=he("img",null,null,"position: fixed; left: 0; top: 0;");m.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",T&&(m.width=m.height=1,s.display.wrapper.appendChild(m),m._top=m.offsetTop),c.dataTransfer.setDragImage(m,0,0),T&&m.parentNode.removeChild(m)}}function mn(s,c){var m=Hl(s,c);if(m){var p=document.createDocumentFragment();kg(s,m,p),s.display.dragCursor||(s.display.dragCursor=he("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),s.display.lineSpace.insertBefore(s.display.dragCursor,s.display.cursorDiv)),Ee(s.display.dragCursor,p)}}function cC(s){s.display.dragCursor&&(s.display.lineSpace.removeChild(s.display.dragCursor),s.display.dragCursor=null)}function fC(s){if(document.getElementsByClassName){for(var c=document.getElementsByClassName("CodeMirror"),m=[],p=0;p<c.length;p++){var _=c[p].CodeMirror;_&&m.push(_)}m.length&&m[0].operation(function(){for(var x=0;x<m.length;x++)s(m[x])})}}var Gd=!1;function dC(){Gd||(uk(),Gd=!0)}function uk(){var s;ft(window,"resize",function(){s==null&&(s=setTimeout(function(){s=null,fC(ck)},100))}),ft(window,"blur",function(){return fC(Dd)})}function ck(s){var c=s.display;c.cachedCharWidth=c.cachedTextHeight=c.cachedPaddingH=null,c.scrollbarsClipped=!1,s.setSize()}for(var Zi={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Pp=0;Pp<10;Pp++)Zi[Pp+48]=Zi[Pp+96]=String(Pp);for(var Kf=65;Kf<=90;Kf++)Zi[Kf]=String.fromCharCode(Kf);for(var Gf=1;Gf<=12;Gf++)Zi[Gf+111]=Zi[Gf+63235]="F"+Gf;var Wl={};Wl.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Wl.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Wl.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Wl.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Wl.default=V?Wl.macDefault:Wl.pcDefault;function hC(s){var c=s.split(/-(?!$)/);s=c[c.length-1];for(var m,p,_,x,L=0;L<c.length-1;L++){var U=c[L];if(/^(cmd|meta|m)$/i.test(U))x=!0;else if(/^a(lt)?$/i.test(U))m=!0;else if(/^(c|ctrl|control)$/i.test(U))p=!0;else if(/^s(hift)?$/i.test(U))_=!0;else throw new Error("Unrecognized modifier name: "+U)}return m&&(s="Alt-"+s),p&&(s="Ctrl-"+s),x&&(s="Cmd-"+s),_&&(s="Shift-"+s),s}function Za(s){var c={};for(var m in s)if(s.hasOwnProperty(m)){var p=s[m];if(/^(name|fallthrough|(de|at)tach)$/.test(m))continue;if(p=="..."){delete s[m];continue}for(var _=En(m.split(" "),hC),x=0;x<_.length;x++){var L=void 0,U=void 0;x==_.length-1?(U=_.join(" "),L=p):(U=_.slice(0,x+1).join(" "),L="...");var H=c[U];if(!H)c[U]=L;else if(H!=L)throw new Error("Inconsistent bindings for "+U)}delete s[m]}for(var W in c)s[W]=c[W];return s}function es(s,c,m,p){c=Lp(c);var _=c.call?c.call(s,p):c[s];if(_===!1)return"nothing";if(_==="...")return"multi";if(_!=null&&m(_))return"handled";if(c.fallthrough){if(Object.prototype.toString.call(c.fallthrough)!="[object Array]")return es(s,c.fallthrough,m,p);for(var x=0;x<c.fallthrough.length;x++){var L=es(s,c.fallthrough[x],m,p);if(L)return L}}}function $g(s){var c=typeof s=="string"?s:Zi[s.keyCode];return c=="Ctrl"||c=="Alt"||c=="Shift"||c=="Mod"}function z_(s,c,m){var p=s;return c.altKey&&p!="Alt"&&(s="Alt-"+s),($?c.metaKey:c.ctrlKey)&&p!="Ctrl"&&(s="Ctrl-"+s),($?c.ctrlKey:c.metaKey)&&p!="Mod"&&(s="Cmd-"+s),!m&&c.shiftKey&&p!="Shift"&&(s="Shift-"+s),s}function Np(s,c){if(T&&s.keyCode==34&&s.char)return!1;var m=Zi[s.keyCode];return m==null||s.altGraphKey?!1:(s.keyCode==3&&s.code&&(m=s.code),z_(m,s,c))}function Lp(s){return typeof s=="string"?Wl[s]:s}function Rc(s,c){for(var m=s.doc.sel.ranges,p=[],_=0;_<m.length;_++){for(var x=c(m[_]);p.length&&Mt(x.from,Ot(p).to)<=0;){var L=p.pop();if(Mt(L.from,x.from)<0){x.from=L.from;break}}p.push(x)}ko(s,function(){for(var U=p.length-1;U>=0;U--)zf(s.doc,"",p[U].from,p[U].to,"+delete");Vr(s)})}function Hg(s,c,m){var p=Ze(s.text,c+m,m);return p<0||p>s.text.length?null:p}function Dp(s,c,m){var p=Hg(s,c.ch,m);return p==null?null:new Be(c.line,p,m<0?"after":"before")}function Mp(s,c,m,p,_){if(s){c.doc.direction=="rtl"&&(_=-_);var x=Qt(m,c.doc.direction);if(x){var L=_<0?Ot(x):x[0],U=_<0==(L.level==1),H=U?"after":"before",W;if(L.level>0||c.doc.direction=="rtl"){var re=Qa(c,m);W=_<0?m.text.length-1:0;var le=Xa(c,re,W).top;W=Tt(function(_e){return Xa(c,re,_e).top==le},_<0==(L.level==1)?L.from:L.to-1,W),H=="before"&&(W=Hg(m,W,1))}else W=_<0?L.to:L.from;return new Be(p,W,H)}}return new Be(p,_<0?m.text.length:0,_<0?"before":"after")}function Oc(s,c,m,p){var _=Qt(c,s.doc.direction);if(!_)return Dp(c,m,p);m.ch>=c.text.length?(m.ch=c.text.length,m.sticky="before"):m.ch<=0&&(m.ch=0,m.sticky="after");var x=rr(_,m.ch,m.sticky),L=_[x];if(s.doc.direction=="ltr"&&L.level%2==0&&(p>0?L.to>m.ch:L.from<m.ch))return Dp(c,m,p);var U=function(ot,ct){return Hg(c,ot instanceof Be?ot.ch:ot,ct)},H,W=function(ot){return s.options.lineWrapping?(H=H||Qa(s,c),mr(s,c,H,ot)):{begin:0,end:c.text.length}},re=W(m.sticky=="before"?U(m,-1):m.ch);if(s.doc.direction=="rtl"||L.level==1){var le=L.level==1==p<0,_e=U(m,le?1:-1);if(_e!=null&&(le?_e<=L.to&&_e<=re.end:_e>=L.from&&_e>=re.begin)){var ve=le?"before":"after";return new Be(m.line,_e,ve)}}var Oe=function(ot,ct,it){for(var gt=function(lr,ai){return ai?new Be(m.line,U(lr,1),"before"):new Be(m.line,lr,"after")};ot>=0&&ot<_.length;ot+=ct){var Nt=_[ot],Pt=ct>0==(Nt.level!=1),rn=Pt?it.begin:U(it.end,-1);if(Nt.from<=rn&&rn<Nt.to||(rn=Pt?Nt.from:U(Nt.to,-1),it.begin<=rn&&rn<it.end))return gt(rn,Pt)}},Ve=Oe(x+p,p,re);if(Ve)return Ve;var Xe=p>0?re.end:U(re.begin,-1);return Xe!=null&&!(p>0&&Xe==c.text.length)&&(Ve=Oe(p>0?0:_.length-1,p,W(Xe)),Ve)?Ve:null}var Fp={selectAll:jd,singleSelection:function(s){return s.setSelection(s.getCursor("anchor"),s.getCursor("head"),nt)},killLine:function(s){return Rc(s,function(c){if(c.empty()){var m=mt(s.doc,c.head.line).text.length;return c.head.ch==m&&c.head.line<s.lastLine()?{from:c.head,to:Be(c.head.line+1,0)}:{from:c.head,to:Be(c.head.line,m)}}else return{from:c.from(),to:c.to()}})},deleteLine:function(s){return Rc(s,function(c){return{from:Be(c.from().line,0),to:Lt(s.doc,Be(c.to().line+1,0))}})},delLineLeft:function(s){return Rc(s,function(c){return{from:Be(c.from().line,0),to:c.from()}})},delWrappedLineLeft:function(s){return Rc(s,function(c){var m=s.charCoords(c.head,"div").top+5,p=s.coordsChar({left:0,top:m},"div");return{from:p,to:c.from()}})},delWrappedLineRight:function(s){return Rc(s,function(c){var m=s.charCoords(c.head,"div").top+5,p=s.coordsChar({left:s.display.lineDiv.offsetWidth+100,top:m},"div");return{from:c.from(),to:p}})},undo:function(s){return s.undo()},redo:function(s){return s.redo()},undoSelection:function(s){return s.undoSelection()},redoSelection:function(s){return s.redoSelection()},goDocStart:function(s){return s.extendSelection(Be(s.firstLine(),0))},goDocEnd:function(s){return s.extendSelection(Be(s.lastLine()))},goLineStart:function(s){return s.extendSelectionsBy(function(c){return Du(s,c.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(s){return s.extendSelectionsBy(function(c){return W_(s,c.head)},{origin:"+move",bias:1})},goLineEnd:function(s){return s.extendSelectionsBy(function(c){return pC(s,c.head.line)},{origin:"+move",bias:-1})},goLineRight:function(s){return s.extendSelectionsBy(function(c){var m=s.cursorCoords(c.head,"div").top+5;return s.coordsChar({left:s.display.lineDiv.offsetWidth+100,top:m},"div")},Wt)},goLineLeft:function(s){return s.extendSelectionsBy(function(c){var m=s.cursorCoords(c.head,"div").top+5;return s.coordsChar({left:0,top:m},"div")},Wt)},goLineLeftSmart:function(s){return s.extendSelectionsBy(function(c){var m=s.cursorCoords(c.head,"div").top+5,p=s.coordsChar({left:0,top:m},"div");return p.ch<s.getLine(p.line).search(/\S/)?W_(s,c.head):p},Wt)},goLineUp:function(s){return s.moveV(-1,"line")},goLineDown:function(s){return s.moveV(1,"line")},goPageUp:function(s){return s.moveV(-1,"page")},goPageDown:function(s){return s.moveV(1,"page")},goCharLeft:function(s){return s.moveH(-1,"char")},goCharRight:function(s){return s.moveH(1,"char")},goColumnLeft:function(s){return s.moveH(-1,"column")},goColumnRight:function(s){return s.moveH(1,"column")},goWordLeft:function(s){return s.moveH(-1,"word")},goGroupRight:function(s){return s.moveH(1,"group")},goGroupLeft:function(s){return s.moveH(-1,"group")},goWordRight:function(s){return s.moveH(1,"word")},delCharBefore:function(s){return s.deleteH(-1,"codepoint")},delCharAfter:function(s){return s.deleteH(1,"char")},delWordBefore:function(s){return s.deleteH(-1,"word")},delWordAfter:function(s){return s.deleteH(1,"word")},delGroupBefore:function(s){return s.deleteH(-1,"group")},delGroupAfter:function(s){return s.deleteH(1,"group")},indentAuto:function(s){return s.indentSelection("smart")},indentMore:function(s){return s.indentSelection("add")},indentLess:function(s){return s.indentSelection("subtract")},insertTab:function(s){return s.replaceSelection("	")},insertSoftTab:function(s){for(var c=[],m=s.listSelections(),p=s.options.tabSize,_=0;_<m.length;_++){var x=m[_].from(),L=xt(s.getLine(x.line),x.ch,p);c.push(fn(p-L%p))}s.replaceSelections(c)},defaultTab:function(s){s.somethingSelected()?s.indentSelection("add"):s.execCommand("insertTab")},transposeChars:function(s){return ko(s,function(){for(var c=s.listSelections(),m=[],p=0;p<c.length;p++)if(c[p].empty()){var _=c[p].head,x=mt(s.doc,_.line).text;if(x){if(_.ch==x.length&&(_=new Be(_.line,_.ch-1)),_.ch>0)_=new Be(_.line,_.ch+1),s.replaceRange(x.charAt(_.ch-1)+x.charAt(_.ch-2),Be(_.line,_.ch-2),_,"+transpose");else if(_.line>s.doc.first){var L=mt(s.doc,_.line-1).text;L&&(_=new Be(_.line,1),s.replaceRange(x.charAt(0)+s.doc.lineSeparator()+L.charAt(L.length-1),Be(_.line-1,L.length-1),_,"+transpose"))}}m.push(new Yn(_,_))}s.setSelections(m)})},newlineAndIndent:function(s){return ko(s,function(){for(var c=s.listSelections(),m=c.length-1;m>=0;m--)s.replaceRange(s.doc.lineSeparator(),c[m].anchor,c[m].head,"+input");c=s.listSelections();for(var p=0;p<c.length;p++)s.indentLine(c[p].from().line,null,!0);Vr(s)})},openLine:function(s){return s.replaceSelection(`
`,"start")},toggleOverwrite:function(s){return s.toggleOverwrite()}};function Du(s,c){var m=mt(s.doc,c),p=Ht(m);return p!=m&&(c=wn(p)),Mp(!0,s,p,c,1)}function pC(s,c){var m=mt(s.doc,c),p=Wn(m);return p!=m&&(c=wn(p)),Mp(!0,s,m,c,-1)}function W_(s,c){var m=Du(s,c.line),p=mt(s.doc,m.line),_=Qt(p,s.doc.direction);if(!_||_[0].level==0){var x=Math.max(m.ch,p.text.search(/\S/)),L=c.line==m.line&&c.ch<=x&&c.ch;return Be(m.line,L?0:x,m.sticky)}return m}function Yd(s,c,m){if(typeof c=="string"&&(c=Fp[c],!c))return!1;s.display.input.ensurePolled();var p=s.display.shift,_=!1;try{s.isReadOnly()&&(s.state.suppressEdits=!0),m&&(s.display.shift=!1),_=c(s)!=an}finally{s.display.shift=p,s.state.suppressEdits=!1}return _}function fk(s,c,m){for(var p=0;p<s.state.keyMaps.length;p++){var _=es(c,s.state.keyMaps[p],m,s);if(_)return _}return s.options.extraKeys&&es(c,s.options.extraKeys,m,s)||es(c,s.options.keyMap,m,s)}var dk=new Et;function Up(s,c,m,p){var _=s.state.keySeq;if(_){if($g(c))return"handled";if(/\'$/.test(c)?s.state.keySeq=null:dk.set(50,function(){s.state.keySeq==_&&(s.state.keySeq=null,s.display.input.reset())}),q_(s,_+" "+c,m,p))return!0}return q_(s,c,m,p)}function q_(s,c,m,p){var _=fk(s,c,p);return _=="multi"&&(s.state.keySeq=c),_=="handled"&&Ln(s,"keyHandled",s,c,m),(_=="handled"||_=="multi")&&(Ar(m),Mf(s)),!!_}function K_(s,c){var m=Np(c,!0);return m?c.shiftKey&&!s.state.keySeq?Up(s,"Shift-"+m,c,function(p){return Yd(s,p,!0)})||Up(s,m,c,function(p){if(typeof p=="string"?/^go[A-Z]/.test(p):p.motion)return Yd(s,p)}):Up(s,m,c,function(p){return Yd(s,p)}):!1}function hk(s,c,m){return Up(s,"'"+m+"'",c,function(p){return Yd(s,p,!0)})}var jg=null;function G_(s){var c=this;if(!(s.target&&s.target!=c.display.input.getField())&&(c.curOp.focus=Te(lt(c)),!Jn(c,s))){u&&f<11&&s.keyCode==27&&(s.returnValue=!1);var m=s.keyCode;c.display.shift=m==16||s.shiftKey;var p=K_(c,s);T&&(jg=p?m:null,!p&&m==88&&!yc&&(V?s.metaKey:s.ctrlKey)&&c.replaceSelection("",null,"cut")),i&&!V&&!p&&m==46&&s.shiftKey&&!s.ctrlKey&&document.execCommand&&document.execCommand("cut"),m==18&&!/\bCodeMirror-crosshair\b/.test(c.display.lineDiv.className)&&ka(c)}}function ka(s){var c=s.display.lineDiv;J(c,"CodeMirror-crosshair");function m(p){(p.keyCode==18||!p.altKey)&&(K(c,"CodeMirror-crosshair"),Tr(document,"keyup",m),Tr(document,"mouseover",m))}ft(document,"keyup",m),ft(document,"mouseover",m)}function hl(s){s.keyCode==16&&(this.doc.sel.shift=!1),Jn(this,s)}function mC(s){var c=this;if(!(s.target&&s.target!=c.display.input.getField())&&!(ii(c.display,s)||Jn(c,s)||s.ctrlKey&&!s.altKey||V&&s.metaKey)){var m=s.keyCode,p=s.charCode;if(T&&m==jg){jg=null,Ar(s);return}if(!(T&&(!s.which||s.which<10)&&K_(c,s))){var _=String.fromCharCode(p??m);_!="\b"&&(hk(c,s,_)||c.display.input.onKeyPress(s))}}}var pk=400,Qd=function(s,c,m){this.time=s,this.pos=c,this.button=m};Qd.prototype.compare=function(s,c,m){return this.time+pk>s&&Mt(c,this.pos)==0&&m==this.button};var ql,Xd;function gC(s,c){var m=+new Date;return Xd&&Xd.compare(m,s,c)?(ql=Xd=null,"triple"):ql&&ql.compare(m,s,c)?(Xd=new Qd(m,s,c),ql=null,"double"):(ql=new Qd(m,s,c),Xd=null,"single")}function vC(s){var c=this,m=c.display;if(!(Jn(c,s)||m.activeTouch&&m.input.supportsTouch())){if(m.input.ensurePolled(),m.shift=s.shiftKey,ii(m,s)){h||(m.scroller.draggable=!1,setTimeout(function(){return m.scroller.draggable=!0},100));return}if(!Zd(c,s)){var p=Hl(c,s),_=aa(s),x=p?gC(p,_):"single";ut(c).focus(),_==1&&c.state.selectingText&&c.state.selectingText(s),!(p&&yC(c,_,p,x,s))&&(_==1?p?Vp(c,p,x,s):ys(s)==m.scroller&&Ar(s):_==2?(p&&Bd(c.doc,p),setTimeout(function(){return m.input.focus()},20)):_==3&&(q?c.display.input.onContextMenu(s):Ld(c)))}}}function yC(s,c,m,p,_){var x="Click";return p=="double"?x="Double"+x:p=="triple"&&(x="Triple"+x),x=(c==1?"Left":c==2?"Middle":"Right")+x,Up(s,z_(x,_),_,function(L){if(typeof L=="string"&&(L=Fp[L]),!L)return!1;var U=!1;try{s.isReadOnly()&&(s.state.suppressEdits=!0),U=L(s,m)!=an}finally{s.state.suppressEdits=!1}return U})}function Jd(s,c,m){var p=s.getOption("configureMouse"),_=p?p(s,c,m):{};if(_.unit==null){var x=D?m.shiftKey&&m.metaKey:m.altKey;_.unit=x?"rectangle":c=="single"?"char":c=="double"?"word":"line"}return(_.extend==null||s.doc.extend)&&(_.extend=s.doc.extend||m.shiftKey),_.addNew==null&&(_.addNew=V?m.metaKey:m.ctrlKey),_.moveOnDrag==null&&(_.moveOnDrag=!(V?m.altKey:m.ctrlKey)),_}function Vp(s,c,m,p){u?setTimeout(et(Cc,s),0):s.curOp.focus=Te(lt(s));var _=Jd(s,m,p),x=s.doc.sel,L;s.options.dragDrop&&sa&&!s.isReadOnly()&&m=="single"&&(L=x.contains(c))>-1&&(Mt((L=x.ranges[L]).from(),c)<0||c.xRel>0)&&(Mt(L.to(),c)>0||c.xRel<0)?mk(s,p,c,_):_C(s,p,c,_)}function mk(s,c,m,p){var _=s.display,x=!1,L=ir(s,function(W){h&&(_.scroller.draggable=!1),s.state.draggingText=!1,s.state.delayingBlurEvent&&(s.hasFocus()?s.state.delayingBlurEvent=!1:Ld(s)),Tr(_.wrapper.ownerDocument,"mouseup",L),Tr(_.wrapper.ownerDocument,"mousemove",U),Tr(_.scroller,"dragstart",H),Tr(_.scroller,"drop",L),x||(Ar(W),p.addNew||Bd(s.doc,m,null,null,p.extend),h&&!C||u&&f==9?setTimeout(function(){_.wrapper.ownerDocument.body.focus({preventScroll:!0}),_.input.focus()},20):_.input.focus())}),U=function(W){x=x||Math.abs(c.clientX-W.clientX)+Math.abs(c.clientY-W.clientY)>=10},H=function(){return x=!0};h&&(_.scroller.draggable=!0),s.state.draggingText=L,L.copy=!p.moveOnDrag,ft(_.wrapper.ownerDocument,"mouseup",L),ft(_.wrapper.ownerDocument,"mousemove",U),ft(_.scroller,"dragstart",H),ft(_.scroller,"drop",L),s.state.delayingBlurEvent=!0,setTimeout(function(){return _.input.focus()},20),_.scroller.dragDrop&&_.scroller.dragDrop()}function Y_(s,c,m){if(m=="char")return new Yn(c,c);if(m=="word")return s.findWordAt(c);if(m=="line")return new Yn(Be(c.line,0),Lt(s.doc,Be(c.line+1,0)));var p=m(s,c);return new Yn(p.from,p.to)}function _C(s,c,m,p){u&&Ld(s);var _=s.display,x=s.doc;Ar(c);var L,U,H=x.sel,W=H.ranges;if(p.addNew&&!p.extend?(U=x.sel.contains(m),U>-1?L=W[U]:L=new Yn(m,m)):(L=x.sel.primary(),U=x.sel.primIndex),p.unit=="rectangle")p.addNew||(L=new Yn(m,m)),m=Hl(s,c,!0,!0),U=-1;else{var re=Y_(s,m,p.unit);p.extend?L=Ji(L,re.anchor,re.head,p.extend):L=re}p.addNew?U==-1?(U=W.length,fo(x,cl(s,W.concat([L]),U),{scroll:!1,origin:"*mouse"})):W.length>1&&W[U].empty()&&p.unit=="char"&&!p.extend?(fo(x,cl(s,W.slice(0,U).concat(W.slice(U+1)),0),{scroll:!1,origin:"*mouse"}),H=x.sel):xs(x,U,L,nn):(U=0,fo(x,new Gr([L],0),nn),H=x.sel);var le=m;function _e(it){if(Mt(le,it)!=0)if(le=it,p.unit=="rectangle"){for(var gt=[],Nt=s.options.tabSize,Pt=xt(mt(x,m.line).text,m.ch,Nt),rn=xt(mt(x,it.line).text,it.ch,Nt),lr=Math.min(Pt,rn),ai=Math.max(Pt,rn),Pr=Math.min(m.line,it.line),Yr=Math.min(s.lastLine(),Math.max(m.line,it.line));Pr<=Yr;Pr++){var hi=mt(x,Pr).text,pi=Kt(hi,lr,Nt);lr==ai?gt.push(new Yn(Be(Pr,pi),Be(Pr,pi))):hi.length>pi&&gt.push(new Yn(Be(Pr,pi),Be(Pr,Kt(hi,ai,Nt))))}gt.length||gt.push(new Yn(m,m)),fo(x,cl(s,H.ranges.slice(0,U).concat(gt),U),{origin:"*mouse",scroll:!1}),s.scrollIntoView(it)}else{var Ko=L,po=Y_(s,it,p.unit),Fi=Ko.anchor,mi;Mt(po.anchor,Fi)>0?(mi=po.head,Fi=Ho(Ko.from(),po.anchor)):(mi=po.anchor,Fi=Ya(Ko.to(),po.head));var Qr=H.ranges.slice(0);Qr[U]=zg(s,new Yn(Lt(x,Fi),mi)),fo(x,cl(s,Qr,U),nn)}}var ve=_.wrapper.getBoundingClientRect(),Oe=0;function Ve(it){var gt=++Oe,Nt=Hl(s,it,!0,p.unit=="rectangle");if(Nt)if(Mt(Nt,le)!=0){s.curOp.focus=Te(lt(s)),_e(Nt);var Pt=Ff(_,x);(Nt.line>=Pt.to||Nt.line<Pt.from)&&setTimeout(ir(s,function(){Oe==gt&&Ve(it)}),150)}else{var rn=it.clientY<ve.top?-20:it.clientY>ve.bottom?20:0;rn&&setTimeout(ir(s,function(){Oe==gt&&(_.scroller.scrollTop+=rn,Ve(it))}),50)}}function Xe(it){s.state.selectingText=!1,Oe=1/0,it&&(Ar(it),_.input.focus()),Tr(_.wrapper.ownerDocument,"mousemove",ot),Tr(_.wrapper.ownerDocument,"mouseup",ct),x.history.lastSelOrigin=null}var ot=ir(s,function(it){it.buttons===0||!aa(it)?Xe(it):Ve(it)}),ct=ir(s,Xe);s.state.selectingText=ct,ft(_.wrapper.ownerDocument,"mousemove",ot),ft(_.wrapper.ownerDocument,"mouseup",ct)}function zg(s,c){var m=c.anchor,p=c.head,_=mt(s.doc,m.line);if(Mt(m,p)==0&&m.sticky==p.sticky)return c;var x=Qt(_);if(!x)return c;var L=rr(x,m.ch,m.sticky),U=x[L];if(U.from!=m.ch&&U.to!=m.ch)return c;var H=L+(U.from==m.ch==(U.level!=1)?0:1);if(H==0||H==x.length)return c;var W;if(p.line!=m.line)W=(p.line-m.line)*(s.doc.direction=="ltr"?1:-1)>0;else{var re=rr(x,p.ch,p.sticky),le=re-L||(p.ch-m.ch)*(U.level==1?-1:1);re==H-1||re==H?W=le<0:W=le>0}var _e=x[H+(W?-1:0)],ve=W==(_e.level==1),Oe=ve?_e.from:_e.to,Ve=ve?"after":"before";return m.ch==Oe&&m.sticky==Ve?c:new Yn(new Be(m.line,Oe,Ve),p)}function Q_(s,c,m,p){var _,x;if(c.touches)_=c.touches[0].clientX,x=c.touches[0].clientY;else try{_=c.clientX,x=c.clientY}catch{return!1}if(_>=Math.floor(s.display.gutters.getBoundingClientRect().right))return!1;p&&Ar(c);var L=s.display,U=L.lineDiv.getBoundingClientRect();if(x>U.bottom||!Wr(s,m))return Ml(c);x-=U.top-L.viewOffset;for(var H=0;H<s.display.gutterSpecs.length;++H){var W=L.gutters.childNodes[H];if(W&&W.getBoundingClientRect().right>=_){var re=Aa(s.doc,x),le=s.display.gutterSpecs[H];return Un(s,m,s,re,le.className,c),Ml(c)}}}function Zd(s,c){return Q_(s,c,"gutterClick",!0)}function Wg(s,c){ii(s.display,c)||qg(s,c)||Jn(s,c,"contextmenu")||q||s.display.input.onContextMenu(c)}function qg(s,c){return Wr(s,"gutterContextMenu")?Q_(s,c,"gutterContextMenu",!1):!1}function bC(s){s.display.wrapper.className=s.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+s.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Ep(s)}var Yf={toString:function(){return"CodeMirror.Init"}},Bp={},$p={};function X_(s){var c=s.optionHandlers;function m(p,_,x,L){s.defaults[p]=_,x&&(c[p]=L?function(U,H,W){W!=Yf&&x(U,H,W)}:x)}s.defineOption=m,s.Init=Yf,m("value","",function(p,_){return p.setValue(_)},!0),m("mode",null,function(p,_){p.doc.modeOption=_,N_(p)},!0),m("indentUnit",2,N_,!0),m("indentWithTabs",!1),m("smartIndent",!0),m("tabSize",4,function(p){Hf(p),Ep(p),pa(p)},!0),m("lineSeparator",null,function(p,_){if(p.doc.lineSep=_,!!_){var x=[],L=p.doc.first;p.doc.iter(function(H){for(var W=0;;){var re=H.text.indexOf(_,W);if(re==-1)break;W=re+_.length,x.push(Be(L,re))}L++});for(var U=x.length-1;U>=0;U--)zf(p.doc,_,x[U],Be(x[U].line,x[U].ch+_.length))}}),m("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(p,_,x){p.state.specialChars=new RegExp(_.source+(_.test("	")?"":"|	"),"g"),x!=Yf&&p.refresh()}),m("specialCharPlaceholder",At,function(p){return p.refresh()},!0),m("electricChars",!0),m("inputStyle",A?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),m("spellcheck",!1,function(p,_){return p.getInputField().spellcheck=_},!0),m("autocorrect",!1,function(p,_){return p.getInputField().autocorrect=_},!0),m("autocapitalize",!1,function(p,_){return p.getInputField().autocapitalize=_},!0),m("rtlMoveVisually",!P),m("wholeLineUpdateBefore",!0),m("theme","default",function(p){bC(p),Ip(p)},!0),m("keyMap","default",function(p,_,x){var L=Lp(_),U=x!=Yf&&Lp(x);U&&U.detach&&U.detach(p,L),L.attach&&L.attach(p,U||null)}),m("extraKeys",null),m("configureMouse",null),m("lineWrapping",!1,EC,!0),m("gutters",[],function(p,_){p.display.gutterSpecs=ul(_,p.options.lineNumbers),Ip(p)},!0),m("fixedGutter",!0,function(p,_){p.display.gutters.style.left=_?tr(p.display)+"px":"0",p.refresh()},!0),m("coverGutterNextToScrollbar",!1,function(p){return jl(p)},!0),m("scrollbarStyle","native",function(p){$w(p),jl(p),p.display.scrollbars.setScrollTop(p.doc.scrollTop),p.display.scrollbars.setScrollLeft(p.doc.scrollLeft)},!0),m("lineNumbers",!1,function(p,_){p.display.gutterSpecs=ul(p.options.gutters,_),Ip(p)},!0),m("firstLineNumber",1,Ip,!0),m("lineNumberFormatter",function(p){return p},Ip,!0),m("showCursorWhenSelecting",!1,wc,!0),m("resetSelectionOnContextMenu",!0),m("lineWiseCopyCut",!0),m("pasteLinesPerSelection",!0),m("selectionsMayTouch",!1),m("readOnly",!1,function(p,_){_=="nocursor"&&(Dd(p),p.display.input.blur()),p.display.input.readOnlyChanged(_)}),m("screenReaderLabel",null,function(p,_){_=_===""?null:_,p.display.input.screenReaderLabelChanged(_)}),m("disableInput",!1,function(p,_){_||p.display.input.reset()},!0),m("dragDrop",!0,gk),m("allowDropFileTypes",null),m("cursorBlinkRate",530),m("cursorScrollMargin",0),m("cursorHeight",1,wc,!0),m("singleCursorHeightPerLine",!0,wc,!0),m("workTime",100),m("workDelay",100),m("flattenSpans",!0,Hf,!0),m("addModeClass",!1,Hf,!0),m("pollInterval",100),m("undoDepth",200,function(p,_){return p.doc.history.undoDepth=_}),m("historyEventDelay",1250),m("viewportMargin",10,function(p){return p.refresh()},!0),m("maxHighlightLength",1e4,Hf,!0),m("moveInputWithCursor",!0,function(p,_){_||p.display.input.resetPosition()}),m("tabindex",null,function(p,_){return p.display.input.getField().tabIndex=_||""}),m("autofocus",null),m("direction","ltr",function(p,_){return p.doc.setDirection(_)},!0),m("phrases",null)}function gk(s,c,m){var p=m&&m!=Yf;if(!c!=!p){var _=s.display.dragFunctions,x=c?ft:Tr;x(s.display.scroller,"dragstart",_.start),x(s.display.scroller,"dragenter",_.enter),x(s.display.scroller,"dragover",_.over),x(s.display.scroller,"dragleave",_.leave),x(s.display.scroller,"drop",_.drop)}}function EC(s){s.options.lineWrapping?(J(s.display.wrapper,"CodeMirror-wrap"),s.display.sizer.style.minWidth="",s.display.sizerWidth=null):(K(s.display.wrapper,"CodeMirror-wrap"),Ao(s)),Ag(s),pa(s),Ep(s),setTimeout(function(){return jl(s)},100)}function Kn(s,c){var m=this;if(!(this instanceof Kn))return new Kn(s,c);this.options=c=c?_t(c):{},_t(Bp,c,!1);var p=c.value;typeof p=="string"?p=new qo(p,c.mode,null,c.lineSeparator,c.direction):c.mode&&(p.modeOption=c.mode),this.doc=p;var _=new Kn.inputStyles[c.inputStyle](this),x=this.display=new nk(s,p,_,c);x.wrapper.CodeMirror=this,bC(this),c.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),$w(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new Et,keySeq:null,specialChars:null},c.autofocus&&!A&&x.input.focus(),u&&f<11&&setTimeout(function(){return m.display.input.reset(!0)},20),wC(this),dC(),Bf(this),this.curOp.forceUpdate=!0,L_(this,p),c.autofocus&&!A||this.hasFocus()?setTimeout(function(){m.hasFocus()&&!m.state.focused&&S_(m)},20):Dd(this);for(var L in $p)$p.hasOwnProperty(L)&&$p[L](this,c[L],Yf);Ww(this),c.finishInit&&c.finishInit(this);for(var U=0;U<Kg.length;++U)Kg[U](this);$f(this),h&&c.lineWrapping&&getComputedStyle(x.lineDiv).textRendering=="optimizelegibility"&&(x.lineDiv.style.textRendering="auto")}Kn.defaults=Bp,Kn.optionHandlers=$p;function wC(s){var c=s.display;ft(c.scroller,"mousedown",ir(s,vC)),u&&f<11?ft(c.scroller,"dblclick",ir(s,function(H){if(!Jn(s,H)){var W=Hl(s,H);if(!(!W||Zd(s,H)||ii(s.display,H))){Ar(H);var re=s.findWordAt(W);Bd(s.doc,re.anchor,re.head)}}})):ft(c.scroller,"dblclick",function(H){return Jn(s,H)||Ar(H)}),ft(c.scroller,"contextmenu",function(H){return Wg(s,H)}),ft(c.input.getField(),"contextmenu",function(H){c.scroller.contains(H.target)||Wg(s,H)});var m,p={end:0};function _(){c.activeTouch&&(m=setTimeout(function(){return c.activeTouch=null},1e3),p=c.activeTouch,p.end=+new Date)}function x(H){if(H.touches.length!=1)return!1;var W=H.touches[0];return W.radiusX<=1&&W.radiusY<=1}function L(H,W){if(W.left==null)return!0;var re=W.left-H.left,le=W.top-H.top;return re*re+le*le>20*20}ft(c.scroller,"touchstart",function(H){if(!Jn(s,H)&&!x(H)&&!Zd(s,H)){c.input.ensurePolled(),clearTimeout(m);var W=+new Date;c.activeTouch={start:W,moved:!1,prev:W-p.end<=300?p:null},H.touches.length==1&&(c.activeTouch.left=H.touches[0].pageX,c.activeTouch.top=H.touches[0].pageY)}}),ft(c.scroller,"touchmove",function(){c.activeTouch&&(c.activeTouch.moved=!0)}),ft(c.scroller,"touchend",function(H){var W=c.activeTouch;if(W&&!ii(c,H)&&W.left!=null&&!W.moved&&new Date-W.start<300){var re=s.coordsChar(c.activeTouch,"page"),le;!W.prev||L(W,W.prev)?le=new Yn(re,re):!W.prev.prev||L(W,W.prev.prev)?le=s.findWordAt(re):le=new Yn(Be(re.line,0),Lt(s.doc,Be(re.line+1,0))),s.setSelection(le.anchor,le.head),s.focus(),Ar(H)}_()}),ft(c.scroller,"touchcancel",_),ft(c.scroller,"scroll",function(){c.scroller.clientHeight&&(Sp(s,c.scroller.scrollTop),sl(s,c.scroller.scrollLeft,!0),Un(s,"scroll",s))}),ft(c.scroller,"mousewheel",function(H){return Kw(s,H)}),ft(c.scroller,"DOMMouseScroll",function(H){return Kw(s,H)}),ft(c.wrapper,"scroll",function(){return c.wrapper.scrollTop=c.wrapper.scrollLeft=0}),c.dragFunctions={enter:function(H){Jn(s,H)||Ir(H)},over:function(H){Jn(s,H)||(mn(s,H),Ir(H))},start:function(H){return j_(s,H)},drop:ir(s,lk),leave:function(H){Jn(s,H)||cC(s)}};var U=c.input.getField();ft(U,"keyup",function(H){return hl.call(s,H)}),ft(U,"keydown",ir(s,G_)),ft(U,"keypress",ir(s,mC)),ft(U,"focus",function(H){return S_(s,H)}),ft(U,"blur",function(H){return Dd(s,H)})}var Kg=[];Kn.defineInitHook=function(s){return Kg.push(s)};function Hp(s,c,m,p){var _=s.doc,x;m==null&&(m="add"),m=="smart"&&(_.mode.indent?x=Ri(s,c).state:m="prev");var L=s.options.tabSize,U=mt(_,c),H=xt(U.text,null,L);U.stateAfter&&(U.stateAfter=null);var W=U.text.match(/^\s*/)[0],re;if(!p&&!/\S/.test(U.text))re=0,m="not";else if(m=="smart"&&(re=_.mode.indent(x,U.text.slice(W.length),U.text),re==an||re>150)){if(!p)return;m="prev"}m=="prev"?c>_.first?re=xt(mt(_,c-1).text,null,L):re=0:m=="add"?re=H+s.options.indentUnit:m=="subtract"?re=H-s.options.indentUnit:typeof m=="number"&&(re=H+m),re=Math.max(0,re);var le="",_e=0;if(s.options.indentWithTabs)for(var ve=Math.floor(re/L);ve;--ve)_e+=L,le+="	";if(_e<re&&(le+=fn(re-_e)),le!=W)return zf(_,le,Be(c,0),Be(c,W.length),"+input"),U.stateAfter=null,!0;for(var Oe=0;Oe<_.sel.ranges.length;Oe++){var Ve=_.sel.ranges[Oe];if(Ve.head.line==c&&Ve.head.ch<W.length){var Xe=Be(c,W.length);xs(_,Oe,new Yn(Xe,Xe));break}}}var As=null;function Gg(s){As=s}function J_(s,c,m,p,_){var x=s.doc;s.display.shift=!1,p||(p=x.sel);var L=+new Date-200,U=_=="paste"||s.state.pasteIncoming>L,H=wu(c),W=null;if(U&&p.ranges.length>1)if(As&&As.text.join(`
`)==c){if(p.ranges.length%As.text.length==0){W=[];for(var re=0;re<As.text.length;re++)W.push(x.splitLines(As.text[re]))}}else H.length==p.ranges.length&&s.options.pasteLinesPerSelection&&(W=En(H,function(ot){return[ot]}));for(var le=s.curOp.updateInput,_e=p.ranges.length-1;_e>=0;_e--){var ve=p.ranges[_e],Oe=ve.from(),Ve=ve.to();ve.empty()&&(m&&m>0?Oe=Be(Oe.line,Oe.ch-m):s.state.overwrite&&!U?Ve=Be(Ve.line,Math.min(mt(x,Ve.line).text.length,Ve.ch+Ot(H).length)):U&&As&&As.lineWise&&As.text.join(`
`)==H.join(`
`)&&(Oe=Ve=Be(Oe.line,0)));var Xe={from:Oe,to:Ve,text:W?W[_e%W.length]:H,origin:_||(U?"paste":s.state.cutIncoming>L?"cut":"+input")};zd(s.doc,Xe),Ln(s,"inputRead",s,Xe)}c&&!U&&Yg(s,c),Vr(s),s.curOp.updateInput<2&&(s.curOp.updateInput=le),s.curOp.typing=!0,s.state.pasteIncoming=s.state.cutIncoming=-1}function Kl(s,c){var m=s.clipboardData&&s.clipboardData.getData("Text");if(m)return s.preventDefault(),!c.isReadOnly()&&!c.options.disableInput&&c.hasFocus()&&ko(c,function(){return J_(c,m,0,null,"paste")}),!0}function Yg(s,c){if(!(!s.options.electricChars||!s.options.smartIndent))for(var m=s.doc.sel,p=m.ranges.length-1;p>=0;p--){var _=m.ranges[p];if(!(_.head.ch>100||p&&m.ranges[p-1].head.line==_.head.line)){var x=s.getModeAt(_.head),L=!1;if(x.electricChars){for(var U=0;U<x.electricChars.length;U++)if(c.indexOf(x.electricChars.charAt(U))>-1){L=Hp(s,_.head.line,"smart");break}}else x.electricInput&&x.electricInput.test(mt(s.doc,_.head.line).text.slice(0,_.head.ch))&&(L=Hp(s,_.head.line,"smart"));L&&Ln(s,"electricInput",s,_.head.line)}}}function Qg(s){for(var c=[],m=[],p=0;p<s.doc.sel.ranges.length;p++){var _=s.doc.sel.ranges[p].head.line,x={anchor:Be(_,0),head:Be(_+1,0)};m.push(x),c.push(s.getRange(x.anchor,x.head))}return{text:c,ranges:m}}function jp(s,c,m,p){s.setAttribute("autocorrect",m?"on":"off"),s.setAttribute("autocapitalize",p?"on":"off"),s.setAttribute("spellcheck",!!c)}function zp(){var s=he("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),c=he("div",[s],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return h?s.style.width="1000px":s.setAttribute("wrap","off"),k&&(s.style.border="1px solid black"),c}function eh(s){var c=s.optionHandlers,m=s.helpers={};s.prototype={constructor:s,focus:function(){ut(this).focus(),this.display.input.focus()},setOption:function(p,_){var x=this.options,L=x[p];x[p]==_&&p!="mode"||(x[p]=_,c.hasOwnProperty(p)&&ir(this,c[p])(this,_,L),Un(this,"optionChange",this,p))},getOption:function(p){return this.options[p]},getDoc:function(){return this.doc},addKeyMap:function(p,_){this.state.keyMaps[_?"push":"unshift"](Lp(p))},removeKeyMap:function(p){for(var _=this.state.keyMaps,x=0;x<_.length;++x)if(_[x]==p||_[x].name==p)return _.splice(x,1),!0},addOverlay:zt(function(p,_){var x=p.token?p:s.getMode(this.options,p);if(x.startState)throw new Error("Overlays may not be stateful.");fe(this.state.overlays,{mode:x,modeSpec:p,opaque:_&&_.opaque,priority:_&&_.priority||0},function(L){return L.priority}),this.state.modeGen++,pa(this)}),removeOverlay:zt(function(p){for(var _=this.state.overlays,x=0;x<_.length;++x){var L=_[x].modeSpec;if(L==p||typeof p=="string"&&L.name==p){_.splice(x,1),this.state.modeGen++,pa(this);return}}}),indentLine:zt(function(p,_,x){typeof _!="string"&&typeof _!="number"&&(_==null?_=this.options.smartIndent?"smart":"prev":_=_?"add":"subtract"),Ka(this.doc,p)&&Hp(this,p,_,x)}),indentSelection:zt(function(p){for(var _=this.doc.sel.ranges,x=-1,L=0;L<_.length;L++){var U=_[L];if(U.empty())U.head.line>x&&(Hp(this,U.head.line,p,!0),x=U.head.line,L==this.doc.sel.primIndex&&Vr(this));else{var H=U.from(),W=U.to(),re=Math.max(x,H.line);x=Math.min(this.lastLine(),W.line-(W.ch?0:1))+1;for(var le=re;le<x;++le)Hp(this,le,p);var _e=this.doc.sel.ranges;H.ch==0&&_.length==_e.length&&_e[L].from().ch>0&&xs(this.doc,L,new Yn(H,_e[L].to()),nt)}}}),getTokenAt:function(p,_){return Vl(this,p,_)},getLineTokens:function(p,_){return Vl(this,Be(p),_,!0)},getTokenTypeAt:function(p){p=Lt(this.doc,p);var _=Ia(this,mt(this.doc,p.line)),x=0,L=(_.length-1)/2,U=p.ch,H;if(U==0)H=_[2];else for(;;){var W=x+L>>1;if((W?_[W*2-1]:0)>=U)L=W;else if(_[W*2+1]<U)x=W+1;else{H=_[W*2+2];break}}var re=H?H.indexOf("overlay "):-1;return re<0?H:re==0?null:H.slice(0,re-1)},getModeAt:function(p){var _=this.doc.mode;return _.innerMode?s.innerMode(_,this.getTokenAt(p).state).mode:_},getHelper:function(p,_){return this.getHelpers(p,_)[0]},getHelpers:function(p,_){var x=[];if(!m.hasOwnProperty(_))return x;var L=m[_],U=this.getModeAt(p);if(typeof U[_]=="string")L[U[_]]&&x.push(L[U[_]]);else if(U[_])for(var H=0;H<U[_].length;H++){var W=L[U[_][H]];W&&x.push(W)}else U.helperType&&L[U.helperType]?x.push(L[U.helperType]):L[U.name]&&x.push(L[U.name]);for(var re=0;re<L._global.length;re++){var le=L._global[re];le.pred(U,this)&&Dt(x,le.val)==-1&&x.push(le.val)}return x},getStateAfter:function(p,_){var x=this.doc;return p=Su(x,p??x.first+x.size-1),Ri(this,p+1,_).state},cursorCoords:function(p,_){var x,L=this.doc.sel.primary();return p==null?x=L.head:typeof p=="object"?x=Lt(this.doc,p):x=p?L.from():L.to(),Ie(this,x,_||"page")},charCoords:function(p,_){return Fe(this,Lt(this.doc,p),_||"page")},coordsChar:function(p,_){return p=be(this,p,_||"page"),qn(this,p.left,p.top)},lineAtHeight:function(p,_){return p=be(this,{top:p,left:0},_||"page").top,Aa(this.doc,p+this.display.viewOffset)},heightAtLine:function(p,_,x){var L=!1,U;if(typeof p=="number"){var H=this.doc.first+this.doc.size-1;p<this.doc.first?p=this.doc.first:p>H&&(p=H,L=!0),U=mt(this.doc,p)}else U=p;return ku(this,U,{top:0,left:0},_||"page",x||L).top+(L?this.doc.height-kr(U):0)},defaultTextHeight:function(){return il(this.display)},defaultCharWidth:function(){return Ru(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(p,_,x,L,U){var H=this.display;p=Ie(this,Lt(this.doc,p));var W=p.bottom,re=p.left;if(_.style.position="absolute",_.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(_),H.sizer.appendChild(_),L=="over")W=p.top;else if(L=="above"||L=="near"){var le=Math.max(H.wrapper.clientHeight,this.doc.height),_e=Math.max(H.sizer.clientWidth,H.lineSpace.clientWidth);(L=="above"||p.bottom+_.offsetHeight>le)&&p.top>_.offsetHeight?W=p.top-_.offsetHeight:p.bottom+_.offsetHeight<=le&&(W=p.bottom),re+_.offsetWidth>_e&&(re=_e-_.offsetWidth)}_.style.top=W+"px",_.style.left=_.style.right="",U=="right"?(re=H.sizer.clientWidth-_.offsetWidth,_.style.right="0px"):(U=="left"?re=0:U=="middle"&&(re=(H.sizer.clientWidth-_.offsetWidth)/2),_.style.left=re+"px"),x&&Bw(this,{left:re,top:W,right:re+_.offsetWidth,bottom:W+_.offsetHeight})},triggerOnKeyDown:zt(G_),triggerOnKeyPress:zt(mC),triggerOnKeyUp:hl,triggerOnMouseDown:zt(vC),execCommand:function(p){if(Fp.hasOwnProperty(p))return Fp[p].call(null,this)},triggerElectric:zt(function(p){Yg(this,p)}),findPosH:function(p,_,x,L){var U=1;_<0&&(U=-1,_=-_);for(var H=Lt(this.doc,p),W=0;W<_&&(H=Bt(this.doc,H,U,x,L),!H.hitSide);++W);return H},moveH:zt(function(p,_){var x=this;this.extendSelectionsBy(function(L){return x.display.shift||x.doc.extend||L.empty()?Bt(x.doc,L.head,p,_,x.options.rtlMoveVisually):p<0?L.from():L.to()},Wt)}),deleteH:zt(function(p,_){var x=this.doc.sel,L=this.doc;x.somethingSelected()?L.replaceSelection("",null,"+delete"):Rc(this,function(U){var H=Bt(L,U.head,p,_,!1);return p<0?{from:H,to:U.head}:{from:U.head,to:H}})}),findPosV:function(p,_,x,L){var U=1,H=L;_<0&&(U=-1,_=-_);for(var W=Lt(this.doc,p),re=0;re<_;++re){var le=Ie(this,W,"div");if(H==null?H=le.left:le.left=H,W=Wp(this,le,U,x),W.hitSide)break}return W},moveV:zt(function(p,_){var x=this,L=this.doc,U=[],H=!this.display.shift&&!L.extend&&L.sel.somethingSelected();if(L.extendSelectionsBy(function(re){if(H)return p<0?re.from():re.to();var le=Ie(x,re.head,"div");re.goalColumn!=null&&(le.left=re.goalColumn),U.push(le.left);var _e=Wp(x,le,p,_);return _=="page"&&re==L.sel.primary()&&A_(x,Fe(x,_e,"div").top-le.top),_e},Wt),U.length)for(var W=0;W<L.sel.ranges.length;W++)L.sel.ranges[W].goalColumn=U[W]}),findWordAt:function(p){var _=this.doc,x=mt(_,p.line).text,L=p.ch,U=p.ch;if(x){var H=this.getHelper(p,"wordChars");(p.sticky=="before"||U==x.length)&&L?--L:++U;for(var W=x.charAt(L),re=se(W,H)?function(le){return se(le,H)}:/\s/.test(W)?function(le){return/\s/.test(le)}:function(le){return!/\s/.test(le)&&!se(le)};L>0&&re(x.charAt(L-1));)--L;for(;U<x.length&&re(x.charAt(U));)++U}return new Yn(Be(p.line,L),Be(p.line,U))},toggleOverwrite:function(p){p!=null&&p==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?J(this.display.cursorDiv,"CodeMirror-overwrite"):K(this.display.cursorDiv,"CodeMirror-overwrite"),Un(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==Te(lt(this))},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:zt(function(p,_){Mi(this,p,_)}),getScrollInfo:function(){var p=this.display.scroller;return{left:p.scrollLeft,top:p.scrollTop,height:p.scrollHeight-$l(this)-this.display.barHeight,width:p.scrollWidth-$l(this)-this.display.barWidth,clientHeight:__(this),clientWidth:Pf(this)}},scrollIntoView:zt(function(p,_){p==null?(p={from:this.doc.sel.primary().head,to:null},_==null&&(_=this.options.cursorScrollMargin)):typeof p=="number"?p={from:Be(p,0),to:null}:p.from==null&&(p={from:p,to:null}),p.to||(p.to=p.from),p.margin=_||0,p.from.line!=null?G1(this,p):I_(this,p.from,p.to,p.margin)}),setSize:zt(function(p,_){var x=this,L=function(H){return typeof H=="number"||/^\d+$/.test(String(H))?H+"px":H};p!=null&&(this.display.wrapper.style.width=L(p)),_!=null&&(this.display.wrapper.style.height=L(_)),this.options.lineWrapping&&Dw(this);var U=this.display.viewFrom;this.doc.iter(U,this.display.viewTo,function(H){if(H.widgets){for(var W=0;W<H.widgets.length;W++)if(H.widgets[W].noHScroll){Ec(x,U,"widget");break}}++U}),this.curOp.forceUpdate=!0,Un(this,"refresh",this)}),operation:function(p){return ko(this,p)},startOperation:function(){return Bf(this)},endOperation:function(){return $f(this)},refresh:zt(function(){var p=this.display.cachedTextHeight;pa(this),this.curOp.forceUpdate=!0,Ep(this),Mi(this,this.doc.scrollLeft,this.doc.scrollTop),R_(this.display),(p==null||Math.abs(p-il(this.display))>.5||this.options.lineWrapping)&&Ag(this),Un(this,"refresh",this)}),swapDoc:zt(function(p){var _=this.doc;return _.cm=null,this.state.selectingText&&this.state.selectingText(),L_(this,p),Ep(this),this.display.input.reset(),Mi(this,p.scrollLeft,p.scrollTop),this.curOp.forceScroll=!0,Ln(this,"swapDoc",this,_),_}),phrase:function(p){var _=this.options.phrases;return _&&Object.prototype.hasOwnProperty.call(_,p)?_[p]:p},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},fi(s),s.registerHelper=function(p,_,x){m.hasOwnProperty(p)||(m[p]=s[p]={_global:[]}),m[p][_]=x},s.registerGlobalHelper=function(p,_,x,L){s.registerHelper(p,_,L),m[p]._global.push({pred:x,val:L})}}function Bt(s,c,m,p,_){var x=c,L=m,U=mt(s,c.line),H=_&&s.direction=="rtl"?-m:m;function W(){var ct=c.line+H;return ct<s.first||ct>=s.first+s.size?!1:(c=new Be(ct,c.ch,c.sticky),U=mt(s,ct))}function re(ct){var it;if(p=="codepoint"){var gt=U.text.charCodeAt(c.ch+(m>0?0:-1));if(isNaN(gt))it=null;else{var Nt=m>0?gt>=55296&&gt<56320:gt>=56320&&gt<57343;it=new Be(c.line,Math.max(0,Math.min(U.text.length,c.ch+m*(Nt?2:1))),-m)}}else _?it=Oc(s.cm,U,c,m):it=Dp(U,c,m);if(it==null)if(!ct&&W())c=Mp(_,s.cm,U,c.line,H);else return!1;else c=it;return!0}if(p=="char"||p=="codepoint")re();else if(p=="column")re(!0);else if(p=="word"||p=="group")for(var le=null,_e=p=="group",ve=s.cm&&s.cm.getHelper(c,"wordChars"),Oe=!0;!(m<0&&!re(!Oe));Oe=!1){var Ve=U.text.charAt(c.ch)||`
`,Xe=se(Ve,ve)?"w":_e&&Ve==`
`?"n":!_e||/\s/.test(Ve)?null:"p";if(_e&&!Oe&&!Xe&&(Xe="s"),le&&le!=Xe){m<0&&(m=1,re(),c.sticky="after");break}if(Xe&&(le=Xe),m>0&&!re(!Oe))break}var ot=Hd(s,c,x,L,!0);return Js(x,ot)&&(ot.hitSide=!0),ot}function Wp(s,c,m,p){var _=s.doc,x=c.left,L;if(p=="page"){var U=Math.min(s.display.wrapper.clientHeight,ut(s).innerHeight||_(s).documentElement.clientHeight),H=Math.max(U-.5*il(s.display),3);L=(m>0?c.bottom:c.top)+m*H}else p=="line"&&(L=m>0?c.bottom+3:c.top-3);for(var W;W=qn(s,x,L),!!W.outside;){if(m<0?L<=0:L>=_.height){W.hitSide=!0;break}L+=m*5}return W}var Qn=function(s){this.cm=s,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Et,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};Qn.prototype.init=function(s){var c=this,m=this,p=m.cm,_=m.div=s.lineDiv;_.contentEditable=!0,jp(_,p.options.spellcheck,p.options.autocorrect,p.options.autocapitalize);function x(U){for(var H=U.target;H;H=H.parentNode){if(H==_)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(H.className))break}return!1}ft(_,"paste",function(U){!x(U)||Jn(p,U)||Kl(U,p)||f<=11&&setTimeout(ir(p,function(){return c.updateFromDOM()}),20)}),ft(_,"compositionstart",function(U){c.composing={data:U.data,done:!1}}),ft(_,"compositionupdate",function(U){c.composing||(c.composing={data:U.data,done:!1})}),ft(_,"compositionend",function(U){c.composing&&(U.data!=c.composing.data&&c.readFromDOMSoon(),c.composing.done=!0)}),ft(_,"touchstart",function(){return m.forceCompositionEnd()}),ft(_,"input",function(){c.composing||c.readFromDOMSoon()});function L(U){if(!(!x(U)||Jn(p,U))){if(p.somethingSelected())Gg({lineWise:!1,text:p.getSelections()}),U.type=="cut"&&p.replaceSelection("",null,"cut");else if(p.options.lineWiseCopyCut){var H=Qg(p);Gg({lineWise:!0,text:H.text}),U.type=="cut"&&p.operation(function(){p.setSelections(H.ranges,0,nt),p.replaceSelection("",null,"cut")})}else return;if(U.clipboardData){U.clipboardData.clearData();var W=As.text.join(`
`);if(U.clipboardData.setData("Text",W),U.clipboardData.getData("Text")==W){U.preventDefault();return}}var re=zp(),le=re.firstChild;jp(le),p.display.lineSpace.insertBefore(re,p.display.lineSpace.firstChild),le.value=As.text.join(`
`);var _e=Te(Ge(_));Ne(le),setTimeout(function(){p.display.lineSpace.removeChild(re),_e.focus(),_e==_&&m.showPrimarySelection()},50)}}ft(_,"copy",L),ft(_,"cut",L)},Qn.prototype.screenReaderLabelChanged=function(s){s?this.div.setAttribute("aria-label",s):this.div.removeAttribute("aria-label")},Qn.prototype.prepareSelection=function(){var s=C_(this.cm,!1);return s.focus=Te(Ge(this.div))==this.div,s},Qn.prototype.showSelection=function(s,c){!s||!this.cm.display.view.length||((s.focus||c)&&this.showPrimarySelection(),this.showMultipleSelections(s))},Qn.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Qn.prototype.showPrimarySelection=function(){var s=this.getSelection(),c=this.cm,m=c.doc.sel.primary(),p=m.from(),_=m.to();if(c.display.viewTo==c.display.viewFrom||p.line>=c.display.viewTo||_.line<c.display.viewFrom){s.removeAllRanges();return}var x=eo(c,s.anchorNode,s.anchorOffset),L=eo(c,s.focusNode,s.focusOffset);if(!(x&&!x.bad&&L&&!L.bad&&Mt(Ho(x,L),p)==0&&Mt(Ya(x,L),_)==0)){var U=c.display.view,H=p.line>=c.display.viewFrom&&Pc(c,p)||{node:U[0].measure.map[2],offset:0},W=_.line<c.display.viewTo&&Pc(c,_);if(!W){var re=U[U.length-1].measure,le=re.maps?re.maps[re.maps.length-1]:re.map;W={node:le[le.length-1],offset:le[le.length-2]-le[le.length-3]}}if(!H||!W){s.removeAllRanges();return}var _e=s.rangeCount&&s.getRangeAt(0),ve;try{ve=He(H.node,H.offset,W.offset,W.node)}catch{}ve&&(!i&&c.state.focused?(s.collapse(H.node,H.offset),ve.collapsed||(s.removeAllRanges(),s.addRange(ve))):(s.removeAllRanges(),s.addRange(ve)),_e&&s.anchorNode==null?s.addRange(_e):i&&this.startGracePeriod()),this.rememberSelection()}},Qn.prototype.startGracePeriod=function(){var s=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){s.gracePeriod=!1,s.selectionChanged()&&s.cm.operation(function(){return s.cm.curOp.selectionChanged=!0})},20)},Qn.prototype.showMultipleSelections=function(s){Ee(this.cm.display.cursorDiv,s.cursors),Ee(this.cm.display.selectionDiv,s.selection)},Qn.prototype.rememberSelection=function(){var s=this.getSelection();this.lastAnchorNode=s.anchorNode,this.lastAnchorOffset=s.anchorOffset,this.lastFocusNode=s.focusNode,this.lastFocusOffset=s.focusOffset},Qn.prototype.selectionInEditor=function(){var s=this.getSelection();if(!s.rangeCount)return!1;var c=s.getRangeAt(0).commonAncestorContainer;return xe(this.div,c)},Qn.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||Te(Ge(this.div))!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},Qn.prototype.blur=function(){this.div.blur()},Qn.prototype.getField=function(){return this.div},Qn.prototype.supportsTouch=function(){return!0},Qn.prototype.receivedFocus=function(){var s=this,c=this;this.selectionInEditor()?setTimeout(function(){return s.pollSelection()},20):ko(this.cm,function(){return c.cm.curOp.selectionChanged=!0});function m(){c.cm.state.focused&&(c.pollSelection(),c.polling.set(c.cm.options.pollInterval,m))}this.polling.set(this.cm.options.pollInterval,m)},Qn.prototype.selectionChanged=function(){var s=this.getSelection();return s.anchorNode!=this.lastAnchorNode||s.anchorOffset!=this.lastAnchorOffset||s.focusNode!=this.lastFocusNode||s.focusOffset!=this.lastFocusOffset},Qn.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var s=this.getSelection(),c=this.cm;if(O&&y&&this.cm.display.gutterSpecs.length&&vk(s.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var m=eo(c,s.anchorNode,s.anchorOffset),p=eo(c,s.focusNode,s.focusOffset);m&&p&&ko(c,function(){fo(c.doc,Tc(m,p),nt),(m.bad||p.bad)&&(c.curOp.selectionChanged=!0)})}}},Qn.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var s=this.cm,c=s.display,m=s.doc.sel.primary(),p=m.from(),_=m.to();if(p.ch==0&&p.line>s.firstLine()&&(p=Be(p.line-1,mt(s.doc,p.line-1).length)),_.ch==mt(s.doc,_.line).text.length&&_.line<s.lastLine()&&(_=Be(_.line+1,0)),p.line<c.viewFrom||_.line>c.viewTo-1)return!1;var x,L,U;p.line==c.viewFrom||(x=Lf(s,p.line))==0?(L=wn(c.view[0].line),U=c.view[0].node):(L=wn(c.view[x].line),U=c.view[x-1].node.nextSibling);var H=Lf(s,_.line),W,re;if(H==c.view.length-1?(W=c.viewTo-1,re=c.lineDiv.lastChild):(W=wn(c.view[H+1].line)-1,re=c.view[H+1].node.previousSibling),!U)return!1;for(var le=s.doc.splitLines(CC(s,U,re,L,W)),_e=Mr(s.doc,Be(L,0),Be(W,mt(s.doc,W).text.length));le.length>1&&_e.length>1;)if(Ot(le)==Ot(_e))le.pop(),_e.pop(),W--;else if(le[0]==_e[0])le.shift(),_e.shift(),L++;else break;for(var ve=0,Oe=0,Ve=le[0],Xe=_e[0],ot=Math.min(Ve.length,Xe.length);ve<ot&&Ve.charCodeAt(ve)==Xe.charCodeAt(ve);)++ve;for(var ct=Ot(le),it=Ot(_e),gt=Math.min(ct.length-(le.length==1?ve:0),it.length-(_e.length==1?ve:0));Oe<gt&&ct.charCodeAt(ct.length-Oe-1)==it.charCodeAt(it.length-Oe-1);)++Oe;if(le.length==1&&_e.length==1&&L==p.line)for(;ve&&ve>p.ch&&ct.charCodeAt(ct.length-Oe-1)==it.charCodeAt(it.length-Oe-1);)ve--,Oe++;le[le.length-1]=ct.slice(0,ct.length-Oe).replace(/^\u200b+/,""),le[0]=le[0].slice(ve).replace(/\u200b+$/,"");var Nt=Be(L,ve),Pt=Be(W,_e.length?Ot(_e).length-Oe:0);if(le.length>1||le[0]||Mt(Nt,Pt))return zf(s.doc,le,Nt,Pt,"+input"),!0},Qn.prototype.ensurePolled=function(){this.forceCompositionEnd()},Qn.prototype.reset=function(){this.forceCompositionEnd()},Qn.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Qn.prototype.readFromDOMSoon=function(){var s=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(s.readDOMTimeout=null,s.composing)if(s.composing.done)s.composing=null;else return;s.updateFromDOM()},80))},Qn.prototype.updateFromDOM=function(){var s=this;(this.cm.isReadOnly()||!this.pollContent())&&ko(this.cm,function(){return pa(s.cm)})},Qn.prototype.setUneditable=function(s){s.contentEditable="false"},Qn.prototype.onKeyPress=function(s){s.charCode==0||this.composing||(s.preventDefault(),this.cm.isReadOnly()||ir(this.cm,J_)(this.cm,String.fromCharCode(s.charCode==null?s.keyCode:s.charCode),0))},Qn.prototype.readOnlyChanged=function(s){this.div.contentEditable=String(s!="nocursor")},Qn.prototype.onContextMenu=function(){},Qn.prototype.resetPosition=function(){},Qn.prototype.needsContentAttribute=!0;function Pc(s,c){var m=Tg(s,c.line);if(!m||m.hidden)return null;var p=mt(s.doc,c.line),_=Pw(m,p,c.line),x=Qt(p,s.doc.direction),L="left";if(x){var U=rr(x,c.ch);L=U%2?"right":"left"}var H=Lw(_.map,c.ch,L);return H.offset=H.collapse=="right"?H.end:H.start,H}function vk(s){for(var c=s;c;c=c.parentNode)if(/CodeMirror-gutter-wrapper/.test(c.className))return!0;return!1}function Nc(s,c){return c&&(s.bad=!0),s}function CC(s,c,m,p,_){var x="",L=!1,U=s.doc.lineSeparator(),H=!1;function W(ve){return function(Oe){return Oe.id==ve}}function re(){L&&(x+=U,H&&(x+=U),L=H=!1)}function le(ve){ve&&(re(),x+=ve)}function _e(ve){if(ve.nodeType==1){var Oe=ve.getAttribute("cm-text");if(Oe){le(Oe);return}var Ve=ve.getAttribute("cm-marker"),Xe;if(Ve){var ot=s.findMarks(Be(p,0),Be(_+1,0),W(+Ve));ot.length&&(Xe=ot[0].find(0))&&le(Mr(s.doc,Xe.from,Xe.to).join(U));return}if(ve.getAttribute("contenteditable")=="false")return;var ct=/^(pre|div|p|li|table|br)$/i.test(ve.nodeName);if(!/^br$/i.test(ve.nodeName)&&ve.textContent.length==0)return;ct&&re();for(var it=0;it<ve.childNodes.length;it++)_e(ve.childNodes[it]);/^(pre|p)$/i.test(ve.nodeName)&&(H=!0),ct&&(L=!0)}else ve.nodeType==3&&le(ve.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;_e(c),c!=m;)c=c.nextSibling,H=!1;return x}function eo(s,c,m){var p;if(c==s.display.lineDiv){if(p=s.display.lineDiv.childNodes[m],!p)return Nc(s.clipPos(Be(s.display.viewTo-1)),!0);c=null,m=0}else for(p=c;;p=p.parentNode){if(!p||p==s.display.lineDiv)return null;if(p.parentNode&&p.parentNode==s.display.lineDiv)break}for(var _=0;_<s.display.view.length;_++){var x=s.display.view[_];if(x.node==p)return yk(x,c,m)}}function yk(s,c,m){var p=s.text.firstChild,_=!1;if(!c||!xe(p,c))return Nc(Be(wn(s.line),0),!0);if(c==p&&(_=!0,c=p.childNodes[m],m=0,!c)){var x=s.rest?Ot(s.rest):s.line;return Nc(Be(wn(x),x.text.length),_)}var L=c.nodeType==3?c:null,U=c;for(!L&&c.childNodes.length==1&&c.firstChild.nodeType==3&&(L=c.firstChild,m&&(m=L.nodeValue.length));U.parentNode!=p;)U=U.parentNode;var H=s.measure,W=H.maps;function re(Xe,ot,ct){for(var it=-1;it<(W?W.length:0);it++)for(var gt=it<0?H.map:W[it],Nt=0;Nt<gt.length;Nt+=3){var Pt=gt[Nt+2];if(Pt==Xe||Pt==ot){var rn=wn(it<0?s.line:s.rest[it]),lr=gt[Nt]+ct;return(ct<0||Pt!=Xe)&&(lr=gt[Nt+(ct?1:0)]),Be(rn,lr)}}}var le=re(L,U,m);if(le)return Nc(le,_);for(var _e=U.nextSibling,ve=L?L.nodeValue.length-m:0;_e;_e=_e.nextSibling){if(le=re(_e,_e.firstChild,0),le)return Nc(Be(le.line,le.ch-ve),_);ve+=_e.textContent.length}for(var Oe=U.previousSibling,Ve=m;Oe;Oe=Oe.previousSibling){if(le=re(Oe,Oe.firstChild,-1),le)return Nc(Be(le.line,le.ch+Ve),_);Ve+=Oe.textContent.length}}var oi=function(s){this.cm=s,this.prevInput="",this.pollingFast=!1,this.polling=new Et,this.hasSelection=!1,this.composing=null,this.resetting=!1};oi.prototype.init=function(s){var c=this,m=this,p=this.cm;this.createField(s);var _=this.textarea;s.wrapper.insertBefore(this.wrapper,s.wrapper.firstChild),k&&(_.style.width="0px"),ft(_,"input",function(){u&&f>=9&&c.hasSelection&&(c.hasSelection=null),m.poll()}),ft(_,"paste",function(L){Jn(p,L)||Kl(L,p)||(p.state.pasteIncoming=+new Date,m.fastPoll())});function x(L){if(!Jn(p,L)){if(p.somethingSelected())Gg({lineWise:!1,text:p.getSelections()});else if(p.options.lineWiseCopyCut){var U=Qg(p);Gg({lineWise:!0,text:U.text}),L.type=="cut"?p.setSelections(U.ranges,null,nt):(m.prevInput="",_.value=U.text.join(`
`),Ne(_))}else return;L.type=="cut"&&(p.state.cutIncoming=+new Date)}}ft(_,"cut",x),ft(_,"copy",x),ft(s.scroller,"paste",function(L){if(!(ii(s,L)||Jn(p,L))){if(!_.dispatchEvent){p.state.pasteIncoming=+new Date,m.focus();return}var U=new Event("paste");U.clipboardData=L.clipboardData,_.dispatchEvent(U)}}),ft(s.lineSpace,"selectstart",function(L){ii(s,L)||Ar(L)}),ft(_,"compositionstart",function(){var L=p.getCursor("from");m.composing&&m.composing.range.clear(),m.composing={start:L,range:p.markText(L,p.getCursor("to"),{className:"CodeMirror-composing"})}}),ft(_,"compositionend",function(){m.composing&&(m.poll(),m.composing.range.clear(),m.composing=null)})},oi.prototype.createField=function(s){this.wrapper=zp(),this.textarea=this.wrapper.firstChild;var c=this.cm.options;jp(this.textarea,c.spellcheck,c.autocorrect,c.autocapitalize)},oi.prototype.screenReaderLabelChanged=function(s){s?this.textarea.setAttribute("aria-label",s):this.textarea.removeAttribute("aria-label")},oi.prototype.prepareSelection=function(){var s=this.cm,c=s.display,m=s.doc,p=C_(s);if(s.options.moveInputWithCursor){var _=Ie(s,m.sel.primary().head,"div"),x=c.wrapper.getBoundingClientRect(),L=c.lineDiv.getBoundingClientRect();p.teTop=Math.max(0,Math.min(c.wrapper.clientHeight-10,_.top+L.top-x.top)),p.teLeft=Math.max(0,Math.min(c.wrapper.clientWidth-10,_.left+L.left-x.left))}return p},oi.prototype.showSelection=function(s){var c=this.cm,m=c.display;Ee(m.cursorDiv,s.cursors),Ee(m.selectionDiv,s.selection),s.teTop!=null&&(this.wrapper.style.top=s.teTop+"px",this.wrapper.style.left=s.teLeft+"px")},oi.prototype.reset=function(s){if(!(this.contextMenuPending||this.composing&&s)){var c=this.cm;if(this.resetting=!0,c.somethingSelected()){this.prevInput="";var m=c.getSelection();this.textarea.value=m,c.state.focused&&Ne(this.textarea),u&&f>=9&&(this.hasSelection=m)}else s||(this.prevInput=this.textarea.value="",u&&f>=9&&(this.hasSelection=null));this.resetting=!1}},oi.prototype.getField=function(){return this.textarea},oi.prototype.supportsTouch=function(){return!1},oi.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!A||Te(Ge(this.textarea))!=this.textarea))try{this.textarea.focus()}catch{}},oi.prototype.blur=function(){this.textarea.blur()},oi.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},oi.prototype.receivedFocus=function(){this.slowPoll()},oi.prototype.slowPoll=function(){var s=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){s.poll(),s.cm.state.focused&&s.slowPoll()})},oi.prototype.fastPoll=function(){var s=!1,c=this;c.pollingFast=!0;function m(){var p=c.poll();!p&&!s?(s=!0,c.polling.set(60,m)):(c.pollingFast=!1,c.slowPoll())}c.polling.set(20,m)},oi.prototype.poll=function(){var s=this,c=this.cm,m=this.textarea,p=this.prevInput;if(this.contextMenuPending||this.resetting||!c.state.focused||Fl(m)&&!p&&!this.composing||c.isReadOnly()||c.options.disableInput||c.state.keySeq)return!1;var _=m.value;if(_==p&&!c.somethingSelected())return!1;if(u&&f>=9&&this.hasSelection===_||V&&/[\uf700-\uf7ff]/.test(_))return c.display.input.reset(),!1;if(c.doc.sel==c.display.selForContextMenu){var x=_.charCodeAt(0);if(x==8203&&!p&&(p=""),x==8666)return this.reset(),this.cm.execCommand("undo")}for(var L=0,U=Math.min(p.length,_.length);L<U&&p.charCodeAt(L)==_.charCodeAt(L);)++L;return ko(c,function(){J_(c,_.slice(L),p.length-L,null,s.composing?"*compose":null),_.length>1e3||_.indexOf(`
`)>-1?m.value=s.prevInput="":s.prevInput=_,s.composing&&(s.composing.range.clear(),s.composing.range=c.markText(s.composing.start,c.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},oi.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},oi.prototype.onKeyPress=function(){u&&f>=9&&(this.hasSelection=null),this.fastPoll()},oi.prototype.onContextMenu=function(s){var c=this,m=c.cm,p=m.display,_=c.textarea;c.contextMenuPending&&c.contextMenuPending();var x=Hl(m,s),L=p.scroller.scrollTop;if(!x||T)return;var U=m.options.resetSelectionOnContextMenu;U&&m.doc.sel.contains(x)==-1&&ir(m,fo)(m.doc,Tc(x),nt);var H=_.style.cssText,W=c.wrapper.style.cssText,re=c.wrapper.offsetParent.getBoundingClientRect();c.wrapper.style.cssText="position: static",_.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(s.clientY-re.top-5)+"px; left: "+(s.clientX-re.left-5)+`px;
      z-index: 1000; background: `+(u?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var le;h&&(le=_.ownerDocument.defaultView.scrollY),p.input.focus(),h&&_.ownerDocument.defaultView.scrollTo(null,le),p.input.reset(),m.somethingSelected()||(_.value=c.prevInput=" "),c.contextMenuPending=ve,p.selForContextMenu=m.doc.sel,clearTimeout(p.detectingSelectAll);function _e(){if(_.selectionStart!=null){var Ve=m.somethingSelected(),Xe=""+(Ve?_.value:"");_.value="",_.value=Xe,c.prevInput=Ve?"":"",_.selectionStart=1,_.selectionEnd=Xe.length,p.selForContextMenu=m.doc.sel}}function ve(){if(c.contextMenuPending==ve&&(c.contextMenuPending=!1,c.wrapper.style.cssText=W,_.style.cssText=H,u&&f<9&&p.scrollbars.setScrollTop(p.scroller.scrollTop=L),_.selectionStart!=null)){(!u||u&&f<9)&&_e();var Ve=0,Xe=function(){p.selForContextMenu==m.doc.sel&&_.selectionStart==0&&_.selectionEnd>0&&c.prevInput==""?ir(m,jd)(m):Ve++<10?p.detectingSelectAll=setTimeout(Xe,500):(p.selForContextMenu=null,p.input.reset())};p.detectingSelectAll=setTimeout(Xe,200)}}if(u&&f>=9&&_e(),q){Ir(s);var Oe=function(){Tr(window,"mouseup",Oe),setTimeout(ve,20)};ft(window,"mouseup",Oe)}else setTimeout(ve,50)},oi.prototype.readOnlyChanged=function(s){s||this.reset(),this.textarea.disabled=s=="nocursor",this.textarea.readOnly=!!s},oi.prototype.setUneditable=function(){},oi.prototype.needsContentAttribute=!1;function SC(s,c){if(c=c?_t(c):{},c.value=s.value,!c.tabindex&&s.tabIndex&&(c.tabindex=s.tabIndex),!c.placeholder&&s.placeholder&&(c.placeholder=s.placeholder),c.autofocus==null){var m=Te(Ge(s));c.autofocus=m==s||s.getAttribute("autofocus")!=null&&m==document.body}function p(){s.value=U.getValue()}var _;if(s.form&&(ft(s.form,"submit",p),!c.leaveSubmitMethodAlone)){var x=s.form;_=x.submit;try{var L=x.submit=function(){p(),x.submit=_,x.submit(),x.submit=L}}catch{}}c.finishInit=function(H){H.save=p,H.getTextArea=function(){return s},H.toTextArea=function(){H.toTextArea=isNaN,p(),s.parentNode.removeChild(H.getWrapperElement()),s.style.display="",s.form&&(Tr(s.form,"submit",p),!c.leaveSubmitMethodAlone&&typeof s.form.submit=="function"&&(s.form.submit=_))}},s.style.display="none";var U=Kn(function(H){return s.parentNode.insertBefore(H,s.nextSibling)},c);return U}function _k(s){s.off=Tr,s.on=ft,s.wheelEventPixels=rk,s.Doc=qo,s.splitLines=wu,s.countColumn=xt,s.findColumn=Kt,s.isWordChar=Me,s.Pass=an,s.signal=Un,s.Line=Pi,s.changeEnd=xc,s.scrollbarModel=Vf,s.Pos=Be,s.cmpPos=Mt,s.modes=Vo,s.mimeModes=Wa,s.resolveMode=ki,s.getMode=Bo,s.modeExtensions=$o,s.extendMode=kf,s.copyState=Gi,s.startState=qa,s.innerMode=Ul,s.commands=Fp,s.keyMap=Wl,s.keyName=Np,s.isModifierKey=$g,s.lookupKey=es,s.normalizeKeyMap=Za,s.StringStream=Vn,s.SharedTextMarker=Kd,s.TextMarker=dl,s.LineWidget=qf,s.e_preventDefault=Ar,s.e_stopPropagation=Uo,s.e_stop=Ir,s.addClass=J,s.contains=xe,s.rmClass=K,s.keyNames=Zi}X_(Kn),eh(Kn);var TC="iter insert remove copy getEditor constructor".split(" ");for(var Xg in qo.prototype)qo.prototype.hasOwnProperty(Xg)&&Dt(TC,Xg)<0&&(Kn.prototype[Xg]=function(s){return function(){return s.apply(this.doc,arguments)}}(qo.prototype[Xg]));return fi(qo),Kn.inputStyles={textarea:oi,contenteditable:Qn},Kn.defineMode=function(s){!Kn.defaults.mode&&s!="null"&&(Kn.defaults.mode=s),_c.apply(this,arguments)},Kn.defineMIME=Cu,Kn.defineMode("null",function(){return{token:function(s){return s.skipToEnd()}}}),Kn.defineMIME("text/plain","null"),Kn.defineExtension=function(s,c){Kn.prototype[s]=c},Kn.defineDocExtension=function(s,c){qo.prototype[s]=c},Kn.fromTextArea=SC,_k(Kn),Kn.version="5.65.19",Kn})}(TP)),TP.exports}var QW={exports:{}},XW;function sWe(){return XW||(XW=1,function(t,e){(function(n){n(kw())})(function(n){var r=n.Pos;function i(k){var O=k.flags;return O??(k.ignoreCase?"i":"")+(k.global?"g":"")+(k.multiline?"m":"")}function o(k,O){for(var A=i(k),V=A,D=0;D<O.length;D++)V.indexOf(O.charAt(D))==-1&&(V+=O.charAt(D));return A==V?k:new RegExp(k.source,V)}function a(k){return/\\s|\\n|\n|\\W|\\D|\[\^/.test(k.source)}function l(k,O,A){O=o(O,"g");for(var V=A.line,D=A.ch,P=k.lastLine();V<=P;V++,D=0){O.lastIndex=D;var N=k.getLine(V),$=O.exec(N);if($)return{from:r(V,$.index),to:r(V,$.index+$[0].length),match:$}}}function u(k,O,A){if(!a(O))return l(k,O,A);O=o(O,"gm");for(var V,D=1,P=A.line,N=k.lastLine();P<=N;){for(var $=0;$<D&&!(P>N);$++){var q=k.getLine(P++);V=V==null?q:V+`
`+q}D=D*2,O.lastIndex=A.ch;var z=O.exec(V);if(z){var K=V.slice(0,z.index).split(`
`),Q=z[0].split(`
`),Ee=A.line+K.length-1,he=K[K.length-1].length;return{from:r(Ee,he),to:r(Ee+Q.length-1,Q.length==1?he+Q[0].length:Q[Q.length-1].length),match:z}}}}function f(k,O,A){for(var V,D=0;D<=k.length;){O.lastIndex=D;var P=O.exec(k);if(!P)break;var N=P.index+P[0].length;if(N>k.length-A)break;(!V||N>V.index+V[0].length)&&(V=P),D=P.index+1}return V}function h(k,O,A){O=o(O,"g");for(var V=A.line,D=A.ch,P=k.firstLine();V>=P;V--,D=-1){var N=k.getLine(V),$=f(N,O,D<0?0:N.length-D);if($)return{from:r(V,$.index),to:r(V,$.index+$[0].length),match:$}}}function g(k,O,A){if(!a(O))return h(k,O,A);O=o(O,"gm");for(var V,D=1,P=k.getLine(A.line).length-A.ch,N=A.line,$=k.firstLine();N>=$;){for(var q=0;q<D&&N>=$;q++){var z=k.getLine(N--);V=V==null?z:z+`
`+V}D*=2;var K=f(V,O,P);if(K){var Q=V.slice(0,K.index).split(`
`),Ee=K[0].split(`
`),he=N+Q.length,Je=Q[Q.length-1].length;return{from:r(he,Je),to:r(he+Ee.length-1,Ee.length==1?Je+Ee[0].length:Ee[Ee.length-1].length),match:K}}}}var y,w;String.prototype.normalize?(y=function(k){return k.normalize("NFD").toLowerCase()},w=function(k){return k.normalize("NFD")}):(y=function(k){return k.toLowerCase()},w=function(k){return k});function T(k,O,A,V){if(k.length==O.length)return A;for(var D=0,P=A+Math.max(0,k.length-O.length);;){if(D==P)return D;var N=D+P>>1,$=V(k.slice(0,N)).length;if($==A)return N;$>A?P=N:D=N+1}}function C(k,O,A,V){if(!O.length)return null;var D=V?y:w,P=D(O).split(/\r|\n\r?/);e:for(var N=A.line,$=A.ch,q=k.lastLine()+1-P.length;N<=q;N++,$=0){var z=k.getLine(N).slice($),K=D(z);if(P.length==1){var Q=K.indexOf(P[0]);if(Q==-1)continue e;var A=T(z,K,Q,D)+$;return{from:r(N,T(z,K,Q,D)+$),to:r(N,T(z,K,Q+P[0].length,D)+$)}}else{var Ee=K.length-P[0].length;if(K.slice(Ee)!=P[0])continue e;for(var he=1;he<P.length-1;he++)if(D(k.getLine(N+he))!=P[he])continue e;var Je=k.getLine(N+P.length-1),He=D(Je),xe=P[P.length-1];if(He.slice(0,xe.length)!=xe)continue e;return{from:r(N,T(z,K,Ee,D)+$),to:r(N+P.length-1,T(Je,He,xe.length,D))}}}}function R(k,O,A,V){if(!O.length)return null;var D=V?y:w,P=D(O).split(/\r|\n\r?/);e:for(var N=A.line,$=A.ch,q=k.firstLine()-1+P.length;N>=q;N--,$=-1){var z=k.getLine(N);$>-1&&(z=z.slice(0,$));var K=D(z);if(P.length==1){var Q=K.lastIndexOf(P[0]);if(Q==-1)continue e;return{from:r(N,T(z,K,Q,D)),to:r(N,T(z,K,Q+P[0].length,D))}}else{var Ee=P[P.length-1];if(K.slice(0,Ee.length)!=Ee)continue e;for(var he=1,A=N-P.length+1;he<P.length-1;he++)if(D(k.getLine(A+he))!=P[he])continue e;var Je=k.getLine(N+1-P.length),He=D(Je);if(He.slice(He.length-P[0].length)!=P[0])continue e;return{from:r(N+1-P.length,T(Je,He,Je.length-P[0].length,D)),to:r(N,T(z,K,Ee.length,D))}}}}function I(k,O,A,V){this.atOccurrence=!1,this.afterEmptyMatch=!1,this.doc=k,A=A?k.clipPos(A):r(0,0),this.pos={from:A,to:A};var D;typeof V=="object"?D=V.caseFold:(D=V,V=null),typeof O=="string"?(D==null&&(D=!1),this.matches=function(P,N){return(P?R:C)(k,O,N,D)}):(O=o(O,"gm"),!V||V.multiline!==!1?this.matches=function(P,N){return(P?g:u)(k,O,N)}:this.matches=function(P,N){return(P?h:l)(k,O,N)})}I.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(k){var O=this.doc.clipPos(k?this.pos.from:this.pos.to);if(this.afterEmptyMatch&&this.atOccurrence&&(O=r(O.line,O.ch),k?(O.ch--,O.ch<0&&(O.line--,O.ch=(this.doc.getLine(O.line)||"").length)):(O.ch++,O.ch>(this.doc.getLine(O.line)||"").length&&(O.ch=0,O.line++)),n.cmpPos(O,this.doc.clipPos(O))!=0))return this.atOccurrence=!1;var A=this.matches(k,O);if(this.afterEmptyMatch=A&&n.cmpPos(A.from,A.to)==0,A)return this.pos=A,this.atOccurrence=!0,this.pos.match||!0;var V=r(k?this.doc.firstLine():this.doc.lastLine()+1,0);return this.pos={from:V,to:V},this.atOccurrence=!1},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(k,O){if(this.atOccurrence){var A=n.splitLines(k);this.doc.replaceRange(A,this.pos.from,this.pos.to,O),this.pos.to=r(this.pos.from.line+A.length-1,A[A.length-1].length+(A.length==1?this.pos.from.ch:0))}}},n.defineExtension("getSearchCursor",function(k,O,A){return new I(this.doc,k,O,A)}),n.defineDocExtension("getSearchCursor",function(k,O,A){return new I(this,k,O,A)}),n.defineExtension("selectMatches",function(k,O){for(var A=[],V=this.getSearchCursor(k,this.getCursor("from"),O);V.findNext()&&!(n.cmpPos(V.to(),this.getCursor("to"))>0);)A.push({anchor:V.from(),head:V.to()});A.length&&this.setSelections(A,0)})})}()),QW.exports}var JW={exports:{}},ZW;function lWe(){return ZW||(ZW=1,function(t,e){(function(n){n(kw())})(function(n){var r=/MSIE \d/.test(navigator.userAgent)&&(document.documentMode==null||document.documentMode<8),i=n.Pos,o={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<","<":">>",">":"<<"};function a(y){return y&&y.bracketRegex||/[(){}[\]]/}function l(y,w,T){var C=y.getLineHandle(w.line),R=w.ch-1,I=T&&T.afterCursor;I==null&&(I=/(^| )cm-fat-cursor($| )/.test(y.getWrapperElement().className));var k=a(T),O=!I&&R>=0&&k.test(C.text.charAt(R))&&o[C.text.charAt(R)]||k.test(C.text.charAt(R+1))&&o[C.text.charAt(++R)];if(!O)return null;var A=O.charAt(1)==">"?1:-1;if(T&&T.strict&&A>0!=(R==w.ch))return null;var V=y.getTokenTypeAt(i(w.line,R+1)),D=u(y,i(w.line,R+(A>0?1:0)),A,V,T);return D==null?null:{from:i(w.line,R),to:D&&D.pos,match:D&&D.ch==O.charAt(0),forward:A>0}}function u(y,w,T,C,R){for(var I=R&&R.maxScanLineLength||1e4,k=R&&R.maxScanLines||1e3,O=[],A=a(R),V=T>0?Math.min(w.line+k,y.lastLine()+1):Math.max(y.firstLine()-1,w.line-k),D=w.line;D!=V;D+=T){var P=y.getLine(D);if(P){var N=T>0?0:P.length-1,$=T>0?P.length:-1;if(!(P.length>I))for(D==w.line&&(N=w.ch-(T<0?1:0));N!=$;N+=T){var q=P.charAt(N);if(A.test(q)&&(C===void 0||(y.getTokenTypeAt(i(D,N+1))||"")==(C||""))){var z=o[q];if(z&&z.charAt(1)==">"==T>0)O.push(q);else if(O.length)O.pop();else return{pos:i(D,N),ch:q}}}}}return D-T==(T>0?y.lastLine():y.firstLine())?!1:null}function f(y,w,T){for(var C=y.state.matchBrackets.maxHighlightLineLength||1e3,R=T&&T.highlightNonMatching,I=[],k=y.listSelections(),O=0;O<k.length;O++){var A=k[O].empty()&&l(y,k[O].head,T);if(A&&(A.match||R!==!1)&&y.getLine(A.from.line).length<=C){var V=A.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";I.push(y.markText(A.from,i(A.from.line,A.from.ch+1),{className:V})),A.to&&y.getLine(A.to.line).length<=C&&I.push(y.markText(A.to,i(A.to.line,A.to.ch+1),{className:V}))}}if(I.length){r&&y.state.focused&&y.focus();var D=function(){y.operation(function(){for(var P=0;P<I.length;P++)I[P].clear()})};if(w)setTimeout(D,800);else return D}}function h(y){y.operation(function(){y.state.matchBrackets.currentlyHighlighted&&(y.state.matchBrackets.currentlyHighlighted(),y.state.matchBrackets.currentlyHighlighted=null),y.state.matchBrackets.currentlyHighlighted=f(y,!1,y.state.matchBrackets)})}function g(y){y.state.matchBrackets&&y.state.matchBrackets.currentlyHighlighted&&(y.state.matchBrackets.currentlyHighlighted(),y.state.matchBrackets.currentlyHighlighted=null)}n.defineOption("matchBrackets",!1,function(y,w,T){T&&T!=n.Init&&(y.off("cursorActivity",h),y.off("focus",h),y.off("blur",g),g(y)),w&&(y.state.matchBrackets=typeof w=="object"?w:{},y.on("cursorActivity",h),y.on("focus",h),y.on("blur",g))}),n.defineExtension("matchBrackets",function(){f(this,!0)}),n.defineExtension("findMatchingBracket",function(y,w,T){return(T||typeof w=="boolean")&&(T?(T.strict=w,w=T):w=w?{strict:!0}:null),l(this,y,w)}),n.defineExtension("scanForBracket",function(y,w,T,C){return u(this,y,w,T,C)})})}()),JW.exports}(function(t,e){(function(n){n(kw(),sWe(),lWe())})(function(n){var r=n.commands,i=n.Pos;function o(A,V,D){if(D<0&&V.ch==0)return A.clipPos(i(V.line-1));var P=A.getLine(V.line);if(D>0&&V.ch>=P.length)return A.clipPos(i(V.line+1,0));for(var N="start",$,q=V.ch,z=q,K=D<0?0:P.length,Q=0;z!=K;z+=D,Q++){var Ee=P.charAt(D<0?z-1:z),he=Ee!="_"&&n.isWordChar(Ee)?"w":"o";if(he=="w"&&Ee.toUpperCase()==Ee&&(he="W"),N=="start")he!="o"?(N="in",$=he):q=z+D;else if(N=="in"&&$!=he){if($=="w"&&he=="W"&&D<0&&z--,$=="W"&&he=="w"&&D>0)if(z==q+1){$="w";continue}else z--;break}}return i(V.line,z)}function a(A,V){A.extendSelectionsBy(function(D){return A.display.shift||A.doc.extend||D.empty()?o(A.doc,D.head,V):V<0?D.from():D.to()})}r.goSubwordLeft=function(A){a(A,-1)},r.goSubwordRight=function(A){a(A,1)},r.scrollLineUp=function(A){var V=A.getScrollInfo();if(!A.somethingSelected()){var D=A.lineAtHeight(V.top+V.clientHeight,"local");A.getCursor().line>=D&&A.execCommand("goLineUp")}A.scrollTo(null,V.top-A.defaultTextHeight())},r.scrollLineDown=function(A){var V=A.getScrollInfo();if(!A.somethingSelected()){var D=A.lineAtHeight(V.top,"local")+1;A.getCursor().line<=D&&A.execCommand("goLineDown")}A.scrollTo(null,V.top+A.defaultTextHeight())},r.splitSelectionByLine=function(A){for(var V=A.listSelections(),D=[],P=0;P<V.length;P++)for(var N=V[P].from(),$=V[P].to(),q=N.line;q<=$.line;++q)$.line>N.line&&q==$.line&&$.ch==0||D.push({anchor:q==N.line?N:i(q,0),head:q==$.line?$:i(q)});A.setSelections(D,0)},r.singleSelectionTop=function(A){var V=A.listSelections()[0];A.setSelection(V.anchor,V.head,{scroll:!1})},r.selectLine=function(A){for(var V=A.listSelections(),D=[],P=0;P<V.length;P++){var N=V[P];D.push({anchor:i(N.from().line,0),head:i(N.to().line+1,0)})}A.setSelections(D)};function l(A,V){if(A.isReadOnly())return n.Pass;A.operation(function(){for(var D=A.listSelections().length,P=[],N=-1,$=0;$<D;$++){var q=A.listSelections()[$].head;if(!(q.line<=N)){var z=i(q.line+(V?0:1),0);A.replaceRange(`
`,z,null,"+insertLine"),A.indentLine(z.line,null,!0),P.push({head:z,anchor:z}),N=q.line+1}}A.setSelections(P)}),A.execCommand("indentAuto")}r.insertLineAfter=function(A){return l(A,!1)},r.insertLineBefore=function(A){return l(A,!0)};function u(A,V){for(var D=V.ch,P=D,N=A.getLine(V.line);D&&n.isWordChar(N.charAt(D-1));)--D;for(;P<N.length&&n.isWordChar(N.charAt(P));)++P;return{from:i(V.line,D),to:i(V.line,P),word:N.slice(D,P)}}r.selectNextOccurrence=function(A){var V=A.getCursor("from"),D=A.getCursor("to"),P=A.state.sublimeFindFullWord==A.doc.sel;if(n.cmpPos(V,D)==0){var N=u(A,V);if(!N.word)return;A.setSelection(N.from,N.to),P=!0}else{var $=A.getRange(V,D),q=P?new RegExp("\\b"+$+"\\b"):$,z=A.getSearchCursor(q,D),K=z.findNext();if(K||(z=A.getSearchCursor(q,i(A.firstLine(),0)),K=z.findNext()),!K||h(A.listSelections(),z.from(),z.to()))return;A.addSelection(z.from(),z.to())}P&&(A.state.sublimeFindFullWord=A.doc.sel)},r.skipAndSelectNextOccurrence=function(A){var V=A.getCursor("anchor"),D=A.getCursor("head");r.selectNextOccurrence(A),n.cmpPos(V,D)!=0&&A.doc.setSelections(A.doc.listSelections().filter(function(P){return P.anchor!=V||P.head!=D}))};function f(A,V){for(var D=A.listSelections(),P=[],N=0;N<D.length;N++){var $=D[N],q=A.findPosV($.anchor,V,"line",$.anchor.goalColumn),z=A.findPosV($.head,V,"line",$.head.goalColumn);q.goalColumn=$.anchor.goalColumn!=null?$.anchor.goalColumn:A.cursorCoords($.anchor,"div").left,z.goalColumn=$.head.goalColumn!=null?$.head.goalColumn:A.cursorCoords($.head,"div").left;var K={anchor:q,head:z};P.push($),P.push(K)}A.setSelections(P)}r.addCursorToPrevLine=function(A){f(A,-1)},r.addCursorToNextLine=function(A){f(A,1)};function h(A,V,D){for(var P=0;P<A.length;P++)if(n.cmpPos(A[P].from(),V)==0&&n.cmpPos(A[P].to(),D)==0)return!0;return!1}var g="(){}[]";function y(A){for(var V=A.listSelections(),D=[],P=0;P<V.length;P++){var N=V[P],$=N.head,q=A.scanForBracket($,-1);if(!q)return!1;for(;;){var z=A.scanForBracket($,1);if(!z)return!1;if(z.ch==g.charAt(g.indexOf(q.ch)+1)){var K=i(q.pos.line,q.pos.ch+1);if(n.cmpPos(K,N.from())==0&&n.cmpPos(z.pos,N.to())==0){if(q=A.scanForBracket(q.pos,-1),!q)return!1}else{D.push({anchor:K,head:z.pos});break}}$=i(z.pos.line,z.pos.ch+1)}}return A.setSelections(D),!0}r.selectScope=function(A){y(A)||A.execCommand("selectAll")},r.selectBetweenBrackets=function(A){if(!y(A))return n.Pass};function w(A){return A?/\bpunctuation\b/.test(A)?A:void 0:null}r.goToBracket=function(A){A.extendSelectionsBy(function(V){var D=A.scanForBracket(V.head,1,w(A.getTokenTypeAt(V.head)));if(D&&n.cmpPos(D.pos,V.head)!=0)return D.pos;var P=A.scanForBracket(V.head,-1,w(A.getTokenTypeAt(i(V.head.line,V.head.ch+1))));return P&&i(P.pos.line,P.pos.ch+1)||V.head})},r.swapLineUp=function(A){if(A.isReadOnly())return n.Pass;for(var V=A.listSelections(),D=[],P=A.firstLine()-1,N=[],$=0;$<V.length;$++){var q=V[$],z=q.from().line-1,K=q.to().line;N.push({anchor:i(q.anchor.line-1,q.anchor.ch),head:i(q.head.line-1,q.head.ch)}),q.to().ch==0&&!q.empty()&&--K,z>P?D.push(z,K):D.length&&(D[D.length-1]=K),P=K}A.operation(function(){for(var Q=0;Q<D.length;Q+=2){var Ee=D[Q],he=D[Q+1],Je=A.getLine(Ee);A.replaceRange("",i(Ee,0),i(Ee+1,0),"+swapLine"),he>A.lastLine()?A.replaceRange(`
`+Je,i(A.lastLine()),null,"+swapLine"):A.replaceRange(Je+`
`,i(he,0),null,"+swapLine")}A.setSelections(N),A.scrollIntoView()})},r.swapLineDown=function(A){if(A.isReadOnly())return n.Pass;for(var V=A.listSelections(),D=[],P=A.lastLine()+1,N=V.length-1;N>=0;N--){var $=V[N],q=$.to().line+1,z=$.from().line;$.to().ch==0&&!$.empty()&&q--,q<P?D.push(q,z):D.length&&(D[D.length-1]=z),P=z}A.operation(function(){for(var K=D.length-2;K>=0;K-=2){var Q=D[K],Ee=D[K+1],he=A.getLine(Q);Q==A.lastLine()?A.replaceRange("",i(Q-1),i(Q),"+swapLine"):A.replaceRange("",i(Q,0),i(Q+1,0),"+swapLine"),A.replaceRange(he+`
`,i(Ee,0),null,"+swapLine")}A.scrollIntoView()})},r.toggleCommentIndented=function(A){A.toggleComment({indent:!0})},r.joinLines=function(A){for(var V=A.listSelections(),D=[],P=0;P<V.length;P++){for(var N=V[P],$=N.from(),q=$.line,z=N.to().line;P<V.length-1&&V[P+1].from().line==z;)z=V[++P].to().line;D.push({start:q,end:z,anchor:!N.empty()&&$})}A.operation(function(){for(var K=0,Q=[],Ee=0;Ee<D.length;Ee++){for(var he=D[Ee],Je=he.anchor&&i(he.anchor.line-K,he.anchor.ch),He,xe=he.start;xe<=he.end;xe++){var Te=xe-K;xe==he.end&&(He=i(Te,A.getLine(Te).length+1)),Te<A.lastLine()&&(A.replaceRange(" ",i(Te),i(Te+1,/^\s*/.exec(A.getLine(Te+1))[0].length)),++K)}Q.push({anchor:Je||He,head:He})}A.setSelections(Q,0)})},r.duplicateLine=function(A){A.operation(function(){for(var V=A.listSelections().length,D=0;D<V;D++){var P=A.listSelections()[D];P.empty()?A.replaceRange(A.getLine(P.head.line)+`
`,i(P.head.line,0)):A.replaceRange(A.getRange(P.from(),P.to()),P.from())}A.scrollIntoView()})};function T(A,V,D){if(A.isReadOnly())return n.Pass;for(var P=A.listSelections(),N=[],$,q=0;q<P.length;q++){var z=P[q];if(!z.empty()){for(var K=z.from().line,Q=z.to().line;q<P.length-1&&P[q+1].from().line==Q;)Q=P[++q].to().line;P[q].to().ch||Q--,N.push(K,Q)}}N.length?$=!0:N.push(A.firstLine(),A.lastLine()),A.operation(function(){for(var Ee=[],he=0;he<N.length;he+=2){var Je=N[he],He=N[he+1],xe=i(Je,0),Te=i(He),J=A.getRange(xe,Te,!1);V?J.sort(function(Ae,Ne){return Ae<Ne?-D:Ae==Ne?0:D}):J.sort(function(Ae,Ne){var ie=Ae.toUpperCase(),lt=Ne.toUpperCase();return ie!=lt&&(Ae=ie,Ne=lt),Ae<Ne?-D:Ae==Ne?0:D}),A.replaceRange(J,xe,Te),$&&Ee.push({anchor:xe,head:i(He+1,0)})}$&&A.setSelections(Ee,0)})}r.sortLines=function(A){T(A,!0,1)},r.reverseSortLines=function(A){T(A,!0,-1)},r.sortLinesInsensitive=function(A){T(A,!1,1)},r.reverseSortLinesInsensitive=function(A){T(A,!1,-1)},r.nextBookmark=function(A){var V=A.state.sublimeBookmarks;if(V)for(;V.length;){var D=V.shift(),P=D.find();if(P)return V.push(D),A.setSelection(P.from,P.to)}},r.prevBookmark=function(A){var V=A.state.sublimeBookmarks;if(V)for(;V.length;){V.unshift(V.pop());var D=V[V.length-1].find();if(!D)V.pop();else return A.setSelection(D.from,D.to)}},r.toggleBookmark=function(A){for(var V=A.listSelections(),D=A.state.sublimeBookmarks||(A.state.sublimeBookmarks=[]),P=0;P<V.length;P++){for(var N=V[P].from(),$=V[P].to(),q=V[P].empty()?A.findMarksAt(N):A.findMarks(N,$),z=0;z<q.length;z++)if(q[z].sublimeBookmark){q[z].clear();for(var K=0;K<D.length;K++)D[K]==q[z]&&D.splice(K--,1);break}z==q.length&&D.push(A.markText(N,$,{sublimeBookmark:!0,clearWhenEmpty:!1}))}},r.clearBookmarks=function(A){var V=A.state.sublimeBookmarks;if(V)for(var D=0;D<V.length;D++)V[D].clear();V.length=0},r.selectBookmarks=function(A){var V=A.state.sublimeBookmarks,D=[];if(V)for(var P=0;P<V.length;P++){var N=V[P].find();N?D.push({anchor:N.from,head:N.to}):V.splice(P--,0)}D.length&&A.setSelections(D,0)};function C(A,V){A.operation(function(){for(var D=A.listSelections(),P=[],N=[],$=0;$<D.length;$++){var q=D[$];q.empty()?(P.push($),N.push("")):N.push(V(A.getRange(q.from(),q.to())))}A.replaceSelections(N,"around","case");for(var $=P.length-1,z;$>=0;$--){var q=D[P[$]];if(!(z&&n.cmpPos(q.head,z)>0)){var K=u(A,q.head);z=K.from,A.replaceRange(V(K.word),K.from,K.to)}}})}r.smartBackspace=function(A){if(A.somethingSelected())return n.Pass;A.operation(function(){for(var V=A.listSelections(),D=A.getOption("indentUnit"),P=V.length-1;P>=0;P--){var N=V[P].head,$=A.getRange({line:N.line,ch:0},N),q=n.countColumn($,null,A.getOption("tabSize")),z=A.findPosH(N,-1,"char",!1);if($&&!/\S/.test($)&&q%D==0){var K=new i(N.line,n.findColumn($,q-D,D));K.ch!=N.ch&&(z=K)}A.replaceRange("",z,N,"+delete")}})},r.delLineRight=function(A){A.operation(function(){for(var V=A.listSelections(),D=V.length-1;D>=0;D--)A.replaceRange("",V[D].anchor,i(V[D].to().line),"+delete");A.scrollIntoView()})},r.upcaseAtCursor=function(A){C(A,function(V){return V.toUpperCase()})},r.downcaseAtCursor=function(A){C(A,function(V){return V.toLowerCase()})},r.setSublimeMark=function(A){A.state.sublimeMark&&A.state.sublimeMark.clear(),A.state.sublimeMark=A.setBookmark(A.getCursor())},r.selectToSublimeMark=function(A){var V=A.state.sublimeMark&&A.state.sublimeMark.find();V&&A.setSelection(A.getCursor(),V)},r.deleteToSublimeMark=function(A){var V=A.state.sublimeMark&&A.state.sublimeMark.find();if(V){var D=A.getCursor(),P=V;if(n.cmpPos(D,P)>0){var N=P;P=D,D=N}A.state.sublimeKilled=A.getRange(D,P),A.replaceRange("",D,P)}},r.swapWithSublimeMark=function(A){var V=A.state.sublimeMark&&A.state.sublimeMark.find();V&&(A.state.sublimeMark.clear(),A.state.sublimeMark=A.setBookmark(A.getCursor()),A.setCursor(V))},r.sublimeYank=function(A){A.state.sublimeKilled!=null&&A.replaceSelection(A.state.sublimeKilled,null,"paste")},r.showInCenter=function(A){var V=A.cursorCoords(null,"local");A.scrollTo(null,(V.top+V.bottom)/2-A.getScrollInfo().clientHeight/2)};function R(A){var V=A.getCursor("from"),D=A.getCursor("to");if(n.cmpPos(V,D)==0){var P=u(A,V);if(!P.word)return;V=P.from,D=P.to}return{from:V,to:D,query:A.getRange(V,D),word:P}}function I(A,V){var D=R(A);if(D){var P=D.query,N=A.getSearchCursor(P,V?D.to:D.from);(V?N.findNext():N.findPrevious())?A.setSelection(N.from(),N.to()):(N=A.getSearchCursor(P,V?i(A.firstLine(),0):A.clipPos(i(A.lastLine()))),(V?N.findNext():N.findPrevious())?A.setSelection(N.from(),N.to()):D.word&&A.setSelection(D.from,D.to))}}r.findUnder=function(A){I(A,!0)},r.findUnderPrevious=function(A){I(A,!1)},r.findAllUnder=function(A){var V=R(A);if(V){for(var D=A.getSearchCursor(V.query),P=[],N=-1;D.findNext();)P.push({anchor:D.from(),head:D.to()}),D.from().line<=V.from.line&&D.from().ch<=V.from.ch&&N++;A.setSelections(P,N)}};var k=n.keyMap;k.macSublime={"Cmd-Left":"goLineStartSmart","Shift-Tab":"indentLess","Shift-Ctrl-K":"deleteLine","Alt-Q":"wrapLines","Ctrl-Left":"goSubwordLeft","Ctrl-Right":"goSubwordRight","Ctrl-Alt-Up":"scrollLineUp","Ctrl-Alt-Down":"scrollLineDown","Cmd-L":"selectLine","Shift-Cmd-L":"splitSelectionByLine",Esc:"singleSelectionTop","Cmd-Enter":"insertLineAfter","Shift-Cmd-Enter":"insertLineBefore","Cmd-D":"selectNextOccurrence","Shift-Cmd-Space":"selectScope","Shift-Cmd-M":"selectBetweenBrackets","Cmd-M":"goToBracket","Cmd-Ctrl-Up":"swapLineUp","Cmd-Ctrl-Down":"swapLineDown","Cmd-/":"toggleCommentIndented","Cmd-J":"joinLines","Shift-Cmd-D":"duplicateLine",F5:"sortLines","Shift-F5":"reverseSortLines","Cmd-F5":"sortLinesInsensitive","Shift-Cmd-F5":"reverseSortLinesInsensitive",F2:"nextBookmark","Shift-F2":"prevBookmark","Cmd-F2":"toggleBookmark","Shift-Cmd-F2":"clearBookmarks","Alt-F2":"selectBookmarks",Backspace:"smartBackspace","Cmd-K Cmd-D":"skipAndSelectNextOccurrence","Cmd-K Cmd-K":"delLineRight","Cmd-K Cmd-U":"upcaseAtCursor","Cmd-K Cmd-L":"downcaseAtCursor","Cmd-K Cmd-Space":"setSublimeMark","Cmd-K Cmd-A":"selectToSublimeMark","Cmd-K Cmd-W":"deleteToSublimeMark","Cmd-K Cmd-X":"swapWithSublimeMark","Cmd-K Cmd-Y":"sublimeYank","Cmd-K Cmd-C":"showInCenter","Cmd-K Cmd-G":"clearBookmarks","Cmd-K Cmd-Backspace":"delLineLeft","Cmd-K Cmd-1":"foldAll","Cmd-K Cmd-0":"unfoldAll","Cmd-K Cmd-J":"unfoldAll","Ctrl-Shift-Up":"addCursorToPrevLine","Ctrl-Shift-Down":"addCursorToNextLine","Cmd-F3":"findUnder","Shift-Cmd-F3":"findUnderPrevious","Alt-F3":"findAllUnder","Shift-Cmd-[":"fold","Shift-Cmd-]":"unfold","Cmd-I":"findIncremental","Shift-Cmd-I":"findIncrementalReverse","Cmd-H":"replace",F3:"findNext","Shift-F3":"findPrev",fallthrough:"macDefault"},n.normalizeKeyMap(k.macSublime),k.pcSublime={"Shift-Tab":"indentLess","Shift-Ctrl-K":"deleteLine","Alt-Q":"wrapLines","Ctrl-T":"transposeChars","Alt-Left":"goSubwordLeft","Alt-Right":"goSubwordRight","Ctrl-Up":"scrollLineUp","Ctrl-Down":"scrollLineDown","Ctrl-L":"selectLine","Shift-Ctrl-L":"splitSelectionByLine",Esc:"singleSelectionTop","Ctrl-Enter":"insertLineAfter","Shift-Ctrl-Enter":"insertLineBefore","Ctrl-D":"selectNextOccurrence","Shift-Ctrl-Space":"selectScope","Shift-Ctrl-M":"selectBetweenBrackets","Ctrl-M":"goToBracket","Shift-Ctrl-Up":"swapLineUp","Shift-Ctrl-Down":"swapLineDown","Ctrl-/":"toggleCommentIndented","Ctrl-J":"joinLines","Shift-Ctrl-D":"duplicateLine",F9:"sortLines","Shift-F9":"reverseSortLines","Ctrl-F9":"sortLinesInsensitive","Shift-Ctrl-F9":"reverseSortLinesInsensitive",F2:"nextBookmark","Shift-F2":"prevBookmark","Ctrl-F2":"toggleBookmark","Shift-Ctrl-F2":"clearBookmarks","Alt-F2":"selectBookmarks",Backspace:"smartBackspace","Ctrl-K Ctrl-D":"skipAndSelectNextOccurrence","Ctrl-K Ctrl-K":"delLineRight","Ctrl-K Ctrl-U":"upcaseAtCursor","Ctrl-K Ctrl-L":"downcaseAtCursor","Ctrl-K Ctrl-Space":"setSublimeMark","Ctrl-K Ctrl-A":"selectToSublimeMark","Ctrl-K Ctrl-W":"deleteToSublimeMark","Ctrl-K Ctrl-X":"swapWithSublimeMark","Ctrl-K Ctrl-Y":"sublimeYank","Ctrl-K Ctrl-C":"showInCenter","Ctrl-K Ctrl-G":"clearBookmarks","Ctrl-K Ctrl-Backspace":"delLineLeft","Ctrl-K Ctrl-1":"foldAll","Ctrl-K Ctrl-0":"unfoldAll","Ctrl-K Ctrl-J":"unfoldAll","Ctrl-Alt-Up":"addCursorToPrevLine","Ctrl-Alt-Down":"addCursorToNextLine","Ctrl-F3":"findUnder","Shift-Ctrl-F3":"findUnderPrevious","Alt-F3":"findAllUnder","Shift-Ctrl-[":"fold","Shift-Ctrl-]":"unfold","Ctrl-I":"findIncremental","Shift-Ctrl-I":"findIncrementalReverse","Ctrl-H":"replace",F3:"findNext","Shift-F3":"findPrev",fallthrough:"pcDefault"},n.normalizeKeyMap(k.pcSublime);var O=k.default==k.macDefault;k.sublime=O?k.macSublime:k.pcSublime})})();var uWe=kw();const sre=ra(uWe),cWe="Admin requests bypass Firestore rules",fWe=()=>b(ao,{use:"surface",wrap:!0,children:b("div",{className:"Firestore-Requests-Details-Code-Admin-Request-Container",children:b(Ue,{use:"body2",theme:"textSecondaryOnBackground",className:"Firestore-Requests-Details-Code-Admin-Request-Message",children:cWe})})});(function(t,e){(function(n){n(kw())})(function(n){n.defineSimpleMode=function(y,w){n.defineMode(y,function(T){return n.simpleMode(T,w)})},n.simpleMode=function(y,w){r(w,"start");var T={},C=w.meta||{},R=!1;for(var I in w)if(I!=C&&w.hasOwnProperty(I))for(var k=T[I]=[],O=w[I],A=0;A<O.length;A++){var V=O[A];k.push(new a(V,w)),(V.indent||V.dedent)&&(R=!0)}var D={startState:function(){return{state:"start",pending:null,local:null,localState:null,indent:R?[]:null}},copyState:function(N){var $={state:N.state,pending:N.pending,local:N.local,localState:null,indent:N.indent&&N.indent.slice(0)};N.localState&&($.localState=n.copyState(N.local.mode,N.localState)),N.stack&&($.stack=N.stack.slice(0));for(var q=N.persistentStates;q;q=q.next)$.persistentStates={mode:q.mode,spec:q.spec,state:q.state==N.localState?$.localState:n.copyState(q.mode,q.state),next:$.persistentStates};return $},token:l(T,y),innerMode:function(N){return N.local&&{mode:N.local.mode,state:N.localState}},indent:g(T,C)};if(C)for(var P in C)C.hasOwnProperty(P)&&(D[P]=C[P]);return D};function r(y,w){if(!y.hasOwnProperty(w))throw new Error("Undefined state "+w+" in simple mode")}function i(y,w){if(!y)return/(?:)/;var T="";return y instanceof RegExp?(y.ignoreCase&&(T="i"),y.unicode&&(T+="u"),y=y.source):y=String(y),new RegExp((w===!1?"":"^")+"(?:"+y+")",T)}function o(y){if(!y)return null;if(y.apply)return y;if(typeof y=="string")return y.replace(/\./g," ");for(var w=[],T=0;T<y.length;T++)w.push(y[T]&&y[T].replace(/\./g," "));return w}function a(y,w){(y.next||y.push)&&r(w,y.next||y.push),this.regex=i(y.regex),this.token=o(y.token),this.data=y}function l(y,w){return function(T,C){if(C.pending){var R=C.pending.shift();return C.pending.length==0&&(C.pending=null),T.pos+=R.text.length,R.token}if(C.local)if(C.local.end&&T.match(C.local.end)){var I=C.local.endToken||null;return C.local=C.localState=null,I}else{var I=C.local.mode.token(T,C.localState),k;return C.local.endScan&&(k=C.local.endScan.exec(T.current()))&&(T.pos=T.start+k.index),I}for(var O=y[C.state],A=0;A<O.length;A++){var V=O[A],D=(!V.data.sol||T.sol())&&T.match(V.regex);if(D){V.data.next?C.state=V.data.next:V.data.push?((C.stack||(C.stack=[])).push(C.state),C.state=V.data.push):V.data.pop&&C.stack&&C.stack.length&&(C.state=C.stack.pop()),V.data.mode&&f(w,C,V.data.mode,V.token),V.data.indent&&C.indent.push(T.indentation()+w.indentUnit),V.data.dedent&&C.indent.pop();var P=V.token;if(P&&P.apply&&(P=P(D)),D.length>2&&V.token&&typeof V.token!="string"){for(var N=2;N<D.length;N++)D[N]&&(C.pending||(C.pending=[])).push({text:D[N],token:V.token[N-1]});return T.backUp(D[0].length-(D[1]?D[1].length:0)),P[0]}else return P&&P.join?P[0]:P}}return T.next(),null}}function u(y,w){if(y===w)return!0;if(!y||typeof y!="object"||!w||typeof w!="object")return!1;var T=0;for(var C in y)if(y.hasOwnProperty(C)){if(!w.hasOwnProperty(C)||!u(y[C],w[C]))return!1;T++}for(var C in w)w.hasOwnProperty(C)&&T--;return T==0}function f(y,w,T,C){var R;if(T.persistent)for(var I=w.persistentStates;I&&!R;I=I.next)(T.spec?u(T.spec,I.spec):T.mode==I.mode)&&(R=I);var k=R?R.mode:T.mode||n.getMode(y,T.spec),O=R?R.state:n.startState(k);T.persistent&&!R&&(w.persistentStates={mode:k,spec:T.spec,state:O,next:w.persistentStates}),w.localState=O,w.local={mode:k,end:T.end&&i(T.end),endScan:T.end&&T.forceEnd!==!1&&i(T.end,!1),endToken:C&&C.join?C[C.length-1]:C}}function h(y,w){for(var T=0;T<w.length;T++)if(w[T]===y)return!0}function g(y,w){return function(T,C,R){if(T.local&&T.local.mode.indent)return T.local.mode.indent(T.localState,C,R);if(T.indent==null||T.local||w.dontIndentStates&&h(T.state,w.dontIndentStates)>-1)return n.Pass;var I=T.indent.length-1,k=y[T.state];e:for(;;){for(var O=0;O<k.length;O++){var A=k[O];if(A.data.dedent&&A.data.dedentIfLineStart!==!1){var V=A.regex.exec(C);if(V&&V[0]){I--,(A.next||A.push)&&(k=y[A.next||A.push]),C=C.slice(V[0].length);continue e}}}break}return I<0?0:T.indent[I]}}})})();const dWe=/(?:allow|function|match|service|if|import|as|let|return)\b/,hWe=/[a-z$][\w$]*/,pWe=/true|false|null/,mWe=/(\/\/.*)/,gWe=/(?:[-+/*=<>!&|]+)/,vWe=/(b?"[^"]*")|(b?'[^']*')|[0-9]+(\.[0-9]+)?/,yWe=/(?:[.,:[\]{}()])/,_We=/(?:auth|create|delete|get|headers|method|params|path|read|request|resource|time|uid|update|write|list)\b/,lre="firebaseRules";function bWe(){sre.defineSimpleMode(lre,{start:[{regex:mWe,token:"comment"},{regex:/\/\*/,token:"comment",next:"comment"},{regex:dWe,token:"keyword"},{regex:pWe,token:"atom"},{regex:gWe,token:"operator"},{regex:_We,token:"string"},{regex:vWe,token:"number"},{regex:hWe,token:"variable"},{regex:yWe,token:"misc"}],comment:[{regex:/.*?\*\//,token:"comment",next:"start"},{regex:/.*/,token:"comment"}],meta:{dontIndentStates:["comment"],lineComment:"//"}})}const EWe={"--emulator-ui-code-success-primary":nL.primary,"--emulator-ui-code-success-background":nL.background,"--emulator-ui-code-error-primary":rL.primary,"--emulator-ui-code-error-background":rL.background,"--emulator-ui-code-comment-text":dx},wWe={tabSize:2,indentUnit:2,lineNumbers:!0,theme:"devsite-light",keyMap:"sublime",mode:lre,readOnly:"nocursor",gutters:["CodeMirror-gutter-elt"]};function CWe(t){let e=document.createElement("i");return e.className=`CodeMirror-gutter-icon ${t} material-icons`,e.textContent=Wb[t],e}const SWe=({firestoreRules:t,linesOutcome:e,isAdminRequest:n})=>{B.useEffect(bWe,[]);const r=B.useRef(null);B.useEffect(()=>{if(r.current){if(r.current.style.display==="none")return;const a=sre.fromTextArea(r.current,wWe);a.setSize("100%","100%"),e==null||e.forEach(({line:l,outcome:u})=>{const f=u?"allow":"deny";a.setGutterMarker(l-1,"CodeMirror-gutter-elt",CWe(f)),a.addLineClass(l-1,"",`highlighted-line-of-code--${f}`)})}},[r,t,e]);function i(){return n?b(fWe,{}):b("textarea",{ref:r,value:t,readOnly:!0})}function o(){return e!=null&&e.length?b(Rt,{}):b(ji,{type:"caution",children:"The request did not match any allow statements, so it was denied by default."})}return ne("div",{"data-testid":"request-details-code-viewer-section",className:"Firestore-Request-Details-Code-Section",style:EWe,children:[o(),i()]})};function TWe(t,e){var n;if(!((n=navigator==null?void 0:navigator.clipboard)!=null&&n.writeText))throw new Error("Your browser does not support copying to clipboard");navigator.clipboard.writeText(t.replace(/\s/g,"")).then(()=>e(!0)).catch(r=>{throw e(!1),new Error(`Could not copy to clipboard.

Reason: ${r}`)})}function xWe(t,e,n,r){var T;const i=t.current;if(!i||!r)return;const{textContent:o,offsetWidth:a}=i,l=((T=e.current)==null?void 0:T.offsetWidth)||0,u=(o==null?void 0:o.length)||0,f=u?a/u:0;if(!f)return;const h=r-l,g=Math.floor(h/f),y=n.length-g,w=y>0?`...${n.slice(y+3)}`:n;i.textContent!==w&&(i.textContent=w)}const ure=({resourcePath:t,setShowCopyNotification:e,requestPathContainerWidth:n})=>{const r=B.useRef(null),i=B.useRef(null),[o,a]=B.useState();return B.useEffect(()=>{n!==o&&xWe(r,i,t,n)},[r,i,t,n,o]),B.useEffect(()=>{a(n)},[n,a]),ne("div",{className:"Firestore-Request-Path-Container",children:[b($a,{content:t,align:"bottomLeft",enterDelay:400,children:b("div",{className:"Firestore-Request-Path-String",ref:r,"data-testid":"request-path-text",children:t})}),b($a,{content:"Copy path",align:"bottom",enterDelay:400,children:b(bn,{className:"Firestore-Request-Path-Copy-Button",ref:i,icon:"content_copy",onClick:l=>{l.preventDefault(),l.stopPropagation(),TWe(t,e)}})})]})},AWe=({requestTimeComplete:t,requestTimeFormatted:e,requestMethod:n,resourcePath:r,outcomeData:i,setShowCopyNotification:o})=>{const a=B.useRef(null),l=are(a),u=_f().pathname.replace(/\/requests\/[a-z0-9-]+\/?$/,"/requests");return b(ao,{use:"surface",wrap:!0,children:ne("div",{"data-testid":"request-details-header",className:"Firestore-Request-Details-Header",children:[b("div",{className:"Firestore-Request-Details-Header-Return",children:b($a,{content:"Go back to table",align:"bottom",enterDelay:100,children:b(bn,{className:"Firestore-Request-Details-Header-Return-Button",icon:{icon:"arrow_back_ios",size:"small"},tag:du,to:u,label:"header-return-button"})})}),ne("div",{className:"Firestore-Request-Details-Header-Info",children:[b(ao,{use:"secondary",children:b($a,{content:t,align:"bottom",enterDelay:300,children:b("div",{className:"Firestore-Request-Date",children:e})})}),b(og,{use:(i==null?void 0:i.theme)||"note",wrap:!0,children:b("div",{className:"Firestore-Request-Outcome",children:(i==null?void 0:i.icon)&&b($a,{content:i==null?void 0:i.label,align:"bottom",enterDelay:100,children:b(Mn,{className:"Firestore-Request-Outcome-Icon",icon:{icon:i==null?void 0:i.icon,size:"medium"}})})})}),b("div",{className:"Firestore-Request-Method",children:n}),b("div",{className:"Firestore-Request-Path",ref:a,children:r&&b(ure,{resourcePath:r,setShowCopyNotification:o,requestPathContainerWidth:l})})]})]})})},qb="Firestore-Request-Details-Inspection-Block",IWe=qb+"--Main",kWe="#e2e2e2",e5=({label:t,value:e,isMainBlock:n,children:r})=>{const[i,o]=B.useState(!!n),a=()=>r||b(ao,{use:"secondary",children:b("div",{className:`${qb}-Value`,children:b(kze,{value:e,children:b("div",{className:"Firestore-Field-List mdc-list--non-interactive",children:b(Q4,{path:[],maxSummaryLen:20})})})})});return ne(rc,{options:{surface:n?kWe:qy,textIconOnLight:dx},children:[b(ao,{use:"surface",wrap:!0,children:ne("div",{className:Lr(qb,n&&IWe),onClick:()=>o(!i),"data-testid":n?"inspection-main-block":"inspection-block",children:[b("span",{className:`${qb}-Label`,children:t}),b(ao,{use:"textIconOnLight",children:b(Mn,{className:`${qb}-Icon`,icon:{icon:i?"expand_less":"expand_more"}})})]})}),i&&a()]})},RWe="Detailed information",OWe="Nothing to show here",PWe=({inspectionExpressions:t})=>b("div",{"data-testid":"request-details-inspection-section",className:"Firestore-Request-Details-Inspection",children:b(e5,{isMainBlock:!0,label:RWe,value:{nullValue:null},children:t!=null&&t.length?t.map(({label:n,value:r})=>b(e5,{label:n,value:r},n)):b("span",{className:"Firestore-Request-Details-Inspection-Nothing-To-Show",children:OWe})})});function NWe(t,e){return[...t]}function LWe(t,e){var r,i;if(e==="admin")return[];const n=[];for(const o of["auth","method","path","query","resource","time"]){const a=(i=(r=t.request.mapValue)==null?void 0:r.fields)==null?void 0:i[o];a&&n.push({label:`request.${o}`,value:a})}return t.resource&&n.push({label:"resource",value:t.resource}),n}function DWe(t){if(!t)return{};const{rulesContext:e,granularAllowOutcomes:n,rules:r,outcome:i}=t,o=new Date(e.time);return{requestTimeComplete:o.toLocaleString(),requestTimeFormatted:o.toLocaleTimeString("en-US",{hour12:!1}),requestMethod:e.method,resourcePath:e.path,outcome:i,outcomeData:ore[i],firestoreRules:r,linesOutcome:NWe(n),inspectionExpressions:LWe(e,i)}}const MWe=({selectedRequest:t,requestId:e,setShowCopyNotification:n})=>{const{requestTimeComplete:r,requestTimeFormatted:i,requestMethod:o,resourcePath:a,outcome:l,outcomeData:u,firestoreRules:f,linesOutcome:h,inspectionExpressions:g}=DWe(t);return e&&!t?b(Ju,{to:"/firestore/requests"}):b("div",{"data-testid":"request-details",children:t&&ne(Rt,{children:[b(AWe,{requestTimeComplete:r,requestTimeFormatted:i,requestMethod:o,resourcePath:a,outcomeData:u,setShowCopyNotification:n}),ne("div",{className:"Firestore-Request-Details-Content",children:[b(SWe,{firestoreRules:f,linesOutcome:h,isAdminRequest:l==="admin"}),b(PWe,{inspectionExpressions:g})]})]})})},FWe=t=>{const e=$ze(t.requestId);return b(MWe,{selectedRequest:e,...t})},UWe="No results",VWe=()=>b(Ue,{use:"body2","aria-live":"polite",theme:"textSecondaryOnBackground",className:"Firestore-Requests-Table-No-Results",children:UWe});function BWe(t){const{rulesContext:e,outcome:n,time:r}=t,i=new Date(r);return{requestTimeComplete:i.toLocaleString(),requestTimeFormatted:i.toLocaleTimeString("en-US",{hour12:!1}),requestMethod:e.method,resourcePath:e.path,outcomeData:ore[n]}}const $We=({request:t,requestId:e,setShowCopyNotification:n,requestPathContainerWidth:r})=>{const i=yf(),o=_f(),{requestTimeComplete:a,requestTimeFormatted:l,requestMethod:u,resourcePath:f,outcomeData:h}=BWe(t);return ne(lf,{onClick:()=>i.push(`${o.pathname}/${e}`),children:[b($a,{content:a,align:"bottomLeft",enterDelay:300,children:b(bi,{className:"Firestore-Request-Date",theme:"secondary",children:l})}),b(og,{use:(h==null?void 0:h.theme)||"note",wrap:!0,children:b(bi,{className:"Firestore-Request-Outcome",children:(h==null?void 0:h.icon)&&b($a,{content:h==null?void 0:h.label,align:"bottom",enterDelay:100,children:b(Mn,{className:"Firestore-Request-Outcome-Icon",icon:{icon:h==null?void 0:h.icon,size:"medium"}})})})}),b(bi,{className:"Firestore-Request-Method",children:u}),b(bi,{className:"Firestore-Request-Path",children:f&&b(ure,{resourcePath:f,setShowCopyNotification:n,requestPathContainerWidth:r})})]})},HWe="No Firestore requests for this project yet",jWe=()=>b(Ue,{use:"body2",theme:"textSecondaryOnBackground",className:"Firestore-Requests-Table-Zero-State",children:HWe}),im="Firestore-Requests-Table",zWe=im+"--Empty",WWe=({filteredRequests:t,shouldShowZeroState:e,shouldShowZeroResults:n,shouldShowTable:r,setShowCopyNotification:i})=>{const o=B.useRef(null),a=are(o);return ne("div",{className:`${im}-Main-Container`,children:[b(zE,{className:Lr(im,!r&&zWe),children:ne(WE,{children:[b(Q0,{theme:"surface",children:ne(lf,{children:[b(us,{className:`${im}-Date-Header`,children:"Time"}),b(us,{className:`${im}-Outcome-Header`}),b(us,{className:`${im}-Method-Header`,theme:"secondary",children:"Method"}),b(us,{className:`${im}-Path-Header`,theme:"secondary",children:b("div",{ref:o,children:"Path"})})]})}),b(qE,{children:r&&(t==null?void 0:t.map(l=>{const{requestId:u}=l;return b($We,{requestId:u,request:l,setShowCopyNotification:i,requestPathContainerWidth:a},u)}))})]})}),n&&b(VWe,{}),e&&b(jWe,{}),ne(ji,{type:"note",children:["Only client requests are shown above."," ",b("a",{href:"https://firebase.google.com/docs/admin/setup",children:"Admin SDK"})," ","requests and"," ",b("a",{href:"https://firebase.google.com/docs/firestore/security/rules-conditions#access_other_documents",children:"access calls initiated by Security Rules"})," ","are not listed because they bypass Security Rules."]})]})},qWe=({setShowCopyNotification:t})=>{const e=RE(),n=ire(e).requests,r=n;return b(WWe,{filteredRequests:r,shouldShowZeroState:n.length===0,shouldShowZeroResults:n.length>0&&r.length===0,shouldShowTable:r.length>0,setShowCopyNotification:t})},KWe=()=>{const[t,e]=B.useState(!1);return Bze()?b(Rt,{children:ne(rc,{options:{surface:qy},style:{flex:1},children:[ne(dp,{children:[b(ms,{exact:!0,path:"/firestore/:databaseId/requests",children:b("div",{"data-testid":"requests-card",children:b(qWe,{setShowCopyNotification:e})})}),b(ms,{exact:!0,path:"/firestore/:databaseId/requests/:requestId",render:({match:r})=>{const i=r.params.requestId;return b(FWe,{requestId:i,setShowCopyNotification:e})}}),b(Ju,{to:"/firestore/default/requests"})]}),b(Uze,{showCopyNotification:t,setShowCopyNotification:e})]})}):b(Ppe,{productName:"Firestore"})},GWe=()=>b(B.Suspense,{fallback:b(JWe,{}),children:b(ize,{children:b(YWe,{})})}),YWe=Y.memo(()=>{const t=_f(),e=t.pathname.split("/")[2],n=yf(),[r,i]=B.useState(!1),o=fze(),a=[{path:`/firestore/${e}/data`,label:"Data",exact:!1},{path:`/firestore/${e}/requests`,label:"Requests",exact:!1}],l=t.pathname.replace(/^\/firestore\/[a-zA-Z0-9-]{1,63}\/data/,""),u=l.split("/").length<2,f=l.split("/").length<3,h=a.map(({path:T,label:C})=>b(Une,{className:"mdc-tab--min-width",tag:du,to:T,children:C},C)),g=a.findIndex(T=>Wh(t.pathname,{path:T.path,exact:T.exact}));async function y(){await Aje()&&(i(!0),await o(),w(e),i(!1))}function w(T,C="default"){const R=`/firestore/${C}/data`;T===void 0?n.push(R):n.push(`${R}/${T}`)}return r?b(ja,{span:12,"data-testid":"firestore-loading"}):ne(Oje,{children:[b(_r,{span:12,children:b(ji,{aside:!0,actions:b("div",{className:"link",children:b(x1,{href:"emulator-suite/connect_firestore",target:"_blank",rel:"noopener noreferrer",children:b(Ue,{theme:"primary",use:"body2",className:"link",children:"Learn more"})})}),children:"The Emulator Suite UI supports multiple DBs by editing the database name in the URL."})}),ne(_r,{span:12,className:"Firestore",children:[b("div",{className:"Firestore-sub-tabs",children:b(Fne,{theme:"onSurface",activeTabIndex:g,children:h})}),ne(dp,{children:[b(ms,{path:"/firestore/:databaseId/data",children:b(QWe,{path:l,databaseId:e,handleClearData:y,handleNavigate:w,showCollectionShell:u,showDocumentShell:f})}),b(ms,{path:"/firestore/:databaseId/requests",children:b(XWe,{})}),b(Ju,{exact:!0,from:"/firestore",to:"/firestore/default/data"}),b(Ju,{exact:!0,from:"/firestore/data",to:"/firestore/default/data"}),b(Ju,{exact:!0,from:"/firestore/requests",to:"/firestore/default/requests"})]})]})]})}),QWe=({path:t,databaseId:e,handleClearData:n,handleNavigate:r,showCollectionShell:i,showDocumentShell:o})=>ne(Rt,{children:[b("div",{className:"Firestore-actions",children:b(og,{use:"warning",wrap:!0,children:b(fr,{unelevated:!0,onClick:()=>n(),children:"Clear all data"})})}),b(hu,{z:"2",wrap:!0,children:ne(xa,{className:"Firestore-panels-wrapper",children:[b(bV,{base:`/firestore/${e}/data`,path:t,onNavigate:r}),ne("div",{className:"Firestore-panels",children:[b(Dze,{}),i&&b("div",{className:"Firestore-Collection","data-testid":"collection-shell",children:b(Fy,{id:"",icon:null})}),o&&b("div",{className:"Firestore-Document","data-testid":"document-shell",children:b(Fy,{id:"",icon:null})})]})]})})]}),XWe=()=>b(hu,{z:"2",wrap:!0,children:b(xa,{className:"Firestore-panels-wrapper",children:b(KWe,{})})}),JWe=()=>rg("firestore")?b(UE,{productName:"Firestore"}):b(ja,{span:12,message:"Firestore Emulator Loading..."}),km="/storage/",ZWe="https://console.firebase.google.com",t5="isLocalWarningCalloutDismissed",e5e=({projectId:t})=>{const[e,n]=B.useState(!1);B.useEffect(()=>{localStorage.getItem(t5)!=="true"&&n(!0)},[]);const r=B.useCallback(()=>{n(!1),localStorage.setItem(t5,"true")},[n]);return e?b(_r,{span:12,children:ne(ji,{type:"note",actions:ne(Rt,{children:[b(fr,{tag:"a",href:`${ZWe}/project/${t}/overview`,target:"_blank",label:"View project","aria-label":`View this project, ${t}, in the firebase console`}),b(fr,{label:"Dismiss","aria-label":"Dismiss this reminder banner",onClick:r})]}),children:["Remember this is a local environment. Visit the production version of"," ",b("strong",{children:t})," in the console."]})}):null},t5e="_container_1quu0_16",n5e="_icon_1quu0_21",n5={container:t5e,icon:n5e},r5e={icon:"check_circle",size:"xsmall"},i5e={icon:"block",size:"xsmall"},o5e=({isActive:t})=>b(og,{use:t?"success":"note",wrap:!0,children:ne(Ue,{use:"headline6",tag:"div",theme:t?"primary":"secondary",className:n5.container,children:[t?"On":"Off",b(Mn,{"aria-hidden":"true",icon:t?r5e:i5e,className:n5.icon})]})}),a5e=()=>{const t=FE();return t===void 0?b(ja,{span:12,message:"Overview Page Loading..."}):b(s5e,{config:t||{}})},s5e=({config:t})=>b(_r,{span:12,children:ne(Fm,{children:[t.projectId&&b(e5e,{projectId:t.projectId}),b(_r,{span:12,children:b(Ue,{use:"headline5",children:"Emulator overview"})}),b(uh,{name:"Authentication emulator",icon:b(Cpe,{theme:"secondary"}),config:t.auth,linkTo:"/auth",linkLabel:"Go to auth emulator",testId:"emulator-info-auth"}),b(uh,{name:"Firestore emulator",icon:b(Zq,{theme:"secondary"}),config:t.firestore,linkLabel:"Go to firestore emulator",linkTo:"/firestore",testId:"emulator-info-firestore"}),b(uh,{name:"Storage emulator",icon:b(eK,{}),config:t.storage,linkTo:km,linkLabel:"Go to storage emulator",testId:"emulator-info-storage"}),b(uh,{name:"Functions emulator",icon:b(xpe,{theme:"secondary"}),config:t.functions,linkTo:"/functions",linkLabel:"Go to the logs page",testId:"emulator-info-functions"}),b(uh,{name:"Extensions emulator",icon:b(Tpe,{theme:"secondary"}),config:t.extensions,linkTo:"/extensions",linkLabel:"Go to extensions emulator",testId:"emulator-info-extensions"}),b(uh,{name:"PubSub emulator",icon:b(Ipe,{theme:"secondary"}),config:t.pubsub,testId:"emulator-info-pubsub"}),b(uh,{name:"Realtime Database emulator",icon:b(Spe,{theme:"secondary"}),config:t.database,linkTo:"/database",linkLabel:"Go to database emulator",testId:"emulator-info-database"}),b(uh,{name:"Hosting emulator",icon:b(Ape,{theme:"secondary"}),config:t.hosting,testId:"emulator-info-hosting",linkToExternal:t.hosting&&`//${t.hosting.hostAndPort}/`,linkLabel:"View website"})]})}),uh=({name:t,icon:e,config:n,linkTo:r,linkLabel:i,linkToExternal:o,testId:a})=>b(_r,{span:4,children:ne(xa,{className:"Home-EmulatorCard","data-testid":a,children:[ne("div",{className:"Home-EmulatorCard-Info",children:[ne(Ue,{use:"headline6",tag:"h3",className:"title",children:[e," ",b("span",{children:t})]}),b(Ue,{use:"body2",tag:"h4",theme:"secondary",children:"Status"}),b(o5e,{isActive:!!n}),b(Ue,{use:"body2",tag:"h4",theme:"secondary",children:"Port number"}),b(Ue,{use:"headline6",tag:"div",children:n?n.port:"N/A"})]}),(o||r)&&b(Ky,{tag:"div"}),b(EI,{children:ne(wpe,{children:[o&&b(rf,{tag:"a",href:o,target:"_blank",children:i}),r&&b(rf,{tag:du,to:r,children:i||"Go to emulator"})]})})]})}),r5=new Lne;function l5e(){const{search:t}=_f();return B.useMemo(()=>new URLSearchParams(t),[t])}const u5e=()=>{var l;const t=l5e(),[e,n]=B.useState([]),[r,i]=B.useState(t.get("q")||""),o=(l=FE())==null?void 0:l.logging;B.useEffect(()=>{if(!o)return;n([]);const u=document.location.protocol==="https:"?"wss:":"ws:",f=new V4(`${u}//${o.hostAndPort}`);return f.listener=h=>{n(g=>[...g,h])},()=>f.cleanup()},[o,n]);const a=B4(r);return b(_r,{span:12,children:b(hu,{z:2,wrap:!0,children:ne(xa,{className:"LogViewer",children:[b(GHe,{query:r,setQuery:i,compiledGetters:r5}),b(Dne,{parsedQuery:a,setQuery:i,compiledGetters:r5,logs:e})]})})})};function Cg(){const t=yf(),e=pI().bucket;function n(r){t.push(km+r)}return[e,n]}function cre(){const t=za("storage"),[e]=Cg(),n=async()=>(await(await Do(`//${t.hostAndPort}/b`)).json()).items.map(a=>a.name),r=hf("storage/buckets/"+e,n,{suspense:!0}).data;return r.includes(e)?r:[...r,e]}function c5e(t,e,n){return{type:"file",name:t.name,size:t.size,contentType:t.type,bucket:e,fullPath:n+"/"+t.name,uploading:!0,updated:new Date().toUTCString(),timeCreated:new Date().toUTCString(),customMetadata:{}}}const f5e=`--boundary\r
Content-Type: application/json\r
\r
{"contentType":"text/plain"}\r
--boundary\r
Content-Type: text/plain\r
\r
--boundary--\r
`;function d5e(){const t=za("storage"),[e]=Cg();async function n(r){const i=r.replace(/\/+/g,"/").replace(/^\//,""),o=encodeURIComponent(i);await Do(`http://${t.hostAndPort}/upload/storage/v1/b/${e}/o?name=${o}/`,{headers:{"Content-Type":"multipart/related; boundary=boundary"},method:"POST",body:new Blob([f5e])})}return{createFolder:n}}function fre(){const{path:t}=pI(),[e]=Cg(),n=yf();function r(i){i=i.replace(/\/+/g,"/"),n.push(km+e+(i.startsWith("/")?"":"/")+i)}return[t||"",r]}async function h5e(t){const e=await eRe(t);return{type:"file",contentType:"",customMetadata:{},...e}}function p5e(t){return{type:"folder",name:t.name,fullPath:t.fullPath}}function vc(){const t=iZ(),[e,n]=Cg(),[r,i]=fre(),{createFolder:o}=d5e();function a(I=""){return`gs://${e}/${I}`}function l(I=r){return $b(t,a(I))}const u=hf(`storage/hasFiles/${e}/`,async()=>{const{items:I,prefixes:k}=await uO(l(""));return!!I.length||!!k.length},{suspense:!0}),f=hf(`storage/${e}/${r}`,async()=>{const{items:I,prefixes:k}=await uO(l());return[...k.map(p5e),...await Promise.all(I.map(h5e))]},{suspense:!0}),h=f.data||[];async function g(I){return await JH($b(l(""),I))}async function y(I){const{items:k,prefixes:O}=await uO(l(I));try{await g(I+"%2f")}catch{}const A=O.map(async D=>await y(D.fullPath)),V=k.map(async D=>await JH(D));await Promise.all([...V,...A])}async function w(){return await y("")}function T(I,k){return Promise.all(I.map(O=>{const A=k?`${k}/${O.name}`:O.name;return Zke($b(l(),A),O)}))}async function C(I){return await Promise.all(I.map(async k=>{const O=h.find(A=>A.fullPath===k);return $te(O),O.type==="folder"?await y(O.fullPath):await g(O.fullPath)}))}async function R(I){(await Promise.all(I.map(O=>$b(t,a()+"/"+O)).map(O=>_J(O)))).forEach(O=>{const A=document.createElement("a");A.href=O,A.target="_blank",A.rel="noopener",A.click()})}return{files:h,setBucket:n,bucket:e,path:r,setPath:i,bucketHasAnyFiles:u.data,getLocation:a,async uploadFiles(I,k){const O=new Set(I.map(({name:D})=>D)),A=h.filter(D=>!O.has(D.name)),V=I.map(D=>c5e(D,e,r));f.mutate([...V,...A],!1),await T(I,k),await f.mutate(),await u.mutate()},async deleteAllFiles(){await f.mutate([],!1),i(""),await w(),await f.mutate(),await u.mutate()},openAllFiles:R,async createFolder(I){o(r+"/"+I),await f.mutate(),await u.mutate()},async deleteFiles(I){const k=new Set(I),O=h.filter(A=>!k.has(A.fullPath));f.mutate(O,!1),await C(I),await f.mutate(),await u.mutate()}}}const m5e="_bucketPicker_ju231_16",g5e={bucketPicker:m5e},v5e=()=>{const t=cre(),[e,n]=Cg();return b(Y0,{icon:b(eK,{}),className:g5e.bucketPicker,value:e,"aria-label":"Select bucket",options:t,onChange:r=>{n(r.target.value)}})},y5e="_canvasWrapper_1gnyn_16",_5e={canvasWrapper:y5e},b5e=()=>pp({title:"Clear all data?",body:b("div",{className:"Firestore--dialog-body",children:b(ji,{aside:!0,type:"warning",children:"This will delete all files"})}),acceptLabel:null,cancelLabel:null,footer:ne(Rt,{children:[b($n,{action:"close",type:"button",theme:"secondary",children:"Cancel"}),b($n,{unelevated:!0,action:"accept",isDefaultAction:!0,danger:!0,children:"Delete"})]})}),E5e="_deleteAllFiles_1kxv6_16",w5e={deleteAllFiles:E5e},C5e=({deleteAllFiles:t})=>b(og,{use:"warning",wrap:!0,children:b(fr,{className:w5e.deleteAllFiles,unelevated:!0,onClick:async()=>{await b5e()&&t()},children:"Delete all files"})}),S5e=()=>{const{bucketHasAnyFiles:t,deleteAllFiles:e}=vc();return ne("div",{className:_5e.canvasWrapper,children:[b(v5e,{}),t&&b(C5e,{deleteAllFiles:e})]})};function T5e(t){const[e,n]=B.useState(new Set);return[new Set(t.filter(r=>e.has(r))),n]}function x5e(t){const[e,n]=T5e(t),[r,i]=B.useState([]);function o(f,h){const g=t.indexOf(f),y=t.indexOf(h),w=Math.abs(g-y)+1,T=g<y?g:y;return t.slice(T,T+w)}function a(f){i(r.filter(h=>h!==f))}function l(f,h){for(const g of f)h?e.add(g):(e.delete(g),a(g));n(new Set([...e]))}function u(f){i([...r,f])}return{allSelected:e.size===t.length&&e.size>0,allIndeterminate:e.size>0&&e.size<t.length,isSelected(f){return e.has(f)},selected:e,toggleSingle(f){e.has(f)?(l([f],!1),a(f)):(l([f],!0),u(f))},toggleContinuous(f){(e.size===0||r.length===0)&&this.toggleSingle(f);const h=o(r[r.length-1],f);l(h,!this.isSelected(f)),u(f)},clearAll(){n(new Set),i([])},toggleAll(){e.size===t.length?n(new Set):l(t,!0)}}}const A5e=function(t){var e=t.toFixed(2).split(".");return e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),+e[1]==0?e[0]:e.join(".")},dre=function(t){var e=1e3;if(Math.round(t)<e)return t+" B";var n=["kB","MB","GB","TB","PB","EB","ZB","YB"],r=-1,i=t;do i/=e,r++;while(Math.abs(i)>=e&&r<n.length-1);return A5e(i)+" "+n[r]},I5e="_icon_wdf42_16",hre={icon:I5e},k5e={"application/illustrator":"drive_ai","application/msword":"drive_ms_word","application/vnd.openxmlformats-officedocument.wordprocessingml.document":"drive_ms_word","application/vnd.ms-powerpoint":"drive_ms_powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation":"drive_ms_powerpoint","application/vnd.ms-excel":"drive_ms_excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"drive_ms_excel","application/pdf":"drive_pdf","application/photoshop":"drive_ps","application/psd":"drive_ps","application/x-photoshop":"drive_ps","image/photoshop":"drive_ps","image/psd":"drive_ps","image/x-photoshop":"drive_ps","image/x-psd":"drive_ps","image/gif":"photo","image/jpg":"photo","image/jpeg":"photo","image/png":"photo","image/svg+xml":"photo","image/webp":"photo","audio/m4a":"drive_audio","audio/mp3":"drive_audio","audio/mpeg":"drive_audio","audio/wav":"drive_audio","audio/x-ms-wma":"drive_audio","video/avi":"drive_video","video/mp4":"drive_video","video/mpeg":"drive_video","video/quicktime":"drive_video","video/x-ms-wmv":"drive_video","application/zip":"drive_zip","application/csv":"csv","text/csv":"csv","text/tsv":"tsv","text/tab-separated-values":"tsv","text/javascript":"drive_document","text/plain":"drive_document","text/x-log":"drive_document"},R5e="drive_file";function O5e(t){return k5e[t]||R5e}const pre=({contentType:t})=>b(ao,{use:"secondary",children:b(Mn,{"aria-hidden":"true",icon:O5e(t),className:hre.icon})}),P5e="_metadata_1vv2q_22",N5e={metadata:P5e},L5e=({metadata:t})=>b(IE,{title:"Custom metadata",children:t?b("dl",{className:N5e.metadata,children:Object.entries(t).map(([e,n])=>ne(Y.Fragment,{children:[b(Ue,{use:"body2",tag:"dt",theme:"secondary",children:e}),b(Ue,{use:"body2",tag:"dd",children:n})]},e))}):b(Ue,{use:"body2",theme:"secondary",children:"No custom metadata"})});function D5e(t){const e=za("storage"),[n]=Cg(),r=`storage/tokens/${n}/${t}`,i=async()=>{const f=`//${e.hostAndPort}/v0/b/${n}/o/${encodeURIComponent(t)}`;return((await(await Do(f,{method:"GET",headers:{Authorization:"Bearer owner"}})).json()).downloadTokens||"").split(",").filter(y=>!!y)},{data:o,mutate:a}=hf(r,i,{suspense:!0});async function l(){await Do(`//${e.hostAndPort}/v0/b/${n}/o/${encodeURIComponent(t)}?create_token=true`,{headers:{Authorization:"Bearer owner"},method:"POST"}),a()}async function u(f){await Do(`//${e.hostAndPort}/v0/b/${n}/o/${encodeURIComponent(t)}?delete_token=${f}`,{headers:{Authorization:"Bearer owner"},method:"POST"}),a()}return{tokens:o||[],createToken:l,deleteToken:u}}const M5e="_metadata_1lrmg_16",F5e="_token_1lrmg_28",xP={metadata:M5e,token:F5e},U5e=({fullPath:t})=>{const{tokens:e,createToken:n,deleteToken:r}=D5e(t),{getLocation:i}=vc(),{writeText:o}=Vne();return ne(IE,{title:"File location",children:[ne("dl",{className:xP.metadata,children:[b(Ue,{use:"body2",tag:"dt",theme:"secondary",children:"File location"}),b(Ue,{use:"body2",tag:"dd",className:xP.location,children:i(t)}),e.map(a=>ne("div",{children:[ne(Ue,{use:"body2",tag:"dt",theme:"secondary",children:["Access token",b(BE,{handle:b(bn,{icon:"more_vert",label:"Open menu"}),renderToPortal:!0,children:b(sf,{onKeyDown:l=>{(l.key==="Enter"||l.key===" ")&&r(a)},onClick:()=>r(a),children:"Revoke"})})]}),b(Ue,{use:"body2",tag:"dd",children:b($a,{content:"Click to copy the token to clipboard",children:b("input",{"aria-label":"Token, press Enter to copy",className:xP.token,readOnly:!0,value:a,onClick:()=>o(a),onKeyDown:l=>{(l.key==="Enter"||l.key===" ")&&o(a)}})})})]},a))]}),b(fr,{unelevated:!0,onClick:n,children:"Create new access token"})]})},V5e="_sideBarWrapper_119v4_17",B5e="_metadata_119v4_39",$5e="_headerTitleWrapper_119v4_46",H5e="_headerWrapper_119v4_52",j5e="_fileName_119v4_59",z5e="_openFileLink_119v4_67",lv={sideBarWrapper:V5e,metadata:B5e,headerTitleWrapper:$5e,headerWrapper:H5e,fileName:j5e,openFileLink:z5e},W5e="_preview_uun89_16",q5e={preview:W5e},K5e=["image/bmp","image/gif","image/jpeg","image/jpg","image/png","image/svg+xml"];function mre(t){return K5e.includes(t)}const G5e=t=>{const e=iZ(),{getLocation:n}=vc(),{data:r}=hf("storage/downloadUrl/"+t.fullPath,()=>mre(t.contentType)?_J($b(e,n(t.fullPath))):Promise.resolve(void 0),{suspense:!0});return r},Y5e=({file:t})=>mre(t.contentType)?b(B.Suspense,{fallback:b(ja,{}),children:b(Q5e,{file:t})}):null,Q5e=({file:t})=>{const e=G5e(t);return e?b("img",{className:q5e.preview,src:e,alt:"Preview"}):null};function i5(t){const e=new Date(t);return e.toLocaleDateString()+", "+e.toLocaleTimeString()}const X5e=({file:t,closeSidebar:e})=>{const{openAllFiles:n}=vc();return ne("aside",{className:lv.sideBarWrapper,children:[ne("div",{className:lv.headerWrapper,children:[ne("div",{className:lv.headerTitleWrapper,children:[b(pre,{contentType:t.contentType}),b(Ue,{className:lv.fileName,use:"subtitle1",title:t.name,children:t.name})]}),b(bn,{theme:"secondary","aria-label":"Close",icon:"close",onClick:e})]}),b(Y5e,{file:t}),ne("dl",{className:lv.metadata,children:[b(Ue,{use:"body2",tag:"dt",theme:"secondary",children:"Name"}),b(Ue,{role:"button",tabIndex:"0",className:lv.openFileLink,use:"body2",tag:"dd",onKeyDown:r=>{if(r.key==="Enter"||r.key===" ")return n([t.fullPath])},onClick:()=>n([t.fullPath]),children:t.name}),b(Ue,{use:"body2",tag:"dt",theme:"secondary",children:"Size"}),b(Ue,{use:"body2",tag:"dd",children:dre(t.size)}),b(Ue,{use:"body2",tag:"dt",theme:"secondary",children:"Type"}),b(Ue,{use:"body2",tag:"dd",children:t.contentType}),b(Ue,{use:"body2",tag:"dt",theme:"secondary",children:"Created"}),b(Ue,{use:"body2",tag:"dd",children:i5(t.timeCreated)}),b(Ue,{use:"body2",tag:"dt",theme:"secondary",children:"Last modified"}),b(Ue,{use:"body2",tag:"dd",children:i5(t.updated)})]}),b(U5e,{fullPath:t.fullPath}),b(L5e,{metadata:t.customMetadata})]})},J5e="_tableWrapper_jerke_16",Z5e="_gridWrapper_jerke_20",e8e="_tableCell_jerke_24",AP={tableWrapper:J5e,gridWrapper:Z5e,tableCell:e8e},t8e="_actionHeaderWrapper_1bj6o_46",n8e="_actionHeaderLabel_1bj6o_53",r8e="_actionBar_1bj6o_60",i8e="_openButton_1bj6o_64",o8e="_deleteButton_1bj6o_76",kb={actionHeaderWrapper:t8e,actionHeaderLabel:n8e,actionBar:r8e,openButton:i8e,deleteButton:o8e};function a8e(t,e){return t.some(n=>e.has(n.fullPath)&&n.type==="folder")}const s8e=({selection:t})=>{const{files:e,openAllFiles:n,deleteFiles:r}=vc(),i=a8e(e,t.selected),o=[...t.selected];return b(jE,{className:kb.actionBar,children:b(ao,{use:"textPrimaryOnDark",children:ne("div",{className:kb.actionHeaderWrapper,children:[b(bn,{icon:"close",label:"Unselect all",onClick:()=>t.clearAll()}),b("div",{className:kb.actionHeaderLabel,children:ne(Ue,{use:"body2",children:[t.selected.size," item(s)"]})}),ne("div",{children:[b(fr,{className:kb.openButton,disabled:i,onClick:()=>n(o),unelevated:!0,children:"Open all files"}),b(fr,{onClick:()=>(t.clearAll(),r(o)),className:kb.deleteButton,outlined:!0,unelevated:!0,children:"Delete"})]})]})})})},l8e=252,u8e=({confirm:t,isOpen:e,close:n})=>{const[r,i]=B.useReducer((a,l)=>l.trim(),""),o=()=>{t(r),n()};return ne(hc,{open:e,onClose:()=>n(),children:[b(pc,{children:"Create folder"}),b(mc,{children:b("form",{onSubmit:a=>{a.preventDefault(),o()},children:b(ar,{maxLength:l8e,onChange:a=>{i(a.target.value)},required:!0,label:"New folder name"})})}),ne(Ef,{children:[b($n,{type:"button",theme:"secondary",onClick:n,children:"Cancel"}),b($n,{disabled:r==="",unelevated:!0,onClick:o,children:"Create"})]})]})},c8e=()=>{const{createFolder:t}=vc(),[e,n]=B.useState(!1);return ne(Rt,{children:[b(bn,{icon:"create_new_folder",theme:"secondary","aria-label":"Create new folder",title:"Create new folder",onClick:()=>n(!0)}),e&&b(u8e,{isOpen:e,close:()=>n(!1),confirm:r=>t(r)})]})},f8e="_storageHeaderWrapper_18jtq_16",d8e="_breadcrumbWrapper_18jtq_24",h8e="_wrapper_18jtq_29",p8e="_storageHeaderActionBarWrapper_18jtq_39",US={storageHeaderWrapper:f8e,breadcrumbWrapper:d8e,wrapper:h8e,storageHeaderActionBarWrapper:p8e},m8e="_uploadButton_ser1h_16",g8e={uploadButton:m8e},v8e=()=>{const{uploadFiles:t}=vc(),{getInputProps:e,getRootProps:n}=Zy({onDrop:async r=>{await t(r)}});return ne("div",{className:g8e.uploadButton,...n({tabIndex:-1}),children:[b(fr,{unelevated:!0,children:"Upload file"}),b("input",{"aria-label":"Upload",...e()})]})},y8e=()=>{const[t,e]=fre(),[n]=Cg(),r=`gs://${n}`;return b("div",{className:US.storageHeaderActionBarWrapper,children:b(jE,{children:ne("div",{className:US.storageHeaderWrapper,children:[b($a,{content:"Copy URL to clipboard",children:b("div",{children:b(z4,{textToCopy:r+"/"+t,icon:"link"})})}),b("div",{className:US.wrapper,children:b("div",{className:US.breadcrumbWrapper,children:b(bV,{inputPrefix:r+"/",onNavigate:e,base:km+n,path:t,homeElement:r})})}),b(c8e,{}),b(v8e,{})]})})})},_8e=()=>b(ao,{use:"secondary",children:b(Mn,{icon:"folder_open",className:hre.icon})}),b8e="_tableWrapper_1gl7q_16",E8e="_link_1gl7q_28",w8e="_checkboxColumn_1gl7q_32",C8e="_name_1gl7q_36",S8e="_row_1gl7q_42",T8e="_columnUploading_1gl7q_46",x8e="_item_1gl7q_52",ud={tableWrapper:b8e,link:E8e,checkboxColumn:w8e,name:C8e,row:S8e,columnUploading:T8e,item:x8e},A8e="_zeroStateWrapper_1r8wp_16",I8e={zeroStateWrapper:A8e},k8e=()=>{const{uploadFiles:t}=vc(),{getInputProps:e,getRootProps:n,isDragActive:r}=Zy({onDrop:async i=>{await t(i)}});return ne("div",{className:I8e.zeroStateWrapper,...n(),children:[r?b(Ue,{use:"body2",theme:"secondary",children:"Drop files here"}):ne("div",{children:[b(Ue,{use:"body1",theme:"secondary",tag:"div",children:"No files found"}),b(Ue,{use:"body2",theme:"secondary",tag:"div",children:"Drag and drop files to upload"})]}),b("input",{...e()})]})},R8e=({selection:t,selectFile:e,selectedFile:n})=>{const{files:r,bucket:i,setPath:o}=vc();return ne("div",{className:ud.tableWrapper,children:[b(zE,{className:ud.tableWrapper,children:ne(WE,{children:[b(Q0,{children:ne(lf,{children:[b(us,{hasFormControl:!0,className:ud.checkboxColumn,children:b(vw,{disabled:r.length===0,checked:t.allSelected,indeterminate:t.allIndeterminate,onChange:a=>{const{checked:l,indeterminate:u}=a.target;(l!==t.allSelected||u!==t.allIndeterminate)&&t.toggleAll()},"aria-label":"Select all"})}),b(us,{children:"Name"}),b(us,{children:"Size"}),b(us,{children:"Type"}),b(us,{children:"Last Modified"})]})}),r.length>0?b(qE,{children:r.map(a=>b(P8e,{selectedFile:n,bucket:i,selection:t,selectFile:e,item:a,setPath:o},a.fullPath))}):null]})}),r.length===0&&b(k8e,{})]})};function O8e(t){return t.type==="folder"?b(Rt,{children:""}):t.uploading?ne("div",{className:ud.columnUploading,children:[b(ja,{size:20}),b("span",{children:"Uploading..."})]}):new Date(t.updated).toLocaleDateString()}const P8e=({item:t,selection:e,selectFile:n,setPath:r,selectedFile:i})=>{const o=uu("file");function a(){t.type==="file"?n(i===t?void 0:t):(n(void 0),r(t.fullPath))}return ne(lf,{tabIndex:0,onKeyDown:l=>{l.key==="Enter"&&a()},onClick:a,selected:i===t,className:ud.row,children:[b(bi,{hasFormControl:!0,children:b(vw,{"aria-labelledby":o,checked:e.isSelected(t.fullPath),onClick:l=>{l.stopPropagation()},onChange:l=>{e.isSelected(t.fullPath)!==l.target.checked&&e.toggleSingle(t.fullPath)}})}),b(bi,{className:ud.name,children:t.type==="folder"?ne(Rt,{children:[b(_8e,{}),ne(Ue,{use:"body2",id:o,theme:"textPrimaryOnLight",className:`${ud.item} ${ud.link}`,children:[t.name,"/"]})]}):ne(Rt,{children:[b(pre,{contentType:t.contentType}),b(Ue,{use:"body2",id:o,className:ud.item,theme:"textPrimaryOnLight",children:t.name})]})}),b(bi,{children:t.type==="folder"?b(Rt,{children:""}):dre(t.size)}),b(bi,{children:t.type==="folder"?"Folder":t.contentType}),b(bi,{children:O8e(t)})]})},N8e="_dropzoneWrapper_1fvyp_16",L8e="_dropWrapper_1fvyp_20",o5={dropzoneWrapper:N8e,dropWrapper:L8e},D8e=({children:t})=>{const{uploadFiles:e}=vc(),{getInputProps:n,getRootProps:r,isDragActive:i}=Zy({noClick:!0,noKeyboard:!0,onDrop:async o=>{await e(o)}});return ne("div",{...r(),children:[i?ne("div",{className:o5.dropzoneWrapper,children:[b(Rt,{children:t}),b(Ue,{use:"body2",className:o5.dropWrapper,theme:"secondary",children:"Drop files here"})]}):b(Rt,{children:t}),b("input",{...n()})]})};function M8e(t){const[e,n]=B.useState(void 0);return[e?t.find(i=>i.fullPath===e.fullPath):void 0,n]}const F8e=()=>{const{files:t}=vc(),e=t.map(o=>o.fullPath),n=x5e(e),[r,i]=M8e(t);return b(rc,{options:{surface:qy},children:b(hu,{z:"2",wrap:!0,children:ne(xa,{children:[n.selected.size===0?b(y8e,{}):b(s8e,{selection:n}),b("div",{className:AP.tableWrapper,children:ne(Fm,{className:AP.gridWrapper,children:[b(_r,{phone:r?1:4,tablet:r?4:8,desktop:r?8:12,className:AP.tableCell,children:b(rc,{options:{surface:"#fff"},children:b(D8e,{children:b(R8e,{selection:n,selectedFile:r,selectFile:i})})})}),r&&b(_r,{phone:3,tablet:4,desktop:4,children:b(X5e,{file:r,closeSidebar:()=>i(void 0)})})]})})]})})})},U8e="_storageWrapper_1pa7v_46",V8e={storageWrapper:U8e},B8e={storageBucket:"demo-example.appspot.com"},$8e=({bucket:t,children:e})=>{const{host:n,port:r}=za("storage"),[i,o]=B.useState(null),a=S4("storage",B8e,B.useCallback(l=>{const u=t?ZH(l,"gs://demo-example.appspot.com"):ZH(l);bJ(u,n,r,{mockUserToken:"owner"}),o(u)},[n,r,t]));return!a||!i?null:b(vV,{firebaseApp:a,children:b(H8e,{storage:i,children:e})})},H8e=({storage:t,children:e})=>b(fPe,{sdk:t,children:e}),j8e=()=>b(B.Suspense,{fallback:b(q8e,{}),children:b(W8e,{children:b(z8e,{})})}),z8e=()=>b($8e,{children:ne(_r,{span:12,className:V8e.storageWrapper,children:[b(S5e,{}),b(B.Suspense,{fallback:b(ja,{}),children:b(F8e,{})})]})}),W8e=({children:t})=>{const[e]=cre();return ne(dp,{children:[b(ms,{exact:!0,path:km+":bucket/:path*",children:t}),b(ms,{exact:!0,path:km,children:b(Ju,{to:km+e})})]})},q8e=()=>rg("storage")?b(UE,{productName:"Storage"}):b(ja,{span:12,message:"Storage Emulator Loading..."}),K8e=["/auth/:tenantId","/database/:namespace/data/:path*","/extensions/:instanceId","/firestore/:databaseId/data/:path*","/firestore/:databaseId/requests/:requestId","/storage/:bucket/:path*"];function a5(t){const e=yM.find(r=>Wh(t,{path:r.path,exact:r.exact}));if(!e)return{scrubbedPath:"/invalid",pathLabel:"invalid path"};const n={scrubbedPath:t,pathLabel:e.label};for(const r of K8e)if(Wh(t,{path:r})){n.scrubbedPath=r;break}return n}const yM=[{path:"/",component:a5e,label:"Overview",exact:!0,showInNav:!0},{path:"/auth",component:wbe,label:"Authentication",exact:!1,showInNav:!0},{path:"/firestore",component:GWe,label:"Firestore",exact:!1,showInNav:!0},{path:"/storage",component:j8e,label:"Storage",exact:!1,showInNav:!0},{path:"/database",component:S4e,label:"Realtime Database",exact:!1,showInNav:!0},{path:"/extensions",component:oHe,label:"Extensions",exact:!1,showInNav:!0},{path:"/logs",component:u5e,label:"Logs",exact:!0,showInNav:!0},{path:"/firealerts",component:nje,label:"FireAlerts",exact:!1,showInNav:!0}],G8e="https://www.googletagmanager.com/gtag/js",Y8e="/api/config",_M=function(){vre(),window._gtag.apply(window,arguments)};let Rm;function IP(){Rm&&(window[`ga-disable-${Rm}`]=!0)}function gre(){const t=new URL(window.location.href);let e;if(document.referrer){const i=new URL(document.referrer);if(t.host===i.host){const{scrubbedPath:o}=a5(i.pathname);i.pathname=o,i.port="",i.hostname="redacted",i.hash="",i.search=""}e=i.toString()}const{scrubbedPath:n,pathLabel:r}=a5(t.pathname);return t.pathname=n,t.port="",t.hostname="redacted",t.hash="",t.search="",{page_title:r,page_location:t.toString(),...e?{page_referrer:e}:{}}}function Q8e(){Rm&&_M("config",Rm,gre())}async function vre(){let t;try{t=(await(await Do(Y8e)).json()).analytics}catch(n){return console.warn(`Got error "${n.message}" when checking for permission to collect usage.
Disabling usage collection.`),IP()}if(!t)return IP();const{measurementId:e}=t;if(Rm){if(Rm!==e){IP(),window.location.reload();return}}else{Rm=e,_M("consent","default",{ad_storage:"denied",...t.validateOnly?{analytics_storage:"denied"}:void 0}),_M("config",e,{client_id:t.clientId,session_id:t.sessionId,cookie_expires:0,cookie_update:!1,...t.debugMode?{debug_mode:!0}:{},...gre()}),X8e();const n=document.createElement("script");n.src=`${G8e}?id=${e}`,n.async=!0,document.head.appendChild(n)}delete window[`ga-disable-${e}`]}function X8e(){const t=new Map;Object.defineProperty(document,"cookie",{set(e){const n=/^([^=]+)=([^;]+)/.exec(e);n&&t.set(n[1].trim(),n[2])},get(){const e=[];return t.forEach((n,r)=>{e.push(r+"="+n)}),e.join("; ")}})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var bM=function(t,e){return bM=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},bM(t,e)};function $1(t,e){bM(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var EM=function(){return EM=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},EM.apply(this,arguments)};/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Em={FIXED_CLASS:"mdc-top-app-bar--fixed",FIXED_SCROLLED_CLASS:"mdc-top-app-bar--fixed-scrolled",SHORT_CLASS:"mdc-top-app-bar--short",SHORT_COLLAPSED_CLASS:"mdc-top-app-bar--short-collapsed",SHORT_HAS_ACTION_ITEM_CLASS:"mdc-top-app-bar--short-has-action-item"},wM={DEBOUNCE_THROTTLE_RESIZE_TIME_MS:100,MAX_TOP_APP_BAR_HEIGHT:128},J8e={ACTION_ITEM_SELECTOR:".mdc-top-app-bar__action-item",NAVIGATION_EVENT:"MDCTopAppBar:nav",NAVIGATION_ICON_SELECTOR:".mdc-top-app-bar__navigation-icon",ROOT_SELECTOR:".mdc-top-app-bar",TITLE_SELECTOR:".mdc-top-app-bar__title"};/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var yre=function(t){$1(e,t);function e(n){return t.call(this,EM({},e.defaultAdapter,n))||this}return Object.defineProperty(e,"strings",{get:function(){return J8e},enumerable:!0,configurable:!0}),Object.defineProperty(e,"cssClasses",{get:function(){return Em},enumerable:!0,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return wM},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},setStyle:function(){},getTopAppBarHeight:function(){return 0},notifyNavigationIconClicked:function(){},getViewportScrollY:function(){return 0},getTotalActionItems:function(){return 0}}},enumerable:!0,configurable:!0}),e.prototype.handleTargetScroll=function(){},e.prototype.handleWindowResize=function(){},e.prototype.handleNavigationClick=function(){this.adapter_.notifyNavigationIconClicked()},e}(ui);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var VS=0,xT=function(t){$1(e,t);function e(n){var r=t.call(this,n)||this;return r.wasDocked_=!0,r.isDockedShowing_=!0,r.currentAppBarOffsetTop_=0,r.isCurrentlyBeingResized_=!1,r.resizeThrottleId_=VS,r.resizeDebounceId_=VS,r.lastScrollPosition_=r.adapter_.getViewportScrollY(),r.topAppBarHeight_=r.adapter_.getTopAppBarHeight(),r}return e.prototype.destroy=function(){t.prototype.destroy.call(this),this.adapter_.setStyle("top","")},e.prototype.handleTargetScroll=function(){var n=Math.max(this.adapter_.getViewportScrollY(),0),r=n-this.lastScrollPosition_;this.lastScrollPosition_=n,this.isCurrentlyBeingResized_||(this.currentAppBarOffsetTop_-=r,this.currentAppBarOffsetTop_>0?this.currentAppBarOffsetTop_=0:Math.abs(this.currentAppBarOffsetTop_)>this.topAppBarHeight_&&(this.currentAppBarOffsetTop_=-this.topAppBarHeight_),this.moveTopAppBar_())},e.prototype.handleWindowResize=function(){var n=this;this.resizeThrottleId_||(this.resizeThrottleId_=setTimeout(function(){n.resizeThrottleId_=VS,n.throttledResizeHandler_()},wM.DEBOUNCE_THROTTLE_RESIZE_TIME_MS)),this.isCurrentlyBeingResized_=!0,this.resizeDebounceId_&&clearTimeout(this.resizeDebounceId_),this.resizeDebounceId_=setTimeout(function(){n.handleTargetScroll(),n.isCurrentlyBeingResized_=!1,n.resizeDebounceId_=VS},wM.DEBOUNCE_THROTTLE_RESIZE_TIME_MS)},e.prototype.checkForUpdate_=function(){var n=-this.topAppBarHeight_,r=this.currentAppBarOffsetTop_<0,i=this.currentAppBarOffsetTop_>n,o=r&&i;if(o)this.wasDocked_=!1;else if(this.wasDocked_){if(this.isDockedShowing_!==i)return this.isDockedShowing_=i,!0}else return this.wasDocked_=!0,!0;return o},e.prototype.moveTopAppBar_=function(){if(this.checkForUpdate_()){var n=this.currentAppBarOffsetTop_;Math.abs(n)>=this.topAppBarHeight_&&(n=-128),this.adapter_.setStyle("top",n+"px")}},e.prototype.throttledResizeHandler_=function(){var n=this.adapter_.getTopAppBarHeight();this.topAppBarHeight_!==n&&(this.wasDocked_=!1,this.currentAppBarOffsetTop_-=this.topAppBarHeight_-n,this.topAppBarHeight_=n),this.handleTargetScroll()},e}(yre);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Z8e=function(t){$1(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.wasScrolled_=!1,n}return e.prototype.handleTargetScroll=function(){var n=this.adapter_.getViewportScrollY();n<=0?this.wasScrolled_&&(this.adapter_.removeClass(Em.FIXED_SCROLLED_CLASS),this.wasScrolled_=!1):this.wasScrolled_||(this.adapter_.addClass(Em.FIXED_SCROLLED_CLASS),this.wasScrolled_=!0)},e}(xT);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var e7e=function(t){$1(e,t);function e(n){var r=t.call(this,n)||this;return r.isCollapsed_=!1,r.isAlwaysCollapsed_=!1,r}return Object.defineProperty(e.prototype,"isCollapsed",{get:function(){return this.isCollapsed_},enumerable:!0,configurable:!0}),e.prototype.init=function(){t.prototype.init.call(this),this.adapter_.getTotalActionItems()>0&&this.adapter_.addClass(Em.SHORT_HAS_ACTION_ITEM_CLASS),this.setAlwaysCollapsed(this.adapter_.hasClass(Em.SHORT_COLLAPSED_CLASS))},e.prototype.setAlwaysCollapsed=function(n){this.isAlwaysCollapsed_=!!n,this.isAlwaysCollapsed_?this.collapse_():this.maybeCollapseBar_()},e.prototype.getAlwaysCollapsed=function(){return this.isAlwaysCollapsed_},e.prototype.handleTargetScroll=function(){this.maybeCollapseBar_()},e.prototype.maybeCollapseBar_=function(){if(!this.isAlwaysCollapsed_){var n=this.adapter_.getViewportScrollY();n<=0?this.isCollapsed_&&this.uncollapse_():this.isCollapsed_||this.collapse_()}},e.prototype.uncollapse_=function(){this.adapter_.removeClass(Em.SHORT_COLLAPSED_CLASS),this.isCollapsed_=!1},e.prototype.collapse_=function(){this.adapter_.addClass(Em.SHORT_COLLAPSED_CLASS),this.isCollapsed_=!0},e}(yre),t7e=function(t){var e=B.useRef(null),n=B.useRef(null),r=li({props:t,elements:{rootEl:!0},foundation:function(l){var u=l.rootEl,f=l.emit,h={hasClass:function(y){return u.hasClass(y)},addClass:function(y){return u.addClass(y)},removeClass:function(y){return u.removeClass(y)},setStyle:function(y,w){return u.setStyle(y,w)},getTopAppBarHeight:function(){var y;return((y=u.ref)===null||y===void 0?void 0:y.clientHeight)||0},notifyNavigationIconClicked:function(){return f("onNav",{})},getViewportScrollY:function(){var y=e.current;return y?y["pageYOffset"in y?"pageYOffset":"scrollTop"]:0},getTotalActionItems:function(){return u.ref?u.ref.querySelectorAll(xT.strings.ACTION_ITEM_SELECTOR).length:0}},g;return t.short?g=new e7e(h):t.fixed?g=new Z8e(h):g=new xT(h),g}}),i=r.foundation,o=Ke(r,["foundation"]),a=o.rootEl;return B.useEffect(function(){var l,u,f=t.scrollTarget||((u=(l=a.ref)===null||l===void 0?void 0:l.ownerDocument)===null||u===void 0?void 0:u.defaultView)||window,h=i.handleTargetScroll.bind(i);return f.addEventListener("scroll",h),e.current=f,function(){f.removeEventListener("scroll",h)}},[t.scrollTarget,e,i,a.ref]),B.useEffect(function(){var l,u;n.current=((l=a.ref)===null||l===void 0?void 0:l.querySelector(xT.strings.NAVIGATION_ICON_SELECTOR))||null;var f=i.handleNavigationClick.bind(i);return(u=n.current)===null||u===void 0||u.addEventListener("click",f),function(){var h;(h=n.current)===null||h===void 0||h.removeEventListener("click",f)}},[a.ref,i]),B.useEffect(function(){i.lastScrollPosition_=i.adapter_.getViewportScrollY(),i.topAppBarHeight_=i.adapter_.getTopAppBarHeight()},[i]),ae({foundation:i},o)},_re=ht(function(e,n){return Y.createElement(n7e,ae({key:e.short?"short":e.fixed?"fixed":"top-app-bar"},e,{ref:n}))}),n7e=ht(function(e,n){var r=t7e(e).rootEl;e.onNav,e.scrollTarget;var i=e.fixed,o=e.prominent,a=e.short,l=e.shortCollapsed,u=e.dense;e.foundationRef;var f=Ke(e,["onNav","scrollTarget","fixed","prominent","short","shortCollapsed","dense","foundationRef"]),h=St(e,["mdc-top-app-bar",{"mdc-top-app-bar--fixed":i,"mdc-top-app-bar--prominent":o,"mdc-top-app-bar--short":a||l,"mdc-top-app-bar--short-collapsed":l,"mdc-top-app-bar--dense":u}]);return Y.createElement(kt,ae({tag:"header"},f,{element:r,className:h,ref:n}))});ht(function(e,n){var r=e.title,i=e.actionItems,o=e.navigationIcon,a=e.startContent,l=e.endContent,u=Ke(e,["title","actionItems","navigationIcon","startContent","endContent"]);return Y.createElement(_re,ae({},u,{ref:n}),Y.createElement(r7e,null,Y.createElement(s5,{alignStart:!0},!!o&&Y.createElement(i7e,ae({icon:"menu"},typeof o=="boolean"?{}:o)),!!r&&Y.createElement(a7e,null,r),a),(!!i||l)&&Y.createElement(s5,{alignEnd:!0},l,!!i&&i.map(function(f,h){return Y.createElement(o7e,ae({},f,{key:h}))}))))});var r7e=ht(function(e,n){var r=St(e,["mdc-top-app-bar__row"]);return Y.createElement(kt,ae({},e,{ref:n,className:r}))}),s5=ht(function(e,n){var r=e.alignStart,i=e.alignEnd,o=Ke(e,["alignStart","alignEnd"]),a=St(e,["mdc-top-app-bar__section",{"mdc-top-app-bar__section--align-start":r,"mdc-top-app-bar__section--align-end":i}]);return Y.createElement(kt,ae({tag:"section"},o,{ref:n,className:a}))}),i7e=ht(function(e,n){var r=St(e,["mdc-top-app-bar__navigation-icon"]);return Y.createElement(bn,ae({},e,{className:r,ref:n}))}),o7e=ht(function(e,n){var r=St(e,["mdc-top-app-bar__action-item"]);return Y.createElement(bn,ae({},e,{className:r,ref:n}))}),a7e=ht(function(e,n){var r=St(e,["mdc-top-app-bar__title"]);return Y.createElement(kt,ae({},e,{ref:n,className:r}))});ht(function(e,n){e.dense,e.denseProminent,e.prominent,e.short;var r=Ke(e,["dense","denseProminent","prominent","short"]),i=St(e,[{"mdc-top-app-bar--fixed-adjust":!e.dense&&!e.denseProminent&&!e.prominent&&!e.short,"mdc-top-app-bar--dense-fixed-adjust":e.dense,"mdc-top-app-bar--prominent-fixed-adjust":e.prominent,"mdc-top-app-bar--dense-prominent-fixed-adjust":e.denseProminent,"mdc-top-app-bar--short-fixed-adjust":e.short}]);return Y.createElement(kt,ae({},r,{ref:n,className:i}))});const s7e=()=>b(Mn,{className:"Logo",icon:{strategy:"component",icon:ne("svg",{style:{width:"25px",height:"25px"},viewBox:"0 0 600 600",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[b("path",{d:"M213.918 560.499C237.166 569.856 262.387 575.408 288.87 576.333C324.71 577.585 358.792 570.175 389.261 556.099C352.724 541.744 319.634 520.751 291.392 494.651C273.086 523.961 246.01 547.113 213.918 560.499Z",fill:"#FF9100"}),b("path",{d:"M291.389 494.66C226.923 435.038 187.815 348.743 191.12 254.092C191.228 251.019 191.39 247.947 191.58 244.876C180.034 241.89 167.98 240.068 155.576 239.635C137.821 239.015 120.626 241.217 104.393 245.788C87.1838 275.933 76.7989 310.521 75.5051 347.569C72.1663 443.18 130.027 526.723 213.914 560.508C246.007 547.121 273.082 523.998 291.389 494.66Z",fill:"#FFC400"}),b("path",{d:"M291.39 494.657C306.378 470.671 315.465 442.551 316.523 412.254C319.306 332.559 265.731 264.003 191.581 244.873C191.391 247.944 191.229 251.016 191.121 254.089C187.816 348.74 226.924 435.035 291.39 494.657Z",fill:"#FF9100"}),b("path",{d:"M308.231 20.8584C266 54.6908 232.652 99.302 212.475 150.693C200.924 180.129 193.665 211.748 191.546 244.893C265.696 264.023 319.272 332.579 316.489 412.273C315.431 442.57 306.317 470.663 291.355 494.677C319.595 520.804 352.686 541.77 389.223 556.124C462.56 522.224 514.593 449.278 517.606 362.997C519.558 307.096 498.08 257.273 467.731 215.219C435.68 170.742 308.231 20.8584 308.231 20.8584Z",fill:"#DD2C00"})]})}}),l7e=({routes:t})=>{let e=_f();const n=t.filter(a=>a.showInNav),r=n.map(({path:a,label:l})=>b(Une,{className:"mdc-tab--min-width",tag:du,to:a,children:l},l)),[i,o]=Y.useState(0);return Y.useEffect(()=>{o(n.findIndex(a=>Wh(e.pathname,{path:a.path,exact:a.exact})))},[e.pathname,n]),b(rc,{options:{primary:xve,surface:Ave,onSurface:Ive},wrap:!0,children:ne(_re,{fixed:!0,className:"AppBar",theme:"surface",children:[b("div",{className:"AppBar-title-row",children:ne("div",{className:"AppBar-logo-lockup",children:[b(s7e,{}),b(Ue,{use:"headline5",className:"AppBar-title",tag:"h1",children:"Firebase Emulator Suite"})]})}),b(Fne,{theme:"onSurface",activeTabIndex:i,onActivate:a=>o(a.detail.index),children:r})]})})},u7e=()=>rg()?ne(hc,{open:!0,preventOutsideDismiss:!0,children:[b(pc,{children:"Emulator Suite Disconnected"}),ne(mc,{children:["All emulators for this project have stopped running. To restart all emulators, at the command line, run"," ",b("code",{children:"firebase emulators:start"}),"."]})]}):null,c7e="/logs?q=metadata.emulator.name%3D%22functions%22",f7e=()=>{let t=_f();return B.useEffect(Q8e,[t]),ne(Rt,{children:[b(Qge,{dialogs:Bve}),b(vce,{}),b(u7e,{}),b(ao,{use:"background",wrap:!0,children:ne("div",{className:"App",children:[b(l7e,{routes:yM}),b(_he,{className:"App-main",children:ne(dp,{children:[yM.map(e=>b(ms,{path:e.path,component:e.component,exact:e.exact},e.path)),b(Ju,{from:"/functions",to:c7e}),b(Ju,{to:"/"})," "]})})]})})]})};function d7e(){var t={};return t.promise=new Promise(function(e,n){t.resolve=e,t.reject=n}),t}var bre=[],H1=0;function h7e(t){try{X4(),t()}finally{Cre()}}function Ere(t){bre.push(t),H1||(X4(),Sre())}function wre(t){try{return X4(),t()}finally{Sre()}}function X4(){H1++}function Cre(){H1--}function Sre(){Cre();for(var t;!H1&&(t=bre.shift())!==void 0;)h7e(t)}var p7e=function(e){return function(n){return e.some(function(r){return J4(r)(n)})}},m7e=function(e){return function(n){return e(n)}},l5=function(e){return function(n){return n.type===String(e)}},g7e=function(e){return function(n){return n.type===e}},Tre=function(){return zpe};function J4(t){var e=t==="*"?Tre:QF(t)?l5:hp(t)?p7e:dK(t)?l5:Gs(t)?m7e:hK(t)?g7e:null;if(e===null)throw new Error("invalid pattern: "+t);return e(t)}var C0={type:oK},Z4=function(e){return e&&e.type===oK};function v7e(t){t===void 0&&(t=rme());var e=!1,n=[];function r(l){if(!e){if(n.length===0)return t.put(l);var u=n.shift();u(l)}}function i(l){e&&t.isEmpty()?l(C0):t.isEmpty()?(n.push(l),l.cancel=function(){CI(n,l)}):l(t.take())}function o(l){if(e&&t.isEmpty()){l(C0);return}l(t.flush())}function a(){if(!e){e=!0;var l=n;n=[];for(var u=0,f=l.length;u<f;u++){var h=l[u];h(C0)}}}return{take:i,put:r,flush:o,close:a}}function y7e(){var t,e=!1,n=[],r=n,i=function(){r===n&&(r=n.slice())},o=function(){e=!0;var l=n=r;r=[],l.forEach(function(u){u(C0)})};return t={},t[sK]=!0,t.put=function(l){if(!e){if(Z4(l)){o();return}for(var u=n=r,f=0,h=u.length;f<h;f++){var g=u[f];g[L$](l)&&(g.cancel(),g(l))}}},t.take=function(l,u){if(u===void 0&&(u=Tre),e){l(C0);return}l[L$]=u,i(),r.push(l),l.cancel=Kpe(function(){i(),CI(r,l)})},t.close=o,t}function xre(){var t=y7e(),e=t.put;return t.put=function(n){if(n[lK]){e(n);return}Ere(function(){e(n)})},t}var cm=0,cd=1,AT=2,Are=3;function eB(t,e){var n=t[Vpe];Gs(n)&&(e.cancel=n),t.then(e,function(r){e(r,!0)})}var Rw=0,Ire=function(){return++Rw},ga;function _7e(t,e){return t.isSagaIterator?{name:t.meta.name}:e2(e)}function b7e(t){var e=t.context,n=t.fn,r=t.args;try{var i=n.apply(e,r);if(XF(i))return i;var o=!1,a=function(u){return o?{value:u,done:!0}:(o=!0,{value:i,done:!wI(i)})};return FN(a)}catch(l){return FN(function(){throw l})}}function E7e(t,e,n){var r=e.channel,i=e.action,o=e.resolve;Ere(function(){var a;try{a=(r?r.put:t.dispatch)(i)}catch(l){n(l,!0);return}o&&wI(a)?eB(a,n):n(a)})}function w7e(t,e,n){var r=e.channel,i=r===void 0?t.channel:r,o=e.pattern,a=e.maybe,l=function(f){if(f instanceof Error){n(f,!0);return}if(Z4(f)&&!a){n(cK);return}n(f)};try{i.take(l,tT(o)?J4(o):null)}catch(u){n(u,!0);return}n.cancel=l.cancel}function C7e(t,e,n,r){var i=e.context,o=e.fn,a=e.args,l=r.task;try{var u=o.apply(i,a);if(wI(u)){eB(u,n);return}if(XF(u)){j1(t,u,l.context,Rw,e2(o),!1,n);return}n(u)}catch(f){n(f,!0)}}function S7e(t,e,n){var r=e.context,i=e.fn,o=e.args;try{var a=function(u,f){fK(u)?n(f):n(u,!0)};i.apply(r,o.concat(a)),a.cancel&&(n.cancel=a.cancel)}catch(l){n(l,!0)}}function T7e(t,e,n,r){var i=e.context,o=e.fn,a=e.args,l=e.detached,u=r.task,f=b7e({context:i,fn:o,args:a}),h=_7e(f,o);wre(function(){var g=j1(t,f,u.context,Rw,h,l,void 0);l?n(g):g.isRunning()?(u.queue.addTask(g),n(g)):g.isAborted()?u.queue.abort(g.error()):n(g)})}function x7e(t,e,n,r){var i=r.task,o=function(u,f){if(u.isRunning()){var h={task:i,cb:f};f.cancel=function(){u.isRunning()&&CI(u.joiners,h)},u.joiners.push(h)}else u.isAborted()?f(u.error(),!0):f(u.result())};if(hp(e)){if(e.length===0){n([]);return}var a=yK(e,n);e.forEach(function(l,u){o(l,a[u])})}else o(e,n)}function kP(t){t.isRunning()&&t.cancel()}function A7e(t,e,n,r){var i=r.task;e===uK?kP(i):hp(e)?e.forEach(kP):kP(e),n()}function I7e(t,e,n,r){var i=r.digestEffect,o=Rw,a=Object.keys(e);if(a.length===0){n(hp(e)?[]:{});return}var l=yK(e,n);a.forEach(function(u){i(e[u],o,l[u],u)})}function k7e(t,e,n,r){var i=r.digestEffect,o=Rw,a=Object.keys(e),l=hp(e)?pK(a.length):{},u={},f=!1;a.forEach(function(h){var g=function(w,T){f||(T||vK(w)?(n.cancel(),n(w,T)):(n.cancel(),f=!0,l[h]=w,n(l)))};g.cancel=ss,u[h]=g}),n.cancel=function(){f||(f=!0,a.forEach(function(h){return u[h].cancel()}))},a.forEach(function(h){f||i(e[h],o,u[h],h)})}function R7e(t,e,n){var r=e.selector,i=e.args;try{var o=r.apply(void 0,[t.getState()].concat(i));n(o)}catch(a){n(a,!0)}}function O7e(t,e,n){var r=e.pattern,i=e.buffer,o=v7e(i),a=J4(r),l=function f(h){Z4(h)||t.channel.take(f,a),o.put(h)},u=o.close;o.close=function(){l.cancel(),u()},t.channel.take(l,a),n(o)}function P7e(t,e,n,r){var i=r.task;n(i.isCancelled())}function N7e(t,e,n){e.flush(n)}function L7e(t,e,n,r){var i=r.task;n(i.context[e])}function D7e(t,e,n,r){var i=r.task;ZF(i.context,e),n()}var M7e=(ga={},ga[nT]=w7e,ga[EK]=E7e,ga[wK]=I7e,ga[ime]=k7e,ga[CK]=C7e,ga[ome]=S7e,ga[SK]=T7e,ga[ame]=x7e,ga[TK]=A7e,ga[sme]=R7e,ga[lme]=O7e,ga[ume]=P7e,ga[cme]=N7e,ga[xK]=L7e,ga[AK]=D7e,ga);function F7e(t,e,n){var r=[],i,o=!1;u(t);var a=function(){return r};function l(h){e(),f(),n(h,!0)}function u(h){r.push(h),h.cont=function(g,y){o||(CI(r,h),h.cont=ss,y?l(g):(h===t&&(i=g),r.length||(o=!0,n(i))))}}function f(){o||(o=!0,r.forEach(function(h){h.cont=ss,h.cancel()}),r=[])}return{addTask:u,cancelAll:f,abort:l,getTasks:a}}function kre(t,e){return t+"?"+e}function U7e(t){var e=_K(t);if(e){var n=e.code,r=e.fileName,i=e.lineNumber,o=n+"  "+kre(r,i);return o}return""}function u5(t){var e=t.name,n=t.location;return n?e+"  "+kre(n.fileName,n.lineNumber):e}function V7e(t){var e=qpe(function(n){return n.cancelledTasks},t);return e.length?["Tasks cancelled due to error:"].concat(e).join(`
`):""}var tB=null,S0=[],B7e=function(e){e.crashedEffect=tB,S0.push(e)},Rre=function(){tB=null,S0.length=0},$7e=function(e){tB=e},H7e=function(){var e=S0[0],n=S0.slice(1),r=e.crashedEffect?U7e(e.crashedEffect):null,i="The above error occurred in task "+u5(e.meta)+(r?` 
 when executing effect `+r:"");return[i].concat(n.map(function(o){return"    created by "+u5(o.meta)}),[V7e(S0)]).join(`
`)};function j7e(t,e,n,r,i,o,a){var l;a===void 0&&(a=ss);var u=cm,f,h,g=null,y=[],w=Object.create(n),T=F7e(e,function(){y.push.apply(y,T.getTasks().map(function(V){return V.meta.name}))},R);function C(){u===cm&&(u=cd,T.cancelAll(),R($v,!1))}function R(A,V){if(!V)A===$v?u=cd:u!==cd&&(u=Are),f=A,g&&g.resolve(A);else{if(u=AT,B7e({meta:i,cancelledTasks:y}),O.isRoot){var D=H7e();Rre(),t.onError(A,{sagaStack:D})}h=A,g&&g.reject(A)}O.cont(A,V),O.joiners.forEach(function(P){P.cb(A,V)}),O.joiners=null}function I(A){ZF(w,A)}function k(){return g||(g=d7e(),u===AT?g.reject(h):u!==cm&&g.resolve(f)),g.promise}var O=(l={},l[Bpe]=!0,l.id=r,l.meta=i,l.isRoot=o,l.context=w,l.joiners=[],l.queue=T,l.cancel=C,l.cont=a,l.end=R,l.setContext=I,l.toPromise=k,l.isRunning=function(){return u===cm},l.isCancelled=function(){return u===cd||u===cm&&e.status===cd},l.isAborted=function(){return u===AT},l.result=function(){return f},l.error=function(){return h},l);return O}function j1(t,e,n,r,i,o,a){var l=t.finalizeRunEffect(w);y.cancel=ss;var u={meta:i,cancel:g,status:cm},f=j7e(t,u,n,r,i,o,a),h={task:f,digestEffect:T};function g(){u.status===cm&&(u.status=cd,y($v))}return a&&(a.cancel=f.cancel),y(),f;function y(C,R){try{var I;R?(I=e.throw(C),Rre()):gK(C)?(u.status=cd,y.cancel(),I=Gs(e.return)?e.return($v):{done:!0,value:$v}):mK(C)?I=Gs(e.return)?e.return():{done:!0}:I=e.next(C),I.done?(u.status!==cd&&(u.status=Are),u.cont(I.value)):T(I.value,r,y)}catch(k){if(u.status===cd)throw k;u.status=AT,u.cont(k,!0)}}function w(C,R,I){if(wI(C))eB(C,I);else if(XF(C))j1(t,C,f.context,R,i,!1,I);else if(C&&C[aK]){var k=M7e[C.type];k(t,C.payload,I,h)}else I(C)}function T(C,R,I,k){k===void 0&&(k="");var O=Ire();t.sagaMonitor&&t.sagaMonitor.effectTriggered({effectId:O,parentEffectId:R,label:k,effect:C});var A;function V(D,P){A||(A=!0,I.cancel=ss,t.sagaMonitor&&(P?t.sagaMonitor.effectRejected(O,D):t.sagaMonitor.effectResolved(O,D)),P&&$7e(C),I(D,P))}V.cancel=ss,I.cancel=function(){A||(A=!0,V.cancel(),V.cancel=ss,t.sagaMonitor&&t.sagaMonitor.effectCancelled(O))},l(C,O,V)}}function z7e(t,e){for(var n=t.channel,r=n===void 0?xre():n,i=t.dispatch,o=t.getState,a=t.context,l=a===void 0?{}:a,u=t.sagaMonitor,f=t.effectMiddlewares,h=t.onError,g=h===void 0?Qpe:h,y=arguments.length,w=new Array(y>2?y-2:0),T=2;T<y;T++)w[T-2]=arguments[T];var C=e.apply(void 0,w),R=Ire();u&&(u.rootSagaStarted=u.rootSagaStarted||ss,u.effectTriggered=u.effectTriggered||ss,u.effectResolved=u.effectResolved||ss,u.effectRejected=u.effectRejected||ss,u.effectCancelled=u.effectCancelled||ss,u.actionDispatched=u.actionDispatched||ss,u.rootSagaStarted({effectId:R,saga:e,args:w}));var I;if(f){var k=Jpe.apply(void 0,f);I=function(V){return function(D,P,N){var $=function(z){return V(z,P,N)};return k($)(D)}}}else I=Wpe;var O={channel:r,dispatch:Xpe(i),getState:o,sagaMonitor:u,onError:g,finalizeRunEffect:I};return wre(function(){var A=j1(O,C,l,R,e2(e),!0,void 0);return u&&u.effectResolved(R,A),A})}function W7e(t){var e={},n=e.context,r=n===void 0?{}:n,i=e.channel,o=i===void 0?xre():i,a=e.sagaMonitor,l=ng(e,["context","channel","sagaMonitor"]),u;function f(h){var g=h.getState,y=h.dispatch;return u=z7e.bind(null,ti({},l,{context:r,channel:o,dispatch:y,getState:g,sagaMonitor:a})),function(w){return function(T){a&&a.actionDispatched&&a.actionDispatched(T);var C=w(T);return o.put(T),C}}}return f.run=function(){return u.apply(void 0,arguments)},f.setContext=function(h){ZF(r,h)},f}function q7e(){const t=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||iK,e=W7e(),n=rK(ige,t(Upe(e)));return e.run(rge),n}const K7e=q7e();vre();const G7e=()=>b(xde,{children:b(phe,{children:b(dp,{children:b(ms,{component:f7e})})})}),Y7e=document.getElementById("root"),Q7e=N7(Y7e);Q7e.render(b(Yse,{typography:{headline3:"h3",headline4:"h4"},children:b(rc,{options:{background:Tve,primary:Db,primaryRgb:"104, 29, 168",secondary:dx,"text-secondary-on-background":dx,error:kve},children:b(Ghe,{refreshInterval:2e3,children:b(Vze,{children:b(Rfe,{store:K7e,children:b(G7e,{})})})})})}));
//# sourceMappingURL=index-BX-A56oj.js.map
