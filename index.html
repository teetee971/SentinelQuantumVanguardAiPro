<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="Sentinel Quantum Vanguard AI Pro ‚Äî Supervision IA, s√©curit√© quantique, Globe 3D, et auto-r√©paration intelligente."
    />
    <meta name="theme-color" content="#000000" />
    <meta name="robots" content="index, follow" />

    <!-- üß† Favicon + Meta Brand -->
    <link rel="icon" type="image/png" href="/assets/shield.png" />
    <link rel="apple-touch-icon" href="/icons/icon-512x512.png" />

    <!-- üß© Manifest PWA -->
    <link rel="manifest" href="/manifest.webmanifest" />

    <!-- ‚ö° Fonts & Styles -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="/src/index.css" />

    <title>Sentinel Quantum Vanguard AI Pro</title>
  </head>

  <body class="bg-black text-gray-100 font-inter antialiased">
    <div id="root"></div>

    <!-- üß≠ Service Worker auto-registration -->
    <script>
      if ("serviceWorker" in navigator) {
        window.addEventListener("load", () => {
          navigator.serviceWorker
            .register("/service-worker.js")
            .then((reg) => console.log("‚úÖ Service Worker enregistr√© :", reg))
            .catch((err) => console.warn("‚ö†Ô∏è Erreur SW :", err));
        });
      }
    </script>

    <!-- üöÄ Point d‚Äôentr√©e React -->
    <script type="module" src="/src/main.jsx"></script>

    <!-- üß† Modules IA & Monitoring -->
    <script type="module">
      import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
      import { getFirestore } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore.js";

      const firebaseConfig = {
        apiKey: "AIzaSyXXXXXX-SentinelKey",
        authDomain: "sentinelai.firebaseapp.com",
        projectId: "sentinel-ai-pro",
        storageBucket: "sentinel-ai-pro.appspot.com",
        messagingSenderId: "1040000000000",
        appId: "1:1040000000000:web:sentinelquantumvanguard",
      };

      const app = initializeApp(firebaseConfig);
      const db = getFirestore(app);
      console.log("üß† Firestore connect√© : Sentinel Vanguard");
    </script>

    <!-- üåê Globe 3D Loader (Three.js + Globe.gl) -->
    <script type="module">
      import Globe from "https://cdn.jsdelivr.net/npm/globe.gl@2.31.5/dist/globe.gl.min.js";
      import * as THREE from "https://cdn.jsdelivr.net/npm/three@0.157.0/build/three.module.js";

      const globeContainer = document.createElement("div");
      globeContainer.style.position = "fixed";
      globeContainer.style.top = 0;
      globeContainer.style.left = 0;
      globeContainer.style.width = "100vw";
      globeContainer.style.height = "100vh";
      globeContainer.style.zIndex = -1;
      document.body.appendChild(globeContainer);

      const globe = Globe()(globeContainer)
        .globeImageUrl("//unpkg.com/three-globe/example/img/earth-night.jpg")
        .bumpImageUrl("//unpkg.com/three-globe/example/img/earth-topology.png")
        .backgroundColor("rgba(0,0,0,0.85)")
        .showAtmosphere(true)
        .atmosphereColor("deepskyblue")
        .atmosphereAltitude(0.25);

      console.log("üåç Globe 3D Sentinel initialis√© avec succ√®s.");
    </script>

    <!-- ‚öôÔ∏è Monitoring IA en live -->
    <script type="module">
      const checkHealth = async () => {
        try {
          const response = await fetch("/status.json", { cache: "no-store" });
          const data = await response.json();
          console.log("üß© Sentinel Health:", data.status);
        } catch (err) {
          console.warn("‚ö†Ô∏è Erreur HealthCheck:", err);
        }
      };
      setInterval(checkHealth, 10000);
    </script>
  </body>
</html>
